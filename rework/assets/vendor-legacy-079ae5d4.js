(function () {
  var _excluded = ["region"],
    _excluded2 = [
      "chars",
      "padding",
      "resolution",
      "textureWidth",
      "textureHeight"
    ];
  function _objectWithoutProperties(e, t) {
    if (null == e) return {};
    var r,
      n,
      i = _objectWithoutPropertiesLoose(e, t);
    if (Object.getOwnPropertySymbols) {
      var a = Object.getOwnPropertySymbols(e);
      for (n = 0; n < a.length; n++)
        (r = a[n]),
          t.indexOf(r) >= 0 ||
            (Object.prototype.propertyIsEnumerable.call(e, r) && (i[r] = e[r]));
    }
    return i;
  }
  function _objectWithoutPropertiesLoose(e, t) {
    if (null == e) return {};
    var r,
      n,
      i = {},
      a = Object.keys(e);
    for (n = 0; n < a.length; n++)
      (r = a[n]), t.indexOf(r) >= 0 || (i[r] = e[r]);
    return i;
  }
  function _get3() {
    return (
      (_get3 =
        "undefined" != typeof Reflect && Reflect.get
          ? Reflect.get.bind()
          : function (e, t, r) {
              var n = _superPropBase(e, t);
              if (n) {
                var i = Object.getOwnPropertyDescriptor(n, t);
                return i.get
                  ? i.get.call(arguments.length < 3 ? e : r)
                  : i.value;
              }
            }),
      _get3.apply(this, arguments)
    );
  }
  function _superPropBase(e, t) {
    for (
      ;
      !Object.prototype.hasOwnProperty.call(e, t) &&
      null !== (e = _getPrototypeOf(e));

    );
    return e;
  }
  function _inherits(e, t) {
    if ("function" != typeof t && null !== t)
      throw new TypeError("Super expression must either be null or a function");
    (e.prototype = Object.create(t && t.prototype, {
      constructor: { value: e, writable: !0, configurable: !0 }
    })),
      Object.defineProperty(e, "prototype", { writable: !1 }),
      t && _setPrototypeOf(e, t);
  }
  function _setPrototypeOf(e, t) {
    return (
      (_setPrototypeOf = Object.setPrototypeOf
        ? Object.setPrototypeOf.bind()
        : function (e, t) {
            return (e.__proto__ = t), e;
          }),
      _setPrototypeOf(e, t)
    );
  }
  function _createSuper(e) {
    var t = _isNativeReflectConstruct();
    return function () {
      var r,
        n = _getPrototypeOf(e);
      if (t) {
        var i = _getPrototypeOf(this).constructor;
        r = Reflect.construct(n, arguments, i);
      } else r = n.apply(this, arguments);
      return _possibleConstructorReturn(this, r);
    };
  }
  function _possibleConstructorReturn(e, t) {
    if (t && ("object" === _typeof(t) || "function" == typeof t)) return t;
    if (void 0 !== t)
      throw new TypeError(
        "Derived constructors may only return object or undefined"
      );
    return _assertThisInitialized2(e);
  }
  function _assertThisInitialized2(e) {
    if (void 0 === e)
      throw new ReferenceError(
        "this hasn't been initialised - super() hasn't been called"
      );
    return e;
  }
  function _isNativeReflectConstruct() {
    if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
    if (Reflect.construct.sham) return !1;
    if ("function" == typeof Proxy) return !0;
    try {
      return (
        Boolean.prototype.valueOf.call(
          Reflect.construct(Boolean, [], function () {})
        ),
        !0
      );
    } catch (e) {
      return !1;
    }
  }
  function _getPrototypeOf(e) {
    return (
      (_getPrototypeOf = Object.setPrototypeOf
        ? Object.getPrototypeOf.bind()
        : function (e) {
            return e.__proto__ || Object.getPrototypeOf(e);
          }),
      _getPrototypeOf(e)
    );
  }
  function ownKeys(e, t) {
    var r = Object.keys(e);
    if (Object.getOwnPropertySymbols) {
      var n = Object.getOwnPropertySymbols(e);
      t &&
        (n = n.filter(function (t) {
          return Object.getOwnPropertyDescriptor(e, t).enumerable;
        })),
        r.push.apply(r, n);
    }
    return r;
  }
  function _objectSpread(e) {
    for (var t = 1; t < arguments.length; t++) {
      var r = null != arguments[t] ? arguments[t] : {};
      t % 2
        ? ownKeys(Object(r), !0).forEach(function (t) {
            _defineProperty(e, t, r[t]);
          })
        : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r))
        : ownKeys(Object(r)).forEach(function (t) {
            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t));
          });
    }
    return e;
  }
  function _regeneratorRuntime() {
    "use strict";
    /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function () {
      return e;
    };
    var e = {},
      t = Object.prototype,
      r = t.hasOwnProperty,
      n =
        Object.defineProperty ||
        function (e, t, r) {
          e[t] = r.value;
        },
      i = "function" == typeof Symbol ? Symbol : {},
      a = i.iterator || "@@iterator",
      s = i.asyncIterator || "@@asyncIterator",
      o = i.toStringTag || "@@toStringTag";
    function u(e, t, r) {
      return (
        Object.defineProperty(e, t, {
          value: r,
          enumerable: !0,
          configurable: !0,
          writable: !0
        }),
        e[t]
      );
    }
    try {
      u({}, "");
    } catch (k) {
      u = function (e, t, r) {
        return (e[t] = r);
      };
    }
    function l(e, t, r, i) {
      var a = t && t.prototype instanceof f ? t : f,
        s = Object.create(a.prototype),
        o = new A(i || []);
      return n(s, "_invoke", { value: x(e, r, o) }), s;
    }
    function c(e, t, r) {
      try {
        return { type: "normal", arg: e.call(t, r) };
      } catch (k) {
        return { type: "throw", arg: k };
      }
    }
    e.wrap = l;
    var h = {};
    function f() {}
    function d() {}
    function p() {}
    var _ = {};
    u(_, a, function () {
      return this;
    });
    var v = Object.getPrototypeOf,
      m = v && v(v(C([])));
    m && m !== t && r.call(m, a) && (_ = m);
    var g = (p.prototype = f.prototype = Object.create(_));
    function y(e) {
      ["next", "throw", "return"].forEach(function (t) {
        u(e, t, function (e) {
          return this._invoke(t, e);
        });
      });
    }
    function T(e, t) {
      function i(n, a, s, o) {
        var u = c(e[n], e, a);
        if ("throw" !== u.type) {
          var l = u.arg,
            h = l.value;
          return h && "object" == _typeof(h) && r.call(h, "__await")
            ? t.resolve(h.__await).then(
                function (e) {
                  i("next", e, s, o);
                },
                function (e) {
                  i("throw", e, s, o);
                }
              )
            : t.resolve(h).then(
                function (e) {
                  (l.value = e), s(l);
                },
                function (e) {
                  return i("throw", e, s, o);
                }
              );
        }
        o(u.arg);
      }
      var a;
      n(this, "_invoke", {
        value: function (e, r) {
          function n() {
            return new t(function (t, n) {
              i(e, r, t, n);
            });
          }
          return (a = a ? a.then(n, n) : n());
        }
      });
    }
    function x(e, t, r) {
      var n = "suspendedStart";
      return function (i, a) {
        if ("executing" === n) throw new Error("Generator is already running");
        if ("completed" === n) {
          if ("throw" === i) throw a;
          return P();
        }
        for (r.method = i, r.arg = a; ; ) {
          var s = r.delegate;
          if (s) {
            var o = E(s, r);
            if (o) {
              if (o === h) continue;
              return o;
            }
          }
          if ("next" === r.method) r.sent = r._sent = r.arg;
          else if ("throw" === r.method) {
            if ("suspendedStart" === n) throw ((n = "completed"), r.arg);
            r.dispatchException(r.arg);
          } else "return" === r.method && r.abrupt("return", r.arg);
          n = "executing";
          var u = c(e, t, r);
          if ("normal" === u.type) {
            if (((n = r.done ? "completed" : "suspendedYield"), u.arg === h))
              continue;
            return { value: u.arg, done: r.done };
          }
          "throw" === u.type &&
            ((n = "completed"), (r.method = "throw"), (r.arg = u.arg));
        }
      };
    }
    function E(e, t) {
      var r = t.method,
        n = e.iterator[r];
      if (void 0 === n)
        return (
          (t.delegate = null),
          ("throw" === r &&
            e.iterator.return &&
            ((t.method = "return"),
            (t.arg = void 0),
            E(e, t),
            "throw" === t.method)) ||
            ("return" !== r &&
              ((t.method = "throw"),
              (t.arg = new TypeError(
                "The iterator does not provide a '" + r + "' method"
              )))),
          h
        );
      var i = c(n, e.iterator, t.arg);
      if ("throw" === i.type)
        return (t.method = "throw"), (t.arg = i.arg), (t.delegate = null), h;
      var a = i.arg;
      return a
        ? a.done
          ? ((t[e.resultName] = a.value),
            (t.next = e.nextLoc),
            "return" !== t.method && ((t.method = "next"), (t.arg = void 0)),
            (t.delegate = null),
            h)
          : a
        : ((t.method = "throw"),
          (t.arg = new TypeError("iterator result is not an object")),
          (t.delegate = null),
          h);
    }
    function b(e) {
      var t = { tryLoc: e[0] };
      1 in e && (t.catchLoc = e[1]),
        2 in e && ((t.finallyLoc = e[2]), (t.afterLoc = e[3])),
        this.tryEntries.push(t);
    }
    function S(e) {
      var t = e.completion || {};
      (t.type = "normal"), delete t.arg, (e.completion = t);
    }
    function A(e) {
      (this.tryEntries = [{ tryLoc: "root" }]),
        e.forEach(b, this),
        this.reset(!0);
    }
    function C(e) {
      if (e) {
        var t = e[a];
        if (t) return t.call(e);
        if ("function" == typeof e.next) return e;
        if (!isNaN(e.length)) {
          var n = -1,
            i = function t() {
              for (; ++n < e.length; )
                if (r.call(e, n)) return (t.value = e[n]), (t.done = !1), t;
              return (t.value = void 0), (t.done = !0), t;
            };
          return (i.next = i);
        }
      }
      return { next: P };
    }
    function P() {
      return { value: void 0, done: !0 };
    }
    return (
      (d.prototype = p),
      n(g, "constructor", { value: p, configurable: !0 }),
      n(p, "constructor", { value: d, configurable: !0 }),
      (d.displayName = u(p, o, "GeneratorFunction")),
      (e.isGeneratorFunction = function (e) {
        var t = "function" == typeof e && e.constructor;
        return (
          !!t && (t === d || "GeneratorFunction" === (t.displayName || t.name))
        );
      }),
      (e.mark = function (e) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(e, p)
            : ((e.__proto__ = p), u(e, o, "GeneratorFunction")),
          (e.prototype = Object.create(g)),
          e
        );
      }),
      (e.awrap = function (e) {
        return { __await: e };
      }),
      y(T.prototype),
      u(T.prototype, s, function () {
        return this;
      }),
      (e.AsyncIterator = T),
      (e.async = function (t, r, n, i, a) {
        void 0 === a && (a = Promise);
        var s = new T(l(t, r, n, i), a);
        return e.isGeneratorFunction(r)
          ? s
          : s.next().then(function (e) {
              return e.done ? e.value : s.next();
            });
      }),
      y(g),
      u(g, o, "Generator"),
      u(g, a, function () {
        return this;
      }),
      u(g, "toString", function () {
        return "[object Generator]";
      }),
      (e.keys = function (e) {
        var t = Object(e),
          r = [];
        for (var n in t) r.push(n);
        return (
          r.reverse(),
          function e() {
            for (; r.length; ) {
              var n = r.pop();
              if (n in t) return (e.value = n), (e.done = !1), e;
            }
            return (e.done = !0), e;
          }
        );
      }),
      (e.values = C),
      (A.prototype = {
        constructor: A,
        reset: function (e) {
          if (
            ((this.prev = 0),
            (this.next = 0),
            (this.sent = this._sent = void 0),
            (this.done = !1),
            (this.delegate = null),
            (this.method = "next"),
            (this.arg = void 0),
            this.tryEntries.forEach(S),
            !e)
          )
            for (var t in this)
              "t" === t.charAt(0) &&
                r.call(this, t) &&
                !isNaN(+t.slice(1)) &&
                (this[t] = void 0);
        },
        stop: function () {
          this.done = !0;
          var e = this.tryEntries[0].completion;
          if ("throw" === e.type) throw e.arg;
          return this.rval;
        },
        dispatchException: function (e) {
          if (this.done) throw e;
          var t = this;
          function n(r, n) {
            return (
              (s.type = "throw"),
              (s.arg = e),
              (t.next = r),
              n && ((t.method = "next"), (t.arg = void 0)),
              !!n
            );
          }
          for (var i = this.tryEntries.length - 1; i >= 0; --i) {
            var a = this.tryEntries[i],
              s = a.completion;
            if ("root" === a.tryLoc) return n("end");
            if (a.tryLoc <= this.prev) {
              var o = r.call(a, "catchLoc"),
                u = r.call(a, "finallyLoc");
              if (o && u) {
                if (this.prev < a.catchLoc) return n(a.catchLoc, !0);
                if (this.prev < a.finallyLoc) return n(a.finallyLoc);
              } else if (o) {
                if (this.prev < a.catchLoc) return n(a.catchLoc, !0);
              } else {
                if (!u)
                  throw new Error("try statement without catch or finally");
                if (this.prev < a.finallyLoc) return n(a.finallyLoc);
              }
            }
          }
        },
        abrupt: function (e, t) {
          for (var n = this.tryEntries.length - 1; n >= 0; --n) {
            var i = this.tryEntries[n];
            if (
              i.tryLoc <= this.prev &&
              r.call(i, "finallyLoc") &&
              this.prev < i.finallyLoc
            ) {
              var a = i;
              break;
            }
          }
          a &&
            ("break" === e || "continue" === e) &&
            a.tryLoc <= t &&
            t <= a.finallyLoc &&
            (a = null);
          var s = a ? a.completion : {};
          return (
            (s.type = e),
            (s.arg = t),
            a
              ? ((this.method = "next"), (this.next = a.finallyLoc), h)
              : this.complete(s)
          );
        },
        complete: function (e, t) {
          if ("throw" === e.type) throw e.arg;
          return (
            "break" === e.type || "continue" === e.type
              ? (this.next = e.arg)
              : "return" === e.type
              ? ((this.rval = this.arg = e.arg),
                (this.method = "return"),
                (this.next = "end"))
              : "normal" === e.type && t && (this.next = t),
            h
          );
        },
        finish: function (e) {
          for (var t = this.tryEntries.length - 1; t >= 0; --t) {
            var r = this.tryEntries[t];
            if (r.finallyLoc === e)
              return this.complete(r.completion, r.afterLoc), S(r), h;
          }
        },
        catch: function (e) {
          for (var t = this.tryEntries.length - 1; t >= 0; --t) {
            var r = this.tryEntries[t];
            if (r.tryLoc === e) {
              var n = r.completion;
              if ("throw" === n.type) {
                var i = n.arg;
                S(r);
              }
              return i;
            }
          }
          throw new Error("illegal catch attempt");
        },
        delegateYield: function (e, t, r) {
          return (
            (this.delegate = { iterator: C(e), resultName: t, nextLoc: r }),
            "next" === this.method && (this.arg = void 0),
            h
          );
        }
      }),
      e
    );
  }
  function asyncGeneratorStep(e, t, r, n, i, a, s) {
    try {
      var o = e[a](s),
        u = o.value;
    } catch (l) {
      return void r(l);
    }
    o.done ? t(u) : Promise.resolve(u).then(n, i);
  }
  function _asyncToGenerator(e) {
    return function () {
      var t = this,
        r = arguments;
      return new Promise(function (n, i) {
        var a = e.apply(t, r);
        function s(e) {
          asyncGeneratorStep(a, n, i, s, o, "next", e);
        }
        function o(e) {
          asyncGeneratorStep(a, n, i, s, o, "throw", e);
        }
        s(void 0);
      });
    };
  }
  function _createForOfIteratorHelper(e, t) {
    var r =
      ("undefined" != typeof Symbol && e[Symbol.iterator]) || e["@@iterator"];
    if (!r) {
      if (
        Array.isArray(e) ||
        (r = _unsupportedIterableToArray(e)) ||
        (t && e && "number" == typeof e.length)
      ) {
        r && (e = r);
        var n = 0,
          i = function () {};
        return {
          s: i,
          n: function () {
            return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] };
          },
          e: function (e) {
            throw e;
          },
          f: i
        };
      }
      throw new TypeError(
        "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
      );
    }
    var a,
      s = !0,
      o = !1;
    return {
      s: function () {
        r = r.call(e);
      },
      n: function () {
        var e = r.next();
        return (s = e.done), e;
      },
      e: function (e) {
        (o = !0), (a = e);
      },
      f: function () {
        try {
          s || null == r.return || r.return();
        } finally {
          if (o) throw a;
        }
      }
    };
  }
  function _classCallCheck(e, t) {
    if (!(e instanceof t))
      throw new TypeError("Cannot call a class as a function");
  }
  function _defineProperties(e, t) {
    for (var r = 0; r < t.length; r++) {
      var n = t[r];
      (n.enumerable = n.enumerable || !1),
        (n.configurable = !0),
        "value" in n && (n.writable = !0),
        Object.defineProperty(e, _toPropertyKey(n.key), n);
    }
  }
  function _createClass(e, t, r) {
    return (
      t && _defineProperties(e.prototype, t),
      r && _defineProperties(e, r),
      Object.defineProperty(e, "prototype", { writable: !1 }),
      e
    );
  }
  function _typeof(e) {
    return (
      (_typeof =
        "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
          ? function (e) {
              return typeof e;
            }
          : function (e) {
              return e &&
                "function" == typeof Symbol &&
                e.constructor === Symbol &&
                e !== Symbol.prototype
                ? "symbol"
                : typeof e;
            }),
      _typeof(e)
    );
  }
  function _defineProperty(e, t, r) {
    return (
      (t = _toPropertyKey(t)) in e
        ? Object.defineProperty(e, t, {
            value: r,
            enumerable: !0,
            configurable: !0,
            writable: !0
          })
        : (e[t] = r),
      e
    );
  }
  function _toPropertyKey(e) {
    var t = _toPrimitive(e, "string");
    return "symbol" === _typeof(t) ? t : String(t);
  }
  function _toPrimitive(e, t) {
    if ("object" !== _typeof(e) || null === e) return e;
    var r = e[Symbol.toPrimitive];
    if (void 0 !== r) {
      var n = r.call(e, t || "default");
      if ("object" !== _typeof(n)) return n;
      throw new TypeError("@@toPrimitive must return a primitive value.");
    }
    return ("string" === t ? String : Number)(e);
  }
  function _slicedToArray(e, t) {
    return (
      _arrayWithHoles(e) ||
      _iterableToArrayLimit(e, t) ||
      _unsupportedIterableToArray(e, t) ||
      _nonIterableRest()
    );
  }
  function _nonIterableRest() {
    throw new TypeError(
      "Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
    );
  }
  function _iterableToArrayLimit(e, t) {
    var r =
      null == e
        ? null
        : ("undefined" != typeof Symbol && e[Symbol.iterator]) ||
          e["@@iterator"];
    if (null != r) {
      var n,
        i,
        a,
        s,
        o = [],
        u = !0,
        l = !1;
      try {
        if (((a = (r = r.call(e)).next), 0 === t)) {
          if (Object(r) !== r) return;
          u = !1;
        } else
          for (
            ;
            !(u = (n = a.call(r)).done) && (o.push(n.value), o.length !== t);
            u = !0
          );
      } catch (c) {
        (l = !0), (i = c);
      } finally {
        try {
          if (!u && null != r.return && ((s = r.return()), Object(s) !== s))
            return;
        } finally {
          if (l) throw i;
        }
      }
      return o;
    }
  }
  function _arrayWithHoles(e) {
    if (Array.isArray(e)) return e;
  }
  function _toConsumableArray(e) {
    return (
      _arrayWithoutHoles(e) ||
      _iterableToArray(e) ||
      _unsupportedIterableToArray(e) ||
      _nonIterableSpread()
    );
  }
  function _nonIterableSpread() {
    throw new TypeError(
      "Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
    );
  }
  function _unsupportedIterableToArray(e, t) {
    if (e) {
      if ("string" == typeof e) return _arrayLikeToArray(e, t);
      var r = Object.prototype.toString.call(e).slice(8, -1);
      return (
        "Object" === r && e.constructor && (r = e.constructor.name),
        "Map" === r || "Set" === r
          ? Array.from(e)
          : "Arguments" === r ||
            /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
          ? _arrayLikeToArray(e, t)
          : void 0
      );
    }
  }
  function _iterableToArray(e) {
    if (
      ("undefined" != typeof Symbol && null != e[Symbol.iterator]) ||
      null != e["@@iterator"]
    )
      return Array.from(e);
  }
  function _arrayWithoutHoles(e) {
    if (Array.isArray(e)) return _arrayLikeToArray(e);
  }
  function _arrayLikeToArray(e, t) {
    (null == t || t > e.length) && (t = e.length);
    for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
    return n;
  }
  System.register([], function (exports, module) {
    "use strict";
    return {
      execute: function execute() {
        var _pathStateMachine$,
          _pathStateMachine$2,
          _pathStateMachine$3,
          _pathStateMachine$4,
          _pathStateMachine$5,
          _pathStateMachine$6,
          _pathStateMachine$7,
          _isMobile$1$default,
          _INTERNAL_FORMAT_TO_B,
          _FOURCC_TO_FORMAT,
          _DXGI_TO_FORMAT,
          _TYPES_TO_BYTES_PER_C,
          _FORMATS_TO_COMPONENT,
          _TYPES_TO_BYTES_PER_P,
          _FILL_COMMANDS;
        function makeMap(e, t) {
          for (
            var r = Object.create(null), n = e.split(","), i = 0;
            i < n.length;
            i++
          )
            r[n[i]] = !0;
          return t
            ? function (e) {
                return !!r[e.toLowerCase()];
              }
            : function (e) {
                return !!r[e];
              };
        }
        function normalizeStyle(e) {
          if (isArray$1(e)) {
            for (var t = {}, r = 0; r < e.length; r++) {
              var n = e[r],
                i = isString$1(n) ? parseStringStyle(n) : normalizeStyle(n);
              if (i) for (var a in i) t[a] = i[a];
            }
            return t;
          }
          return isString$1(e) || isObject$1(e) ? e : void 0;
        }
        exports({
          D: createPinia,
          a: createElementBlock,
          b: createBaseVNode,
          c: createI18n,
          d: defineStore,
          e: createCommentVNode,
          f: popScopeId,
          g: renderList,
          h: createBlock,
          n: normalizeClass,
          o: openBlock,
          p: pushScopeId,
          r: resolveComponent,
          u: createTextVNode,
          w: withDirectives,
          x: normalizeStyle,
          y: renderSlot,
          z: withCtx
        });
        var listDelimiterRE = /;(?![^(]*\))/g,
          propertyDelimiterRE = /:([^]+)/,
          styleCommentRE = /\/\*[\s\S]*?\*\//g;
        function parseStringStyle(e) {
          var t = {};
          return (
            e
              .replace(styleCommentRE, "")
              .split(listDelimiterRE)
              .forEach(function (e) {
                if (e) {
                  var r = e.split(propertyDelimiterRE);
                  r.length > 1 && (t[r[0].trim()] = r[1].trim());
                }
              }),
            t
          );
        }
        function normalizeClass(e) {
          var t = "";
          if (isString$1(e)) t = e;
          else if (isArray$1(e))
            for (var r = 0; r < e.length; r++) {
              var n = normalizeClass(e[r]);
              n && (t += n + " ");
            }
          else if (isObject$1(e)) for (var i in e) e[i] && (t += i + " ");
          return t.trim();
        }
        var specialBooleanAttrs =
            "itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",
          isSpecialBooleanAttr = makeMap(specialBooleanAttrs);
        function includeBooleanAttr(e) {
          return !!e || "" === e;
        }
        var toDisplayString$1 = exports("t", function (e) {
            return isString$1(e)
              ? e
              : null == e
              ? ""
              : isArray$1(e) ||
                (isObject$1(e) &&
                  (e.toString === objectToString$1 ||
                    !isFunction$1(e.toString)))
              ? JSON.stringify(e, replacer, 2)
              : String(e);
          }),
          replacer = function e(t, r) {
            return r && r.__v_isRef
              ? e(t, r.value)
              : isMap(r)
              ? _defineProperty(
                  {},
                  "Map(".concat(r.size, ")"),
                  _toConsumableArray(r.entries()).reduce(function (e, t) {
                    var r = _slicedToArray(t, 2),
                      n = r[0],
                      i = r[1];
                    return (e["".concat(n, " =>")] = i), e;
                  }, {})
                )
              : isSet(r)
              ? _defineProperty(
                  {},
                  "Set(".concat(r.size, ")"),
                  _toConsumableArray(r.values())
                )
              : !isObject$1(r) || isArray$1(r) || isPlainObject$2(r)
              ? r
              : String(r);
          },
          EMPTY_OBJ = {},
          EMPTY_ARR = [],
          NOOP = function () {},
          NO = function () {
            return !1;
          },
          onRE = /^on[^a-z]/,
          isOn = function (e) {
            return onRE.test(e);
          },
          isModelListener = function (e) {
            return e.startsWith("onUpdate:");
          },
          extend = Object.assign,
          remove = function (e, t) {
            var r = e.indexOf(t);
            r > -1 && e.splice(r, 1);
          },
          hasOwnProperty$3 = Object.prototype.hasOwnProperty,
          hasOwn$1 = function (e, t) {
            return hasOwnProperty$3.call(e, t);
          },
          isArray$1 = Array.isArray,
          isMap = function (e) {
            return "[object Map]" === toTypeString$1(e);
          },
          isSet = function (e) {
            return "[object Set]" === toTypeString$1(e);
          },
          isFunction$1 = function (e) {
            return "function" == typeof e;
          },
          isString$1 = function (e) {
            return "string" == typeof e;
          },
          isSymbol = function (e) {
            return "symbol" === _typeof(e);
          },
          isObject$1 = function (e) {
            return null !== e && "object" === _typeof(e);
          },
          isPromise = function (e) {
            return (
              isObject$1(e) && isFunction$1(e.then) && isFunction$1(e.catch)
            );
          },
          objectToString$1 = Object.prototype.toString,
          toTypeString$1 = function (e) {
            return objectToString$1.call(e);
          },
          toRawType = function (e) {
            return toTypeString$1(e).slice(8, -1);
          },
          isPlainObject$2 = function (e) {
            return "[object Object]" === toTypeString$1(e);
          },
          isIntegerKey = function (e) {
            return (
              isString$1(e) &&
              "NaN" !== e &&
              "-" !== e[0] &&
              "" + parseInt(e, 10) === e
            );
          },
          isReservedProp = makeMap(
            ",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"
          ),
          cacheStringFunction = function (e) {
            var t = Object.create(null);
            return function (r) {
              return t[r] || (t[r] = e(r));
            };
          },
          camelizeRE = /-(\w)/g,
          camelize = cacheStringFunction(function (e) {
            return e.replace(camelizeRE, function (e, t) {
              return t ? t.toUpperCase() : "";
            });
          }),
          hyphenateRE = /\B([A-Z])/g,
          hyphenate = cacheStringFunction(function (e) {
            return e.replace(hyphenateRE, "-$1").toLowerCase();
          }),
          capitalize$1 = cacheStringFunction(function (e) {
            return e.charAt(0).toUpperCase() + e.slice(1);
          }),
          toHandlerKey = cacheStringFunction(function (e) {
            return e ? "on".concat(capitalize$1(e)) : "";
          }),
          hasChanged = function (e, t) {
            return !Object.is(e, t);
          },
          invokeArrayFns = function (e, t) {
            for (var r = 0; r < e.length; r++) e[r](t);
          },
          def = function (e, t, r) {
            Object.defineProperty(e, t, {
              configurable: !0,
              enumerable: !1,
              value: r
            });
          },
          looseToNumber = function (e) {
            var t = parseFloat(e);
            return isNaN(t) ? e : t;
          },
          _globalThis$1,
          getGlobalThis$1 = function () {
            return (
              _globalThis$1 ||
              (_globalThis$1 =
                "undefined" != typeof globalThis
                  ? globalThis
                  : "undefined" != typeof self
                  ? self
                  : "undefined" != typeof window
                  ? window
                  : "undefined" != typeof global
                  ? global
                  : {})
            );
          },
          activeEffectScope,
          EffectScope = (function () {
            function e() {
              var t =
                arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
              _classCallCheck(this, e),
                (this.detached = t),
                (this._active = !0),
                (this.effects = []),
                (this.cleanups = []),
                (this.parent = activeEffectScope),
                !t &&
                  activeEffectScope &&
                  (this.index =
                    (
                      activeEffectScope.scopes ||
                      (activeEffectScope.scopes = [])
                    ).push(this) - 1);
            }
            return (
              _createClass(e, [
                {
                  key: "active",
                  get: function () {
                    return this._active;
                  }
                },
                {
                  key: "run",
                  value: function (e) {
                    if (this._active) {
                      var t = activeEffectScope;
                      try {
                        return (activeEffectScope = this), e();
                      } finally {
                        activeEffectScope = t;
                      }
                    }
                  }
                },
                {
                  key: "on",
                  value: function () {
                    activeEffectScope = this;
                  }
                },
                {
                  key: "off",
                  value: function () {
                    activeEffectScope = this.parent;
                  }
                },
                {
                  key: "stop",
                  value: function (e) {
                    if (this._active) {
                      var t, r;
                      for (t = 0, r = this.effects.length; t < r; t++)
                        this.effects[t].stop();
                      for (t = 0, r = this.cleanups.length; t < r; t++)
                        this.cleanups[t]();
                      if (this.scopes)
                        for (t = 0, r = this.scopes.length; t < r; t++)
                          this.scopes[t].stop(!0);
                      if (!this.detached && this.parent && !e) {
                        var n = this.parent.scopes.pop();
                        n &&
                          n !== this &&
                          ((this.parent.scopes[this.index] = n),
                          (n.index = this.index));
                      }
                      (this.parent = void 0), (this._active = !1);
                    }
                  }
                }
              ]),
              e
            );
          })();
        function effectScope(e) {
          return new EffectScope(e);
        }
        function recordEffectScope(e) {
          var t =
            arguments.length > 1 && void 0 !== arguments[1]
              ? arguments[1]
              : activeEffectScope;
          t && t.active && t.effects.push(e);
        }
        function getCurrentScope() {
          return activeEffectScope;
        }
        function onScopeDispose(e) {
          activeEffectScope && activeEffectScope.cleanups.push(e);
        }
        var createDep = function (e) {
            var t = new Set(e);
            return (t.w = 0), (t.n = 0), t;
          },
          wasTracked = function (e) {
            return (e.w & trackOpBit) > 0;
          },
          newTracked = function (e) {
            return (e.n & trackOpBit) > 0;
          },
          initDepMarkers = function (e) {
            var t = e.deps;
            if (t.length)
              for (var r = 0; r < t.length; r++) t[r].w |= trackOpBit;
          },
          finalizeDepMarkers = function (e) {
            var t = e.deps;
            if (t.length) {
              for (var r = 0, n = 0; n < t.length; n++) {
                var i = t[n];
                wasTracked(i) && !newTracked(i) ? i.delete(e) : (t[r++] = i),
                  (i.w &= ~trackOpBit),
                  (i.n &= ~trackOpBit);
              }
              t.length = r;
            }
          },
          targetMap = new WeakMap(),
          effectTrackDepth = 0,
          trackOpBit = 1,
          maxMarkerBits = 30,
          activeEffect,
          ITERATE_KEY = Symbol(""),
          MAP_KEY_ITERATE_KEY = Symbol(""),
          ReactiveEffect = (function () {
            function e(t) {
              var r =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : null,
                n = arguments.length > 2 ? arguments[2] : void 0;
              _classCallCheck(this, e),
                (this.fn = t),
                (this.scheduler = r),
                (this.active = !0),
                (this.deps = []),
                (this.parent = void 0),
                recordEffectScope(this, n);
            }
            return (
              _createClass(e, [
                {
                  key: "run",
                  value: function () {
                    if (!this.active) return this.fn();
                    for (var e = activeEffect, t = shouldTrack; e; ) {
                      if (e === this) return;
                      e = e.parent;
                    }
                    try {
                      return (
                        (this.parent = activeEffect),
                        (activeEffect = this),
                        (shouldTrack = !0),
                        (trackOpBit = 1 << ++effectTrackDepth),
                        effectTrackDepth <= maxMarkerBits
                          ? initDepMarkers(this)
                          : cleanupEffect(this),
                        this.fn()
                      );
                    } finally {
                      effectTrackDepth <= maxMarkerBits &&
                        finalizeDepMarkers(this),
                        (trackOpBit = 1 << --effectTrackDepth),
                        (activeEffect = this.parent),
                        (shouldTrack = t),
                        (this.parent = void 0),
                        this.deferStop && this.stop();
                    }
                  }
                },
                {
                  key: "stop",
                  value: function () {
                    activeEffect === this
                      ? (this.deferStop = !0)
                      : this.active &&
                        (cleanupEffect(this),
                        this.onStop && this.onStop(),
                        (this.active = !1));
                  }
                }
              ]),
              e
            );
          })();
        function cleanupEffect(e) {
          var t = e.deps;
          if (t.length) {
            for (var r = 0; r < t.length; r++) t[r].delete(e);
            t.length = 0;
          }
        }
        var shouldTrack = !0,
          trackStack = [];
        function pauseTracking() {
          trackStack.push(shouldTrack), (shouldTrack = !1);
        }
        function resetTracking() {
          var e = trackStack.pop();
          shouldTrack = void 0 === e || e;
        }
        function track(e, t, r) {
          if (shouldTrack && activeEffect) {
            var n = targetMap.get(e);
            n || targetMap.set(e, (n = new Map()));
            var i = n.get(r);
            i || n.set(r, (i = createDep())), trackEffects(i);
          }
        }
        function trackEffects(e, t) {
          var r = !1;
          effectTrackDepth <= maxMarkerBits
            ? newTracked(e) || ((e.n |= trackOpBit), (r = !wasTracked(e)))
            : (r = !e.has(activeEffect)),
            r && (e.add(activeEffect), activeEffect.deps.push(e));
        }
        function trigger(e, t, r, n, i, a) {
          var s = targetMap.get(e);
          if (s) {
            var o = [];
            if ("clear" === t) o = _toConsumableArray(s.values());
            else if ("length" === r && isArray$1(e)) {
              var u = Number(n);
              s.forEach(function (e, t) {
                ("length" === t || t >= u) && o.push(e);
              });
            } else
              switch ((void 0 !== r && o.push(s.get(r)), t)) {
                case "add":
                  isArray$1(e)
                    ? isIntegerKey(r) && o.push(s.get("length"))
                    : (o.push(s.get(ITERATE_KEY)),
                      isMap(e) && o.push(s.get(MAP_KEY_ITERATE_KEY)));
                  break;
                case "delete":
                  isArray$1(e) ||
                    (o.push(s.get(ITERATE_KEY)),
                    isMap(e) && o.push(s.get(MAP_KEY_ITERATE_KEY)));
                  break;
                case "set":
                  isMap(e) && o.push(s.get(ITERATE_KEY));
              }
            if (1 === o.length) o[0] && triggerEffects(o[0]);
            else {
              var l,
                c = [],
                h = _createForOfIteratorHelper(o);
              try {
                for (h.s(); !(l = h.n()).done; ) {
                  var f = l.value;
                  f && c.push.apply(c, _toConsumableArray(f));
                }
              } catch (d) {
                h.e(d);
              } finally {
                h.f();
              }
              triggerEffects(createDep(c));
            }
          }
        }
        function triggerEffects(e, t) {
          var r,
            n = isArray$1(e) ? e : _toConsumableArray(e),
            i = _createForOfIteratorHelper(n);
          try {
            for (i.s(); !(r = i.n()).done; ) {
              var a = r.value;
              a.computed && triggerEffect(a);
            }
          } catch (l) {
            i.e(l);
          } finally {
            i.f();
          }
          var s,
            o = _createForOfIteratorHelper(n);
          try {
            for (o.s(); !(s = o.n()).done; ) {
              var u = s.value;
              u.computed || triggerEffect(u);
            }
          } catch (l) {
            o.e(l);
          } finally {
            o.f();
          }
        }
        function triggerEffect(e, t) {
          (e !== activeEffect || e.allowRecurse) &&
            (e.scheduler ? e.scheduler() : e.run());
        }
        function getDepFromReactive(e, t) {
          var r;
          return null === (r = targetMap.get(e)) || void 0 === r
            ? void 0
            : r.get(t);
        }
        var isNonTrackableKeys = makeMap("__proto__,__v_isRef,__isVue"),
          builtInSymbols = new Set(
            Object.getOwnPropertyNames(Symbol)
              .filter(function (e) {
                return "arguments" !== e && "caller" !== e;
              })
              .map(function (e) {
                return Symbol[e];
              })
              .filter(isSymbol)
          ),
          get$1 = createGetter(),
          shallowGet = createGetter(!1, !0),
          readonlyGet = createGetter(!0),
          arrayInstrumentations = createArrayInstrumentations();
        function createArrayInstrumentations() {
          var e = {};
          return (
            ["includes", "indexOf", "lastIndexOf"].forEach(function (t) {
              e[t] = function () {
                for (var e = toRaw(this), r = 0, n = this.length; r < n; r++)
                  track(e, "get", r + "");
                for (
                  var i = arguments.length, a = new Array(i), s = 0;
                  s < i;
                  s++
                )
                  a[s] = arguments[s];
                var o = e[t].apply(e, a);
                return -1 === o || !1 === o
                  ? e[t].apply(e, _toConsumableArray(a.map(toRaw)))
                  : o;
              };
            }),
            ["push", "pop", "shift", "unshift", "splice"].forEach(function (t) {
              e[t] = function () {
                pauseTracking();
                for (
                  var e = arguments.length, r = new Array(e), n = 0;
                  n < e;
                  n++
                )
                  r[n] = arguments[n];
                var i = toRaw(this)[t].apply(this, r);
                return resetTracking(), i;
              };
            }),
            e
          );
        }
        function hasOwnProperty$2(e) {
          var t = toRaw(this);
          return track(t, "has", e), t.hasOwnProperty(e);
        }
        function createGetter() {
          var e =
              arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
            t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
          return function (r, n, i) {
            if ("__v_isReactive" === n) return !e;
            if ("__v_isReadonly" === n) return e;
            if ("__v_isShallow" === n) return t;
            if (
              "__v_raw" === n &&
              i ===
                (e
                  ? t
                    ? shallowReadonlyMap
                    : readonlyMap
                  : t
                  ? shallowReactiveMap
                  : reactiveMap
                ).get(r)
            )
              return r;
            var a = isArray$1(r);
            if (!e) {
              if (a && hasOwn$1(arrayInstrumentations, n))
                return Reflect.get(arrayInstrumentations, n, i);
              if ("hasOwnProperty" === n) return hasOwnProperty$2;
            }
            var s = Reflect.get(r, n, i);
            return (isSymbol(n) ? builtInSymbols.has(n) : isNonTrackableKeys(n))
              ? s
              : (e || track(r, "get", n),
                t
                  ? s
                  : isRef(s)
                  ? a && isIntegerKey(n)
                    ? s
                    : s.value
                  : isObject$1(s)
                  ? e
                    ? readonly(s)
                    : reactive(s)
                  : s);
          };
        }
        var set$1 = createSetter(),
          shallowSet = createSetter(!0);
        function createSetter() {
          var e =
            arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
          return function (t, r, n, i) {
            var a = t[r];
            if (isReadonly(a) && isRef(a) && !isRef(n)) return !1;
            if (
              !e &&
              (isShallow(n) ||
                isReadonly(n) ||
                ((a = toRaw(a)), (n = toRaw(n))),
              !isArray$1(t) && isRef(a) && !isRef(n))
            )
              return (a.value = n), !0;
            var s =
                isArray$1(t) && isIntegerKey(r)
                  ? Number(r) < t.length
                  : hasOwn$1(t, r),
              o = Reflect.set(t, r, n, i);
            return (
              t === toRaw(i) &&
                (s
                  ? hasChanged(n, a) && trigger(t, "set", r, n)
                  : trigger(t, "add", r, n)),
              o
            );
          };
        }
        function deleteProperty(e, t) {
          var r = hasOwn$1(e, t);
          e[t];
          var n = Reflect.deleteProperty(e, t);
          return n && r && trigger(e, "delete", t, void 0), n;
        }
        function has$1(e, t) {
          var r = Reflect.has(e, t);
          return (
            (isSymbol(t) && builtInSymbols.has(t)) || track(e, "has", t), r
          );
        }
        function ownKeys(e) {
          return (
            track(e, "iterate", isArray$1(e) ? "length" : ITERATE_KEY),
            Reflect.ownKeys(e)
          );
        }
        var mutableHandlers = {
            get: get$1,
            set: set$1,
            deleteProperty: deleteProperty,
            has: has$1,
            ownKeys: ownKeys
          },
          readonlyHandlers = {
            get: readonlyGet,
            set: function (e, t) {
              return !0;
            },
            deleteProperty: function (e, t) {
              return !0;
            }
          },
          shallowReactiveHandlers = extend({}, mutableHandlers, {
            get: shallowGet,
            set: shallowSet
          }),
          toShallow = function (e) {
            return e;
          },
          getProto = function (e) {
            return Reflect.getPrototypeOf(e);
          };
        function _get2(e, t) {
          var r =
              arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
            n = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
            i = toRaw((e = e.__v_raw)),
            a = toRaw(t);
          r || (t !== a && track(i, "get", t), track(i, "get", a));
          var s = getProto(i).has,
            o = n ? toShallow : r ? toReadonly : toReactive;
          return s.call(i, t)
            ? o(e.get(t))
            : s.call(i, a)
            ? o(e.get(a))
            : void (e !== i && e.get(t));
        }
        function _has(e) {
          var t =
              arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
            r = this.__v_raw,
            n = toRaw(r),
            i = toRaw(e);
          return (
            t || (e !== i && track(n, "has", e), track(n, "has", i)),
            e === i ? r.has(e) : r.has(e) || r.has(i)
          );
        }
        function size(e) {
          var t =
            arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
          return (
            (e = e.__v_raw),
            !t && track(toRaw(e), "iterate", ITERATE_KEY),
            Reflect.get(e, "size", e)
          );
        }
        function add(e) {
          e = toRaw(e);
          var t = toRaw(this);
          return (
            getProto(t).has.call(t, e) || (t.add(e), trigger(t, "add", e, e)),
            this
          );
        }
        function set(e, t) {
          t = toRaw(t);
          var r = toRaw(this),
            n = getProto(r),
            i = n.has,
            a = n.get,
            s = i.call(r, e);
          s || ((e = toRaw(e)), (s = i.call(r, e)));
          var o = a.call(r, e);
          return (
            r.set(e, t),
            s
              ? hasChanged(t, o) && trigger(r, "set", e, t)
              : trigger(r, "add", e, t),
            this
          );
        }
        function deleteEntry(e) {
          var t = toRaw(this),
            r = getProto(t),
            n = r.has,
            i = r.get,
            a = n.call(t, e);
          a || ((e = toRaw(e)), (a = n.call(t, e))), i && i.call(t, e);
          var s = t.delete(e);
          return a && trigger(t, "delete", e, void 0), s;
        }
        function clear() {
          var e = toRaw(this),
            t = 0 !== e.size,
            r = e.clear();
          return t && trigger(e, "clear", void 0, void 0), r;
        }
        function createForEach(e, t) {
          return function (r, n) {
            var i = this,
              a = i.__v_raw,
              s = toRaw(a),
              o = t ? toShallow : e ? toReadonly : toReactive;
            return (
              !e && track(s, "iterate", ITERATE_KEY),
              a.forEach(function (e, t) {
                return r.call(n, o(e), o(t), i);
              })
            );
          };
        }
        function createIterableMethod(e, t, r) {
          return function () {
            var n = this.__v_raw,
              i = toRaw(n),
              a = isMap(i),
              s = "entries" === e || (e === Symbol.iterator && a),
              o = "keys" === e && a,
              u = n[e].apply(n, arguments),
              l = r ? toShallow : t ? toReadonly : toReactive;
            return (
              !t && track(i, "iterate", o ? MAP_KEY_ITERATE_KEY : ITERATE_KEY),
              _defineProperty(
                {
                  next: function () {
                    var e = u.next(),
                      t = e.value,
                      r = e.done;
                    return r
                      ? { value: t, done: r }
                      : { value: s ? [l(t[0]), l(t[1])] : l(t), done: r };
                  }
                },
                Symbol.iterator,
                function () {
                  return this;
                }
              )
            );
          };
        }
        function createReadonlyMethod(e) {
          return function () {
            return "delete" !== e && this;
          };
        }
        function createInstrumentations() {
          var e = {
              get: function (e) {
                return _get2(this, e);
              },
              get size() {
                return size(this);
              },
              has: _has,
              add: add,
              set: set,
              delete: deleteEntry,
              clear: clear,
              forEach: createForEach(!1, !1)
            },
            t = {
              get: function (e) {
                return _get2(this, e, !1, !0);
              },
              get size() {
                return size(this);
              },
              has: _has,
              add: add,
              set: set,
              delete: deleteEntry,
              clear: clear,
              forEach: createForEach(!1, !0)
            },
            r = {
              get: function (e) {
                return _get2(this, e, !0);
              },
              get size() {
                return size(this, !0);
              },
              has: function (e) {
                return _has.call(this, e, !0);
              },
              add: createReadonlyMethod("add"),
              set: createReadonlyMethod("set"),
              delete: createReadonlyMethod("delete"),
              clear: createReadonlyMethod("clear"),
              forEach: createForEach(!0, !1)
            },
            n = {
              get: function (e) {
                return _get2(this, e, !0, !0);
              },
              get size() {
                return size(this, !0);
              },
              has: function (e) {
                return _has.call(this, e, !0);
              },
              add: createReadonlyMethod("add"),
              set: createReadonlyMethod("set"),
              delete: createReadonlyMethod("delete"),
              clear: createReadonlyMethod("clear"),
              forEach: createForEach(!0, !0)
            };
          return (
            ["keys", "values", "entries", Symbol.iterator].forEach(function (
              i
            ) {
              (e[i] = createIterableMethod(i, !1, !1)),
                (r[i] = createIterableMethod(i, !0, !1)),
                (t[i] = createIterableMethod(i, !1, !0)),
                (n[i] = createIterableMethod(i, !0, !0));
            }),
            [e, r, t, n]
          );
        }
        var _createInstrumentatio = createInstrumentations(),
          _createInstrumentatio2 = _slicedToArray(_createInstrumentatio, 4),
          mutableInstrumentations = _createInstrumentatio2[0],
          readonlyInstrumentations = _createInstrumentatio2[1],
          shallowInstrumentations = _createInstrumentatio2[2],
          shallowReadonlyInstrumentations = _createInstrumentatio2[3];
        function createInstrumentationGetter(e, t) {
          var r = t
            ? e
              ? shallowReadonlyInstrumentations
              : shallowInstrumentations
            : e
            ? readonlyInstrumentations
            : mutableInstrumentations;
          return function (t, n, i) {
            return "__v_isReactive" === n
              ? !e
              : "__v_isReadonly" === n
              ? e
              : "__v_raw" === n
              ? t
              : Reflect.get(hasOwn$1(r, n) && n in t ? r : t, n, i);
          };
        }
        var mutableCollectionHandlers = {
            get: createInstrumentationGetter(!1, !1)
          },
          shallowCollectionHandlers = {
            get: createInstrumentationGetter(!1, !0)
          },
          readonlyCollectionHandlers = {
            get: createInstrumentationGetter(!0, !1)
          },
          reactiveMap = new WeakMap(),
          shallowReactiveMap = new WeakMap(),
          readonlyMap = new WeakMap(),
          shallowReadonlyMap = new WeakMap();
        function targetTypeMap(e) {
          switch (e) {
            case "Object":
            case "Array":
              return 1;
            case "Map":
            case "Set":
            case "WeakMap":
            case "WeakSet":
              return 2;
            default:
              return 0;
          }
        }
        function getTargetType(e) {
          return e.__v_skip || !Object.isExtensible(e)
            ? 0
            : targetTypeMap(toRawType(e));
        }
        function reactive(e) {
          return isReadonly(e)
            ? e
            : createReactiveObject(
                e,
                !1,
                mutableHandlers,
                mutableCollectionHandlers,
                reactiveMap
              );
        }
        function shallowReactive(e) {
          return createReactiveObject(
            e,
            !1,
            shallowReactiveHandlers,
            shallowCollectionHandlers,
            shallowReactiveMap
          );
        }
        function readonly(e) {
          return createReactiveObject(
            e,
            !0,
            readonlyHandlers,
            readonlyCollectionHandlers,
            readonlyMap
          );
        }
        function createReactiveObject(e, t, r, n, i) {
          if (!isObject$1(e)) return e;
          if (e.__v_raw && (!t || !e.__v_isReactive)) return e;
          var a = i.get(e);
          if (a) return a;
          var s = getTargetType(e);
          if (0 === s) return e;
          var o = new Proxy(e, 2 === s ? n : r);
          return i.set(e, o), o;
        }
        function isReactive(e) {
          return isReadonly(e)
            ? isReactive(e.__v_raw)
            : !(!e || !e.__v_isReactive);
        }
        function isReadonly(e) {
          return !(!e || !e.__v_isReadonly);
        }
        function isShallow(e) {
          return !(!e || !e.__v_isShallow);
        }
        function isProxy(e) {
          return isReactive(e) || isReadonly(e);
        }
        function toRaw(e) {
          var t = e && e.__v_raw;
          return t ? toRaw(t) : e;
        }
        function markRaw(e) {
          return def(e, "__v_skip", !0), e;
        }
        var toReactive = function (e) {
            return isObject$1(e) ? reactive(e) : e;
          },
          toReadonly = function (e) {
            return isObject$1(e) ? readonly(e) : e;
          };
        function trackRefValue(e) {
          shouldTrack &&
            activeEffect &&
            trackEffects((e = toRaw(e)).dep || (e.dep = createDep()));
        }
        function triggerRefValue(e, t) {
          var r = (e = toRaw(e)).dep;
          r && triggerEffects(r);
        }
        function isRef(e) {
          return !(!e || !0 !== e.__v_isRef);
        }
        function ref(e) {
          return createRef(e, !1);
        }
        function shallowRef(e) {
          return createRef(e, !0);
        }
        function createRef(e, t) {
          return isRef(e) ? e : new RefImpl(e, t);
        }
        var RefImpl = (function () {
          function e(t, r) {
            _classCallCheck(this, e),
              (this.__v_isShallow = r),
              (this.dep = void 0),
              (this.__v_isRef = !0),
              (this._rawValue = r ? t : toRaw(t)),
              (this._value = r ? t : toReactive(t));
          }
          return (
            _createClass(e, [
              {
                key: "value",
                get: function () {
                  return trackRefValue(this), this._value;
                },
                set: function (e) {
                  var t = this.__v_isShallow || isShallow(e) || isReadonly(e);
                  (e = t ? e : toRaw(e)),
                    hasChanged(e, this._rawValue) &&
                      ((this._rawValue = e),
                      (this._value = t ? e : toReactive(e)),
                      triggerRefValue(this));
                }
              }
            ]),
            e
          );
        })();
        function unref(e) {
          return isRef(e) ? e.value : e;
        }
        var shallowUnwrapHandlers = {
          get: function (e, t, r) {
            return unref(Reflect.get(e, t, r));
          },
          set: function (e, t, r, n) {
            var i = e[t];
            return isRef(i) && !isRef(r)
              ? ((i.value = r), !0)
              : Reflect.set(e, t, r, n);
          }
        };
        function proxyRefs(e) {
          return isReactive(e) ? e : new Proxy(e, shallowUnwrapHandlers);
        }
        function toRefs(e) {
          var t = isArray$1(e) ? new Array(e.length) : {};
          for (var r in e) t[r] = toRef(e, r);
          return t;
        }
        var ObjectRefImpl = (function () {
            function e(t, r, n) {
              _classCallCheck(this, e),
                (this._object = t),
                (this._key = r),
                (this._defaultValue = n),
                (this.__v_isRef = !0);
            }
            return (
              _createClass(e, [
                {
                  key: "value",
                  get: function () {
                    var e = this._object[this._key];
                    return void 0 === e ? this._defaultValue : e;
                  },
                  set: function (e) {
                    this._object[this._key] = e;
                  }
                },
                {
                  key: "dep",
                  get: function () {
                    return getDepFromReactive(toRaw(this._object), this._key);
                  }
                }
              ]),
              e
            );
          })(),
          _a$1;
        function toRef(e, t, r) {
          var n = e[t];
          return isRef(n) ? n : new ObjectRefImpl(e, t, r);
        }
        var ComputedRefImpl = (function () {
          function e(t, r, n, i) {
            var a = this;
            _classCallCheck(this, e),
              (this._setter = r),
              (this.dep = void 0),
              (this.__v_isRef = !0),
              (this[_a$1] = !1),
              (this._dirty = !0),
              (this.effect = new ReactiveEffect(t, function () {
                a._dirty || ((a._dirty = !0), triggerRefValue(a));
              })),
              (this.effect.computed = this),
              (this.effect.active = this._cacheable = !i),
              (this.__v_isReadonly = n);
          }
          return (
            _createClass(e, [
              {
                key: "value",
                get: function () {
                  var e = toRaw(this);
                  return (
                    trackRefValue(e),
                    (!e._dirty && e._cacheable) ||
                      ((e._dirty = !1), (e._value = e.effect.run())),
                    e._value
                  );
                },
                set: function (e) {
                  this._setter(e);
                }
              }
            ]),
            e
          );
        })();
        function computed$1(e, t) {
          var r,
            n,
            i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
            a = isFunction$1(e);
          return (
            a ? ((r = e), (n = NOOP)) : ((r = e.get), (n = e.set)),
            new ComputedRefImpl(r, n, a || !n, i)
          );
        }
        function warn$1(e) {}
        function callWithErrorHandling(e, t, r, n) {
          var i;
          try {
            i = n ? e.apply(void 0, _toConsumableArray(n)) : e();
          } catch (a) {
            handleError(a, t, r);
          }
          return i;
        }
        function callWithAsyncErrorHandling(e, t, r, n) {
          if (isFunction$1(e)) {
            var i = callWithErrorHandling(e, t, r, n);
            return (
              i &&
                isPromise(i) &&
                i.catch(function (e) {
                  handleError(e, t, r);
                }),
              i
            );
          }
          for (var a = [], s = 0; s < e.length; s++)
            a.push(callWithAsyncErrorHandling(e[s], t, r, n));
          return a;
        }
        function handleError(e, t, r) {
          var n =
              !(arguments.length > 3 && void 0 !== arguments[3]) ||
              arguments[3],
            i = t ? t.vnode : null;
          if (t) {
            for (var a = t.parent, s = t.proxy, o = r; a; ) {
              var u = a.ec;
              if (u)
                for (var l = 0; l < u.length; l++)
                  if (!1 === u[l](e, s, o)) return;
              a = a.parent;
            }
            var c = t.appContext.config.errorHandler;
            if (c) return void callWithErrorHandling(c, null, 10, [e, s, o]);
          }
          logError(e, r, i, n);
        }
        function logError(e, t, r) {
          console.error(e);
        }
        _a$1 = "__v_isReadonly";
        var isFlushing = !1,
          isFlushPending = !1,
          queue = [],
          flushIndex = 0,
          pendingPostFlushCbs = [],
          activePostFlushCbs = null,
          postFlushIndex = 0,
          resolvedPromise = Promise.resolve(),
          currentFlushPromise = null;
        function nextTick(e) {
          var t = currentFlushPromise || resolvedPromise;
          return e ? t.then(this ? e.bind(this) : e) : t;
        }
        function findInsertionIndex(e) {
          for (var t = flushIndex + 1, r = queue.length; t < r; ) {
            var n = (t + r) >>> 1;
            getId(queue[n]) < e ? (t = n + 1) : (r = n);
          }
          return t;
        }
        function queueJob(e) {
          (queue.length &&
            queue.includes(
              e,
              isFlushing && e.allowRecurse ? flushIndex + 1 : flushIndex
            )) ||
            (null == e.id
              ? queue.push(e)
              : queue.splice(findInsertionIndex(e.id), 0, e),
            queueFlush());
        }
        function queueFlush() {
          isFlushing ||
            isFlushPending ||
            ((isFlushPending = !0),
            (currentFlushPromise = resolvedPromise.then(flushJobs)));
        }
        function invalidateJob(e) {
          var t = queue.indexOf(e);
          t > flushIndex && queue.splice(t, 1);
        }
        function queuePostFlushCb(e) {
          isArray$1(e)
            ? pendingPostFlushCbs.push.apply(
                pendingPostFlushCbs,
                _toConsumableArray(e)
              )
            : (activePostFlushCbs &&
                activePostFlushCbs.includes(
                  e,
                  e.allowRecurse ? postFlushIndex + 1 : postFlushIndex
                )) ||
              pendingPostFlushCbs.push(e),
            queueFlush();
        }
        function flushPreFlushCbs(e) {
          for (
            var t =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : isFlushing
                ? flushIndex + 1
                : 0;
            t < queue.length;
            t++
          ) {
            var r = queue[t];
            r && r.pre && (queue.splice(t, 1), t--, r());
          }
        }
        function flushPostFlushCbs(e) {
          if (pendingPostFlushCbs.length) {
            var t,
              r = _toConsumableArray(new Set(pendingPostFlushCbs));
            if (((pendingPostFlushCbs.length = 0), activePostFlushCbs))
              return void (t = activePostFlushCbs).push.apply(
                t,
                _toConsumableArray(r)
              );
            for (
              (activePostFlushCbs = r).sort(function (e, t) {
                return getId(e) - getId(t);
              }),
                postFlushIndex = 0;
              postFlushIndex < activePostFlushCbs.length;
              postFlushIndex++
            )
              activePostFlushCbs[postFlushIndex]();
            (activePostFlushCbs = null), (postFlushIndex = 0);
          }
        }
        var getId = function (e) {
            return null == e.id ? 1 / 0 : e.id;
          },
          comparator = function (e, t) {
            var r = getId(e) - getId(t);
            if (0 === r) {
              if (e.pre && !t.pre) return -1;
              if (t.pre && !e.pre) return 1;
            }
            return r;
          };
        function flushJobs(e) {
          (isFlushPending = !1), (isFlushing = !0), queue.sort(comparator);
          try {
            for (flushIndex = 0; flushIndex < queue.length; flushIndex++) {
              var t = queue[flushIndex];
              t && !1 !== t.active && callWithErrorHandling(t, null, 14);
            }
          } finally {
            (flushIndex = 0),
              (queue.length = 0),
              flushPostFlushCbs(),
              (isFlushing = !1),
              (currentFlushPromise = null),
              (queue.length || pendingPostFlushCbs.length) && flushJobs();
          }
        }
        function emit(e, t) {
          if (!e.isUnmounted) {
            for (
              var r = e.vnode.props || EMPTY_OBJ,
                n = arguments.length,
                i = new Array(n > 2 ? n - 2 : 0),
                a = 2;
              a < n;
              a++
            )
              i[a - 2] = arguments[a];
            var s,
              o = i,
              u = t.startsWith("update:"),
              l = u && t.slice(7);
            if (l && l in r) {
              var c =
                  r["".concat("modelValue" === l ? "model" : l, "Modifiers")] ||
                  EMPTY_OBJ,
                h = c.number;
              c.trim &&
                (o = i.map(function (e) {
                  return isString$1(e) ? e.trim() : e;
                })),
                h && (o = i.map(looseToNumber));
            }
            var f =
              r[(s = toHandlerKey(t))] || r[(s = toHandlerKey(camelize(t)))];
            !f && u && (f = r[(s = toHandlerKey(hyphenate(t)))]),
              f && callWithAsyncErrorHandling(f, e, 6, o);
            var d = r[s + "Once"];
            if (d) {
              if (e.emitted) {
                if (e.emitted[s]) return;
              } else e.emitted = {};
              (e.emitted[s] = !0), callWithAsyncErrorHandling(d, e, 6, o);
            }
          }
        }
        function normalizeEmitsOptions(e, t) {
          var r =
              arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
            n = t.emitsCache,
            i = n.get(e);
          if (void 0 !== i) return i;
          var a = e.emits,
            s = {},
            o = !1;
          if (!isFunction$1(e)) {
            var u = function (e) {
              var r = normalizeEmitsOptions(e, t, !0);
              r && ((o = !0), extend(s, r));
            };
            !r && t.mixins.length && t.mixins.forEach(u),
              e.extends && u(e.extends),
              e.mixins && e.mixins.forEach(u);
          }
          return a || o
            ? (isArray$1(a)
                ? a.forEach(function (e) {
                    return (s[e] = null);
                  })
                : extend(s, a),
              isObject$1(e) && n.set(e, s),
              s)
            : (isObject$1(e) && n.set(e, null), null);
        }
        function isEmitListener(e, t) {
          return (
            !(!e || !isOn(t)) &&
            ((t = t.slice(2).replace(/Once$/, "")),
            hasOwn$1(e, t[0].toLowerCase() + t.slice(1)) ||
              hasOwn$1(e, hyphenate(t)) ||
              hasOwn$1(e, t))
          );
        }
        var currentRenderingInstance = null,
          currentScopeId = null;
        function setCurrentRenderingInstance(e) {
          var t = currentRenderingInstance;
          return (
            (currentRenderingInstance = e),
            (currentScopeId = (e && e.type.__scopeId) || null),
            t
          );
        }
        function pushScopeId(e) {
          currentScopeId = e;
        }
        function popScopeId() {
          currentScopeId = null;
        }
        function withCtx(e) {
          var t =
            arguments.length > 1 && void 0 !== arguments[1]
              ? arguments[1]
              : currentRenderingInstance;
          if (!t) return e;
          if (e._n) return e;
          var r = function r() {
            r._d && setBlockTracking(-1);
            var n,
              i = setCurrentRenderingInstance(t);
            try {
              n = e.apply(void 0, arguments);
            } finally {
              setCurrentRenderingInstance(i), r._d && setBlockTracking(1);
            }
            return n;
          };
          return (r._n = !0), (r._c = !0), (r._d = !0), r;
        }
        function markAttrsAccessed() {}
        function renderComponentRoot(e) {
          var t,
            r,
            n = e.type,
            i = e.vnode,
            a = e.proxy,
            s = e.withProxy,
            o = e.props,
            u = _slicedToArray(e.propsOptions, 1)[0],
            l = e.slots,
            c = e.attrs,
            h = e.emit,
            f = e.render,
            d = e.renderCache,
            p = e.data,
            _ = e.setupState,
            v = e.ctx,
            m = e.inheritAttrs,
            g = setCurrentRenderingInstance(e);
          try {
            if (4 & i.shapeFlag) {
              var y = s || a;
              (t = normalizeVNode(f.call(y, y, d, o, _, p, v))), (r = c);
            } else {
              var T = n;
              0,
                (t = normalizeVNode(
                  T.length > 1
                    ? T(o, { attrs: c, slots: l, emit: h })
                    : T(o, null)
                )),
                (r = n.props ? c : getFunctionalFallthrough(c));
            }
          } catch (S) {
            (blockStack.length = 0),
              handleError(S, e, 1),
              (t = createVNode(Comment));
          }
          var x = t;
          if (r && !1 !== m) {
            var E = Object.keys(r),
              b = x.shapeFlag;
            E.length &&
              7 & b &&
              (u && E.some(isModelListener) && (r = filterModelListeners(r, u)),
              (x = cloneVNode(x, r)));
          }
          return (
            i.dirs &&
              ((x = cloneVNode(x)).dirs = x.dirs
                ? x.dirs.concat(i.dirs)
                : i.dirs),
            i.transition && (x.transition = i.transition),
            (t = x),
            setCurrentRenderingInstance(g),
            t
          );
        }
        var getFunctionalFallthrough = function (e) {
            var t;
            for (var r in e)
              ("class" === r || "style" === r || isOn(r)) &&
                ((t || (t = {}))[r] = e[r]);
            return t;
          },
          filterModelListeners = function (e, t) {
            var r = {};
            for (var n in e)
              (isModelListener(n) && n.slice(9) in t) || (r[n] = e[n]);
            return r;
          };
        function shouldUpdateComponent(e, t, r) {
          var n = e.props,
            i = e.children,
            a = e.component,
            s = t.props,
            o = t.children,
            u = t.patchFlag,
            l = a.emitsOptions;
          if (t.dirs || t.transition) return !0;
          if (!(r && u >= 0))
            return (
              !((!i && !o) || (o && o.$stable)) ||
              (n !== s && (n ? !s || hasPropsChanged(n, s, l) : !!s))
            );
          if (1024 & u) return !0;
          if (16 & u) return n ? hasPropsChanged(n, s, l) : !!s;
          if (8 & u)
            for (var c = t.dynamicProps, h = 0; h < c.length; h++) {
              var f = c[h];
              if (s[f] !== n[f] && !isEmitListener(l, f)) return !0;
            }
          return !1;
        }
        function hasPropsChanged(e, t, r) {
          var n = Object.keys(t);
          if (n.length !== Object.keys(e).length) return !0;
          for (var i = 0; i < n.length; i++) {
            var a = n[i];
            if (t[a] !== e[a] && !isEmitListener(r, a)) return !0;
          }
          return !1;
        }
        function updateHOCHostEl(e, t) {
          for (var r = e.vnode, n = e.parent; n && n.subTree === r; )
            ((r = n.vnode).el = t), (n = n.parent);
        }
        var isSuspense = function (e) {
          return e.__isSuspense;
        };
        function queueEffectWithSuspense(e, t) {
          var r;
          t && t.pendingBranch
            ? isArray$1(e)
              ? (r = t.effects).push.apply(r, _toConsumableArray(e))
              : t.effects.push(e)
            : queuePostFlushCb(e);
        }
        function provide(e, t) {
          if (currentInstance) {
            var r = currentInstance.provides,
              n = currentInstance.parent && currentInstance.parent.provides;
            n === r && (r = currentInstance.provides = Object.create(n)),
              (r[e] = t);
          } else;
        }
        function inject(e, t) {
          var r =
              arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
            n = currentInstance || currentRenderingInstance;
          if (n) {
            var i =
              null == n.parent
                ? n.vnode.appContext && n.vnode.appContext.provides
                : n.parent.provides;
            if (i && e in i) return i[e];
            if (arguments.length > 1)
              return r && isFunction$1(t) ? t.call(n.proxy) : t;
          }
        }
        var INITIAL_WATCHER_VALUE = {};
        function watch(e, t, r) {
          return doWatch(e, t, r);
        }
        function doWatch(e, t) {
          var r,
            n,
            i =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : EMPTY_OBJ,
            a = i.immediate,
            s = i.deep,
            o = i.flush,
            u =
              (i.onTrack,
              i.onTrigger,
              getCurrentScope() ===
              (null == currentInstance ? void 0 : currentInstance.scope)
                ? currentInstance
                : null),
            l = !1,
            c = !1;
          if (
            (isRef(e)
              ? ((r = function () {
                  return e.value;
                }),
                (l = isShallow(e)))
              : isReactive(e)
              ? ((r = function () {
                  return e;
                }),
                (s = !0))
              : isArray$1(e)
              ? ((c = !0),
                (l = e.some(function (e) {
                  return isReactive(e) || isShallow(e);
                })),
                (r = function () {
                  return e.map(function (e) {
                    return isRef(e)
                      ? e.value
                      : isReactive(e)
                      ? traverse(e)
                      : isFunction$1(e)
                      ? callWithErrorHandling(e, u, 2)
                      : void 0;
                  });
                }))
              : (r = isFunction$1(e)
                  ? t
                    ? function () {
                        return callWithErrorHandling(e, u, 2);
                      }
                    : function () {
                        if (!u || !u.isUnmounted)
                          return (
                            n && n(), callWithAsyncErrorHandling(e, u, 3, [d])
                          );
                      }
                  : NOOP),
            t && s)
          ) {
            var h = r;
            r = function () {
              return traverse(h());
            };
          }
          var f,
            d = function (e) {
              n = g.onStop = function () {
                callWithErrorHandling(e, u, 4);
              };
            };
          if (isInSSRComponentSetup) {
            if (
              ((d = NOOP),
              t
                ? a &&
                  callWithAsyncErrorHandling(t, u, 3, [r(), c ? [] : void 0, d])
                : r(),
              "sync" !== o)
            )
              return NOOP;
            var p = useSSRContext();
            f = p.__watcherHandles || (p.__watcherHandles = []);
          }
          var _,
            v = c
              ? new Array(e.length).fill(INITIAL_WATCHER_VALUE)
              : INITIAL_WATCHER_VALUE,
            m = function () {
              if (g.active)
                if (t) {
                  var e = g.run();
                  (s ||
                    l ||
                    (c
                      ? e.some(function (e, t) {
                          return hasChanged(e, v[t]);
                        })
                      : hasChanged(e, v))) &&
                    (n && n(),
                    callWithAsyncErrorHandling(t, u, 3, [
                      e,
                      v === INITIAL_WATCHER_VALUE
                        ? void 0
                        : c && v[0] === INITIAL_WATCHER_VALUE
                        ? []
                        : v,
                      d
                    ]),
                    (v = e));
                } else g.run();
            };
          (m.allowRecurse = !!t),
            "sync" === o
              ? (_ = m)
              : "post" === o
              ? (_ = function () {
                  return queuePostRenderEffect(m, u && u.suspense);
                })
              : ((m.pre = !0),
                u && (m.id = u.uid),
                (_ = function () {
                  return queueJob(m);
                }));
          var g = new ReactiveEffect(r, _);
          t
            ? a
              ? m()
              : (v = g.run())
            : "post" === o
            ? queuePostRenderEffect(g.run.bind(g), u && u.suspense)
            : g.run();
          var y = function () {
            g.stop(), u && u.scope && remove(u.scope.effects, g);
          };
          return f && f.push(y), y;
        }
        function instanceWatch(e, t, r) {
          var n,
            i = this.proxy,
            a = isString$1(e)
              ? e.includes(".")
                ? createPathGetter(i, e)
                : function () {
                    return i[e];
                  }
              : e.bind(i, i);
          isFunction$1(t) ? (n = t) : ((n = t.handler), (r = t));
          var s = currentInstance;
          setCurrentInstance(this);
          var o = doWatch(a, n.bind(i), r);
          return s ? setCurrentInstance(s) : unsetCurrentInstance(), o;
        }
        function createPathGetter(e, t) {
          var r = t.split(".");
          return function () {
            for (var t = e, n = 0; n < r.length && t; n++) t = t[r[n]];
            return t;
          };
        }
        function traverse(e, t) {
          if (!isObject$1(e) || e.__v_skip) return e;
          if ((t = t || new Set()).has(e)) return e;
          if ((t.add(e), isRef(e))) traverse(e.value, t);
          else if (isArray$1(e))
            for (var r = 0; r < e.length; r++) traverse(e[r], t);
          else if (isSet(e) || isMap(e))
            e.forEach(function (e) {
              traverse(e, t);
            });
          else if (isPlainObject$2(e)) for (var n in e) traverse(e[n], t);
          return e;
        }
        function useTransitionState() {
          var e = {
            isMounted: !1,
            isLeaving: !1,
            isUnmounting: !1,
            leavingVNodes: new Map()
          };
          return (
            onMounted(function () {
              e.isMounted = !0;
            }),
            onBeforeUnmount(function () {
              e.isUnmounting = !0;
            }),
            e
          );
        }
        var TransitionHookValidator = [Function, Array],
          BaseTransitionImpl = {
            name: "BaseTransition",
            props: {
              mode: String,
              appear: Boolean,
              persisted: Boolean,
              onBeforeEnter: TransitionHookValidator,
              onEnter: TransitionHookValidator,
              onAfterEnter: TransitionHookValidator,
              onEnterCancelled: TransitionHookValidator,
              onBeforeLeave: TransitionHookValidator,
              onLeave: TransitionHookValidator,
              onAfterLeave: TransitionHookValidator,
              onLeaveCancelled: TransitionHookValidator,
              onBeforeAppear: TransitionHookValidator,
              onAppear: TransitionHookValidator,
              onAfterAppear: TransitionHookValidator,
              onAppearCancelled: TransitionHookValidator
            },
            setup: function (e, t) {
              var r,
                n = t.slots,
                i = getCurrentInstance(),
                a = useTransitionState();
              return function () {
                var t = n.default && getTransitionRawChildren(n.default(), !0);
                if (t && t.length) {
                  var s = t[0];
                  if (t.length > 1) {
                    var o,
                      u = _createForOfIteratorHelper(t);
                    try {
                      for (u.s(); !(o = u.n()).done; ) {
                        var l = o.value;
                        if (l.type !== Comment) {
                          s = l;
                          break;
                        }
                      }
                    } catch (T) {
                      u.e(T);
                    } finally {
                      u.f();
                    }
                  }
                  var c = toRaw(e),
                    h = c.mode;
                  if (a.isLeaving) return emptyPlaceholder(s);
                  var f = getKeepAliveChild(s);
                  if (!f) return emptyPlaceholder(s);
                  var d = resolveTransitionHooks(f, c, a, i);
                  setTransitionHooks(f, d);
                  var p = i.subTree,
                    _ = p && getKeepAliveChild(p),
                    v = !1,
                    m = f.type.getTransitionKey;
                  if (m) {
                    var g = m();
                    void 0 === r ? (r = g) : g !== r && ((r = g), (v = !0));
                  }
                  if (
                    _ &&
                    _.type !== Comment &&
                    (!isSameVNodeType(f, _) || v)
                  ) {
                    var y = resolveTransitionHooks(_, c, a, i);
                    if ((setTransitionHooks(_, y), "out-in" === h))
                      return (
                        (a.isLeaving = !0),
                        (y.afterLeave = function () {
                          (a.isLeaving = !1),
                            !1 !== i.update.active && i.update();
                        }),
                        emptyPlaceholder(s)
                      );
                    "in-out" === h &&
                      f.type !== Comment &&
                      (y.delayLeave = function (e, t, r) {
                        (getLeavingNodesForType(a, _)[String(_.key)] = _),
                          (e._leaveCb = function () {
                            t(), (e._leaveCb = void 0), delete d.delayedLeave;
                          }),
                          (d.delayedLeave = r);
                      });
                  }
                  return s;
                }
              };
            }
          },
          BaseTransition = BaseTransitionImpl;
        function getLeavingNodesForType(e, t) {
          var r = e.leavingVNodes,
            n = r.get(t.type);
          return n || ((n = Object.create(null)), r.set(t.type, n)), n;
        }
        function resolveTransitionHooks(e, t, r, n) {
          var i = t.appear,
            a = t.mode,
            s = t.persisted,
            o = void 0 !== s && s,
            u = t.onBeforeEnter,
            l = t.onEnter,
            c = t.onAfterEnter,
            h = t.onEnterCancelled,
            f = t.onBeforeLeave,
            d = t.onLeave,
            p = t.onAfterLeave,
            _ = t.onLeaveCancelled,
            v = t.onBeforeAppear,
            m = t.onAppear,
            g = t.onAfterAppear,
            y = t.onAppearCancelled,
            T = String(e.key),
            x = getLeavingNodesForType(r, e),
            E = function (e, t) {
              e && callWithAsyncErrorHandling(e, n, 9, t);
            },
            b = function (e, t) {
              var r = t[1];
              E(e, t),
                isArray$1(e)
                  ? e.every(function (e) {
                      return e.length <= 1;
                    }) && r()
                  : e.length <= 1 && r();
            },
            S = {
              mode: a,
              persisted: o,
              beforeEnter: function (t) {
                var n = u;
                if (!r.isMounted) {
                  if (!i) return;
                  n = v || u;
                }
                t._leaveCb && t._leaveCb(!0);
                var a = x[T];
                a && isSameVNodeType(e, a) && a.el._leaveCb && a.el._leaveCb(),
                  E(n, [t]);
              },
              enter: function (e) {
                var t = l,
                  n = c,
                  a = h;
                if (!r.isMounted) {
                  if (!i) return;
                  (t = m || l), (n = g || c), (a = y || h);
                }
                var s = !1,
                  o = (e._enterCb = function (t) {
                    s ||
                      ((s = !0),
                      E(t ? a : n, [e]),
                      S.delayedLeave && S.delayedLeave(),
                      (e._enterCb = void 0));
                  });
                t ? b(t, [e, o]) : o();
              },
              leave: function (t, n) {
                var i = String(e.key);
                if ((t._enterCb && t._enterCb(!0), r.isUnmounting)) return n();
                E(f, [t]);
                var a = !1,
                  s = (t._leaveCb = function (r) {
                    a ||
                      ((a = !0),
                      n(),
                      E(r ? _ : p, [t]),
                      (t._leaveCb = void 0),
                      x[i] === e && delete x[i]);
                  });
                (x[i] = e), d ? b(d, [t, s]) : s();
              },
              clone: function (e) {
                return resolveTransitionHooks(e, t, r, n);
              }
            };
          return S;
        }
        function emptyPlaceholder(e) {
          if (isKeepAlive(e)) return ((e = cloneVNode(e)).children = null), e;
        }
        function getKeepAliveChild(e) {
          return isKeepAlive(e) ? (e.children ? e.children[0] : void 0) : e;
        }
        function setTransitionHooks(e, t) {
          6 & e.shapeFlag && e.component
            ? setTransitionHooks(e.component.subTree, t)
            : 128 & e.shapeFlag
            ? ((e.ssContent.transition = t.clone(e.ssContent)),
              (e.ssFallback.transition = t.clone(e.ssFallback)))
            : (e.transition = t);
        }
        function getTransitionRawChildren(e) {
          for (
            var t =
                arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
              r = arguments.length > 2 ? arguments[2] : void 0,
              n = [],
              i = 0,
              a = 0;
            a < e.length;
            a++
          ) {
            var s = e[a],
              o =
                null == r
                  ? s.key
                  : String(r) + String(null != s.key ? s.key : a);
            s.type === Fragment
              ? (128 & s.patchFlag && i++,
                (n = n.concat(getTransitionRawChildren(s.children, t, o))))
              : (t || s.type !== Comment) &&
                n.push(null != o ? cloneVNode(s, { key: o }) : s);
          }
          if (i > 1) for (var u = 0; u < n.length; u++) n[u].patchFlag = -2;
          return n;
        }
        var isAsyncWrapper = function (e) {
            return !!e.type.__asyncLoader;
          },
          isKeepAlive = function (e) {
            return e.type.__isKeepAlive;
          };
        function onActivated(e, t) {
          registerKeepAliveHook(e, "a", t);
        }
        function onDeactivated(e, t) {
          registerKeepAliveHook(e, "da", t);
        }
        function registerKeepAliveHook(e, t) {
          var r =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : currentInstance,
            n =
              e.__wdc ||
              (e.__wdc = function () {
                for (var t = r; t; ) {
                  if (t.isDeactivated) return;
                  t = t.parent;
                }
                return e();
              });
          if ((injectHook(t, n, r), r))
            for (var i = r.parent; i && i.parent; )
              isKeepAlive(i.parent.vnode) && injectToKeepAliveRoot(n, t, r, i),
                (i = i.parent);
        }
        function injectToKeepAliveRoot(e, t, r, n) {
          var i = injectHook(t, e, n, !0);
          onUnmounted(function () {
            remove(n[t], i);
          }, r);
        }
        function injectHook(e, t) {
          var r =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : currentInstance,
            n = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
          if (r) {
            var i = r[e] || (r[e] = []),
              a =
                t.__weh ||
                (t.__weh = function () {
                  if (!r.isUnmounted) {
                    pauseTracking(), setCurrentInstance(r);
                    for (
                      var n = arguments.length, i = new Array(n), a = 0;
                      a < n;
                      a++
                    )
                      i[a] = arguments[a];
                    var s = callWithAsyncErrorHandling(t, r, e, i);
                    return unsetCurrentInstance(), resetTracking(), s;
                  }
                });
            return n ? i.unshift(a) : i.push(a), a;
          }
        }
        var createHook = function (e) {
            return function (t) {
              return (
                (!isInSSRComponentSetup || "sp" === e) &&
                injectHook(
                  e,
                  function () {
                    return t.apply(void 0, arguments);
                  },
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : currentInstance
                )
              );
            };
          },
          onBeforeMount = createHook("bm"),
          onMounted = createHook("m"),
          onBeforeUpdate = createHook("bu"),
          onUpdated = createHook("u"),
          onBeforeUnmount = createHook("bum"),
          onUnmounted = createHook("um"),
          onServerPrefetch = createHook("sp"),
          onRenderTriggered = createHook("rtg"),
          onRenderTracked = createHook("rtc");
        function onErrorCaptured(e) {
          injectHook(
            "ec",
            e,
            arguments.length > 1 && void 0 !== arguments[1]
              ? arguments[1]
              : currentInstance
          );
        }
        function withDirectives(e, t) {
          var r = currentRenderingInstance;
          if (null === r) return e;
          for (
            var n = getExposeProxy(r) || r.proxy,
              i = e.dirs || (e.dirs = []),
              a = 0;
            a < t.length;
            a++
          ) {
            var s = _slicedToArray(t[a], 4),
              o = s[0],
              u = s[1],
              l = s[2],
              c = s[3],
              h = void 0 === c ? EMPTY_OBJ : c;
            o &&
              (isFunction$1(o) && (o = { mounted: o, updated: o }),
              o.deep && traverse(u),
              i.push({
                dir: o,
                instance: n,
                value: u,
                oldValue: void 0,
                arg: l,
                modifiers: h
              }));
          }
          return e;
        }
        function invokeDirectiveHook(e, t, r, n) {
          for (var i = e.dirs, a = t && t.dirs, s = 0; s < i.length; s++) {
            var o = i[s];
            a && (o.oldValue = a[s].value);
            var u = o.dir[n];
            u &&
              (pauseTracking(),
              callWithAsyncErrorHandling(u, r, 8, [e.el, o, e, t]),
              resetTracking());
          }
        }
        var COMPONENTS = "components";
        function resolveComponent(e, t) {
          return resolveAsset(COMPONENTS, e, !0, t) || e;
        }
        var NULL_DYNAMIC_COMPONENT = Symbol();
        function resolveAsset(e, t) {
          var r =
              arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
            n = currentRenderingInstance || currentInstance;
          if (n) {
            var i = n.type;
            if (e === COMPONENTS) {
              var a = getComponentName(i, !1);
              if (
                a &&
                (a === t ||
                  a === camelize(t) ||
                  a === capitalize$1(camelize(t)))
              )
                return i;
            }
            var s = resolve$1(n[e] || i[e], t) || resolve$1(n.appContext[e], t);
            return !s && r ? i : s;
          }
        }
        function resolve$1(e, t) {
          return e && (e[t] || e[camelize(t)] || e[capitalize$1(camelize(t))]);
        }
        function renderList(e, t, r, n) {
          var i,
            a = r && r[n];
          if (isArray$1(e) || isString$1(e)) {
            i = new Array(e.length);
            for (var s = 0, o = e.length; s < o; s++)
              i[s] = t(e[s], s, void 0, a && a[s]);
          } else if ("number" == typeof e) {
            i = new Array(e);
            for (var u = 0; u < e; u++) i[u] = t(u + 1, u, void 0, a && a[u]);
          } else if (isObject$1(e))
            if (e[Symbol.iterator])
              i = Array.from(e, function (e, r) {
                return t(e, r, void 0, a && a[r]);
              });
            else {
              var l = Object.keys(e);
              i = new Array(l.length);
              for (var c = 0, h = l.length; c < h; c++) {
                var f = l[c];
                i[c] = t(e[f], f, c, a && a[c]);
              }
            }
          else i = [];
          return r && (r[n] = i), i;
        }
        function renderSlot(e, t) {
          var r =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : {},
            n = arguments.length > 3 ? arguments[3] : void 0,
            i = arguments.length > 4 ? arguments[4] : void 0;
          if (
            currentRenderingInstance.isCE ||
            (currentRenderingInstance.parent &&
              isAsyncWrapper(currentRenderingInstance.parent) &&
              currentRenderingInstance.parent.isCE)
          )
            return (
              "default" !== t && (r.name = t), createVNode("slot", r, n && n())
            );
          var a = e[t];
          a && a._c && (a._d = !1), openBlock();
          var s = a && ensureValidVNode(a(r)),
            o = createBlock(
              Fragment,
              { key: r.key || (s && s.key) || "_".concat(t) },
              s || (n ? n() : []),
              s && 1 === e._ ? 64 : -2
            );
          return (
            !i && o.scopeId && (o.slotScopeIds = [o.scopeId + "-s"]),
            a && a._c && (a._d = !0),
            o
          );
        }
        function ensureValidVNode(e) {
          return e.some(function (e) {
            return (
              !isVNode$1(e) ||
              (e.type !== Comment &&
                !(e.type === Fragment && !ensureValidVNode(e.children)))
            );
          })
            ? e
            : null;
        }
        var getPublicInstance = function e(t) {
            return t
              ? isStatefulComponent(t)
                ? getExposeProxy(t) || t.proxy
                : e(t.parent)
              : null;
          },
          publicPropertiesMap = extend(Object.create(null), {
            $: function (e) {
              return e;
            },
            $el: function (e) {
              return e.vnode.el;
            },
            $data: function (e) {
              return e.data;
            },
            $props: function (e) {
              return e.props;
            },
            $attrs: function (e) {
              return e.attrs;
            },
            $slots: function (e) {
              return e.slots;
            },
            $refs: function (e) {
              return e.refs;
            },
            $parent: function (e) {
              return getPublicInstance(e.parent);
            },
            $root: function (e) {
              return getPublicInstance(e.root);
            },
            $emit: function (e) {
              return e.emit;
            },
            $options: function (e) {
              return resolveMergedOptions(e);
            },
            $forceUpdate: function (e) {
              return (
                e.f ||
                (e.f = function () {
                  return queueJob(e.update);
                })
              );
            },
            $nextTick: function (e) {
              return e.n || (e.n = nextTick.bind(e.proxy));
            },
            $watch: function (e) {
              return instanceWatch.bind(e);
            }
          }),
          hasSetupBinding = function (e, t) {
            return e !== EMPTY_OBJ && !e.__isScriptSetup && hasOwn$1(e, t);
          },
          PublicInstanceProxyHandlers = {
            get: function (e, t) {
              var r,
                n = e._,
                i = n.ctx,
                a = n.setupState,
                s = n.data,
                o = n.props,
                u = n.accessCache,
                l = n.type,
                c = n.appContext;
              if ("$" !== t[0]) {
                var h = u[t];
                if (void 0 !== h)
                  switch (h) {
                    case 1:
                      return a[t];
                    case 2:
                      return s[t];
                    case 4:
                      return i[t];
                    case 3:
                      return o[t];
                  }
                else {
                  if (hasSetupBinding(a, t)) return (u[t] = 1), a[t];
                  if (s !== EMPTY_OBJ && hasOwn$1(s, t))
                    return (u[t] = 2), s[t];
                  if ((r = n.propsOptions[0]) && hasOwn$1(r, t))
                    return (u[t] = 3), o[t];
                  if (i !== EMPTY_OBJ && hasOwn$1(i, t))
                    return (u[t] = 4), i[t];
                  shouldCacheAccess && (u[t] = 0);
                }
              }
              var f,
                d,
                p = publicPropertiesMap[t];
              return p
                ? ("$attrs" === t && track(n, "get", t), p(n))
                : (f = l.__cssModules) && (f = f[t])
                ? f
                : i !== EMPTY_OBJ && hasOwn$1(i, t)
                ? ((u[t] = 4), i[t])
                : ((d = c.config.globalProperties),
                  hasOwn$1(d, t) ? d[t] : void 0);
            },
            set: function (e, t, r) {
              var n = e._,
                i = n.data,
                a = n.setupState,
                s = n.ctx;
              return hasSetupBinding(a, t)
                ? ((a[t] = r), !0)
                : i !== EMPTY_OBJ && hasOwn$1(i, t)
                ? ((i[t] = r), !0)
                : !hasOwn$1(n.props, t) &&
                  ("$" !== t[0] || !(t.slice(1) in n)) &&
                  ((s[t] = r), !0);
            },
            has: function (e, t) {
              var r,
                n = e._,
                i = n.data,
                a = n.setupState,
                s = n.accessCache,
                o = n.ctx,
                u = n.appContext,
                l = n.propsOptions;
              return (
                !!s[t] ||
                (i !== EMPTY_OBJ && hasOwn$1(i, t)) ||
                hasSetupBinding(a, t) ||
                ((r = l[0]) && hasOwn$1(r, t)) ||
                hasOwn$1(o, t) ||
                hasOwn$1(publicPropertiesMap, t) ||
                hasOwn$1(u.config.globalProperties, t)
              );
            },
            defineProperty: function (e, t, r) {
              return (
                null != r.get
                  ? (e._.accessCache[t] = 0)
                  : hasOwn$1(r, "value") && this.set(e, t, r.value, null),
                Reflect.defineProperty(e, t, r)
              );
            }
          },
          shouldCacheAccess = !0;
        function applyOptions(e) {
          var t = resolveMergedOptions(e),
            r = e.proxy,
            n = e.ctx;
          (shouldCacheAccess = !1),
            t.beforeCreate && callHook(t.beforeCreate, e, "bc");
          var i = t.data,
            a = t.computed,
            s = t.methods,
            o = t.watch,
            u = t.provide,
            l = t.inject,
            c = t.created,
            h = t.beforeMount,
            f = t.mounted,
            d = t.beforeUpdate,
            p = t.updated,
            _ = t.activated,
            v = t.deactivated,
            m = (t.beforeDestroy, t.beforeUnmount),
            g = (t.destroyed, t.unmounted),
            y = t.render,
            T = t.renderTracked,
            x = t.renderTriggered,
            E = t.errorCaptured,
            b = t.serverPrefetch,
            S = t.expose,
            A = t.inheritAttrs,
            C = t.components,
            P = t.directives;
          t.filters;
          if (
            (l &&
              resolveInjections(
                l,
                n,
                null,
                e.appContext.config.unwrapInjectedRef
              ),
            s)
          )
            for (var k in s) {
              var w = s[k];
              isFunction$1(w) && (n[k] = w.bind(r));
            }
          if (i) {
            var R = i.call(r, r);
            isObject$1(R) && (e.data = reactive(R));
          }
          if (((shouldCacheAccess = !0), a)) {
            var M = function () {
              var e = a[I],
                t = isFunction$1(e)
                  ? e.bind(r, r)
                  : isFunction$1(e.get)
                  ? e.get.bind(r, r)
                  : NOOP,
                i =
                  !isFunction$1(e) && isFunction$1(e.set)
                    ? e.set.bind(r)
                    : NOOP,
                s = computed({ get: t, set: i });
              Object.defineProperty(n, I, {
                enumerable: !0,
                configurable: !0,
                get: function () {
                  return s.value;
                },
                set: function (e) {
                  return (s.value = e);
                }
              });
            };
            for (var I in a) M();
          }
          if (o) for (var O in o) createWatcher(o[O], n, r, O);
          if (u) {
            var D = isFunction$1(u) ? u.call(r) : u;
            Reflect.ownKeys(D).forEach(function (e) {
              provide(e, D[e]);
            });
          }
          function F(e, t) {
            isArray$1(t)
              ? t.forEach(function (t) {
                  return e(t.bind(r));
                })
              : t && e(t.bind(r));
          }
          if (
            (c && callHook(c, e, "c"),
            F(onBeforeMount, h),
            F(onMounted, f),
            F(onBeforeUpdate, d),
            F(onUpdated, p),
            F(onActivated, _),
            F(onDeactivated, v),
            F(onErrorCaptured, E),
            F(onRenderTracked, T),
            F(onRenderTriggered, x),
            F(onBeforeUnmount, m),
            F(onUnmounted, g),
            F(onServerPrefetch, b),
            isArray$1(S))
          )
            if (S.length) {
              var N = e.exposed || (e.exposed = {});
              S.forEach(function (e) {
                Object.defineProperty(N, e, {
                  get: function () {
                    return r[e];
                  },
                  set: function (t) {
                    return (r[e] = t);
                  }
                });
              });
            } else e.exposed || (e.exposed = {});
          y && e.render === NOOP && (e.render = y),
            null != A && (e.inheritAttrs = A),
            C && (e.components = C),
            P && (e.directives = P);
        }
        function resolveInjections(e, t) {
          var r =
            arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
          isArray$1(e) && (e = normalizeInject(e));
          var n = function () {
            var n,
              a = e[i];
            isRef(
              (n = isObject$1(a)
                ? "default" in a
                  ? inject(a.from || i, a.default, !0)
                  : inject(a.from || i)
                : inject(a))
            ) && r
              ? Object.defineProperty(t, i, {
                  enumerable: !0,
                  configurable: !0,
                  get: function () {
                    return n.value;
                  },
                  set: function (e) {
                    return (n.value = e);
                  }
                })
              : (t[i] = n);
          };
          for (var i in e) n();
        }
        function callHook(e, t, r) {
          callWithAsyncErrorHandling(
            isArray$1(e)
              ? e.map(function (e) {
                  return e.bind(t.proxy);
                })
              : e.bind(t.proxy),
            t,
            r
          );
        }
        function createWatcher(e, t, r, n) {
          var i = n.includes(".")
            ? createPathGetter(r, n)
            : function () {
                return r[n];
              };
          if (isString$1(e)) {
            var a = t[e];
            isFunction$1(a) && watch(i, a);
          } else if (isFunction$1(e)) watch(i, e.bind(r));
          else if (isObject$1(e))
            if (isArray$1(e))
              e.forEach(function (e) {
                return createWatcher(e, t, r, n);
              });
            else {
              var s = isFunction$1(e.handler)
                ? e.handler.bind(r)
                : t[e.handler];
              isFunction$1(s) && watch(i, s, e);
            }
        }
        function resolveMergedOptions(e) {
          var t,
            r = e.type,
            n = r.mixins,
            i = r.extends,
            a = e.appContext,
            s = a.mixins,
            o = a.optionsCache,
            u = a.config.optionMergeStrategies,
            l = o.get(r);
          return (
            l
              ? (t = l)
              : s.length || n || i
              ? ((t = {}),
                s.length &&
                  s.forEach(function (e) {
                    return mergeOptions(t, e, u, !0);
                  }),
                mergeOptions(t, r, u))
              : (t = r),
            isObject$1(r) && o.set(r, t),
            t
          );
        }
        function mergeOptions(e, t, r) {
          var n =
              arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
            i = t.mixins,
            a = t.extends;
          for (var s in (a && mergeOptions(e, a, r, !0),
          i &&
            i.forEach(function (t) {
              return mergeOptions(e, t, r, !0);
            }),
          t))
            if (n && "expose" === s);
            else {
              var o = internalOptionMergeStrats[s] || (r && r[s]);
              e[s] = o ? o(e[s], t[s]) : t[s];
            }
          return e;
        }
        var internalOptionMergeStrats = {
          data: mergeDataFn,
          props: mergeObjectOptions,
          emits: mergeObjectOptions,
          methods: mergeObjectOptions,
          computed: mergeObjectOptions,
          beforeCreate: mergeAsArray,
          created: mergeAsArray,
          beforeMount: mergeAsArray,
          mounted: mergeAsArray,
          beforeUpdate: mergeAsArray,
          updated: mergeAsArray,
          beforeDestroy: mergeAsArray,
          beforeUnmount: mergeAsArray,
          destroyed: mergeAsArray,
          unmounted: mergeAsArray,
          activated: mergeAsArray,
          deactivated: mergeAsArray,
          errorCaptured: mergeAsArray,
          serverPrefetch: mergeAsArray,
          components: mergeObjectOptions,
          directives: mergeObjectOptions,
          watch: mergeWatchOptions,
          provide: mergeDataFn,
          inject: mergeInject
        };
        function mergeDataFn(e, t) {
          return t
            ? e
              ? function () {
                  return extend(
                    isFunction$1(e) ? e.call(this, this) : e,
                    isFunction$1(t) ? t.call(this, this) : t
                  );
                }
              : t
            : e;
        }
        function mergeInject(e, t) {
          return mergeObjectOptions(normalizeInject(e), normalizeInject(t));
        }
        function normalizeInject(e) {
          if (isArray$1(e)) {
            for (var t = {}, r = 0; r < e.length; r++) t[e[r]] = e[r];
            return t;
          }
          return e;
        }
        function mergeAsArray(e, t) {
          return e ? _toConsumableArray(new Set([].concat(e, t))) : t;
        }
        function mergeObjectOptions(e, t) {
          return e ? extend(extend(Object.create(null), e), t) : t;
        }
        function mergeWatchOptions(e, t) {
          if (!e) return t;
          if (!t) return e;
          var r = extend(Object.create(null), e);
          for (var n in t) r[n] = mergeAsArray(e[n], t[n]);
          return r;
        }
        function initProps(e, t, r) {
          var n =
              arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
            i = {},
            a = {};
          for (var s in (def(a, InternalObjectKey, 1),
          (e.propsDefaults = Object.create(null)),
          setFullProps(e, t, i, a),
          e.propsOptions[0]))
            s in i || (i[s] = void 0);
          r
            ? (e.props = n ? i : shallowReactive(i))
            : e.type.props
            ? (e.props = i)
            : (e.props = a),
            (e.attrs = a);
        }
        function updateProps(e, t, r, n) {
          var i = e.props,
            a = e.attrs,
            s = e.vnode.patchFlag,
            o = toRaw(i),
            u = _slicedToArray(e.propsOptions, 1)[0],
            l = !1;
          if (!(n || s > 0) || 16 & s) {
            var c;
            for (var h in (setFullProps(e, t, i, a) && (l = !0), o))
              (t &&
                (hasOwn$1(t, h) ||
                  ((c = hyphenate(h)) !== h && hasOwn$1(t, c)))) ||
                (u
                  ? !r ||
                    (void 0 === r[h] && void 0 === r[c]) ||
                    (i[h] = resolvePropValue(u, o, h, void 0, e, !0))
                  : delete i[h]);
            if (a !== o)
              for (var f in a) (t && hasOwn$1(t, f)) || (delete a[f], (l = !0));
          } else if (8 & s)
            for (var d = e.vnode.dynamicProps, p = 0; p < d.length; p++) {
              var _ = d[p];
              if (!isEmitListener(e.emitsOptions, _)) {
                var v = t[_];
                if (u)
                  if (hasOwn$1(a, _)) v !== a[_] && ((a[_] = v), (l = !0));
                  else {
                    var m = camelize(_);
                    i[m] = resolvePropValue(u, o, m, v, e, !1);
                  }
                else v !== a[_] && ((a[_] = v), (l = !0));
              }
            }
          l && trigger(e, "set", "$attrs");
        }
        function setFullProps(e, t, r, n) {
          var i,
            a = _slicedToArray(e.propsOptions, 2),
            s = a[0],
            o = a[1],
            u = !1;
          if (t)
            for (var l in t)
              if (!isReservedProp(l)) {
                var c = t[l],
                  h = void 0;
                s && hasOwn$1(s, (h = camelize(l)))
                  ? o && o.includes(h)
                    ? ((i || (i = {}))[h] = c)
                    : (r[h] = c)
                  : isEmitListener(e.emitsOptions, l) ||
                    (l in n && c === n[l]) ||
                    ((n[l] = c), (u = !0));
              }
          if (o)
            for (
              var f = toRaw(r), d = i || EMPTY_OBJ, p = 0;
              p < o.length;
              p++
            ) {
              var _ = o[p];
              r[_] = resolvePropValue(s, f, _, d[_], e, !hasOwn$1(d, _));
            }
          return u;
        }
        function resolvePropValue(e, t, r, n, i, a) {
          var s = e[r];
          if (null != s) {
            var o = hasOwn$1(s, "default");
            if (o && void 0 === n) {
              var u = s.default;
              if (s.type !== Function && isFunction$1(u)) {
                var l = i.propsDefaults;
                r in l
                  ? (n = l[r])
                  : (setCurrentInstance(i),
                    (n = l[r] = u.call(null, t)),
                    unsetCurrentInstance());
              } else n = u;
            }
            s[0] &&
              (a && !o
                ? (n = !1)
                : !s[1] || ("" !== n && n !== hyphenate(r)) || (n = !0));
          }
          return n;
        }
        function normalizePropsOptions(e, t) {
          var r =
              arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
            n = t.propsCache,
            i = n.get(e);
          if (i) return i;
          var a = e.props,
            s = {},
            o = [],
            u = !1;
          if (!isFunction$1(e)) {
            var l = function (e) {
              u = !0;
              var r = _slicedToArray(normalizePropsOptions(e, t, !0), 2),
                n = r[0],
                i = r[1];
              extend(s, n), i && o.push.apply(o, _toConsumableArray(i));
            };
            !r && t.mixins.length && t.mixins.forEach(l),
              e.extends && l(e.extends),
              e.mixins && e.mixins.forEach(l);
          }
          if (!a && !u) return isObject$1(e) && n.set(e, EMPTY_ARR), EMPTY_ARR;
          if (isArray$1(a))
            for (var c = 0; c < a.length; c++) {
              var h = camelize(a[c]);
              validatePropName(h) && (s[h] = EMPTY_OBJ);
            }
          else if (a)
            for (var f in a) {
              var d = camelize(f);
              if (validatePropName(d)) {
                var p = a[f],
                  _ = (s[d] =
                    isArray$1(p) || isFunction$1(p)
                      ? { type: p }
                      : Object.assign({}, p));
                if (_) {
                  var v = getTypeIndex(Boolean, _.type),
                    m = getTypeIndex(String, _.type);
                  (_[0] = v > -1),
                    (_[1] = m < 0 || v < m),
                    (v > -1 || hasOwn$1(_, "default")) && o.push(d);
                }
              }
            }
          var g = [s, o];
          return isObject$1(e) && n.set(e, g), g;
        }
        function validatePropName(e) {
          return "$" !== e[0];
        }
        function getType(e) {
          var t = e && e.toString().match(/^\s*(function|class) (\w+)/);
          return t ? t[2] : null === e ? "null" : "";
        }
        function isSameType(e, t) {
          return getType(e) === getType(t);
        }
        function getTypeIndex(e, t) {
          return isArray$1(t)
            ? t.findIndex(function (t) {
                return isSameType(t, e);
              })
            : isFunction$1(t) && isSameType(t, e)
            ? 0
            : -1;
        }
        var isInternalKey = function (e) {
            return "_" === e[0] || "$stable" === e;
          },
          normalizeSlotValue = function (e) {
            return isArray$1(e) ? e.map(normalizeVNode) : [normalizeVNode(e)];
          },
          normalizeSlot = function (e, t, r) {
            if (t._n) return t;
            var n = withCtx(function () {
              return normalizeSlotValue(t.apply(void 0, arguments));
            }, r);
            return (n._c = !1), n;
          },
          normalizeObjectSlots = function (e, t, r) {
            var n = e._ctx,
              i = function () {
                if (isInternalKey(a)) return "continue";
                var r = e[a];
                if (isFunction$1(r)) t[a] = normalizeSlot(a, r, n);
                else if (null != r) {
                  var i = normalizeSlotValue(r);
                  t[a] = function () {
                    return i;
                  };
                }
              };
            for (var a in e) i();
          },
          normalizeVNodeSlots = function (e, t) {
            var r = normalizeSlotValue(t);
            e.slots.default = function () {
              return r;
            };
          },
          initSlots = function (e, t) {
            if (32 & e.vnode.shapeFlag) {
              var r = t._;
              r
                ? ((e.slots = toRaw(t)), def(t, "_", r))
                : normalizeObjectSlots(t, (e.slots = {}));
            } else (e.slots = {}), t && normalizeVNodeSlots(e, t);
            def(e.slots, InternalObjectKey, 1);
          },
          updateSlots = function (e, t, r) {
            var n = e.vnode,
              i = e.slots,
              a = !0,
              s = EMPTY_OBJ;
            if (32 & n.shapeFlag) {
              var o = t._;
              o
                ? r && 1 === o
                  ? (a = !1)
                  : (extend(i, t), r || 1 !== o || delete i._)
                : ((a = !t.$stable), normalizeObjectSlots(t, i)),
                (s = t);
            } else t && (normalizeVNodeSlots(e, t), (s = { default: 1 }));
            if (a) for (var u in i) isInternalKey(u) || u in s || delete i[u];
          };
        function createAppContext() {
          return {
            app: null,
            config: {
              isNativeTag: NO,
              performance: !1,
              globalProperties: {},
              optionMergeStrategies: {},
              errorHandler: void 0,
              warnHandler: void 0,
              compilerOptions: {}
            },
            mixins: [],
            components: {},
            directives: {},
            provides: Object.create(null),
            optionsCache: new WeakMap(),
            propsCache: new WeakMap(),
            emitsCache: new WeakMap()
          };
        }
        var uid$1 = 0;
        function createAppAPI(e, t) {
          return function (r) {
            var n =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : null;
            isFunction$1(r) || (r = Object.assign({}, r)),
              null == n || isObject$1(n) || (n = null);
            var i = createAppContext(),
              a = new Set(),
              s = !1,
              o = (i.app = {
                _uid: uid$1++,
                _component: r,
                _props: n,
                _container: null,
                _context: i,
                _instance: null,
                version: version,
                get config() {
                  return i.config;
                },
                set config(e) {},
                use: function (e) {
                  for (
                    var t = arguments.length,
                      r = new Array(t > 1 ? t - 1 : 0),
                      n = 1;
                    n < t;
                    n++
                  )
                    r[n - 1] = arguments[n];
                  return (
                    a.has(e) ||
                      (e && isFunction$1(e.install)
                        ? (a.add(e), e.install.apply(e, [o].concat(r)))
                        : isFunction$1(e) &&
                          (a.add(e), e.apply(void 0, [o].concat(r)))),
                    o
                  );
                },
                mixin: function (e) {
                  return i.mixins.includes(e) || i.mixins.push(e), o;
                },
                component: function (e, t) {
                  return t ? ((i.components[e] = t), o) : i.components[e];
                },
                directive: function (e, t) {
                  return t ? ((i.directives[e] = t), o) : i.directives[e];
                },
                mount: function (a, u, l) {
                  if (!s) {
                    var c = createVNode(r, n);
                    return (
                      (c.appContext = i),
                      u && t ? t(c, a) : e(c, a, l),
                      (s = !0),
                      (o._container = a),
                      (a.__vue_app__ = o),
                      getExposeProxy(c.component) || c.component.proxy
                    );
                  }
                },
                unmount: function () {
                  s && (e(null, o._container), delete o._container.__vue_app__);
                },
                provide: function (e, t) {
                  return (i.provides[e] = t), o;
                }
              });
            return o;
          };
        }
        function setRef(e, t, r, n) {
          var i =
            arguments.length > 4 && void 0 !== arguments[4] && arguments[4];
          if (isArray$1(e))
            e.forEach(function (e, a) {
              return setRef(e, t && (isArray$1(t) ? t[a] : t), r, n, i);
            });
          else if (!isAsyncWrapper(n) || i) {
            var a =
                4 & n.shapeFlag
                  ? getExposeProxy(n.component) || n.component.proxy
                  : n.el,
              s = i ? null : a,
              o = e.i,
              u = e.r,
              l = t && t.r,
              c = o.refs === EMPTY_OBJ ? (o.refs = {}) : o.refs,
              h = o.setupState;
            if (
              (null != l &&
                l !== u &&
                (isString$1(l)
                  ? ((c[l] = null), hasOwn$1(h, l) && (h[l] = null))
                  : isRef(l) && (l.value = null)),
              isFunction$1(u))
            )
              callWithErrorHandling(u, o, 12, [s, c]);
            else {
              var f = isString$1(u),
                d = isRef(u);
              if (f || d) {
                var p = function () {
                  if (e.f) {
                    var t = f ? (hasOwn$1(h, u) ? h[u] : c[u]) : u.value;
                    i
                      ? isArray$1(t) && remove(t, a)
                      : isArray$1(t)
                      ? t.includes(a) || t.push(a)
                      : f
                      ? ((c[u] = [a]), hasOwn$1(h, u) && (h[u] = c[u]))
                      : ((u.value = [a]), e.k && (c[e.k] = u.value));
                  } else
                    f
                      ? ((c[u] = s), hasOwn$1(h, u) && (h[u] = s))
                      : d && ((u.value = s), e.k && (c[e.k] = s));
                };
                s ? ((p.id = -1), queuePostRenderEffect(p, r)) : p();
              }
            }
          }
        }
        var queuePostRenderEffect = queueEffectWithSuspense;
        function createRenderer(e) {
          return baseCreateRenderer(e);
        }
        function baseCreateRenderer(e, t) {
          getGlobalThis$1().__VUE__ = !0;
          var r,
            n,
            i = e.insert,
            a = e.remove,
            s = e.patchProp,
            o = e.createElement,
            u = e.createText,
            l = e.createComment,
            c = e.setText,
            h = e.setElementText,
            f = e.parentNode,
            d = e.nextSibling,
            p = e.setScopeId,
            _ = void 0 === p ? NOOP : p,
            v = e.insertStaticContent,
            m = function (e, t, r) {
              var n =
                  arguments.length > 3 && void 0 !== arguments[3]
                    ? arguments[3]
                    : null,
                i =
                  arguments.length > 4 && void 0 !== arguments[4]
                    ? arguments[4]
                    : null,
                a =
                  arguments.length > 5 && void 0 !== arguments[5]
                    ? arguments[5]
                    : null,
                s =
                  arguments.length > 6 &&
                  void 0 !== arguments[6] &&
                  arguments[6],
                o =
                  arguments.length > 7 && void 0 !== arguments[7]
                    ? arguments[7]
                    : null,
                u =
                  arguments.length > 8 && void 0 !== arguments[8]
                    ? arguments[8]
                    : !!t.dynamicChildren;
              if (e !== t) {
                e &&
                  !isSameVNodeType(e, t) &&
                  ((n = j(e)), B(e, i, a, !0), (e = null)),
                  -2 === t.patchFlag && ((u = !1), (t.dynamicChildren = null));
                var l = t.type,
                  c = t.ref,
                  h = t.shapeFlag;
                switch (l) {
                  case Text$1:
                    g(e, t, r, n);
                    break;
                  case Comment:
                    y(e, t, r, n);
                    break;
                  case Static:
                    null == e && T(t, r, n, s);
                    break;
                  case Fragment:
                    k(e, t, r, n, i, a, s, o, u);
                    break;
                  default:
                    1 & h
                      ? x(e, t, r, n, i, a, s, o, u)
                      : 6 & h
                      ? w(e, t, r, n, i, a, s, o, u)
                      : (64 & h || 128 & h) &&
                        l.process(e, t, r, n, i, a, s, o, u, z);
                }
                null != c && i && setRef(c, e && e.ref, a, t || e, !t);
              }
            },
            g = function (e, t, r, n) {
              if (null == e) i((t.el = u(t.children)), r, n);
              else {
                var a = (t.el = e.el);
                t.children !== e.children && c(a, t.children);
              }
            },
            y = function (e, t, r, n) {
              null == e ? i((t.el = l(t.children || "")), r, n) : (t.el = e.el);
            },
            T = function (e, t, r, n) {
              var i = _slicedToArray(v(e.children, t, r, n, e.el, e.anchor), 2);
              (e.el = i[0]), (e.anchor = i[1]);
            },
            x = function (e, t, r, n, i, a, s, o, u) {
              (s = s || "svg" === t.type),
                null == e ? E(t, r, n, i, a, s, o, u) : A(e, t, i, a, s, o, u);
            },
            E = function (e, t, r, n, a, u, l, c) {
              var f,
                d,
                p = e.type,
                _ = e.props,
                v = e.shapeFlag,
                m = e.transition,
                g = e.dirs;
              if (
                ((f = e.el = o(e.type, u, _ && _.is, _)),
                8 & v
                  ? h(f, e.children)
                  : 16 & v &&
                    S(
                      e.children,
                      f,
                      null,
                      n,
                      a,
                      u && "foreignObject" !== p,
                      l,
                      c
                    ),
                g && invokeDirectiveHook(e, null, n, "created"),
                b(f, e, e.scopeId, l, n),
                _)
              ) {
                for (var y in _)
                  "value" === y ||
                    isReservedProp(y) ||
                    s(f, y, null, _[y], u, e.children, n, a, H);
                "value" in _ && s(f, "value", null, _.value),
                  (d = _.onVnodeBeforeMount) && invokeVNodeHook(d, n, e);
              }
              g && invokeDirectiveHook(e, null, n, "beforeMount");
              var T = (!a || (a && !a.pendingBranch)) && m && !m.persisted;
              T && m.beforeEnter(f),
                i(f, t, r),
                ((d = _ && _.onVnodeMounted) || T || g) &&
                  queuePostRenderEffect(function () {
                    d && invokeVNodeHook(d, n, e),
                      T && m.enter(f),
                      g && invokeDirectiveHook(e, null, n, "mounted");
                  }, a);
            },
            b = function e(t, r, n, i, a) {
              if ((n && _(t, n), i))
                for (var s = 0; s < i.length; s++) _(t, i[s]);
              if (a && r === a.subTree) {
                var o = a.vnode;
                e(t, o, o.scopeId, o.slotScopeIds, a.parent);
              }
            },
            S = function (e, t, r, n, i, a, s, o) {
              for (
                var u =
                  arguments.length > 8 && void 0 !== arguments[8]
                    ? arguments[8]
                    : 0;
                u < e.length;
                u++
              ) {
                var l = (e[u] = o
                  ? cloneIfMounted(e[u])
                  : normalizeVNode(e[u]));
                m(null, l, t, r, n, i, a, s, o);
              }
            },
            A = function (e, t, r, n, i, a, o) {
              var u = (t.el = e.el),
                l = t.patchFlag,
                c = t.dynamicChildren,
                f = t.dirs;
              l |= 16 & e.patchFlag;
              var d,
                p = e.props || EMPTY_OBJ,
                _ = t.props || EMPTY_OBJ;
              r && toggleRecurse(r, !1),
                (d = _.onVnodeBeforeUpdate) && invokeVNodeHook(d, r, t, e),
                f && invokeDirectiveHook(t, e, r, "beforeUpdate"),
                r && toggleRecurse(r, !0);
              var v = i && "foreignObject" !== t.type;
              if (
                (c
                  ? C(e.dynamicChildren, c, u, r, n, v, a)
                  : o || D(e, t, u, null, r, n, v, a, !1),
                l > 0)
              ) {
                if (16 & l) P(u, t, p, _, r, n, i);
                else if (
                  (2 & l &&
                    p.class !== _.class &&
                    s(u, "class", null, _.class, i),
                  4 & l && s(u, "style", p.style, _.style, i),
                  8 & l)
                )
                  for (var m = t.dynamicProps, g = 0; g < m.length; g++) {
                    var y = m[g],
                      T = p[y],
                      x = _[y];
                    (x === T && "value" !== y) ||
                      s(u, y, T, x, i, e.children, r, n, H);
                  }
                1 & l && e.children !== t.children && h(u, t.children);
              } else o || null != c || P(u, t, p, _, r, n, i);
              ((d = _.onVnodeUpdated) || f) &&
                queuePostRenderEffect(function () {
                  d && invokeVNodeHook(d, r, t, e),
                    f && invokeDirectiveHook(t, e, r, "updated");
                }, n);
            },
            C = function (e, t, r, n, i, a, s) {
              for (var o = 0; o < t.length; o++) {
                var u = e[o],
                  l = t[o],
                  c =
                    u.el &&
                    (u.type === Fragment ||
                      !isSameVNodeType(u, l) ||
                      70 & u.shapeFlag)
                      ? f(u.el)
                      : r;
                m(u, l, c, null, n, i, a, s, !0);
              }
            },
            P = function (e, t, r, n, i, a, o) {
              if (r !== n) {
                if (r !== EMPTY_OBJ)
                  for (var u in r)
                    isReservedProp(u) ||
                      u in n ||
                      s(e, u, r[u], null, o, t.children, i, a, H);
                for (var l in n)
                  if (!isReservedProp(l)) {
                    var c = n[l],
                      h = r[l];
                    c !== h &&
                      "value" !== l &&
                      s(e, l, h, c, o, t.children, i, a, H);
                  }
                "value" in n && s(e, "value", r.value, n.value);
              }
            },
            k = function (e, t, r, n, a, s, o, l, c) {
              var h = (t.el = e ? e.el : u("")),
                f = (t.anchor = e ? e.anchor : u("")),
                d = t.patchFlag,
                p = t.dynamicChildren,
                _ = t.slotScopeIds;
              _ && (l = l ? l.concat(_) : _),
                null == e
                  ? (i(h, r, n), i(f, r, n), S(t.children, r, f, a, s, o, l, c))
                  : d > 0 && 64 & d && p && e.dynamicChildren
                  ? (C(e.dynamicChildren, p, r, a, s, o, l),
                    (null != t.key || (a && t === a.subTree)) &&
                      traverseStaticChildren(e, t, !0))
                  : D(e, t, r, f, a, s, o, l, c);
            },
            w = function (e, t, r, n, i, a, s, o, u) {
              (t.slotScopeIds = o),
                null == e
                  ? 512 & t.shapeFlag
                    ? i.ctx.activate(t, r, n, s, u)
                    : R(t, r, n, i, a, s, u)
                  : M(e, t, u);
            },
            R = function (e, t, r, n, i, a, s) {
              var o = (e.component = createComponentInstance(e, n, i));
              if (
                (isKeepAlive(e) && (o.ctx.renderer = z),
                setupComponent(o),
                o.asyncDep)
              ) {
                if ((i && i.registerDep(o, I), !e.el)) {
                  var u = (o.subTree = createVNode(Comment));
                  y(null, u, t, r);
                }
              } else I(o, e, t, r, i, a, s);
            },
            M = function (e, t, r) {
              var n = (t.component = e.component);
              if (shouldUpdateComponent(e, t, r)) {
                if (n.asyncDep && !n.asyncResolved) return void O(n, t, r);
                (n.next = t), invalidateJob(n.update), n.update();
              } else (t.el = e.el), (n.vnode = t);
            },
            I = function (e, t, r, i, a, s, o) {
              var u = (e.effect = new ReactiveEffect(
                  function () {
                    if (e.isMounted) {
                      var u,
                        l = e.next,
                        c = e.bu,
                        h = e.u,
                        d = e.parent,
                        p = e.vnode,
                        _ = l;
                      toggleRecurse(e, !1),
                        l ? ((l.el = p.el), O(e, l, o)) : (l = p),
                        c && invokeArrayFns(c),
                        (u = l.props && l.props.onVnodeBeforeUpdate) &&
                          invokeVNodeHook(u, d, l, p),
                        toggleRecurse(e, !0);
                      var v = renderComponentRoot(e),
                        g = e.subTree;
                      (e.subTree = v),
                        m(g, v, f(g.el), j(g), e, a, s),
                        (l.el = v.el),
                        null === _ && updateHOCHostEl(e, v.el),
                        h && queuePostRenderEffect(h, a),
                        (u = l.props && l.props.onVnodeUpdated) &&
                          queuePostRenderEffect(function () {
                            return invokeVNodeHook(u, d, l, p);
                          }, a);
                    } else {
                      var y,
                        T = t,
                        x = T.el,
                        E = T.props,
                        b = e.bm,
                        S = e.m,
                        A = e.parent,
                        C = isAsyncWrapper(t);
                      if (
                        (toggleRecurse(e, !1),
                        b && invokeArrayFns(b),
                        !C &&
                          (y = E && E.onVnodeBeforeMount) &&
                          invokeVNodeHook(y, A, t),
                        toggleRecurse(e, !0),
                        x && n)
                      ) {
                        var P = function () {
                          (e.subTree = renderComponentRoot(e)),
                            n(x, e.subTree, e, a, null);
                        };
                        C
                          ? t.type.__asyncLoader().then(function () {
                              return !e.isUnmounted && P();
                            })
                          : P();
                      } else {
                        var k = (e.subTree = renderComponentRoot(e));
                        m(null, k, r, i, e, a, s), (t.el = k.el);
                      }
                      if (
                        (S && queuePostRenderEffect(S, a),
                        !C && (y = E && E.onVnodeMounted))
                      ) {
                        var w = t;
                        queuePostRenderEffect(function () {
                          return invokeVNodeHook(y, A, w);
                        }, a);
                      }
                      (256 & t.shapeFlag ||
                        (A &&
                          isAsyncWrapper(A.vnode) &&
                          256 & A.vnode.shapeFlag)) &&
                        e.a &&
                        queuePostRenderEffect(e.a, a),
                        (e.isMounted = !0),
                        (t = r = i = null);
                    }
                  },
                  function () {
                    return queueJob(l);
                  },
                  e.scope
                )),
                l = (e.update = function () {
                  return u.run();
                });
              (l.id = e.uid), toggleRecurse(e, !0), l();
            },
            O = function (e, t, r) {
              t.component = e;
              var n = e.vnode.props;
              (e.vnode = t),
                (e.next = null),
                updateProps(e, t.props, n, r),
                updateSlots(e, t.children, r),
                pauseTracking(),
                flushPreFlushCbs(),
                resetTracking();
            },
            D = function (e, t, r, n, i, a, s, o) {
              var u =
                  arguments.length > 8 &&
                  void 0 !== arguments[8] &&
                  arguments[8],
                l = e && e.children,
                c = e ? e.shapeFlag : 0,
                f = t.children,
                d = t.patchFlag,
                p = t.shapeFlag;
              if (d > 0) {
                if (128 & d) return void N(l, f, r, n, i, a, s, o, u);
                if (256 & d) return void F(l, f, r, n, i, a, s, o, u);
              }
              8 & p
                ? (16 & c && H(l, i, a), f !== l && h(r, f))
                : 16 & c
                ? 16 & p
                  ? N(l, f, r, n, i, a, s, o, u)
                  : H(l, i, a, !0)
                : (8 & c && h(r, ""), 16 & p && S(f, r, n, i, a, s, o, u));
            },
            F = function (e, t, r, n, i, a, s, o, u) {
              t = t || EMPTY_ARR;
              var l,
                c = (e = e || EMPTY_ARR).length,
                h = t.length,
                f = Math.min(c, h);
              for (l = 0; l < f; l++) {
                var d = (t[l] = u
                  ? cloneIfMounted(t[l])
                  : normalizeVNode(t[l]));
                m(e[l], d, r, null, i, a, s, o, u);
              }
              c > h ? H(e, i, a, !0, !1, f) : S(t, r, n, i, a, s, o, u, f);
            },
            N = function (e, t, r, n, i, a, s, o, u) {
              for (
                var l = 0, c = t.length, h = e.length - 1, f = c - 1;
                l <= h && l <= f;

              ) {
                var d = e[l],
                  p = (t[l] = u ? cloneIfMounted(t[l]) : normalizeVNode(t[l]));
                if (!isSameVNodeType(d, p)) break;
                m(d, p, r, null, i, a, s, o, u), l++;
              }
              for (; l <= h && l <= f; ) {
                var _ = e[h],
                  v = (t[f] = u ? cloneIfMounted(t[f]) : normalizeVNode(t[f]));
                if (!isSameVNodeType(_, v)) break;
                m(_, v, r, null, i, a, s, o, u), h--, f--;
              }
              if (l > h) {
                if (l <= f)
                  for (var g = f + 1, y = g < c ? t[g].el : n; l <= f; )
                    m(
                      null,
                      (t[l] = u ? cloneIfMounted(t[l]) : normalizeVNode(t[l])),
                      r,
                      y,
                      i,
                      a,
                      s,
                      o,
                      u
                    ),
                      l++;
              } else if (l > f) for (; l <= h; ) B(e[l], i, a, !0), l++;
              else {
                var T,
                  x = l,
                  E = l,
                  b = new Map();
                for (l = E; l <= f; l++) {
                  var S = (t[l] = u
                    ? cloneIfMounted(t[l])
                    : normalizeVNode(t[l]));
                  null != S.key && b.set(S.key, l);
                }
                var A = 0,
                  C = f - E + 1,
                  P = !1,
                  k = 0,
                  w = new Array(C);
                for (l = 0; l < C; l++) w[l] = 0;
                for (l = x; l <= h; l++) {
                  var R = e[l];
                  if (A >= C) B(R, i, a, !0);
                  else {
                    var M = void 0;
                    if (null != R.key) M = b.get(R.key);
                    else
                      for (T = E; T <= f; T++)
                        if (0 === w[T - E] && isSameVNodeType(R, t[T])) {
                          M = T;
                          break;
                        }
                    void 0 === M
                      ? B(R, i, a, !0)
                      : ((w[M - E] = l + 1),
                        M >= k ? (k = M) : (P = !0),
                        m(R, t[M], r, null, i, a, s, o, u),
                        A++);
                  }
                }
                var I = P ? getSequence(w) : EMPTY_ARR;
                for (T = I.length - 1, l = C - 1; l >= 0; l--) {
                  var O = E + l,
                    D = t[O],
                    F = O + 1 < c ? t[O + 1].el : n;
                  0 === w[l]
                    ? m(null, D, r, F, i, a, s, o, u)
                    : P && (T < 0 || l !== I[T] ? L(D, r, F, 2) : T--);
                }
              }
            },
            L = function e(t, r, n, a) {
              var s =
                  arguments.length > 4 && void 0 !== arguments[4]
                    ? arguments[4]
                    : null,
                o = t.el,
                u = t.type,
                l = t.transition,
                c = t.children,
                h = t.shapeFlag;
              if (6 & h) e(t.component.subTree, r, n, a);
              else if (128 & h) t.suspense.move(r, n, a);
              else if (64 & h) u.move(t, r, n, z);
              else if (u !== Fragment) {
                if (u !== Static)
                  if (2 !== a && 1 & h && l)
                    if (0 === a)
                      l.beforeEnter(o),
                        i(o, r, n),
                        queuePostRenderEffect(function () {
                          return l.enter(o);
                        }, s);
                    else {
                      var f = l.leave,
                        p = l.delayLeave,
                        _ = l.afterLeave,
                        v = function () {
                          return i(o, r, n);
                        },
                        m = function () {
                          f(o, function () {
                            v(), _ && _();
                          });
                        };
                      p ? p(o, v, m) : m();
                    }
                  else i(o, r, n);
                else
                  !(function (e, t, r) {
                    for (var n, a = e.el, s = e.anchor; a && a !== s; )
                      (n = d(a)), i(a, t, r), (a = n);
                    i(s, t, r);
                  })(t, r, n);
              } else {
                i(o, r, n);
                for (var g = 0; g < c.length; g++) e(c[g], r, n, a);
                i(t.anchor, r, n);
              }
            },
            B = function (e, t, r) {
              var n =
                  arguments.length > 3 &&
                  void 0 !== arguments[3] &&
                  arguments[3],
                i =
                  arguments.length > 4 &&
                  void 0 !== arguments[4] &&
                  arguments[4],
                a = e.type,
                s = e.props,
                o = e.ref,
                u = e.children,
                l = e.dynamicChildren,
                c = e.shapeFlag,
                h = e.patchFlag,
                f = e.dirs;
              if ((null != o && setRef(o, null, r, e, !0), 256 & c))
                t.ctx.deactivate(e);
              else {
                var d,
                  p = 1 & c && f,
                  _ = !isAsyncWrapper(e);
                if (
                  (_ &&
                    (d = s && s.onVnodeBeforeUnmount) &&
                    invokeVNodeHook(d, t, e),
                  6 & c)
                )
                  $(e.component, r, n);
                else {
                  if (128 & c) return void e.suspense.unmount(r, n);
                  p && invokeDirectiveHook(e, null, t, "beforeUnmount"),
                    64 & c
                      ? e.type.remove(e, t, r, i, z, n)
                      : l && (a !== Fragment || (h > 0 && 64 & h))
                      ? H(l, t, r, !1, !0)
                      : ((a === Fragment && 384 & h) || (!i && 16 & c)) &&
                        H(u, t, r),
                    n && U(e);
                }
                ((_ && (d = s && s.onVnodeUnmounted)) || p) &&
                  queuePostRenderEffect(function () {
                    d && invokeVNodeHook(d, t, e),
                      p && invokeDirectiveHook(e, null, t, "unmounted");
                  }, r);
              }
            },
            U = function (e) {
              var t = e.type,
                r = e.el,
                n = e.anchor,
                i = e.transition;
              if (t !== Fragment)
                if (t !== Static) {
                  var s = function () {
                    a(r), i && !i.persisted && i.afterLeave && i.afterLeave();
                  };
                  if (1 & e.shapeFlag && i && !i.persisted) {
                    var o = i.leave,
                      u = i.delayLeave,
                      l = function () {
                        return o(r, s);
                      };
                    u ? u(e.el, s, l) : l();
                  } else s();
                } else
                  !(function (e) {
                    for (var t, r = e.el, n = e.anchor; r && r !== n; )
                      (t = d(r)), a(r), (r = t);
                    a(n);
                  })(e);
              else G(r, n);
            },
            G = function (e, t) {
              for (var r; e !== t; ) (r = d(e)), a(e), (e = r);
              a(t);
            },
            $ = function (e, t, r) {
              var n = e.bum,
                i = e.scope,
                a = e.update,
                s = e.subTree,
                o = e.um;
              n && invokeArrayFns(n),
                i.stop(),
                a && ((a.active = !1), B(s, e, t, r)),
                o && queuePostRenderEffect(o, t),
                queuePostRenderEffect(function () {
                  e.isUnmounted = !0;
                }, t),
                t &&
                  t.pendingBranch &&
                  !t.isUnmounted &&
                  e.asyncDep &&
                  !e.asyncResolved &&
                  e.suspenseId === t.pendingId &&
                  (t.deps--, 0 === t.deps && t.resolve());
            },
            H = function (e, t, r) {
              for (
                var n =
                    arguments.length > 3 &&
                    void 0 !== arguments[3] &&
                    arguments[3],
                  i =
                    arguments.length > 4 &&
                    void 0 !== arguments[4] &&
                    arguments[4],
                  a =
                    arguments.length > 5 && void 0 !== arguments[5]
                      ? arguments[5]
                      : 0;
                a < e.length;
                a++
              )
                B(e[a], t, r, n, i);
            },
            j = function e(t) {
              return 6 & t.shapeFlag
                ? e(t.component.subTree)
                : 128 & t.shapeFlag
                ? t.suspense.next()
                : d(t.anchor || t.el);
            },
            V = function (e, t, r) {
              null == e
                ? t._vnode && B(t._vnode, null, null, !0)
                : m(t._vnode || null, e, t, null, null, null, r),
                flushPreFlushCbs(),
                flushPostFlushCbs(),
                (t._vnode = e);
            },
            z = {
              p: m,
              um: B,
              m: L,
              r: U,
              mt: R,
              mc: S,
              pc: D,
              pbc: C,
              n: j,
              o: e
            };
          if (t) {
            var W = _slicedToArray(t(z), 2);
            (r = W[0]), (n = W[1]);
          }
          return { render: V, hydrate: r, createApp: createAppAPI(V, r) };
        }
        function toggleRecurse(e, t) {
          var r = e.effect,
            n = e.update;
          r.allowRecurse = n.allowRecurse = t;
        }
        function traverseStaticChildren(e, t) {
          var r =
              arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
            n = e.children,
            i = t.children;
          if (isArray$1(n) && isArray$1(i))
            for (var a = 0; a < n.length; a++) {
              var s = n[a],
                o = i[a];
              1 & o.shapeFlag &&
                !o.dynamicChildren &&
                ((o.patchFlag <= 0 || 32 === o.patchFlag) &&
                  ((o = i[a] = cloneIfMounted(i[a])).el = s.el),
                r || traverseStaticChildren(s, o)),
                o.type === Text$1 && (o.el = s.el);
            }
        }
        function getSequence(e) {
          var t,
            r,
            n,
            i,
            a,
            s = e.slice(),
            o = [0],
            u = e.length;
          for (t = 0; t < u; t++) {
            var l = e[t];
            if (0 !== l) {
              if (e[(r = o[o.length - 1])] < l) {
                (s[t] = r), o.push(t);
                continue;
              }
              for (n = 0, i = o.length - 1; n < i; )
                e[o[(a = (n + i) >> 1)]] < l ? (n = a + 1) : (i = a);
              l < e[o[n]] && (n > 0 && (s[t] = o[n - 1]), (o[n] = t));
            }
          }
          for (i = o[(n = o.length) - 1]; n-- > 0; ) (o[n] = i), (i = s[i]);
          return o;
        }
        var isTeleport = function (e) {
            return e.__isTeleport;
          },
          Fragment = exports("F", Symbol(void 0)),
          Text$1 = Symbol(void 0),
          Comment = Symbol(void 0),
          Static = Symbol(void 0),
          blockStack = [],
          currentBlock = null;
        function openBlock() {
          var e =
            arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
          blockStack.push((currentBlock = e ? null : []));
        }
        function closeBlock() {
          blockStack.pop(),
            (currentBlock = blockStack[blockStack.length - 1] || null);
        }
        var isBlockTreeEnabled = 1;
        function setBlockTracking(e) {
          isBlockTreeEnabled += e;
        }
        function setupBlock(e) {
          return (
            (e.dynamicChildren =
              isBlockTreeEnabled > 0 ? currentBlock || EMPTY_ARR : null),
            closeBlock(),
            isBlockTreeEnabled > 0 && currentBlock && currentBlock.push(e),
            e
          );
        }
        function createElementBlock(e, t, r, n, i, a) {
          return setupBlock(createBaseVNode(e, t, r, n, i, a, !0));
        }
        function createBlock(e, t, r, n, i) {
          return setupBlock(createVNode(e, t, r, n, i, !0));
        }
        function isVNode$1(e) {
          return !!e && !0 === e.__v_isVNode;
        }
        function isSameVNodeType(e, t) {
          return e.type === t.type && e.key === t.key;
        }
        var InternalObjectKey = "__vInternal",
          normalizeKey = function (e) {
            var t = e.key;
            return null != t ? t : null;
          },
          normalizeRef = function (e) {
            var t = e.ref,
              r = e.ref_key,
              n = e.ref_for;
            return null != t
              ? isString$1(t) || isRef(t) || isFunction$1(t)
                ? { i: currentRenderingInstance, r: t, k: r, f: !!n }
                : t
              : null;
          };
        function createBaseVNode(e) {
          var t =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : null,
            r =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : null,
            n =
              arguments.length > 3 && void 0 !== arguments[3]
                ? arguments[3]
                : 0,
            i =
              arguments.length > 4 && void 0 !== arguments[4]
                ? arguments[4]
                : null,
            a =
              arguments.length > 5 && void 0 !== arguments[5]
                ? arguments[5]
                : e === Fragment
                ? 0
                : 1,
            s = arguments.length > 6 && void 0 !== arguments[6] && arguments[6],
            o = arguments.length > 7 && void 0 !== arguments[7] && arguments[7],
            u = {
              __v_isVNode: !0,
              __v_skip: !0,
              type: e,
              props: t,
              key: t && normalizeKey(t),
              ref: t && normalizeRef(t),
              scopeId: currentScopeId,
              slotScopeIds: null,
              children: r,
              component: null,
              suspense: null,
              ssContent: null,
              ssFallback: null,
              dirs: null,
              transition: null,
              el: null,
              anchor: null,
              target: null,
              targetAnchor: null,
              staticCount: 0,
              shapeFlag: a,
              patchFlag: n,
              dynamicProps: i,
              dynamicChildren: null,
              appContext: null,
              ctx: currentRenderingInstance
            };
          return (
            o
              ? (normalizeChildren(u, r), 128 & a && e.normalize(u))
              : r && (u.shapeFlag |= isString$1(r) ? 8 : 16),
            isBlockTreeEnabled > 0 &&
              !s &&
              currentBlock &&
              (u.patchFlag > 0 || 6 & a) &&
              32 !== u.patchFlag &&
              currentBlock.push(u),
            u
          );
        }
        var createVNode = exports("s", _createVNode);
        function _createVNode(e) {
          var t =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : null,
            r =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : null,
            n =
              arguments.length > 3 && void 0 !== arguments[3]
                ? arguments[3]
                : 0,
            i =
              arguments.length > 4 && void 0 !== arguments[4]
                ? arguments[4]
                : null,
            a = arguments.length > 5 && void 0 !== arguments[5] && arguments[5];
          if (
            ((e && e !== NULL_DYNAMIC_COMPONENT) || (e = Comment), isVNode$1(e))
          ) {
            var s = cloneVNode(e, t, !0);
            return (
              r && normalizeChildren(s, r),
              isBlockTreeEnabled > 0 &&
                !a &&
                currentBlock &&
                (6 & s.shapeFlag
                  ? (currentBlock[currentBlock.indexOf(e)] = s)
                  : currentBlock.push(s)),
              (s.patchFlag |= -2),
              s
            );
          }
          if ((isClassComponent(e) && (e = e.__vccOpts), t)) {
            var o = (t = guardReactiveProps(t)),
              u = o.class,
              l = o.style;
            u && !isString$1(u) && (t.class = normalizeClass(u)),
              isObject$1(l) &&
                (isProxy(l) && !isArray$1(l) && (l = extend({}, l)),
                (t.style = normalizeStyle(l)));
          }
          return createBaseVNode(
            e,
            t,
            r,
            n,
            i,
            isString$1(e)
              ? 1
              : isSuspense(e)
              ? 128
              : isTeleport(e)
              ? 64
              : isObject$1(e)
              ? 4
              : isFunction$1(e)
              ? 2
              : 0,
            a,
            !0
          );
        }
        function guardReactiveProps(e) {
          return e
            ? isProxy(e) || InternalObjectKey in e
              ? extend({}, e)
              : e
            : null;
        }
        function cloneVNode(e, t) {
          var r =
              arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
            n = e.props,
            i = e.ref,
            a = e.patchFlag,
            s = e.children,
            o = t ? mergeProps(n || {}, t) : n;
          return {
            __v_isVNode: !0,
            __v_skip: !0,
            type: e.type,
            props: o,
            key: o && normalizeKey(o),
            ref:
              t && t.ref
                ? r && i
                  ? isArray$1(i)
                    ? i.concat(normalizeRef(t))
                    : [i, normalizeRef(t)]
                  : normalizeRef(t)
                : i,
            scopeId: e.scopeId,
            slotScopeIds: e.slotScopeIds,
            children: s,
            target: e.target,
            targetAnchor: e.targetAnchor,
            staticCount: e.staticCount,
            shapeFlag: e.shapeFlag,
            patchFlag: t && e.type !== Fragment ? (-1 === a ? 16 : 16 | a) : a,
            dynamicProps: e.dynamicProps,
            dynamicChildren: e.dynamicChildren,
            appContext: e.appContext,
            dirs: e.dirs,
            transition: e.transition,
            component: e.component,
            suspense: e.suspense,
            ssContent: e.ssContent && cloneVNode(e.ssContent),
            ssFallback: e.ssFallback && cloneVNode(e.ssFallback),
            el: e.el,
            anchor: e.anchor,
            ctx: e.ctx,
            ce: e.ce
          };
        }
        function createTextVNode() {
          return createVNode(
            Text$1,
            null,
            arguments.length > 0 && void 0 !== arguments[0]
              ? arguments[0]
              : " ",
            arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
          );
        }
        function createCommentVNode() {
          var e =
            arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
          return arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
            ? (openBlock(), createBlock(Comment, null, e))
            : createVNode(Comment, null, e);
        }
        function normalizeVNode(e) {
          return null == e || "boolean" == typeof e
            ? createVNode(Comment)
            : isArray$1(e)
            ? createVNode(Fragment, null, e.slice())
            : "object" === _typeof(e)
            ? cloneIfMounted(e)
            : createVNode(Text$1, null, String(e));
        }
        function cloneIfMounted(e) {
          return (null === e.el && -1 !== e.patchFlag) || e.memo
            ? e
            : cloneVNode(e);
        }
        function normalizeChildren(e, t) {
          var r = 0,
            n = e.shapeFlag;
          if (null == t) t = null;
          else if (isArray$1(t)) r = 16;
          else if ("object" === _typeof(t)) {
            if (65 & n) {
              var i = t.default;
              return void (
                i &&
                (i._c && (i._d = !1),
                normalizeChildren(e, i()),
                i._c && (i._d = !0))
              );
            }
            r = 32;
            var a = t._;
            a || InternalObjectKey in t
              ? 3 === a &&
                currentRenderingInstance &&
                (1 === currentRenderingInstance.slots._
                  ? (t._ = 1)
                  : ((t._ = 2), (e.patchFlag |= 1024)))
              : (t._ctx = currentRenderingInstance);
          } else
            isFunction$1(t)
              ? ((t = { default: t, _ctx: currentRenderingInstance }), (r = 32))
              : ((t = String(t)),
                64 & n ? ((r = 16), (t = [createTextVNode(t)])) : (r = 8));
          (e.children = t), (e.shapeFlag |= r);
        }
        function mergeProps() {
          for (var e = {}, t = 0; t < arguments.length; t++) {
            var r = t < 0 || arguments.length <= t ? void 0 : arguments[t];
            for (var n in r)
              if ("class" === n)
                e.class !== r.class &&
                  (e.class = normalizeClass([e.class, r.class]));
              else if ("style" === n)
                e.style = normalizeStyle([e.style, r.style]);
              else if (isOn(n)) {
                var i = e[n],
                  a = r[n];
                !a ||
                  i === a ||
                  (isArray$1(i) && i.includes(a)) ||
                  (e[n] = i ? [].concat(i, a) : a);
              } else "" !== n && (e[n] = r[n]);
          }
          return e;
        }
        function invokeVNodeHook(e, t, r) {
          callWithAsyncErrorHandling(e, t, 7, [
            r,
            arguments.length > 3 && void 0 !== arguments[3]
              ? arguments[3]
              : null
          ]);
        }
        var emptyAppContext = createAppContext(),
          uid$2 = 0;
        function createComponentInstance(e, t, r) {
          var n = e.type,
            i = (t ? t.appContext : e.appContext) || emptyAppContext,
            a = {
              uid: uid$2++,
              vnode: e,
              type: n,
              parent: t,
              appContext: i,
              root: null,
              next: null,
              subTree: null,
              effect: null,
              update: null,
              scope: new EffectScope(!0),
              render: null,
              proxy: null,
              exposed: null,
              exposeProxy: null,
              withProxy: null,
              provides: t ? t.provides : Object.create(i.provides),
              accessCache: null,
              renderCache: [],
              components: null,
              directives: null,
              propsOptions: normalizePropsOptions(n, i),
              emitsOptions: normalizeEmitsOptions(n, i),
              emit: null,
              emitted: null,
              propsDefaults: EMPTY_OBJ,
              inheritAttrs: n.inheritAttrs,
              ctx: EMPTY_OBJ,
              data: EMPTY_OBJ,
              props: EMPTY_OBJ,
              attrs: EMPTY_OBJ,
              slots: EMPTY_OBJ,
              refs: EMPTY_OBJ,
              setupState: EMPTY_OBJ,
              setupContext: null,
              suspense: r,
              suspenseId: r ? r.pendingId : 0,
              asyncDep: null,
              asyncResolved: !1,
              isMounted: !1,
              isUnmounted: !1,
              isDeactivated: !1,
              bc: null,
              c: null,
              bm: null,
              m: null,
              bu: null,
              u: null,
              um: null,
              bum: null,
              da: null,
              a: null,
              rtg: null,
              rtc: null,
              ec: null,
              sp: null
            };
          return (
            (a.ctx = { _: a }),
            (a.root = t ? t.root : a),
            (a.emit = emit.bind(null, a)),
            e.ce && e.ce(a),
            a
          );
        }
        var currentInstance = null,
          getCurrentInstance = function () {
            return currentInstance || currentRenderingInstance;
          },
          setCurrentInstance = function (e) {
            (currentInstance = e), e.scope.on();
          },
          unsetCurrentInstance = function () {
            currentInstance && currentInstance.scope.off(),
              (currentInstance = null);
          };
        function isStatefulComponent(e) {
          return 4 & e.vnode.shapeFlag;
        }
        var isInSSRComponentSetup = !1,
          compile;
        function setupComponent(e) {
          var t =
            arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
          isInSSRComponentSetup = t;
          var r = e.vnode,
            n = r.props,
            i = r.children,
            a = isStatefulComponent(e);
          initProps(e, n, a, t), initSlots(e, i);
          var s = a ? setupStatefulComponent(e, t) : void 0;
          return (isInSSRComponentSetup = !1), s;
        }
        function setupStatefulComponent(e, t) {
          var r = e.type;
          (e.accessCache = Object.create(null)),
            (e.proxy = markRaw(new Proxy(e.ctx, PublicInstanceProxyHandlers)));
          var n = r.setup;
          if (n) {
            var i = (e.setupContext =
              n.length > 1 ? createSetupContext(e) : null);
            setCurrentInstance(e), pauseTracking();
            var a = callWithErrorHandling(n, e, 0, [e.props, i]);
            if ((resetTracking(), unsetCurrentInstance(), isPromise(a))) {
              if ((a.then(unsetCurrentInstance, unsetCurrentInstance), t))
                return a
                  .then(function (r) {
                    handleSetupResult(e, r, t);
                  })
                  .catch(function (t) {
                    handleError(t, e, 0);
                  });
              e.asyncDep = a;
            } else handleSetupResult(e, a, t);
          } else finishComponentSetup(e, t);
        }
        function handleSetupResult(e, t, r) {
          isFunction$1(t)
            ? e.type.__ssrInlineRender
              ? (e.ssrRender = t)
              : (e.render = t)
            : isObject$1(t) && (e.setupState = proxyRefs(t)),
            finishComponentSetup(e, r);
        }
        function finishComponentSetup(e, t, r) {
          var n = e.type;
          if (!e.render) {
            if (!t && compile && !n.render) {
              var i = n.template || resolveMergedOptions(e).template;
              if (i) {
                var a = e.appContext.config,
                  s = a.isCustomElement,
                  o = a.compilerOptions,
                  u = n.delimiters,
                  l = n.compilerOptions,
                  c = extend(
                    extend({ isCustomElement: s, delimiters: u }, o),
                    l
                  );
                n.render = compile(i, c);
              }
            }
            e.render = n.render || NOOP;
          }
          setCurrentInstance(e),
            pauseTracking(),
            applyOptions(e),
            resetTracking(),
            unsetCurrentInstance();
        }
        function createAttrsProxy(e) {
          return new Proxy(e.attrs, {
            get: function (t, r) {
              return track(e, "get", "$attrs"), t[r];
            }
          });
        }
        function createSetupContext(e) {
          var t;
          return {
            get attrs() {
              return t || (t = createAttrsProxy(e));
            },
            slots: e.slots,
            emit: e.emit,
            expose: function (t) {
              e.exposed = t || {};
            }
          };
        }
        function getExposeProxy(e) {
          if (e.exposed)
            return (
              e.exposeProxy ||
              (e.exposeProxy = new Proxy(proxyRefs(markRaw(e.exposed)), {
                get: function (t, r) {
                  return r in t
                    ? t[r]
                    : r in publicPropertiesMap
                    ? publicPropertiesMap[r](e)
                    : void 0;
                },
                has: function (e, t) {
                  return t in e || t in publicPropertiesMap;
                }
              }))
            );
        }
        function getComponentName(e) {
          var t =
            !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
          return isFunction$1(e)
            ? e.displayName || e.name
            : e.name || (t && e.__name);
        }
        function isClassComponent(e) {
          return isFunction$1(e) && "__vccOpts" in e;
        }
        var computed = function (e, t) {
          return computed$1(e, t, isInSSRComponentSetup);
        };
        function h$1(e, t, r) {
          var n = arguments.length;
          return 2 === n
            ? isObject$1(t) && !isArray$1(t)
              ? isVNode$1(t)
                ? createVNode(e, null, [t])
                : createVNode(e, t)
              : createVNode(e, null, t)
            : (n > 3
                ? (r = Array.prototype.slice.call(arguments, 2))
                : 3 === n && isVNode$1(r) && (r = [r]),
              createVNode(e, t, r));
        }
        var ssrContextKey = Symbol(""),
          useSSRContext = function () {
            return inject(ssrContextKey);
          },
          version = "3.2.47",
          svgNS = "http://www.w3.org/2000/svg",
          doc = "undefined" != typeof document ? document : null,
          templateContainer = doc && doc.createElement("template"),
          nodeOps = {
            insert: function (e, t, r) {
              t.insertBefore(e, r || null);
            },
            remove: function (e) {
              var t = e.parentNode;
              t && t.removeChild(e);
            },
            createElement: function (e, t, r, n) {
              var i = t
                ? doc.createElementNS(svgNS, e)
                : doc.createElement(e, r ? { is: r } : void 0);
              return (
                "select" === e &&
                  n &&
                  null != n.multiple &&
                  i.setAttribute("multiple", n.multiple),
                i
              );
            },
            createText: function (e) {
              return doc.createTextNode(e);
            },
            createComment: function (e) {
              return doc.createComment(e);
            },
            setText: function (e, t) {
              e.nodeValue = t;
            },
            setElementText: function (e, t) {
              e.textContent = t;
            },
            parentNode: function (e) {
              return e.parentNode;
            },
            nextSibling: function (e) {
              return e.nextSibling;
            },
            querySelector: function (e) {
              return doc.querySelector(e);
            },
            setScopeId: function (e, t) {
              e.setAttribute(t, "");
            },
            insertStaticContent: function (e, t, r, n, i, a) {
              var s = r ? r.previousSibling : t.lastChild;
              if (i && (i === a || i.nextSibling))
                for (
                  ;
                  t.insertBefore(i.cloneNode(!0), r),
                    i !== a && (i = i.nextSibling);

                );
              else {
                templateContainer.innerHTML = n
                  ? "<svg>".concat(e, "</svg>")
                  : e;
                var o = templateContainer.content;
                if (n) {
                  for (var u = o.firstChild; u.firstChild; )
                    o.appendChild(u.firstChild);
                  o.removeChild(u);
                }
                t.insertBefore(o, r);
              }
              return [
                s ? s.nextSibling : t.firstChild,
                r ? r.previousSibling : t.lastChild
              ];
            }
          };
        function patchClass(e, t, r) {
          var n = e._vtc;
          n &&
            (t = (t
              ? [t].concat(_toConsumableArray(n))
              : _toConsumableArray(n)
            ).join(" ")),
            null == t
              ? e.removeAttribute("class")
              : r
              ? e.setAttribute("class", t)
              : (e.className = t);
        }
        function patchStyle(e, t, r) {
          var n = e.style,
            i = isString$1(r);
          if (r && !i) {
            if (t && !isString$1(t))
              for (var a in t) null == r[a] && setStyle(n, a, "");
            for (var s in r) setStyle(n, s, r[s]);
          } else {
            var o = n.display;
            i ? t !== r && (n.cssText = r) : t && e.removeAttribute("style"),
              "_vod" in e && (n.display = o);
          }
        }
        var importantRE = /\s*!important$/;
        function setStyle(e, t, r) {
          if (isArray$1(r))
            r.forEach(function (r) {
              return setStyle(e, t, r);
            });
          else if ((null == r && (r = ""), t.startsWith("--")))
            e.setProperty(t, r);
          else {
            var n = autoPrefix(e, t);
            importantRE.test(r)
              ? e.setProperty(
                  hyphenate(n),
                  r.replace(importantRE, ""),
                  "important"
                )
              : (e[n] = r);
          }
        }
        var prefixes = ["Webkit", "Moz", "ms"],
          prefixCache = {};
        function autoPrefix(e, t) {
          var r = prefixCache[t];
          if (r) return r;
          var n = camelize(t);
          if ("filter" !== n && n in e) return (prefixCache[t] = n);
          n = capitalize$1(n);
          for (var i = 0; i < prefixes.length; i++) {
            var a = prefixes[i] + n;
            if (a in e) return (prefixCache[t] = a);
          }
          return t;
        }
        var xlinkNS = "http://www.w3.org/1999/xlink";
        function patchAttr(e, t, r, n, i) {
          if (n && t.startsWith("xlink:"))
            null == r
              ? e.removeAttributeNS(xlinkNS, t.slice(6, t.length))
              : e.setAttributeNS(xlinkNS, t, r);
          else {
            var a = isSpecialBooleanAttr(t);
            null == r || (a && !includeBooleanAttr(r))
              ? e.removeAttribute(t)
              : e.setAttribute(t, a ? "" : r);
          }
        }
        function patchDOMProp(t, r, n, i, a, s, o) {
          if ("innerHTML" === r || "textContent" === r)
            return i && o(i, a, s), void (t[r] = null == n ? "" : n);
          if (
            "value" === r &&
            "PROGRESS" !== t.tagName &&
            !t.tagName.includes("-")
          ) {
            t._value = n;
            var u = null == n ? "" : n;
            return (
              (t.value === u && "OPTION" !== t.tagName) || (t.value = u),
              void (null == n && t.removeAttribute(r))
            );
          }
          var l = !1;
          if ("" === n || null == n) {
            var c = _typeof(t[r]);
            "boolean" === c
              ? (n = includeBooleanAttr(n))
              : null == n && "string" === c
              ? ((n = ""), (l = !0))
              : "number" === c && ((n = 0), (l = !0));
          }
          try {
            t[r] = n;
          } catch (e) {}
          l && t.removeAttribute(r);
        }
        function addEventListener(e, t, r, n) {
          e.addEventListener(t, r, n);
        }
        function removeEventListener(e, t, r, n) {
          e.removeEventListener(t, r, n);
        }
        function patchEvent(e, t, r, n) {
          var i =
              arguments.length > 4 && void 0 !== arguments[4]
                ? arguments[4]
                : null,
            a = e._vei || (e._vei = {}),
            s = a[t];
          if (n && s) s.value = n;
          else {
            var o = _slicedToArray(parseName(t), 2),
              u = o[0],
              l = o[1];
            if (n) addEventListener(e, u, (a[t] = createInvoker(n, i)), l);
            else s && (removeEventListener(e, u, s, l), (a[t] = void 0));
          }
        }
        var optionsModifierRE = /(?:Once|Passive|Capture)$/;
        function parseName(e) {
          var t, r;
          if (optionsModifierRE.test(e))
            for (t = {}; (r = e.match(optionsModifierRE)); )
              (e = e.slice(0, e.length - r[0].length)),
                (t[r[0].toLowerCase()] = !0);
          return [":" === e[2] ? e.slice(3) : hyphenate(e.slice(2)), t];
        }
        var cachedNow = 0,
          p$2 = Promise.resolve(),
          getNow = function () {
            return (
              cachedNow ||
              (p$2.then(function () {
                return (cachedNow = 0);
              }),
              (cachedNow = Date.now()))
            );
          };
        function createInvoker(e, t) {
          var r = function e(r) {
            if (r._vts) {
              if (r._vts <= e.attached) return;
            } else r._vts = Date.now();
            callWithAsyncErrorHandling(
              patchStopImmediatePropagation(r, e.value),
              t,
              5,
              [r]
            );
          };
          return (r.value = e), (r.attached = getNow()), r;
        }
        function patchStopImmediatePropagation(e, t) {
          if (isArray$1(t)) {
            var r = e.stopImmediatePropagation;
            return (
              (e.stopImmediatePropagation = function () {
                r.call(e), (e._stopped = !0);
              }),
              t.map(function (e) {
                return function (t) {
                  return !t._stopped && e && e(t);
                };
              })
            );
          }
          return t;
        }
        var nativeOnRE = /^on[a-z]/,
          patchProp = function (e, t, r, n) {
            var i =
                arguments.length > 4 && void 0 !== arguments[4] && arguments[4],
              a = arguments.length > 5 ? arguments[5] : void 0,
              s = arguments.length > 6 ? arguments[6] : void 0,
              o = arguments.length > 7 ? arguments[7] : void 0,
              u = arguments.length > 8 ? arguments[8] : void 0;
            "class" === t
              ? patchClass(e, n, i)
              : "style" === t
              ? patchStyle(e, r, n)
              : isOn(t)
              ? isModelListener(t) || patchEvent(e, t, r, n, s)
              : (
                  "." === t[0]
                    ? ((t = t.slice(1)), 1)
                    : "^" === t[0]
                    ? ((t = t.slice(1)), 0)
                    : shouldSetAsProp(e, t, n, i)
                )
              ? patchDOMProp(e, t, n, a, s, o, u)
              : ("true-value" === t
                  ? (e._trueValue = n)
                  : "false-value" === t && (e._falseValue = n),
                patchAttr(e, t, n, i));
          };
        function shouldSetAsProp(e, t, r, n) {
          return n
            ? "innerHTML" === t ||
                "textContent" === t ||
                !!(t in e && nativeOnRE.test(t) && isFunction$1(r))
            : "spellcheck" !== t &&
                "draggable" !== t &&
                "translate" !== t &&
                "form" !== t &&
                ("list" !== t || "INPUT" !== e.tagName) &&
                ("type" !== t || "TEXTAREA" !== e.tagName) &&
                (!nativeOnRE.test(t) || !isString$1(r)) &&
                t in e;
        }
        var DOMTransitionPropsValidators = {
          name: String,
          type: String,
          css: { type: Boolean, default: !0 },
          duration: [String, Number, Object],
          enterFromClass: String,
          enterActiveClass: String,
          enterToClass: String,
          appearFromClass: String,
          appearActiveClass: String,
          appearToClass: String,
          leaveFromClass: String,
          leaveActiveClass: String,
          leaveToClass: String
        };
        BaseTransition.props;
        var getModelAssigner = function (e) {
          var t = e.props["onUpdate:modelValue"] || !1;
          return isArray$1(t)
            ? function (e) {
                return invokeArrayFns(t, e);
              }
            : t;
        };
        function onCompositionStart(e) {
          e.target.composing = !0;
        }
        function onCompositionEnd(e) {
          var t = e.target;
          t.composing &&
            ((t.composing = !1), t.dispatchEvent(new Event("input")));
        }
        var vModelText = exports("v", {
            created: function (e, t, r) {
              var n = t.modifiers,
                i = n.lazy,
                a = n.trim,
                s = n.number;
              e._assign = getModelAssigner(r);
              var o = s || (r.props && "number" === r.props.type);
              addEventListener(e, i ? "change" : "input", function (t) {
                if (!t.target.composing) {
                  var r = e.value;
                  a && (r = r.trim()),
                    o && (r = looseToNumber(r)),
                    e._assign(r);
                }
              }),
                a &&
                  addEventListener(e, "change", function () {
                    e.value = e.value.trim();
                  }),
                i ||
                  (addEventListener(e, "compositionstart", onCompositionStart),
                  addEventListener(e, "compositionend", onCompositionEnd),
                  addEventListener(e, "change", onCompositionEnd));
            },
            mounted: function (e, t) {
              var r = t.value;
              e.value = null == r ? "" : r;
            },
            beforeUpdate: function (e, t, r) {
              var n = t.value,
                i = t.modifiers,
                a = i.lazy,
                s = i.trim,
                o = i.number;
              if (((e._assign = getModelAssigner(r)), !e.composing)) {
                if (document.activeElement === e && "range" !== e.type) {
                  if (a) return;
                  if (s && e.value.trim() === n) return;
                  if (
                    (o || "number" === e.type) &&
                    looseToNumber(e.value) === n
                  )
                    return;
                }
                var u = null == n ? "" : n;
                e.value !== u && (e.value = u);
              }
            }
          }),
          rendererOptions = extend({ patchProp: patchProp }, nodeOps),
          renderer;
        function ensureRenderer() {
          return renderer || (renderer = createRenderer(rendererOptions));
        }
        var createApp = exports("B", function () {
          var e,
            t = (e = ensureRenderer()).createApp.apply(e, arguments),
            r = t.mount;
          return (
            (t.mount = function (e) {
              var n = normalizeContainer(e);
              if (n) {
                var i = t._component;
                isFunction$1(i) ||
                  i.render ||
                  i.template ||
                  (i.template = n.innerHTML),
                  (n.innerHTML = "");
                var a = r(n, !1, n instanceof SVGElement);
                return (
                  n instanceof Element &&
                    (n.removeAttribute("v-cloak"),
                    n.setAttribute("data-v-app", "")),
                  a
                );
              }
            }),
            t
          );
        });
        function normalizeContainer(e) {
          return isString$1(e) ? document.querySelector(e) : e;
        }
        var isVue2 = !1,
          activePinia,
          setActivePinia = function (e) {
            return (activePinia = e);
          },
          piniaSymbol = Symbol(),
          MutationType;
        /*!
         * shared v9.2.2
         * (c) 2022 kazuya kawaguchi
         * Released under the MIT License.
         */ var inBrowser = "undefined" != typeof window,
          hasSymbol =
            "function" == typeof Symbol &&
            "symbol" === _typeof(Symbol.toStringTag),
          makeSymbol = function (e) {
            return hasSymbol ? Symbol(e) : e;
          },
          generateFormatCacheKey = function (e, t, r) {
            return friendlyJSONstringify({ l: e, k: t, s: r });
          },
          friendlyJSONstringify = function (e) {
            return JSON.stringify(e)
              .replace(/\u2028/g, "\\u2028")
              .replace(/\u2029/g, "\\u2029")
              .replace(/\u0027/g, "\\u0027");
          },
          isNumber = function (e) {
            return "number" == typeof e && isFinite(e);
          },
          isDate = function (e) {
            return "[object Date]" === toTypeString(e);
          },
          isRegExp = function (e) {
            return "[object RegExp]" === toTypeString(e);
          },
          isEmptyObject = function (e) {
            return isPlainObject(e) && 0 === Object.keys(e).length;
          };
        function warn(e, t) {
          "undefined" != typeof console &&
            (console.warn("[intlify] " + e), t && console.warn(t.stack));
        }
        var assign = Object.assign,
          _globalThis,
          getGlobalThis = function () {
            return (
              _globalThis ||
              (_globalThis =
                "undefined" != typeof globalThis
                  ? globalThis
                  : "undefined" != typeof self
                  ? self
                  : "undefined" != typeof window
                  ? window
                  : "undefined" != typeof global
                  ? global
                  : {})
            );
          };
        function escapeHtml(e) {
          return e
            .replace(/</g, "&lt;")
            .replace(/>/g, "&gt;")
            .replace(/"/g, "&quot;")
            .replace(/'/g, "&apos;");
        }
        var hasOwnProperty$1 = Object.prototype.hasOwnProperty;
        function hasOwn(e, t) {
          return hasOwnProperty$1.call(e, t);
        }
        var isArray = Array.isArray,
          isFunction = function (e) {
            return "function" == typeof e;
          },
          isString = function (e) {
            return "string" == typeof e;
          },
          isBoolean = function (e) {
            return "boolean" == typeof e;
          },
          isObject = function (e) {
            return null !== e && "object" === _typeof(e);
          },
          objectToString = Object.prototype.toString,
          toTypeString = function (e) {
            return objectToString.call(e);
          },
          isPlainObject = function (e) {
            return "[object Object]" === toTypeString(e);
          },
          toDisplayString = function (e) {
            return null == e
              ? ""
              : isArray(e) ||
                (isPlainObject(e) && e.toString === objectToString)
              ? JSON.stringify(e, null, 2)
              : String(e);
          },
          CompileErrorCodes = {
            EXPECTED_TOKEN: 1,
            INVALID_TOKEN_IN_PLACEHOLDER: 2,
            UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER: 3,
            UNKNOWN_ESCAPE_SEQUENCE: 4,
            INVALID_UNICODE_ESCAPE_SEQUENCE: 5,
            UNBALANCED_CLOSING_BRACE: 6,
            UNTERMINATED_CLOSING_BRACE: 7,
            EMPTY_PLACEHOLDER: 8,
            NOT_ALLOW_NEST_PLACEHOLDER: 9,
            INVALID_LINKED_FORMAT: 10,
            MUST_HAVE_MESSAGES_IN_PLURAL: 11,
            UNEXPECTED_EMPTY_LINKED_MODIFIER: 12,
            UNEXPECTED_EMPTY_LINKED_KEY: 13,
            UNEXPECTED_LEXICAL_ANALYSIS: 14,
            __EXTEND_POINT__: 15
          };
        function createCompileError(e, t) {
          var r =
              arguments.length > 2 && void 0 !== arguments[2]
                ? arguments[2]
                : {},
            n = r.domain,
            i = (r.messages, r.args, new SyntaxError(String(e)));
          return (i.code = e), t && (i.location = t), (i.domain = n), i;
        }
        function defaultOnError(e) {
          throw e;
        }
        function createPosition(e, t, r) {
          return { line: e, column: t, offset: r };
        }
        function createLocation(e, t, r) {
          var n = { start: e, end: t };
          return null != r && (n.source = r), n;
        }
        var CHAR_SP = " ",
          CHAR_CR = "\r",
          CHAR_LF = "\n",
          CHAR_LS = String.fromCharCode(8232),
          CHAR_PS = String.fromCharCode(8233);
        function createScanner(e) {
          var t = e,
            r = 0,
            n = 1,
            i = 1,
            a = 0,
            s = function (e) {
              return t[e] === CHAR_CR && t[e + 1] === CHAR_LF;
            },
            o = function (e) {
              return t[e] === CHAR_PS;
            },
            u = function (e) {
              return t[e] === CHAR_LS;
            },
            l = function (e) {
              return (
                s(e) ||
                (function (e) {
                  return t[e] === CHAR_LF;
                })(e) ||
                o(e) ||
                u(e)
              );
            },
            c = function (e) {
              return s(e) || o(e) || u(e) ? CHAR_LF : t[e];
            };
          function h() {
            return (a = 0), l(r) && (n++, (i = 0)), s(r) && r++, r++, i++, t[r];
          }
          return {
            index: function () {
              return r;
            },
            line: function () {
              return n;
            },
            column: function () {
              return i;
            },
            peekOffset: function () {
              return a;
            },
            charAt: c,
            currentChar: function () {
              return c(r);
            },
            currentPeek: function () {
              return c(r + a);
            },
            next: h,
            peek: function () {
              return s(r + a) && a++, a++, t[r + a];
            },
            reset: function () {
              (r = 0), (n = 1), (i = 1), (a = 0);
            },
            resetPeek: function () {
              a =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : 0;
            },
            skipToPeek: function () {
              for (var e = r + a; e !== r; ) h();
              a = 0;
            }
          };
        }
        var EOF = void 0,
          LITERAL_DELIMITER = "'",
          ERROR_DOMAIN$1 = "tokenizer";
        function createTokenizer(e) {
          var t =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : {},
            r = !1 !== t.location,
            n = createScanner(e),
            i = function () {
              return n.index();
            },
            a = function () {
              return createPosition(n.line(), n.column(), n.index());
            },
            s = a(),
            o = i(),
            u = {
              currentType: 14,
              offset: o,
              startLoc: s,
              endLoc: s,
              lastType: 14,
              lastOffset: o,
              lastStartLoc: s,
              lastEndLoc: s,
              braceNest: 0,
              inLinked: !1,
              text: ""
            },
            l = function () {
              return u;
            },
            c = t.onError;
          function h(e, t, r) {
            var n = l();
            if (((t.column += r), (t.offset += r), c)) {
              for (
                var i = createLocation(n.startLoc, t),
                  a = arguments.length,
                  s = new Array(a > 3 ? a - 3 : 0),
                  o = 3;
                o < a;
                o++
              )
                s[o - 3] = arguments[o];
              var u = createCompileError(e, i, {
                domain: ERROR_DOMAIN$1,
                args: s
              });
              c(u);
            }
          }
          function f(e, t, n) {
            (e.endLoc = a()), (e.currentType = t);
            var i = { type: t };
            return (
              r && (i.loc = createLocation(e.startLoc, e.endLoc)),
              null != n && (i.value = n),
              i
            );
          }
          var d = function (e) {
            return f(e, 14);
          };
          function p(e, t) {
            return e.currentChar() === t
              ? (e.next(), t)
              : (h(CompileErrorCodes.EXPECTED_TOKEN, a(), 0, t), "");
          }
          function _(e) {
            for (
              var t = "";
              e.currentPeek() === CHAR_SP || e.currentPeek() === CHAR_LF;

            )
              (t += e.currentPeek()), e.peek();
            return t;
          }
          function v(e) {
            var t = _(e);
            return e.skipToPeek(), t;
          }
          function m(e) {
            if (e === EOF) return !1;
            var t = e.charCodeAt(0);
            return (t >= 97 && t <= 122) || (t >= 65 && t <= 90) || 95 === t;
          }
          function g(e, t) {
            if (2 !== t.currentType) return !1;
            _(e);
            var r = (function (e) {
              if (e === EOF) return !1;
              var t = e.charCodeAt(0);
              return t >= 48 && t <= 57;
            })("-" === e.currentPeek() ? e.peek() : e.currentPeek());
            return e.resetPeek(), r;
          }
          function y(e) {
            _(e);
            var t = "|" === e.currentPeek();
            return e.resetPeek(), t;
          }
          function T(e) {
            var t =
                !(arguments.length > 1 && void 0 !== arguments[1]) ||
                arguments[1],
              r = (function t() {
                var r =
                    arguments.length > 0 &&
                    void 0 !== arguments[0] &&
                    arguments[0],
                  n =
                    arguments.length > 1 && void 0 !== arguments[1]
                      ? arguments[1]
                      : "",
                  i =
                    arguments.length > 2 &&
                    void 0 !== arguments[2] &&
                    arguments[2],
                  a = e.currentPeek();
                return "{" === a
                  ? "%" !== n && r
                  : "@" !== a && a
                  ? "%" === a
                    ? (e.peek(), t(r, "%", !0))
                    : "|" === a
                    ? !("%" !== n && !i) || !(n === CHAR_SP || n === CHAR_LF)
                    : a === CHAR_SP
                    ? (e.peek(), t(!0, CHAR_SP, i))
                    : a !== CHAR_LF || (e.peek(), t(!0, CHAR_LF, i))
                  : "%" === n || r;
              })();
            return t && e.resetPeek(), r;
          }
          function x(e, t) {
            var r = e.currentChar();
            return r === EOF ? EOF : t(r) ? (e.next(), r) : null;
          }
          function E(e) {
            return x(e, function (e) {
              var t = e.charCodeAt(0);
              return (
                (t >= 97 && t <= 122) ||
                (t >= 65 && t <= 90) ||
                (t >= 48 && t <= 57) ||
                95 === t ||
                36 === t
              );
            });
          }
          function b(e) {
            return x(e, function (e) {
              var t = e.charCodeAt(0);
              return t >= 48 && t <= 57;
            });
          }
          function S(e) {
            return x(e, function (e) {
              var t = e.charCodeAt(0);
              return (
                (t >= 48 && t <= 57) ||
                (t >= 65 && t <= 70) ||
                (t >= 97 && t <= 102)
              );
            });
          }
          function A(e) {
            for (var t = "", r = ""; (t = b(e)); ) r += t;
            return r;
          }
          function C(e) {
            for (var t = ""; ; ) {
              var r = e.currentChar();
              if ("{" === r || "}" === r || "@" === r || "|" === r || !r) break;
              if ("%" === r) {
                if (!T(e)) break;
                (t += r), e.next();
              } else if (r === CHAR_SP || r === CHAR_LF)
                if (T(e)) (t += r), e.next();
                else {
                  if (y(e)) break;
                  (t += r), e.next();
                }
              else (t += r), e.next();
            }
            return t;
          }
          function P(e) {
            var t = e.currentChar();
            switch (t) {
              case "\\":
              case "'":
                return e.next(), "\\".concat(t);
              case "u":
                return k(e, t, 4);
              case "U":
                return k(e, t, 6);
              default:
                return (
                  h(CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE, a(), 0, t), ""
                );
            }
          }
          function k(e, t, r) {
            p(e, t);
            for (var n = "", i = 0; i < r; i++) {
              var s = S(e);
              if (!s) {
                h(
                  CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE,
                  a(),
                  0,
                  "\\".concat(t).concat(n).concat(e.currentChar())
                );
                break;
              }
              n += s;
            }
            return "\\".concat(t).concat(n);
          }
          function w(e) {
            v(e);
            var t = p(e, "|");
            return v(e), t;
          }
          function R(e, t) {
            var r = null;
            switch (e.currentChar()) {
              case "{":
                return (
                  t.braceNest >= 1 &&
                    h(CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER, a(), 0),
                  e.next(),
                  (r = f(t, 2, "{")),
                  v(e),
                  t.braceNest++,
                  r
                );
              case "}":
                return (
                  t.braceNest > 0 &&
                    2 === t.currentType &&
                    h(CompileErrorCodes.EMPTY_PLACEHOLDER, a(), 0),
                  e.next(),
                  (r = f(t, 3, "}")),
                  t.braceNest--,
                  t.braceNest > 0 && v(e),
                  t.inLinked && 0 === t.braceNest && (t.inLinked = !1),
                  r
                );
              case "@":
                return (
                  t.braceNest > 0 &&
                    h(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, a(), 0),
                  (r = M(e, t) || d(t)),
                  (t.braceNest = 0),
                  r
                );
              default:
                var n, i, s;
                if (y(e))
                  return (
                    t.braceNest > 0 &&
                      h(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, a(), 0),
                    (r = f(t, 1, w(e))),
                    (t.braceNest = 0),
                    (t.inLinked = !1),
                    r
                  );
                if (
                  t.braceNest > 0 &&
                  (5 === t.currentType ||
                    6 === t.currentType ||
                    7 === t.currentType)
                )
                  return (
                    h(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, a(), 0),
                    (t.braceNest = 0),
                    I(e, t)
                  );
                if (
                  (n = (function (e, t) {
                    if (2 !== t.currentType) return !1;
                    _(e);
                    var r = m(e.currentPeek());
                    return e.resetPeek(), r;
                  })(e, t))
                )
                  return (
                    (r = f(
                      t,
                      5,
                      (function (e) {
                        v(e);
                        for (var t = "", r = ""; (t = E(e)); ) r += t;
                        return (
                          e.currentChar() === EOF &&
                            h(
                              CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,
                              a(),
                              0
                            ),
                          r
                        );
                      })(e)
                    )),
                    v(e),
                    r
                  );
                if ((i = g(e, t)))
                  return (
                    (r = f(
                      t,
                      6,
                      (function (e) {
                        v(e);
                        var t = "";
                        return (
                          "-" === e.currentChar()
                            ? (e.next(), (t += "-".concat(A(e))))
                            : (t += A(e)),
                          e.currentChar() === EOF &&
                            h(
                              CompileErrorCodes.UNTERMINATED_CLOSING_BRACE,
                              a(),
                              0
                            ),
                          t
                        );
                      })(e)
                    )),
                    v(e),
                    r
                  );
                if (
                  (s = (function (e, t) {
                    if (2 !== t.currentType) return !1;
                    _(e);
                    var r = e.currentPeek() === LITERAL_DELIMITER;
                    return e.resetPeek(), r;
                  })(e, t))
                )
                  return (
                    (r = f(
                      t,
                      7,
                      (function (e) {
                        v(e), p(e, "'");
                        for (
                          var t = "",
                            r = "",
                            n = function (e) {
                              return e !== LITERAL_DELIMITER && e !== CHAR_LF;
                            };
                          (t = x(e, n));

                        )
                          r += "\\" === t ? P(e) : t;
                        var i = e.currentChar();
                        return i === CHAR_LF || i === EOF
                          ? (h(
                              CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,
                              a(),
                              0
                            ),
                            i === CHAR_LF && (e.next(), p(e, "'")),
                            r)
                          : (p(e, "'"), r);
                      })(e)
                    )),
                    v(e),
                    r
                  );
                if (!n && !i && !s)
                  return (
                    (r = f(
                      t,
                      13,
                      (function (e) {
                        v(e);
                        for (
                          var t = "",
                            r = "",
                            n = function (e) {
                              return (
                                "{" !== e &&
                                "}" !== e &&
                                e !== CHAR_SP &&
                                e !== CHAR_LF
                              );
                            };
                          (t = x(e, n));

                        )
                          r += t;
                        return r;
                      })(e)
                    )),
                    h(
                      CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER,
                      a(),
                      0,
                      r.value
                    ),
                    v(e),
                    r
                  );
            }
            return r;
          }
          function M(e, t) {
            var r = t.currentType,
              n = null,
              i = e.currentChar();
            switch (
              ((8 !== r && 9 !== r && 12 !== r && 10 !== r) ||
                (i !== CHAR_LF && i !== CHAR_SP) ||
                h(CompileErrorCodes.INVALID_LINKED_FORMAT, a(), 0),
              i)
            ) {
              case "@":
                return e.next(), (n = f(t, 8, "@")), (t.inLinked = !0), n;
              case ".":
                return v(e), e.next(), f(t, 9, ".");
              case ":":
                return v(e), e.next(), f(t, 10, ":");
              default:
                return y(e)
                  ? ((n = f(t, 1, w(e))),
                    (t.braceNest = 0),
                    (t.inLinked = !1),
                    n)
                  : (function (e, t) {
                      if (8 !== t.currentType) return !1;
                      _(e);
                      var r = "." === e.currentPeek();
                      return e.resetPeek(), r;
                    })(e, t) ||
                    (function (e, t) {
                      var r = t.currentType;
                      if (8 !== r && 12 !== r) return !1;
                      _(e);
                      var n = ":" === e.currentPeek();
                      return e.resetPeek(), n;
                    })(e, t)
                  ? (v(e), M(e, t))
                  : (function (e, t) {
                      if (9 !== t.currentType) return !1;
                      _(e);
                      var r = m(e.currentPeek());
                      return e.resetPeek(), r;
                    })(e, t)
                  ? (v(e),
                    f(
                      t,
                      12,
                      (function (e) {
                        for (var t = "", r = ""; (t = E(e)); ) r += t;
                        return r;
                      })(e)
                    ))
                  : (function (e, t) {
                      if (10 !== t.currentType) return !1;
                      var r = (function t() {
                        var r = e.currentPeek();
                        return "{" === r
                          ? m(e.peek())
                          : !(
                              "@" === r ||
                              "%" === r ||
                              "|" === r ||
                              ":" === r ||
                              "." === r ||
                              r === CHAR_SP ||
                              !r
                            ) && (r === CHAR_LF ? (e.peek(), t()) : m(r));
                      })();
                      return e.resetPeek(), r;
                    })(e, t)
                  ? (v(e),
                    "{" === i
                      ? R(e, t) || n
                      : f(
                          t,
                          11,
                          (function (e) {
                            return (function t() {
                              var r =
                                  arguments.length > 0 &&
                                  void 0 !== arguments[0] &&
                                  arguments[0],
                                n =
                                  arguments.length > 1 ? arguments[1] : void 0,
                                i = e.currentChar();
                              return "{" !== i &&
                                "%" !== i &&
                                "@" !== i &&
                                "|" !== i &&
                                i
                                ? i === CHAR_SP
                                  ? n
                                  : i === CHAR_LF
                                  ? ((n += i), e.next(), t(r, n))
                                  : ((n += i), e.next(), t(!0, n))
                                : n;
                            })(!1, "");
                          })(e)
                        ))
                  : (8 === r &&
                      h(CompileErrorCodes.INVALID_LINKED_FORMAT, a(), 0),
                    (t.braceNest = 0),
                    (t.inLinked = !1),
                    I(e, t));
            }
          }
          function I(e, t) {
            var r = { type: 14 };
            if (t.braceNest > 0) return R(e, t) || d(t);
            if (t.inLinked) return M(e, t) || d(t);
            switch (e.currentChar()) {
              case "{":
                return R(e, t) || d(t);
              case "}":
                return (
                  h(CompileErrorCodes.UNBALANCED_CLOSING_BRACE, a(), 0),
                  e.next(),
                  f(t, 3, "}")
                );
              case "@":
                return M(e, t) || d(t);
              default:
                if (y(e))
                  return (
                    (r = f(t, 1, w(e))), (t.braceNest = 0), (t.inLinked = !1), r
                  );
                var n = (function (e) {
                    var t = _(e),
                      r = "%" === e.currentPeek() && "{" === e.peek();
                    return (
                      e.resetPeek(), { isModulo: r, hasSpace: t.length > 0 }
                    );
                  })(e),
                  i = n.isModulo,
                  s = n.hasSpace;
                if (i)
                  return s
                    ? f(t, 0, C(e))
                    : f(
                        t,
                        4,
                        (function (e) {
                          v(e);
                          var t = e.currentChar();
                          return (
                            "%" !== t &&
                              h(CompileErrorCodes.EXPECTED_TOKEN, a(), 0, t),
                            e.next(),
                            "%"
                          );
                        })(e)
                      );
                if (T(e)) return f(t, 0, C(e));
            }
            return r;
          }
          return {
            nextToken: function () {
              var e = u.currentType,
                t = u.offset,
                r = u.startLoc,
                s = u.endLoc;
              return (
                (u.lastType = e),
                (u.lastOffset = t),
                (u.lastStartLoc = r),
                (u.lastEndLoc = s),
                (u.offset = i()),
                (u.startLoc = a()),
                n.currentChar() === EOF ? f(u, 14) : I(n, u)
              );
            },
            currentOffset: i,
            currentPosition: a,
            context: l
          };
        }
        var ERROR_DOMAIN = "parser",
          KNOWN_ESCAPES = /(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;
        function fromEscapeSequence(e, t, r) {
          switch (e) {
            case "\\\\":
              return "\\";
            case "\\'":
              return "'";
            default:
              var n = parseInt(t || r, 16);
              return n <= 55295 || n >= 57344 ? String.fromCodePoint(n) : "�";
          }
        }
        function createParser() {
          var e =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {},
            t = !1 !== e.location,
            r = e.onError;
          function n(e, t, n, i) {
            var a = e.currentPosition();
            if (((a.offset += i), (a.column += i), r)) {
              for (
                var s = createLocation(n, a),
                  o = arguments.length,
                  u = new Array(o > 4 ? o - 4 : 0),
                  l = 4;
                l < o;
                l++
              )
                u[l - 4] = arguments[l];
              var c = createCompileError(t, s, {
                domain: ERROR_DOMAIN,
                args: u
              });
              r(c);
            }
          }
          function i(e, r, n) {
            var i = { type: e, start: r, end: r };
            return t && (i.loc = { start: n, end: n }), i;
          }
          function a(e, r, n, i) {
            (e.end = r), i && (e.type = i), t && e.loc && (e.loc.end = n);
          }
          function s(e, t) {
            var r = e.context(),
              n = i(3, r.offset, r.startLoc);
            return (
              (n.value = t), a(n, e.currentOffset(), e.currentPosition()), n
            );
          }
          function o(e, t) {
            var r = e.context(),
              n = i(5, r.lastOffset, r.lastStartLoc);
            return (
              (n.index = parseInt(t, 10)),
              e.nextToken(),
              a(n, e.currentOffset(), e.currentPosition()),
              n
            );
          }
          function u(e, t) {
            var r = e.context(),
              n = i(4, r.lastOffset, r.lastStartLoc);
            return (
              (n.key = t),
              e.nextToken(),
              a(n, e.currentOffset(), e.currentPosition()),
              n
            );
          }
          function l(e, t) {
            var r = e.context(),
              n = i(9, r.lastOffset, r.lastStartLoc);
            return (
              (n.value = t.replace(KNOWN_ESCAPES, fromEscapeSequence)),
              e.nextToken(),
              a(n, e.currentOffset(), e.currentPosition()),
              n
            );
          }
          function c(e) {
            var t = e.context(),
              r = i(6, t.offset, t.startLoc),
              s = e.nextToken();
            if (9 === s.type) {
              var c = (function (e) {
                var t = e.nextToken(),
                  r = e.context(),
                  s = r.lastOffset,
                  o = r.lastStartLoc,
                  u = i(8, s, o);
                return 12 !== t.type
                  ? (n(
                      e,
                      CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER,
                      r.lastStartLoc,
                      0
                    ),
                    (u.value = ""),
                    a(u, s, o),
                    { nextConsumeToken: t, node: u })
                  : (null == t.value &&
                      n(
                        e,
                        CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,
                        r.lastStartLoc,
                        0,
                        getTokenCaption(t)
                      ),
                    (u.value = t.value || ""),
                    a(u, e.currentOffset(), e.currentPosition()),
                    { node: u });
              })(e);
              (r.modifier = c.node), (s = c.nextConsumeToken || e.nextToken());
            }
            switch (
              (10 !== s.type &&
                n(
                  e,
                  CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,
                  t.lastStartLoc,
                  0,
                  getTokenCaption(s)
                ),
              2 === (s = e.nextToken()).type && (s = e.nextToken()),
              s.type)
            ) {
              case 11:
                null == s.value &&
                  n(
                    e,
                    CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,
                    t.lastStartLoc,
                    0,
                    getTokenCaption(s)
                  ),
                  (r.key = (function (e, t) {
                    var r = e.context(),
                      n = i(7, r.offset, r.startLoc);
                    return (
                      (n.value = t),
                      a(n, e.currentOffset(), e.currentPosition()),
                      n
                    );
                  })(e, s.value || ""));
                break;
              case 5:
                null == s.value &&
                  n(
                    e,
                    CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,
                    t.lastStartLoc,
                    0,
                    getTokenCaption(s)
                  ),
                  (r.key = u(e, s.value || ""));
                break;
              case 6:
                null == s.value &&
                  n(
                    e,
                    CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,
                    t.lastStartLoc,
                    0,
                    getTokenCaption(s)
                  ),
                  (r.key = o(e, s.value || ""));
                break;
              case 7:
                null == s.value &&
                  n(
                    e,
                    CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,
                    t.lastStartLoc,
                    0,
                    getTokenCaption(s)
                  ),
                  (r.key = l(e, s.value || ""));
                break;
              default:
                n(
                  e,
                  CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY,
                  t.lastStartLoc,
                  0
                );
                var h = e.context(),
                  f = i(7, h.offset, h.startLoc);
                return (
                  (f.value = ""),
                  a(f, h.offset, h.startLoc),
                  (r.key = f),
                  a(r, h.offset, h.startLoc),
                  { nextConsumeToken: s, node: r }
                );
            }
            return a(r, e.currentOffset(), e.currentPosition()), { node: r };
          }
          function h(e) {
            var t = e.context(),
              r = i(
                2,
                1 === t.currentType ? e.currentOffset() : t.offset,
                1 === t.currentType ? t.endLoc : t.startLoc
              );
            r.items = [];
            var h = null;
            do {
              var f = h || e.nextToken();
              switch (((h = null), f.type)) {
                case 0:
                  null == f.value &&
                    n(
                      e,
                      CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,
                      t.lastStartLoc,
                      0,
                      getTokenCaption(f)
                    ),
                    r.items.push(s(e, f.value || ""));
                  break;
                case 6:
                  null == f.value &&
                    n(
                      e,
                      CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,
                      t.lastStartLoc,
                      0,
                      getTokenCaption(f)
                    ),
                    r.items.push(o(e, f.value || ""));
                  break;
                case 5:
                  null == f.value &&
                    n(
                      e,
                      CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,
                      t.lastStartLoc,
                      0,
                      getTokenCaption(f)
                    ),
                    r.items.push(u(e, f.value || ""));
                  break;
                case 7:
                  null == f.value &&
                    n(
                      e,
                      CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,
                      t.lastStartLoc,
                      0,
                      getTokenCaption(f)
                    ),
                    r.items.push(l(e, f.value || ""));
                  break;
                case 8:
                  var d = c(e);
                  r.items.push(d.node), (h = d.nextConsumeToken || null);
              }
            } while (14 !== t.currentType && 1 !== t.currentType);
            return (
              a(
                r,
                1 === t.currentType ? t.lastOffset : e.currentOffset(),
                1 === t.currentType ? t.lastEndLoc : e.currentPosition()
              ),
              r
            );
          }
          function f(e) {
            var t = e.context(),
              r = t.offset,
              s = t.startLoc,
              o = h(e);
            return 14 === t.currentType
              ? o
              : (function (e, t, r, s) {
                  var o = e.context(),
                    u = 0 === s.items.length,
                    l = i(1, t, r);
                  (l.cases = []), l.cases.push(s);
                  do {
                    var c = h(e);
                    u || (u = 0 === c.items.length), l.cases.push(c);
                  } while (14 !== o.currentType);
                  return (
                    u &&
                      n(
                        e,
                        CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL,
                        r,
                        0
                      ),
                    a(l, e.currentOffset(), e.currentPosition()),
                    l
                  );
                })(e, r, s, o);
          }
          return {
            parse: function (r) {
              var s = createTokenizer(r, assign({}, e)),
                o = s.context(),
                u = i(0, o.offset, o.startLoc);
              return (
                t && u.loc && (u.loc.source = r),
                (u.body = f(s)),
                14 !== o.currentType &&
                  n(
                    s,
                    CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS,
                    o.lastStartLoc,
                    0,
                    r[o.offset] || ""
                  ),
                a(u, s.currentOffset(), s.currentPosition()),
                u
              );
            }
          };
        }
        function getTokenCaption(e) {
          if (14 === e.type) return "EOF";
          var t = (e.value || "").replace(/\r?\n/g, "\\n");
          return t.length > 10 ? t.slice(0, 9) + "…" : t;
        }
        function createTransformer(e) {
          var t = { ast: e, helpers: new Set() };
          return {
            context: function () {
              return t;
            },
            helper: function (e) {
              return t.helpers.add(e), e;
            }
          };
        }
        function traverseNodes(e, t) {
          for (var r = 0; r < e.length; r++) traverseNode(e[r], t);
        }
        function traverseNode(e, t) {
          switch (e.type) {
            case 1:
              traverseNodes(e.cases, t), t.helper("plural");
              break;
            case 2:
              traverseNodes(e.items, t);
              break;
            case 6:
              traverseNode(e.key, t), t.helper("linked"), t.helper("type");
              break;
            case 5:
              t.helper("interpolate"), t.helper("list");
              break;
            case 4:
              t.helper("interpolate"), t.helper("named");
          }
        }
        function transform(e) {
          var t = createTransformer(e);
          t.helper("normalize"), e.body && traverseNode(e.body, t);
          var r = t.context();
          e.helpers = Array.from(r.helpers);
        }
        function createCodeGenerator(e, t) {
          t.sourceMap;
          var r = t.filename,
            n = t.breakLineCode,
            i = t.needIndent,
            a = {
              source: e.loc.source,
              filename: r,
              code: "",
              column: 1,
              line: 1,
              offset: 0,
              map: void 0,
              breakLineCode: n,
              needIndent: i,
              indentLevel: 0
            };
          function s(e, t) {
            a.code += e;
          }
          function o(e) {
            var t =
              !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]
                ? n
                : "";
            s(i ? t + "  ".repeat(e) : t);
          }
          return {
            context: function () {
              return a;
            },
            push: s,
            indent: function () {
              var e =
                  !(arguments.length > 0 && void 0 !== arguments[0]) ||
                  arguments[0],
                t = ++a.indentLevel;
              e && o(t);
            },
            deindent: function () {
              var e =
                  !(arguments.length > 0 && void 0 !== arguments[0]) ||
                  arguments[0],
                t = --a.indentLevel;
              e && o(t);
            },
            newline: function () {
              o(a.indentLevel);
            },
            helper: function (e) {
              return "_".concat(e);
            },
            needIndent: function () {
              return a.needIndent;
            }
          };
        }
        function generateLinkedNode(e, t) {
          var r = e.helper;
          e.push("".concat(r("linked"), "(")),
            generateNode(e, t.key),
            t.modifier
              ? (e.push(", "), generateNode(e, t.modifier), e.push(", _type"))
              : e.push(", undefined, _type"),
            e.push(")");
        }
        function generateMessageNode(e, t) {
          var r = e.helper,
            n = e.needIndent;
          e.push("".concat(r("normalize"), "([")), e.indent(n());
          for (
            var i = t.items.length, a = 0;
            a < i && (generateNode(e, t.items[a]), a !== i - 1);
            a++
          )
            e.push(", ");
          e.deindent(n()), e.push("])");
        }
        function generatePluralNode(e, t) {
          var r = e.helper,
            n = e.needIndent;
          if (t.cases.length > 1) {
            e.push("".concat(r("plural"), "([")), e.indent(n());
            for (
              var i = t.cases.length, a = 0;
              a < i && (generateNode(e, t.cases[a]), a !== i - 1);
              a++
            )
              e.push(", ");
            e.deindent(n()), e.push("])");
          }
        }
        function generateResource(e, t) {
          t.body ? generateNode(e, t.body) : e.push("null");
        }
        function generateNode(e, t) {
          var r = e.helper;
          switch (t.type) {
            case 0:
              generateResource(e, t);
              break;
            case 1:
              generatePluralNode(e, t);
              break;
            case 2:
              generateMessageNode(e, t);
              break;
            case 6:
              generateLinkedNode(e, t);
              break;
            case 8:
            case 7:
            case 9:
            case 3:
              e.push(JSON.stringify(t.value), t);
              break;
            case 5:
              e.push(
                ""
                  .concat(r("interpolate"), "(")
                  .concat(r("list"), "(")
                  .concat(t.index, "))"),
                t
              );
              break;
            case 4:
              e.push(
                ""
                  .concat(r("interpolate"), "(")
                  .concat(r("named"), "(")
                  .concat(JSON.stringify(t.key), "))"),
                t
              );
          }
        }
        var generate = function (e) {
          var t =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : {},
            r = isString(t.mode) ? t.mode : "normal",
            n = isString(t.filename) ? t.filename : "message.intl",
            i = !!t.sourceMap,
            a =
              null != t.breakLineCode
                ? t.breakLineCode
                : "arrow" === r
                ? ";"
                : "\n",
            s = t.needIndent ? t.needIndent : "arrow" !== r,
            o = e.helpers || [],
            u = createCodeGenerator(e, {
              mode: r,
              filename: n,
              sourceMap: i,
              breakLineCode: a,
              needIndent: s
            });
          u.push("normal" === r ? "function __msg__ (ctx) {" : "(ctx) => {"),
            u.indent(s),
            o.length > 0 &&
              (u.push(
                "const { ".concat(
                  o
                    .map(function (e) {
                      return "".concat(e, ": _").concat(e);
                    })
                    .join(", "),
                  " } = ctx"
                )
              ),
              u.newline()),
            u.push("return "),
            generateNode(u, e),
            u.deindent(s),
            u.push("}");
          var l = u.context(),
            c = l.code,
            h = l.map;
          return { ast: e, code: c, map: h ? h.toJSON() : void 0 };
        };
        function baseCompile(e) {
          var t = assign(
              {},
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : {}
            ),
            r = createParser(t).parse(e);
          return transform(r, t), generate(r, t);
        }
        /*!
         * devtools-if v9.2.2
         * (c) 2022 kazuya kawaguchi
         * Released under the MIT License.
         */ var IntlifyDevToolsHooks = {
            I18nInit: "i18n:init",
            FunctionTranslate: "function:translate"
          },
          pathStateMachine = [];
        /*!
         * core-base v9.2.2
         * (c) 2022 kazuya kawaguchi
         * Released under the MIT License.
         */ (pathStateMachine[0] =
          ((_pathStateMachine$ = {}),
          _defineProperty(_pathStateMachine$, "w", [0]),
          _defineProperty(_pathStateMachine$, "i", [3, 0]),
          _defineProperty(_pathStateMachine$, "[", [4]),
          _defineProperty(_pathStateMachine$, "o", [7]),
          _pathStateMachine$)),
          (pathStateMachine[1] =
            ((_pathStateMachine$2 = {}),
            _defineProperty(_pathStateMachine$2, "w", [1]),
            _defineProperty(_pathStateMachine$2, ".", [2]),
            _defineProperty(_pathStateMachine$2, "[", [4]),
            _defineProperty(_pathStateMachine$2, "o", [7]),
            _pathStateMachine$2)),
          (pathStateMachine[2] =
            ((_pathStateMachine$3 = {}),
            _defineProperty(_pathStateMachine$3, "w", [2]),
            _defineProperty(_pathStateMachine$3, "i", [3, 0]),
            _defineProperty(_pathStateMachine$3, "0", [3, 0]),
            _pathStateMachine$3)),
          (pathStateMachine[3] =
            ((_pathStateMachine$4 = {}),
            _defineProperty(_pathStateMachine$4, "i", [3, 0]),
            _defineProperty(_pathStateMachine$4, "0", [3, 0]),
            _defineProperty(_pathStateMachine$4, "w", [1, 1]),
            _defineProperty(_pathStateMachine$4, ".", [2, 1]),
            _defineProperty(_pathStateMachine$4, "[", [4, 1]),
            _defineProperty(_pathStateMachine$4, "o", [7, 1]),
            _pathStateMachine$4)),
          (pathStateMachine[4] =
            ((_pathStateMachine$5 = {}),
            _defineProperty(_pathStateMachine$5, "'", [5, 0]),
            _defineProperty(_pathStateMachine$5, '"', [6, 0]),
            _defineProperty(_pathStateMachine$5, "[", [4, 2]),
            _defineProperty(_pathStateMachine$5, "]", [1, 3]),
            _defineProperty(_pathStateMachine$5, "o", 8),
            _defineProperty(_pathStateMachine$5, "l", [4, 0]),
            _pathStateMachine$5)),
          (pathStateMachine[5] =
            ((_pathStateMachine$6 = {}),
            _defineProperty(_pathStateMachine$6, "'", [4, 0]),
            _defineProperty(_pathStateMachine$6, "o", 8),
            _defineProperty(_pathStateMachine$6, "l", [5, 0]),
            _pathStateMachine$6)),
          (pathStateMachine[6] =
            ((_pathStateMachine$7 = {}),
            _defineProperty(_pathStateMachine$7, '"', [4, 0]),
            _defineProperty(_pathStateMachine$7, "o", 8),
            _defineProperty(_pathStateMachine$7, "l", [6, 0]),
            _pathStateMachine$7));
        var literalValueRE = /^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;
        function isLiteral(e) {
          return literalValueRE.test(e);
        }
        function stripQuotes(e) {
          var t = e.charCodeAt(0);
          return t !== e.charCodeAt(e.length - 1) || (34 !== t && 39 !== t)
            ? e
            : e.slice(1, -1);
        }
        function getPathCharType(e) {
          if (null == e) return "o";
          switch (e.charCodeAt(0)) {
            case 91:
            case 93:
            case 46:
            case 34:
            case 39:
              return e;
            case 95:
            case 36:
            case 45:
              return "i";
            case 9:
            case 10:
            case 13:
            case 160:
            case 65279:
            case 8232:
            case 8233:
              return "w";
          }
          return "i";
        }
        function formatSubPath(e) {
          var t = e.trim();
          return (
            ("0" !== e.charAt(0) || !isNaN(parseInt(e))) &&
            (isLiteral(t) ? stripQuotes(t) : "*" + t)
          );
        }
        function parse$1(e) {
          var t,
            r,
            n,
            i,
            a,
            s,
            o,
            u = [],
            l = -1,
            c = 0,
            h = 0,
            f = [];
          function d() {
            var t = e[l + 1];
            if ((5 === c && "'" === t) || (6 === c && '"' === t))
              return l++, (n = "\\" + t), f[0](), !0;
          }
          for (
            f[0] = function () {
              void 0 === r ? (r = n) : (r += n);
            },
              f[1] = function () {
                void 0 !== r && (u.push(r), (r = void 0));
              },
              f[2] = function () {
                f[0](), h++;
              },
              f[3] = function () {
                if (h > 0) h--, (c = 4), f[0]();
                else {
                  if (((h = 0), void 0 === r)) return !1;
                  if (!1 === (r = formatSubPath(r))) return !1;
                  f[1]();
                }
              };
            null !== c;

          )
            if ((l++, "\\" !== (t = e[l]) || !d())) {
              if (
                ((i = getPathCharType(t)),
                8 === (a = (o = pathStateMachine[c])[i] || o.l || 8))
              )
                return;
              if (
                ((c = a[0]),
                void 0 !== a[1] && (s = f[a[1]]) && ((n = t), !1 === s()))
              )
                return;
              if (7 === c) return u;
            }
        }
        var cache = new Map();
        function resolveWithKeyValue(e, t) {
          return isObject(e) ? e[t] : null;
        }
        function resolveValue(e, t) {
          if (!isObject(e)) return null;
          var r = cache.get(t);
          if ((r || ((r = parse$1(t)) && cache.set(t, r)), !r)) return null;
          for (var n = r.length, i = e, a = 0; a < n; ) {
            var s = i[r[a]];
            if (void 0 === s) return null;
            (i = s), a++;
          }
          return i;
        }
        var DEFAULT_MODIFIER = function (e) {
            return e;
          },
          DEFAULT_MESSAGE = function (e) {
            return "";
          },
          DEFAULT_MESSAGE_DATA_TYPE = "text",
          DEFAULT_NORMALIZE = function (e) {
            return 0 === e.length ? "" : e.join("");
          },
          DEFAULT_INTERPOLATE = toDisplayString;
        function pluralDefault(e, t) {
          return (
            (e = Math.abs(e)),
            2 === t ? (e ? (e > 1 ? 1 : 0) : 1) : e ? Math.min(e, 2) : 0
          );
        }
        function getPluralIndex(e) {
          var t = isNumber(e.pluralIndex) ? e.pluralIndex : -1;
          return e.named && (isNumber(e.named.count) || isNumber(e.named.n))
            ? isNumber(e.named.count)
              ? e.named.count
              : isNumber(e.named.n)
              ? e.named.n
              : t
            : t;
        }
        function normalizeNamed(e, t) {
          t.count || (t.count = e), t.n || (t.n = e);
        }
        function createMessageContext() {
          var e,
            t =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {},
            r = t.locale,
            n = getPluralIndex(t),
            i =
              isObject(t.pluralRules) &&
              isString(r) &&
              isFunction(t.pluralRules[r])
                ? t.pluralRules[r]
                : pluralDefault,
            a =
              isObject(t.pluralRules) &&
              isString(r) &&
              isFunction(t.pluralRules[r])
                ? pluralDefault
                : void 0,
            s = t.list || [],
            o = t.named || {};
          isNumber(t.pluralIndex) && normalizeNamed(n, o);
          function u(e) {
            var r = isFunction(t.messages)
              ? t.messages(e)
              : !!isObject(t.messages) && t.messages[e];
            return r || (t.parent ? t.parent.message(e) : DEFAULT_MESSAGE);
          }
          var l =
              isPlainObject(t.processor) && isFunction(t.processor.normalize)
                ? t.processor.normalize
                : DEFAULT_NORMALIZE,
            c =
              isPlainObject(t.processor) && isFunction(t.processor.interpolate)
                ? t.processor.interpolate
                : DEFAULT_INTERPOLATE,
            h =
              isPlainObject(t.processor) && isString(t.processor.type)
                ? t.processor.type
                : DEFAULT_MESSAGE_DATA_TYPE,
            f =
              (_defineProperty((e = {}), "list", function (e) {
                return s[e];
              }),
              _defineProperty(e, "named", function (e) {
                return o[e];
              }),
              _defineProperty(e, "plural", function (e) {
                return e[i(n, e.length, a)];
              }),
              _defineProperty(e, "linked", function (e) {
                for (
                  var r = arguments.length,
                    n = new Array(r > 1 ? r - 1 : 0),
                    i = 1;
                  i < r;
                  i++
                )
                  n[i - 1] = arguments[i];
                var a = n[0],
                  s = n[1],
                  o = "text",
                  l = "";
                1 === n.length
                  ? isObject(a)
                    ? ((l = a.modifier || l), (o = a.type || o))
                    : isString(a) && (l = a || l)
                  : 2 === n.length &&
                    (isString(a) && (l = a || l), isString(s) && (o = s || o));
                var c,
                  h = u(e)(f);
                return (
                  "vnode" === o && isArray(h) && l && (h = h[0]),
                  l
                    ? ((c = l),
                      t.modifiers ? t.modifiers[c] : DEFAULT_MODIFIER)(h, o)
                    : h
                );
              }),
              _defineProperty(e, "message", u),
              _defineProperty(e, "type", h),
              _defineProperty(e, "interpolate", c),
              _defineProperty(e, "normalize", l),
              e);
          return f;
        }
        var devtools = null;
        function setDevToolsHook(e) {
          devtools = e;
        }
        function initI18nDevTools(e, t, r) {
          devtools &&
            devtools.emit(IntlifyDevToolsHooks.I18nInit, {
              timestamp: Date.now(),
              i18n: e,
              version: t,
              meta: r
            });
        }
        var translateDevTools = createDevToolsHook(
          IntlifyDevToolsHooks.FunctionTranslate
        );
        function createDevToolsHook(e) {
          return function (t) {
            return devtools && devtools.emit(e, t);
          };
        }
        function fallbackWithSimple(e, t, r) {
          return _toConsumableArray(
            new Set(
              [r].concat(
                _toConsumableArray(
                  isArray(t)
                    ? t
                    : isObject(t)
                    ? Object.keys(t)
                    : isString(t)
                    ? [t]
                    : [r]
                )
              )
            )
          );
        }
        function fallbackWithLocaleChain(e, t, r) {
          var n = isString(r) ? r : DEFAULT_LOCALE,
            i = e;
          i.__localeChainCache || (i.__localeChainCache = new Map());
          var a = i.__localeChainCache.get(n);
          if (!a) {
            a = [];
            for (var s = [r]; isArray(s); ) s = appendBlockToChain(a, s, t);
            var o =
              isArray(t) || !isPlainObject(t)
                ? t
                : t.default
                ? t.default
                : null;
            (s = isString(o) ? [o] : o),
              isArray(s) && appendBlockToChain(a, s, !1),
              i.__localeChainCache.set(n, a);
          }
          return a;
        }
        function appendBlockToChain(e, t, r) {
          for (var n = !0, i = 0; i < t.length && isBoolean(n); i++) {
            var a = t[i];
            isString(a) && (n = appendLocaleToChain(e, t[i], r));
          }
          return n;
        }
        function appendLocaleToChain(e, t, r) {
          var n,
            i = t.split("-");
          do {
            (n = appendItemToChain(e, i.join("-"), r)), i.splice(-1, 1);
          } while (i.length && !0 === n);
          return n;
        }
        function appendItemToChain(e, t, r) {
          var n = !1;
          if (!e.includes(t) && ((n = !0), t)) {
            n = "!" !== t[t.length - 1];
            var i = t.replace(/!/g, "");
            e.push(i), (isArray(r) || isPlainObject(r)) && r[i] && (n = r[i]);
          }
          return n;
        }
        var VERSION$1 = "9.2.2",
          NOT_REOSLVED = -1,
          DEFAULT_LOCALE = "en-US",
          MISSING_RESOLVE_VALUE = "",
          _capitalize = function (e) {
            return ""
              .concat(e.charAt(0).toLocaleUpperCase())
              .concat(e.substr(1));
          },
          _compiler,
          _resolver,
          _fallbacker;
        function getDefaultLinkedModifiers() {
          return {
            upper: function (e, t) {
              return "text" === t && isString(e)
                ? e.toUpperCase()
                : "vnode" === t && isObject(e) && "__v_isVNode" in e
                ? e.children.toUpperCase()
                : e;
            },
            lower: function (e, t) {
              return "text" === t && isString(e)
                ? e.toLowerCase()
                : "vnode" === t && isObject(e) && "__v_isVNode" in e
                ? e.children.toLowerCase()
                : e;
            },
            capitalize: function (e, t) {
              return "text" === t && isString(e)
                ? _capitalize(e)
                : "vnode" === t && isObject(e) && "__v_isVNode" in e
                ? _capitalize(e.children)
                : e;
            }
          };
        }
        function registerMessageCompiler(e) {
          _compiler = e;
        }
        function registerMessageResolver(e) {
          _resolver = e;
        }
        function registerLocaleFallbacker(e) {
          _fallbacker = e;
        }
        var _additionalMeta = null,
          setAdditionalMeta = function (e) {
            _additionalMeta = e;
          },
          getAdditionalMeta = function () {
            return _additionalMeta;
          },
          _fallbackContext = null,
          setFallbackContext = function (e) {
            _fallbackContext = e;
          },
          getFallbackContext = function () {
            return _fallbackContext;
          },
          _cid = 0;
        function createCoreContext() {
          var e =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {},
            t = isString(e.version) ? e.version : VERSION$1,
            r = isString(e.locale) ? e.locale : DEFAULT_LOCALE,
            n =
              isArray(e.fallbackLocale) ||
              isPlainObject(e.fallbackLocale) ||
              isString(e.fallbackLocale) ||
              !1 === e.fallbackLocale
                ? e.fallbackLocale
                : r,
            i = isPlainObject(e.messages)
              ? e.messages
              : _defineProperty({}, r, {}),
            a = isPlainObject(e.datetimeFormats)
              ? e.datetimeFormats
              : _defineProperty({}, r, {}),
            s = isPlainObject(e.numberFormats)
              ? e.numberFormats
              : _defineProperty({}, r, {}),
            o = assign({}, e.modifiers || {}, getDefaultLinkedModifiers()),
            u = e.pluralRules || {},
            l = isFunction(e.missing) ? e.missing : null,
            c =
              (!isBoolean(e.missingWarn) && !isRegExp(e.missingWarn)) ||
              e.missingWarn,
            h =
              (!isBoolean(e.fallbackWarn) && !isRegExp(e.fallbackWarn)) ||
              e.fallbackWarn,
            f = !!e.fallbackFormat,
            d = !!e.unresolving,
            p = isFunction(e.postTranslation) ? e.postTranslation : null,
            _ = isPlainObject(e.processor) ? e.processor : null,
            v = !isBoolean(e.warnHtmlMessage) || e.warnHtmlMessage,
            m = !!e.escapeParameter,
            g = isFunction(e.messageCompiler) ? e.messageCompiler : _compiler,
            y = isFunction(e.messageResolver)
              ? e.messageResolver
              : _resolver || resolveWithKeyValue,
            T = isFunction(e.localeFallbacker)
              ? e.localeFallbacker
              : _fallbacker || fallbackWithSimple,
            x = isObject(e.fallbackContext) ? e.fallbackContext : void 0,
            E = isFunction(e.onWarn) ? e.onWarn : warn,
            b = e,
            S = isObject(b.__datetimeFormatters)
              ? b.__datetimeFormatters
              : new Map(),
            A = isObject(b.__numberFormatters)
              ? b.__numberFormatters
              : new Map(),
            C = isObject(b.__meta) ? b.__meta : {},
            P = {
              version: t,
              cid: ++_cid,
              locale: r,
              fallbackLocale: n,
              messages: i,
              modifiers: o,
              pluralRules: u,
              missing: l,
              missingWarn: c,
              fallbackWarn: h,
              fallbackFormat: f,
              unresolving: d,
              postTranslation: p,
              processor: _,
              warnHtmlMessage: v,
              escapeParameter: m,
              messageCompiler: g,
              messageResolver: y,
              localeFallbacker: T,
              fallbackContext: x,
              onWarn: E,
              __meta: C
            };
          return (
            (P.datetimeFormats = a),
            (P.numberFormats = s),
            (P.__datetimeFormatters = S),
            (P.__numberFormatters = A),
            __INTLIFY_PROD_DEVTOOLS__ && initI18nDevTools(P, t, C),
            P
          );
        }
        function handleMissing(e, t, r, n, i) {
          var a = e.missing;
          e.onWarn;
          if (null !== a) {
            var s = a(e, r, t, i);
            return isString(s) ? s : t;
          }
          return t;
        }
        function updateFallbackLocale(e, t, r) {
          (e.__localeChainCache = new Map()), e.localeFallbacker(e, r, t);
        }
        var defaultOnCacheKey = function (e) {
            return e;
          },
          compileCache = Object.create(null);
        function compileToFunction(e) {
          var t =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : {},
            r = (t.onCacheKey || defaultOnCacheKey)(e),
            n = compileCache[r];
          if (n) return n;
          var i = !1,
            a = t.onError || defaultOnError;
          t.onError = function (e) {
            (i = !0), a(e);
          };
          var s = baseCompile(e, t).code,
            o = new Function("return ".concat(s))();
          return i ? o : (compileCache[r] = o);
        }
        var code$1 = CompileErrorCodes.__EXTEND_POINT__,
          inc$1 = function () {
            return ++code$1;
          },
          CoreErrorCodes = {
            INVALID_ARGUMENT: code$1,
            INVALID_DATE_ARGUMENT: inc$1(),
            INVALID_ISO_DATE_ARGUMENT: inc$1(),
            __EXTEND_POINT__: inc$1()
          };
        function createCoreError(e) {
          return createCompileError(e, null, void 0);
        }
        var NOOP_MESSAGE_FUNCTION = function () {
            return "";
          },
          isMessageFunction = function (e) {
            return isFunction(e);
          };
        function translate(e) {
          for (
            var t = e.fallbackFormat,
              r = e.postTranslation,
              n = e.unresolving,
              i = e.messageCompiler,
              a = e.fallbackLocale,
              s = e.messages,
              o = arguments.length,
              u = new Array(o > 1 ? o - 1 : 0),
              l = 1;
            l < o;
            l++
          )
            u[l - 1] = arguments[l];
          var c = _slicedToArray(parseTranslateArgs.apply(void 0, u), 2),
            h = c[0],
            f = c[1],
            d = isBoolean(f.missingWarn) ? f.missingWarn : e.missingWarn,
            p = isBoolean(f.fallbackWarn) ? f.fallbackWarn : e.fallbackWarn,
            _ = isBoolean(f.escapeParameter)
              ? f.escapeParameter
              : e.escapeParameter,
            v = !!f.resolvedMessage,
            m =
              isString(f.default) || isBoolean(f.default)
                ? isBoolean(f.default)
                  ? i
                    ? h
                    : function () {
                        return h;
                      }
                  : f.default
                : t
                ? i
                  ? h
                  : function () {
                      return h;
                    }
                : "",
            g = t || "" !== m,
            y = isString(f.locale) ? f.locale : e.locale;
          _ && escapeParams(f);
          var T = _slicedToArray(
              v ? [h, y, s[y] || {}] : resolveMessageFormat(e, h, y, a, p, d),
              3
            ),
            x = T[0],
            E = T[1],
            b = T[2],
            S = x,
            A = h;
          if (
            (v || isString(S) || isMessageFunction(S) || (g && (A = S = m)),
            !(v || ((isString(S) || isMessageFunction(S)) && isString(E))))
          )
            return n ? NOT_REOSLVED : h;
          var C = !1,
            P = isMessageFunction(S)
              ? S
              : compileMessageFormat(e, h, E, S, A, function () {
                  C = !0;
                });
          if (C) return S;
          var k = evaluateMessage(
              e,
              P,
              createMessageContext(getMessageContextOptions(e, E, b, f))
            ),
            w = r ? r(k, h) : k;
          if (__INTLIFY_PROD_DEVTOOLS__) {
            var R = {
              timestamp: Date.now(),
              key: isString(h) ? h : isMessageFunction(S) ? S.key : "",
              locale: E || (isMessageFunction(S) ? S.locale : ""),
              format: isString(S) ? S : isMessageFunction(S) ? S.source : "",
              message: w
            };
            (R.meta = assign({}, e.__meta, getAdditionalMeta() || {})),
              translateDevTools(R);
          }
          return w;
        }
        function escapeParams(e) {
          isArray(e.list)
            ? (e.list = e.list.map(function (e) {
                return isString(e) ? escapeHtml(e) : e;
              }))
            : isObject(e.named) &&
              Object.keys(e.named).forEach(function (t) {
                isString(e.named[t]) && (e.named[t] = escapeHtml(e.named[t]));
              });
        }
        function resolveMessageFormat(e, t, r, n, i, a) {
          for (
            var s,
              o = e.messages,
              u = (e.onWarn, e.messageResolver),
              l = (0, e.localeFallbacker)(e, n, r),
              c = {},
              h = null,
              f = 0;
            f < l.length &&
            (null === (h = u((c = o[(s = l[f])] || {}), t)) && (h = c[t]),
            !isString(h) && !isFunction(h));
            f++
          ) {
            var d = handleMissing(e, t, s, a, "translate");
            d !== t && (h = d);
          }
          return [h, s, c];
        }
        function compileMessageFormat(e, t, r, n, i, a) {
          var s = e.messageCompiler,
            o = e.warnHtmlMessage;
          if (isMessageFunction(n)) {
            var u = n;
            return (u.locale = u.locale || r), (u.key = u.key || t), u;
          }
          if (null == s) {
            var l = function () {
              return n;
            };
            return (l.locale = r), (l.key = t), l;
          }
          var c = s(n, getCompileOptions(e, r, i, n, o, a));
          return (c.locale = r), (c.key = t), (c.source = n), c;
        }
        function evaluateMessage(e, t, r) {
          return t(r);
        }
        function parseTranslateArgs() {
          for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++)
            t[r] = arguments[r];
          var n = t[0],
            i = t[1],
            a = t[2],
            s = {};
          if (!isString(n) && !isNumber(n) && !isMessageFunction(n))
            throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);
          var o = isNumber(n) ? String(n) : (isMessageFunction(n), n);
          return (
            isNumber(i)
              ? (s.plural = i)
              : isString(i)
              ? (s.default = i)
              : isPlainObject(i) && !isEmptyObject(i)
              ? (s.named = i)
              : isArray(i) && (s.list = i),
            isNumber(a)
              ? (s.plural = a)
              : isString(a)
              ? (s.default = a)
              : isPlainObject(a) && assign(s, a),
            [o, s]
          );
        }
        function getCompileOptions(e, t, r, n, i, a) {
          return {
            warnHtmlMessage: i,
            onError: function (e) {
              throw (a && a(e), e);
            },
            onCacheKey: function (e) {
              return generateFormatCacheKey(t, r, e);
            }
          };
        }
        function getMessageContextOptions(e, t, r, n) {
          var i = e.modifiers,
            a = e.pluralRules,
            s = e.messageResolver,
            o = e.fallbackLocale,
            u = e.fallbackWarn,
            l = e.missingWarn,
            c = e.fallbackContext,
            h = {
              locale: t,
              modifiers: i,
              pluralRules: a,
              messages: function (n) {
                var i = s(r, n);
                if (null == i && c) {
                  var a = _slicedToArray(
                    resolveMessageFormat(c, n, t, o, u, l),
                    3
                  )[2];
                  i = s(a, n);
                }
                if (isString(i)) {
                  var h = !1,
                    f = compileMessageFormat(e, n, t, i, n, function () {
                      h = !0;
                    });
                  return h ? NOOP_MESSAGE_FUNCTION : f;
                }
                return isMessageFunction(i) ? i : NOOP_MESSAGE_FUNCTION;
              }
            };
          return (
            e.processor && (h.processor = e.processor),
            n.list && (h.list = n.list),
            n.named && (h.named = n.named),
            isNumber(n.plural) && (h.pluralIndex = n.plural),
            h
          );
        }
        function datetime(e) {
          for (
            var t = e.datetimeFormats,
              r = e.unresolving,
              n = e.fallbackLocale,
              i = (e.onWarn, e.localeFallbacker),
              a = e.__datetimeFormatters,
              s = arguments.length,
              o = new Array(s > 1 ? s - 1 : 0),
              u = 1;
            u < s;
            u++
          )
            o[u - 1] = arguments[u];
          var l = _slicedToArray(parseDateTimeArgs.apply(void 0, o), 4),
            c = l[0],
            h = l[1],
            f = l[2],
            d = l[3],
            p = isBoolean(f.missingWarn) ? f.missingWarn : e.missingWarn;
          isBoolean(f.fallbackWarn) ? f.fallbackWarn : e.fallbackWarn;
          var _ = !!f.part,
            v = isString(f.locale) ? f.locale : e.locale,
            m = i(e, n, v);
          if (!isString(c) || "" === c)
            return new Intl.DateTimeFormat(v, d).format(h);
          for (
            var g, y = null, T = 0;
            T < m.length && ((y = (t[(g = m[T])] || {})[c]), !isPlainObject(y));
            T++
          )
            handleMissing(e, c, g, p, "datetime format");
          if (!isPlainObject(y) || !isString(g)) return r ? NOT_REOSLVED : c;
          var x = "".concat(g, "__").concat(c);
          isEmptyObject(d) ||
            (x = "".concat(x, "__").concat(JSON.stringify(d)));
          var E = a.get(x);
          return (
            E ||
              ((E = new Intl.DateTimeFormat(g, assign({}, y, d))), a.set(x, E)),
            _ ? E.formatToParts(h) : E.format(h)
          );
        }
        var DATETIME_FORMAT_OPTIONS_KEYS = [
          "localeMatcher",
          "weekday",
          "era",
          "year",
          "month",
          "day",
          "hour",
          "minute",
          "second",
          "timeZoneName",
          "formatMatcher",
          "hour12",
          "timeZone",
          "dateStyle",
          "timeStyle",
          "calendar",
          "dayPeriod",
          "numberingSystem",
          "hourCycle",
          "fractionalSecondDigits"
        ];
        function parseDateTimeArgs() {
          for (var t = arguments.length, r = new Array(t), n = 0; n < t; n++)
            r[n] = arguments[n];
          var i,
            a = r[0],
            s = r[1],
            o = r[2],
            u = r[3],
            l = {},
            c = {};
          if (isString(a)) {
            var h = a.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);
            if (!h)
              throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT);
            var f = h[3]
              ? h[3].trim().startsWith("T")
                ? "".concat(h[1].trim()).concat(h[3].trim())
                : "".concat(h[1].trim(), "T").concat(h[3].trim())
              : h[1].trim();
            i = new Date(f);
            try {
              i.toISOString();
            } catch (e) {
              throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT);
            }
          } else if (isDate(a)) {
            if (isNaN(a.getTime()))
              throw createCoreError(CoreErrorCodes.INVALID_DATE_ARGUMENT);
            i = a;
          } else {
            if (!isNumber(a))
              throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);
            i = a;
          }
          return (
            isString(s)
              ? (l.key = s)
              : isPlainObject(s) &&
                Object.keys(s).forEach(function (e) {
                  DATETIME_FORMAT_OPTIONS_KEYS.includes(e)
                    ? (c[e] = s[e])
                    : (l[e] = s[e]);
                }),
            isString(o) ? (l.locale = o) : isPlainObject(o) && (c = o),
            isPlainObject(u) && (c = u),
            [l.key || "", i, l, c]
          );
        }
        function clearDateTimeFormat(e, t, r) {
          var n = e;
          for (var i in r) {
            var a = "".concat(t, "__").concat(i);
            n.__datetimeFormatters.has(a) && n.__datetimeFormatters.delete(a);
          }
        }
        function number(e) {
          for (
            var t = e.numberFormats,
              r = e.unresolving,
              n = e.fallbackLocale,
              i = (e.onWarn, e.localeFallbacker),
              a = e.__numberFormatters,
              s = arguments.length,
              o = new Array(s > 1 ? s - 1 : 0),
              u = 1;
            u < s;
            u++
          )
            o[u - 1] = arguments[u];
          var l = _slicedToArray(parseNumberArgs.apply(void 0, o), 4),
            c = l[0],
            h = l[1],
            f = l[2],
            d = l[3],
            p = isBoolean(f.missingWarn) ? f.missingWarn : e.missingWarn;
          isBoolean(f.fallbackWarn) ? f.fallbackWarn : e.fallbackWarn;
          var _ = !!f.part,
            v = isString(f.locale) ? f.locale : e.locale,
            m = i(e, n, v);
          if (!isString(c) || "" === c)
            return new Intl.NumberFormat(v, d).format(h);
          for (
            var g, y = null, T = 0;
            T < m.length && ((y = (t[(g = m[T])] || {})[c]), !isPlainObject(y));
            T++
          )
            handleMissing(e, c, g, p, "number format");
          if (!isPlainObject(y) || !isString(g)) return r ? NOT_REOSLVED : c;
          var x = "".concat(g, "__").concat(c);
          isEmptyObject(d) ||
            (x = "".concat(x, "__").concat(JSON.stringify(d)));
          var E = a.get(x);
          return (
            E ||
              ((E = new Intl.NumberFormat(g, assign({}, y, d))), a.set(x, E)),
            _ ? E.formatToParts(h) : E.format(h)
          );
        }
        var NUMBER_FORMAT_OPTIONS_KEYS = [
          "localeMatcher",
          "style",
          "currency",
          "currencyDisplay",
          "currencySign",
          "useGrouping",
          "minimumIntegerDigits",
          "minimumFractionDigits",
          "maximumFractionDigits",
          "minimumSignificantDigits",
          "maximumSignificantDigits",
          "compactDisplay",
          "notation",
          "signDisplay",
          "unit",
          "unitDisplay",
          "roundingMode",
          "roundingPriority",
          "roundingIncrement",
          "trailingZeroDisplay"
        ];
        function parseNumberArgs() {
          for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++)
            t[r] = arguments[r];
          var n = t[0],
            i = t[1],
            a = t[2],
            s = t[3],
            o = {},
            u = {};
          if (!isNumber(n))
            throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);
          var l = n;
          return (
            isString(i)
              ? (o.key = i)
              : isPlainObject(i) &&
                Object.keys(i).forEach(function (e) {
                  NUMBER_FORMAT_OPTIONS_KEYS.includes(e)
                    ? (u[e] = i[e])
                    : (o[e] = i[e]);
                }),
            isString(a) ? (o.locale = a) : isPlainObject(a) && (u = a),
            isPlainObject(s) && (u = s),
            [o.key || "", l, o, u]
          );
        }
        function clearNumberFormat(e, t, r) {
          var n = e;
          for (var i in r) {
            var a = "".concat(t, "__").concat(i);
            n.__numberFormatters.has(a) && n.__numberFormatters.delete(a);
          }
        }
        "boolean" != typeof __INTLIFY_PROD_DEVTOOLS__ &&
          (getGlobalThis().__INTLIFY_PROD_DEVTOOLS__ = !1);
        /*!
         * vue-i18n v9.2.2
         * (c) 2022 kazuya kawaguchi
         * Released under the MIT License.
         */
        var VERSION = "9.2.2";
        function initFeatureFlags() {
          "boolean" != typeof __VUE_I18N_FULL_INSTALL__ &&
            (getGlobalThis().__VUE_I18N_FULL_INSTALL__ = !0),
            "boolean" != typeof __VUE_I18N_LEGACY_API__ &&
              (getGlobalThis().__VUE_I18N_LEGACY_API__ = !0),
            "boolean" != typeof __INTLIFY_PROD_DEVTOOLS__ &&
              (getGlobalThis().__INTLIFY_PROD_DEVTOOLS__ = !1);
        }
        var code = CompileErrorCodes.__EXTEND_POINT__,
          inc = function () {
            return ++code;
          },
          I18nErrorCodes = {
            UNEXPECTED_RETURN_TYPE: code,
            INVALID_ARGUMENT: inc(),
            MUST_BE_CALL_SETUP_TOP: inc(),
            NOT_INSLALLED: inc(),
            NOT_AVAILABLE_IN_LEGACY_MODE: inc(),
            REQUIRED_VALUE: inc(),
            INVALID_VALUE: inc(),
            CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN: inc(),
            NOT_INSLALLED_WITH_PROVIDE: inc(),
            UNEXPECTED_ERROR: inc(),
            NOT_COMPATIBLE_LEGACY_VUE_I18N: inc(),
            BRIDGE_SUPPORT_VUE_2_ONLY: inc(),
            MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION: inc(),
            NOT_AVAILABLE_COMPOSITION_IN_LEGACY: inc(),
            __EXTEND_POINT__: inc()
          };
        function createI18nError(e) {
          return createCompileError(e, null, void 0);
        }
        var TransrateVNodeSymbol = makeSymbol("__transrateVNode"),
          DatetimePartsSymbol = makeSymbol("__datetimeParts"),
          NumberPartsSymbol = makeSymbol("__numberParts"),
          SetPluralRulesSymbol = makeSymbol("__setPluralRules");
        makeSymbol("__intlifyMeta");
        var InejctWithOption = makeSymbol("__injectWithOption");
        function handleFlatJson(e) {
          if (!isObject(e)) return e;
          for (var t in e)
            if (hasOwn(e, t))
              if (t.includes(".")) {
                for (
                  var r = t.split("."), n = r.length - 1, i = e, a = 0;
                  a < n;
                  a++
                )
                  r[a] in i || (i[r[a]] = {}), (i = i[r[a]]);
                (i[r[n]] = e[t]),
                  delete e[t],
                  isObject(i[r[n]]) && handleFlatJson(i[r[n]]);
              } else isObject(e[t]) && handleFlatJson(e[t]);
          return e;
        }
        function getLocaleMessages(e, t) {
          var r = t.messages,
            n = t.__i18n,
            i = t.messageResolver,
            a = t.flatJson,
            s = isPlainObject(r)
              ? r
              : isArray(n)
              ? {}
              : _defineProperty({}, e, {});
          if (
            (isArray(n) &&
              n.forEach(function (e) {
                if ("locale" in e && "resource" in e) {
                  var t = e.locale,
                    r = e.resource;
                  t ? ((s[t] = s[t] || {}), deepCopy(r, s[t])) : deepCopy(r, s);
                } else isString(e) && deepCopy(JSON.parse(e), s);
              }),
            null == i && a)
          )
            for (var o in s) hasOwn(s, o) && handleFlatJson(s[o]);
          return s;
        }
        var isNotObjectOrIsArray = function (e) {
          return !isObject(e) || isArray(e);
        };
        function deepCopy(e, t) {
          if (isNotObjectOrIsArray(e) || isNotObjectOrIsArray(t))
            throw createI18nError(I18nErrorCodes.INVALID_VALUE);
          for (var r in e)
            hasOwn(e, r) &&
              (isNotObjectOrIsArray(e[r]) || isNotObjectOrIsArray(t[r])
                ? (t[r] = e[r])
                : deepCopy(e[r], t[r]));
        }
        function getComponentOptions(e) {
          return e.type;
        }
        function adjustI18nResources(e, t, r) {
          var n = isObject(t.messages) ? t.messages : {};
          "__i18nGlobal" in r &&
            (n = getLocaleMessages(e.locale.value, {
              messages: n,
              __i18n: r.__i18nGlobal
            }));
          var i = Object.keys(n);
          if (
            (i.length &&
              i.forEach(function (t) {
                e.mergeLocaleMessage(t, n[t]);
              }),
            isObject(t.datetimeFormats))
          ) {
            var a = Object.keys(t.datetimeFormats);
            a.length &&
              a.forEach(function (r) {
                e.mergeDateTimeFormat(r, t.datetimeFormats[r]);
              });
          }
          if (isObject(t.numberFormats)) {
            var s = Object.keys(t.numberFormats);
            s.length &&
              s.forEach(function (r) {
                e.mergeNumberFormat(r, t.numberFormats[r]);
              });
          }
        }
        function createTextNode(e) {
          return createVNode(Text$1, null, e, 0);
        }
        var DEVTOOLS_META = "__INTLIFY_META__",
          composerID = 0;
        function defineCoreMissingHandler(e) {
          return function (t, r, n, i) {
            return e(r, n, getCurrentInstance() || void 0, i);
          };
        }
        var getMetaInfo = function () {
          var e = getCurrentInstance(),
            t = null;
          return e && (t = getComponentOptions(e)[DEVTOOLS_META])
            ? _defineProperty({}, DEVTOOLS_META, t)
            : null;
        };
        function createComposer() {
          var e,
            t =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {},
            r = t.__root,
            n = void 0 === r,
            i = !isBoolean(t.inheritLocale) || t.inheritLocale,
            a = ref(
              r && i
                ? r.locale.value
                : isString(t.locale)
                ? t.locale
                : DEFAULT_LOCALE
            ),
            s = ref(
              r && i
                ? r.fallbackLocale.value
                : isString(t.fallbackLocale) ||
                  isArray(t.fallbackLocale) ||
                  isPlainObject(t.fallbackLocale) ||
                  !1 === t.fallbackLocale
                ? t.fallbackLocale
                : a.value
            ),
            o = ref(getLocaleMessages(a.value, t)),
            u = ref(
              isPlainObject(t.datetimeFormats)
                ? t.datetimeFormats
                : _defineProperty({}, a.value, {})
            ),
            l = ref(
              isPlainObject(t.numberFormats)
                ? t.numberFormats
                : _defineProperty({}, a.value, {})
            ),
            c = r
              ? r.missingWarn
              : (!isBoolean(t.missingWarn) && !isRegExp(t.missingWarn)) ||
                t.missingWarn,
            h = r
              ? r.fallbackWarn
              : (!isBoolean(t.fallbackWarn) && !isRegExp(t.fallbackWarn)) ||
                t.fallbackWarn,
            f = r
              ? r.fallbackRoot
              : !isBoolean(t.fallbackRoot) || t.fallbackRoot,
            d = !!t.fallbackFormat,
            p = isFunction(t.missing) ? t.missing : null,
            _ = isFunction(t.missing)
              ? defineCoreMissingHandler(t.missing)
              : null,
            v = isFunction(t.postTranslation) ? t.postTranslation : null,
            m = r
              ? r.warnHtmlMessage
              : !isBoolean(t.warnHtmlMessage) || t.warnHtmlMessage,
            g = !!t.escapeParameter,
            y = r ? r.modifiers : isPlainObject(t.modifiers) ? t.modifiers : {},
            T = t.pluralRules || (r && r.pluralRules);
          updateFallbackLocale(
            (e = (function () {
              n && setFallbackContext(null);
              var r = {
                version: VERSION,
                locale: a.value,
                fallbackLocale: s.value,
                messages: o.value,
                modifiers: y,
                pluralRules: T,
                missing: null === _ ? void 0 : _,
                missingWarn: c,
                fallbackWarn: h,
                fallbackFormat: d,
                unresolving: !0,
                postTranslation: null === v ? void 0 : v,
                warnHtmlMessage: m,
                escapeParameter: g,
                messageResolver: t.messageResolver,
                __meta: { framework: "vue" }
              };
              (r.datetimeFormats = u.value),
                (r.numberFormats = l.value),
                (r.__datetimeFormatters = isPlainObject(e)
                  ? e.__datetimeFormatters
                  : void 0),
                (r.__numberFormatters = isPlainObject(e)
                  ? e.__numberFormatters
                  : void 0);
              var i = createCoreContext(r);
              return n && setFallbackContext(i), i;
            })()),
            a.value,
            s.value
          );
          var x = computed({
              get: function () {
                return a.value;
              },
              set: function (t) {
                (a.value = t), (e.locale = a.value);
              }
            }),
            E = computed({
              get: function () {
                return s.value;
              },
              set: function (t) {
                (s.value = t),
                  (e.fallbackLocale = s.value),
                  updateFallbackLocale(e, a.value, t);
              }
            }),
            b = computed(function () {
              return o.value;
            }),
            S = computed(function () {
              return u.value;
            }),
            A = computed(function () {
              return l.value;
            });
          var C = function (t, i, c, h, d, p) {
            var _;
            if (
              (a.value,
              s.value,
              o.value,
              u.value,
              l.value,
              __INTLIFY_PROD_DEVTOOLS__)
            )
              try {
                setAdditionalMeta(getMetaInfo()),
                  n || (e.fallbackContext = r ? getFallbackContext() : void 0),
                  (_ = t(e));
              } finally {
                setAdditionalMeta(null), n || (e.fallbackContext = void 0);
              }
            else _ = t(e);
            if (isNumber(_) && _ === NOT_REOSLVED) {
              var v = _slicedToArray(i(), 2),
                m = v[0];
              v[1];
              return r && f ? h(r) : d(m);
            }
            if (p(_)) return _;
            throw createI18nError(I18nErrorCodes.UNEXPECTED_RETURN_TYPE);
          };
          function P() {
            for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++)
              t[r] = arguments[r];
            return C(
              function (e) {
                return Reflect.apply(translate, null, [e].concat(t));
              },
              function () {
                return parseTranslateArgs.apply(void 0, t);
              },
              "translate",
              function (e) {
                return Reflect.apply(e.t, e, [].concat(t));
              },
              function (e) {
                return e;
              },
              function (e) {
                return isString(e);
              }
            );
          }
          var k = {
            normalize: function (e) {
              return e.map(function (e) {
                return isString(e) || isNumber(e) || isBoolean(e)
                  ? createTextNode(String(e))
                  : e;
              });
            },
            interpolate: function (e) {
              return e;
            },
            type: "vnode"
          };
          function w(e) {
            return o.value[e] || {};
          }
          composerID++,
            r &&
              inBrowser &&
              (watch(r.locale, function (t) {
                i &&
                  ((a.value = t),
                  (e.locale = t),
                  updateFallbackLocale(e, a.value, s.value));
              }),
              watch(r.fallbackLocale, function (t) {
                i &&
                  ((s.value = t),
                  (e.fallbackLocale = t),
                  updateFallbackLocale(e, a.value, s.value));
              }));
          var R = _defineProperty(
            {
              id: composerID,
              locale: x,
              fallbackLocale: E,
              get inheritLocale() {
                return i;
              },
              set inheritLocale(t) {
                (i = t),
                  t &&
                    r &&
                    ((a.value = r.locale.value),
                    (s.value = r.fallbackLocale.value),
                    updateFallbackLocale(e, a.value, s.value));
              },
              get availableLocales() {
                return Object.keys(o.value).sort();
              },
              messages: b,
              get modifiers() {
                return y;
              },
              get pluralRules() {
                return T || {};
              },
              get isGlobal() {
                return n;
              },
              get missingWarn() {
                return c;
              },
              set missingWarn(t) {
                (c = t), (e.missingWarn = c);
              },
              get fallbackWarn() {
                return h;
              },
              set fallbackWarn(t) {
                (h = t), (e.fallbackWarn = h);
              },
              get fallbackRoot() {
                return f;
              },
              set fallbackRoot(e) {
                f = e;
              },
              get fallbackFormat() {
                return d;
              },
              set fallbackFormat(t) {
                (d = t), (e.fallbackFormat = d);
              },
              get warnHtmlMessage() {
                return m;
              },
              set warnHtmlMessage(t) {
                (m = t), (e.warnHtmlMessage = t);
              },
              get escapeParameter() {
                return g;
              },
              set escapeParameter(t) {
                (g = t), (e.escapeParameter = t);
              },
              t: P,
              getLocaleMessage: w,
              setLocaleMessage: function (t, r) {
                (o.value[t] = r), (e.messages = o.value);
              },
              mergeLocaleMessage: function (t, r) {
                (o.value[t] = o.value[t] || {}),
                  deepCopy(r, o.value[t]),
                  (e.messages = o.value);
              },
              getPostTranslationHandler: function () {
                return isFunction(v) ? v : null;
              },
              setPostTranslationHandler: function (t) {
                (v = t), (e.postTranslation = t);
              },
              getMissingHandler: function () {
                return p;
              },
              setMissingHandler: function (t) {
                null !== t && (_ = defineCoreMissingHandler(t)),
                  (p = t),
                  (e.missing = _);
              }
            },
            SetPluralRulesSymbol,
            function (t) {
              (T = t), (e.pluralRules = T);
            }
          );
          return (
            (R.datetimeFormats = S),
            (R.numberFormats = A),
            (R.rt = function () {
              for (
                var e = arguments.length, t = new Array(e), r = 0;
                r < e;
                r++
              )
                t[r] = arguments[r];
              var n = t[0],
                i = t[1],
                a = t[2];
              if (a && !isObject(a))
                throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);
              return P.apply(void 0, [
                n,
                i,
                assign({ resolvedMessage: !0 }, a || {})
              ]);
            }),
            (R.te = function (t, r) {
              var n = w(isString(r) ? r : a.value);
              return null !== e.messageResolver(n, t);
            }),
            (R.tm = function (t) {
              var n = (function (t) {
                for (
                  var r = null,
                    n = fallbackWithLocaleChain(e, s.value, a.value),
                    i = 0;
                  i < n.length;
                  i++
                ) {
                  var u = o.value[n[i]] || {},
                    l = e.messageResolver(u, t);
                  if (null != l) {
                    r = l;
                    break;
                  }
                }
                return r;
              })(t);
              return null != n ? n : (r && r.tm(t)) || {};
            }),
            (R.d = function () {
              for (
                var e = arguments.length, t = new Array(e), r = 0;
                r < e;
                r++
              )
                t[r] = arguments[r];
              return C(
                function (e) {
                  return Reflect.apply(datetime, null, [e].concat(t));
                },
                function () {
                  return parseDateTimeArgs.apply(void 0, t);
                },
                "datetime format",
                function (e) {
                  return Reflect.apply(e.d, e, [].concat(t));
                },
                function () {
                  return MISSING_RESOLVE_VALUE;
                },
                function (e) {
                  return isString(e);
                }
              );
            }),
            (R.n = function () {
              for (
                var e = arguments.length, t = new Array(e), r = 0;
                r < e;
                r++
              )
                t[r] = arguments[r];
              return C(
                function (e) {
                  return Reflect.apply(number, null, [e].concat(t));
                },
                function () {
                  return parseNumberArgs.apply(void 0, t);
                },
                "number format",
                function (e) {
                  return Reflect.apply(e.n, e, [].concat(t));
                },
                function () {
                  return MISSING_RESOLVE_VALUE;
                },
                function (e) {
                  return isString(e);
                }
              );
            }),
            (R.getDateTimeFormat = function (e) {
              return u.value[e] || {};
            }),
            (R.setDateTimeFormat = function (t, r) {
              (u.value[t] = r),
                (e.datetimeFormats = u.value),
                clearDateTimeFormat(e, t, r);
            }),
            (R.mergeDateTimeFormat = function (t, r) {
              (u.value[t] = assign(u.value[t] || {}, r)),
                (e.datetimeFormats = u.value),
                clearDateTimeFormat(e, t, r);
            }),
            (R.getNumberFormat = function (e) {
              return l.value[e] || {};
            }),
            (R.setNumberFormat = function (t, r) {
              (l.value[t] = r),
                (e.numberFormats = l.value),
                clearNumberFormat(e, t, r);
            }),
            (R.mergeNumberFormat = function (t, r) {
              (l.value[t] = assign(l.value[t] || {}, r)),
                (e.numberFormats = l.value),
                clearNumberFormat(e, t, r);
            }),
            (R[InejctWithOption] = t.__injectWithOption),
            (R[TransrateVNodeSymbol] = function () {
              for (
                var e = arguments.length, t = new Array(e), r = 0;
                r < e;
                r++
              )
                t[r] = arguments[r];
              return C(
                function (e) {
                  var r,
                    n = e;
                  try {
                    (n.processor = k),
                      (r = Reflect.apply(translate, null, [n].concat(t)));
                  } finally {
                    n.processor = null;
                  }
                  return r;
                },
                function () {
                  return parseTranslateArgs.apply(void 0, t);
                },
                "translate",
                function (e) {
                  return e[TransrateVNodeSymbol].apply(e, t);
                },
                function (e) {
                  return [createTextNode(e)];
                },
                function (e) {
                  return isArray(e);
                }
              );
            }),
            (R[DatetimePartsSymbol] = function () {
              for (
                var e = arguments.length, t = new Array(e), r = 0;
                r < e;
                r++
              )
                t[r] = arguments[r];
              return C(
                function (e) {
                  return Reflect.apply(datetime, null, [e].concat(t));
                },
                function () {
                  return parseDateTimeArgs.apply(void 0, t);
                },
                "datetime format",
                function (e) {
                  return e[DatetimePartsSymbol].apply(e, t);
                },
                function () {
                  return [];
                },
                function (e) {
                  return isString(e) || isArray(e);
                }
              );
            }),
            (R[NumberPartsSymbol] = function () {
              for (
                var e = arguments.length, t = new Array(e), r = 0;
                r < e;
                r++
              )
                t[r] = arguments[r];
              return C(
                function (e) {
                  return Reflect.apply(number, null, [e].concat(t));
                },
                function () {
                  return parseNumberArgs.apply(void 0, t);
                },
                "number format",
                function (e) {
                  return e[NumberPartsSymbol].apply(e, t);
                },
                function () {
                  return [];
                },
                function (e) {
                  return isString(e) || isArray(e);
                }
              );
            }),
            R
          );
        }
        function convertComposerOptions(e) {
          var t = isString(e.locale) ? e.locale : DEFAULT_LOCALE,
            r =
              isString(e.fallbackLocale) ||
              isArray(e.fallbackLocale) ||
              isPlainObject(e.fallbackLocale) ||
              !1 === e.fallbackLocale
                ? e.fallbackLocale
                : t,
            n = isFunction(e.missing) ? e.missing : void 0,
            i =
              (!isBoolean(e.silentTranslationWarn) &&
                !isRegExp(e.silentTranslationWarn)) ||
              !e.silentTranslationWarn,
            a =
              (!isBoolean(e.silentFallbackWarn) &&
                !isRegExp(e.silentFallbackWarn)) ||
              !e.silentFallbackWarn,
            s = !isBoolean(e.fallbackRoot) || e.fallbackRoot,
            o = !!e.formatFallbackMessages,
            u = isPlainObject(e.modifiers) ? e.modifiers : {},
            l = e.pluralizationRules,
            c = isFunction(e.postTranslation) ? e.postTranslation : void 0,
            h = !isString(e.warnHtmlInMessage) || "off" !== e.warnHtmlInMessage,
            f = !!e.escapeParameterHtml,
            d = !isBoolean(e.sync) || e.sync,
            p = e.messages;
          if (isPlainObject(e.sharedMessages)) {
            var _ = e.sharedMessages;
            p = Object.keys(_).reduce(function (e, t) {
              var r = e[t] || (e[t] = {});
              return assign(r, _[t]), e;
            }, p || {});
          }
          var v = e.__i18n,
            m = e.__root,
            g = e.__injectWithOption,
            y = e.datetimeFormats,
            T = e.numberFormats;
          return {
            locale: t,
            fallbackLocale: r,
            messages: p,
            flatJson: e.flatJson,
            datetimeFormats: y,
            numberFormats: T,
            missing: n,
            missingWarn: i,
            fallbackWarn: a,
            fallbackRoot: s,
            fallbackFormat: o,
            modifiers: u,
            pluralRules: l,
            postTranslation: c,
            warnHtmlMessage: h,
            escapeParameter: f,
            messageResolver: e.messageResolver,
            inheritLocale: d,
            __i18n: v,
            __root: m,
            __injectWithOption: g
          };
        }
        function createVueI18n() {
          var e =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {},
            t = createComposer(convertComposerOptions(e)),
            r = {
              id: t.id,
              get locale() {
                return t.locale.value;
              },
              set locale(e) {
                t.locale.value = e;
              },
              get fallbackLocale() {
                return t.fallbackLocale.value;
              },
              set fallbackLocale(e) {
                t.fallbackLocale.value = e;
              },
              get messages() {
                return t.messages.value;
              },
              get datetimeFormats() {
                return t.datetimeFormats.value;
              },
              get numberFormats() {
                return t.numberFormats.value;
              },
              get availableLocales() {
                return t.availableLocales;
              },
              get formatter() {
                return {
                  interpolate: function () {
                    return [];
                  }
                };
              },
              set formatter(e) {},
              get missing() {
                return t.getMissingHandler();
              },
              set missing(e) {
                t.setMissingHandler(e);
              },
              get silentTranslationWarn() {
                return isBoolean(t.missingWarn)
                  ? !t.missingWarn
                  : t.missingWarn;
              },
              set silentTranslationWarn(e) {
                t.missingWarn = isBoolean(e) ? !e : e;
              },
              get silentFallbackWarn() {
                return isBoolean(t.fallbackWarn)
                  ? !t.fallbackWarn
                  : t.fallbackWarn;
              },
              set silentFallbackWarn(e) {
                t.fallbackWarn = isBoolean(e) ? !e : e;
              },
              get modifiers() {
                return t.modifiers;
              },
              get formatFallbackMessages() {
                return t.fallbackFormat;
              },
              set formatFallbackMessages(e) {
                t.fallbackFormat = e;
              },
              get postTranslation() {
                return t.getPostTranslationHandler();
              },
              set postTranslation(e) {
                t.setPostTranslationHandler(e);
              },
              get sync() {
                return t.inheritLocale;
              },
              set sync(e) {
                t.inheritLocale = e;
              },
              get warnHtmlInMessage() {
                return t.warnHtmlMessage ? "warn" : "off";
              },
              set warnHtmlInMessage(e) {
                t.warnHtmlMessage = "off" !== e;
              },
              get escapeParameterHtml() {
                return t.escapeParameter;
              },
              set escapeParameterHtml(e) {
                t.escapeParameter = e;
              },
              get preserveDirectiveContent() {
                return !0;
              },
              set preserveDirectiveContent(e) {},
              get pluralizationRules() {
                return t.pluralRules || {};
              },
              __composer: t,
              t: function () {
                for (
                  var e = arguments.length, r = new Array(e), n = 0;
                  n < e;
                  n++
                )
                  r[n] = arguments[n];
                var i = r[0],
                  a = r[1],
                  s = r[2],
                  o = {},
                  u = null,
                  l = null;
                if (!isString(i))
                  throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);
                var c = i;
                return (
                  isString(a)
                    ? (o.locale = a)
                    : isArray(a)
                    ? (u = a)
                    : isPlainObject(a) && (l = a),
                  isArray(s) ? (u = s) : isPlainObject(s) && (l = s),
                  Reflect.apply(t.t, t, [c, u || l || {}, o])
                );
              },
              rt: function () {
                for (
                  var e = arguments.length, r = new Array(e), n = 0;
                  n < e;
                  n++
                )
                  r[n] = arguments[n];
                return Reflect.apply(t.rt, t, [].concat(r));
              },
              tc: function () {
                for (
                  var e = arguments.length, r = new Array(e), n = 0;
                  n < e;
                  n++
                )
                  r[n] = arguments[n];
                var i = r[0],
                  a = r[1],
                  s = r[2],
                  o = { plural: 1 },
                  u = null,
                  l = null;
                if (!isString(i))
                  throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);
                var c = i;
                return (
                  isString(a)
                    ? (o.locale = a)
                    : isNumber(a)
                    ? (o.plural = a)
                    : isArray(a)
                    ? (u = a)
                    : isPlainObject(a) && (l = a),
                  isString(s)
                    ? (o.locale = s)
                    : isArray(s)
                    ? (u = s)
                    : isPlainObject(s) && (l = s),
                  Reflect.apply(t.t, t, [c, u || l || {}, o])
                );
              },
              te: function (e, r) {
                return t.te(e, r);
              },
              tm: function (e) {
                return t.tm(e);
              },
              getLocaleMessage: function (e) {
                return t.getLocaleMessage(e);
              },
              setLocaleMessage: function (e, r) {
                t.setLocaleMessage(e, r);
              },
              mergeLocaleMessage: function (e, r) {
                t.mergeLocaleMessage(e, r);
              },
              d: function () {
                for (
                  var e = arguments.length, r = new Array(e), n = 0;
                  n < e;
                  n++
                )
                  r[n] = arguments[n];
                return Reflect.apply(t.d, t, [].concat(r));
              },
              getDateTimeFormat: function (e) {
                return t.getDateTimeFormat(e);
              },
              setDateTimeFormat: function (e, r) {
                t.setDateTimeFormat(e, r);
              },
              mergeDateTimeFormat: function (e, r) {
                t.mergeDateTimeFormat(e, r);
              },
              n: function () {
                for (
                  var e = arguments.length, r = new Array(e), n = 0;
                  n < e;
                  n++
                )
                  r[n] = arguments[n];
                return Reflect.apply(t.n, t, [].concat(r));
              },
              getNumberFormat: function (e) {
                return t.getNumberFormat(e);
              },
              setNumberFormat: function (e, r) {
                t.setNumberFormat(e, r);
              },
              mergeNumberFormat: function (e, r) {
                t.mergeNumberFormat(e, r);
              },
              getChoiceIndex: function (e, t) {
                return -1;
              },
              __onComponentInstanceCreated: function (t) {
                var n = e.componentInstanceCreatedListener;
                n && n(t, r);
              }
            };
          return r;
        }
        var baseFormatProps = {
          tag: { type: [String, Object] },
          locale: { type: String },
          scope: {
            type: String,
            validator: function (e) {
              return "parent" === e || "global" === e;
            },
            default: "parent"
          },
          i18n: { type: Object }
        };
        function getInterpolateArg(e, t) {
          var r = e.slots;
          return 1 === t.length && "default" === t[0]
            ? (r.default ? r.default() : []).reduce(function (e, t) {
                return [].concat(
                  _toConsumableArray(e),
                  _toConsumableArray(isArray(t.children) ? t.children : [t])
                );
              }, [])
            : t.reduce(function (e, t) {
                var n = r[t];
                return n && (e[t] = n()), e;
              }, {});
        }
        function getFragmentableTag(e) {
          return Fragment;
        }
        var Translation = {
          name: "i18n-t",
          props: assign(
            {
              keypath: { type: String, required: !0 },
              plural: {
                type: [Number, String],
                validator: function (e) {
                  return isNumber(e) || !isNaN(e);
                }
              }
            },
            baseFormatProps
          ),
          setup: function (e, t) {
            var r = t.slots,
              n = t.attrs,
              i = e.i18n || useI18n({ useScope: e.scope, __useComponent: !0 });
            return function () {
              var a = Object.keys(r).filter(function (e) {
                  return "_" !== e;
                }),
                s = {};
              e.locale && (s.locale = e.locale),
                void 0 !== e.plural &&
                  (s.plural = isString(e.plural) ? +e.plural : e.plural);
              var o = getInterpolateArg(t, a),
                u = i[TransrateVNodeSymbol](e.keypath, o, s),
                l = assign({}, n);
              return h$1(
                isString(e.tag) || isObject(e.tag)
                  ? e.tag
                  : getFragmentableTag(),
                l,
                u
              );
            };
          }
        };
        function isVNode(e) {
          return isArray(e) && !isString(e[0]);
        }
        function renderFormatter(e, t, r, n) {
          var i = t.slots,
            a = t.attrs;
          return function () {
            var t = { part: !0 },
              s = {};
            e.locale && (t.locale = e.locale),
              isString(e.format)
                ? (t.key = e.format)
                : isObject(e.format) &&
                  (isString(e.format.key) && (t.key = e.format.key),
                  (s = Object.keys(e.format).reduce(function (t, n) {
                    return r.includes(n)
                      ? assign({}, t, _defineProperty({}, n, e.format[n]))
                      : t;
                  }, {})));
            var o = n.apply(void 0, [e.value, t, s]),
              u = [t.key];
            isArray(o)
              ? (u = o.map(function (e, t) {
                  var r,
                    n = i[e.type],
                    a = n
                      ? n(
                          (_defineProperty((r = {}), e.type, e.value),
                          _defineProperty(r, "index", t),
                          _defineProperty(r, "parts", o),
                          r)
                        )
                      : [e.value];
                  return (
                    isVNode(a) && (a[0].key = "".concat(e.type, "-").concat(t)),
                    a
                  );
                }))
              : isString(o) && (u = [o]);
            var l = assign({}, a);
            return h$1(
              isString(e.tag) || isObject(e.tag) ? e.tag : getFragmentableTag(),
              l,
              u
            );
          };
        }
        var NumberFormat = {
            name: "i18n-n",
            props: assign(
              {
                value: { type: Number, required: !0 },
                format: { type: [String, Object] }
              },
              baseFormatProps
            ),
            setup: function (e, t) {
              var r =
                e.i18n || useI18n({ useScope: "parent", __useComponent: !0 });
              return renderFormatter(
                e,
                t,
                NUMBER_FORMAT_OPTIONS_KEYS,
                function () {
                  return r[NumberPartsSymbol].apply(r, arguments);
                }
              );
            }
          },
          DatetimeFormat = {
            name: "i18n-d",
            props: assign(
              {
                value: { type: [Number, Date], required: !0 },
                format: { type: [String, Object] }
              },
              baseFormatProps
            ),
            setup: function (e, t) {
              var r =
                e.i18n || useI18n({ useScope: "parent", __useComponent: !0 });
              return renderFormatter(
                e,
                t,
                DATETIME_FORMAT_OPTIONS_KEYS,
                function () {
                  return r[DatetimePartsSymbol].apply(r, arguments);
                }
              );
            }
          };
        function getComposer$2(e, t) {
          var r = e;
          if ("composition" === e.mode) return r.__getInstance(t) || e.global;
          var n = r.__getInstance(t);
          return null != n ? n.__composer : e.global.__composer;
        }
        function vTDirective(e) {
          var t = function (t) {
            var r = t.instance,
              n = (t.modifiers, t.value);
            if (!r || !r.$)
              throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);
            var i = getComposer$2(e, r.$),
              a = parseValue(n);
            return [
              Reflect.apply(i.t, i, _toConsumableArray(makeParams(a))),
              i
            ];
          };
          return {
            created: function (r, n) {
              var i = _slicedToArray(t(n), 2),
                a = i[0],
                s = i[1];
              inBrowser &&
                e.global === s &&
                (r.__i18nWatcher = watch(s.locale, function () {
                  n.instance && n.instance.$forceUpdate();
                })),
                (r.__composer = s),
                (r.textContent = a);
            },
            unmounted: function (e) {
              inBrowser &&
                e.__i18nWatcher &&
                (e.__i18nWatcher(),
                (e.__i18nWatcher = void 0),
                delete e.__i18nWatcher),
                e.__composer && ((e.__composer = void 0), delete e.__composer);
            },
            beforeUpdate: function (e, t) {
              var r = t.value;
              if (e.__composer) {
                var n = e.__composer,
                  i = parseValue(r);
                e.textContent = Reflect.apply(
                  n.t,
                  n,
                  _toConsumableArray(makeParams(i))
                );
              }
            },
            getSSRProps: function (e) {
              return { textContent: _slicedToArray(t(e), 1)[0] };
            }
          };
        }
        function parseValue(e) {
          if (isString(e)) return { path: e };
          if (isPlainObject(e)) {
            if (!("path" in e))
              throw createI18nError(I18nErrorCodes.REQUIRED_VALUE, "path");
            return e;
          }
          throw createI18nError(I18nErrorCodes.INVALID_VALUE);
        }
        function makeParams(e) {
          var t = e.path,
            r = e.locale,
            n = e.args,
            i = e.choice,
            a = e.plural,
            s = {},
            o = n || {};
          return (
            isString(r) && (s.locale = r),
            isNumber(i) && (s.plural = i),
            isNumber(a) && (s.plural = a),
            [t, o, s]
          );
        }
        function apply(e, t) {
          var r = isPlainObject(arguments.length <= 2 ? void 0 : arguments[2])
              ? arguments.length <= 2
                ? void 0
                : arguments[2]
              : {},
            n = !!r.useI18nComponentName;
          (!isBoolean(r.globalInstall) || r.globalInstall) &&
            (e.component(n ? "i18n" : Translation.name, Translation),
            e.component(NumberFormat.name, NumberFormat),
            e.component(DatetimeFormat.name, DatetimeFormat)),
            e.directive("t", vTDirective(t));
        }
        function defineMixin(e, t, r) {
          return {
            beforeCreate: function () {
              var n = this,
                i = getCurrentInstance();
              if (!i) throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);
              var a = this.$options;
              if (a.i18n) {
                var s = a.i18n;
                a.__i18n && (s.__i18n = a.__i18n),
                  (s.__root = t),
                  this === this.$root
                    ? (this.$i18n = mergeToRoot(e, s))
                    : ((s.__injectWithOption = !0),
                      (this.$i18n = createVueI18n(s)));
              } else
                a.__i18n
                  ? this === this.$root
                    ? (this.$i18n = mergeToRoot(e, a))
                    : (this.$i18n = createVueI18n({
                        __i18n: a.__i18n,
                        __injectWithOption: !0,
                        __root: t
                      }))
                  : (this.$i18n = e);
              a.__i18nGlobal && adjustI18nResources(t, a, a),
                e.__onComponentInstanceCreated(this.$i18n),
                r.__setInstance(i, this.$i18n),
                (this.$t = function () {
                  var e;
                  return (e = n.$i18n).t.apply(e, arguments);
                }),
                (this.$rt = function () {
                  var e;
                  return (e = n.$i18n).rt.apply(e, arguments);
                }),
                (this.$tc = function () {
                  var e;
                  return (e = n.$i18n).tc.apply(e, arguments);
                }),
                (this.$te = function (e, t) {
                  return n.$i18n.te(e, t);
                }),
                (this.$d = function () {
                  var e;
                  return (e = n.$i18n).d.apply(e, arguments);
                }),
                (this.$n = function () {
                  var e;
                  return (e = n.$i18n).n.apply(e, arguments);
                }),
                (this.$tm = function (e) {
                  return n.$i18n.tm(e);
                });
            },
            mounted: function () {},
            unmounted: function () {
              var e = getCurrentInstance();
              if (!e) throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);
              delete this.$t,
                delete this.$rt,
                delete this.$tc,
                delete this.$te,
                delete this.$d,
                delete this.$n,
                delete this.$tm,
                r.__deleteInstance(e),
                delete this.$i18n;
            }
          };
        }
        function mergeToRoot(e, t) {
          (e.locale = t.locale || e.locale),
            (e.fallbackLocale = t.fallbackLocale || e.fallbackLocale),
            (e.missing = t.missing || e.missing),
            (e.silentTranslationWarn =
              t.silentTranslationWarn || e.silentFallbackWarn),
            (e.silentFallbackWarn =
              t.silentFallbackWarn || e.silentFallbackWarn),
            (e.formatFallbackMessages =
              t.formatFallbackMessages || e.formatFallbackMessages),
            (e.postTranslation = t.postTranslation || e.postTranslation),
            (e.warnHtmlInMessage = t.warnHtmlInMessage || e.warnHtmlInMessage),
            (e.escapeParameterHtml =
              t.escapeParameterHtml || e.escapeParameterHtml),
            (e.sync = t.sync || e.sync),
            e.__composer[SetPluralRulesSymbol](
              t.pluralizationRules || e.pluralizationRules
            );
          var r = getLocaleMessages(e.locale, {
            messages: t.messages,
            __i18n: t.__i18n
          });
          return (
            Object.keys(r).forEach(function (t) {
              return e.mergeLocaleMessage(t, r[t]);
            }),
            t.datetimeFormats &&
              Object.keys(t.datetimeFormats).forEach(function (r) {
                return e.mergeDateTimeFormat(r, t.datetimeFormats[r]);
              }),
            t.numberFormats &&
              Object.keys(t.numberFormats).forEach(function (r) {
                return e.mergeNumberFormat(r, t.numberFormats[r]);
              }),
            e
          );
        }
        var I18nInjectionKey = makeSymbol("global-vue-i18n");
        function createI18n() {
          var e =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {},
            t =
              __VUE_I18N_LEGACY_API__ && isBoolean(e.legacy)
                ? e.legacy
                : __VUE_I18N_LEGACY_API__,
            r = !isBoolean(e.globalInjection) || e.globalInjection,
            n = !__VUE_I18N_LEGACY_API__ || !t || !!e.allowComposition,
            i = new Map(),
            a = _slicedToArray(createGlobal(e, t), 2),
            s = a[0],
            o = a[1],
            u = makeSymbol("");
          var l = {
            get mode() {
              return __VUE_I18N_LEGACY_API__ && t ? "legacy" : "composition";
            },
            get allowComposition() {
              return n;
            },
            install: function (e) {
              var n = arguments;
              return _asyncToGenerator(
                _regeneratorRuntime().mark(function i() {
                  var a, s, c, h;
                  return _regeneratorRuntime().wrap(function (i) {
                    for (;;)
                      switch ((i.prev = i.next)) {
                        case 0:
                          if (
                            ((e.__VUE_I18N_SYMBOL__ = u),
                            e.provide(e.__VUE_I18N_SYMBOL__, l),
                            !t && r && injectGlobalFields(e, l.global),
                            __VUE_I18N_FULL_INSTALL__)
                          ) {
                            for (
                              a = n.length,
                                s = new Array(a > 1 ? a - 1 : 0),
                                c = 1;
                              c < a;
                              c++
                            )
                              s[c - 1] = n[c];
                            apply.apply(void 0, [e, l].concat(s));
                          }
                          __VUE_I18N_LEGACY_API__ &&
                            t &&
                            e.mixin(defineMixin(o, o.__composer, l)),
                            (h = e.unmount),
                            (e.unmount = function () {
                              l.dispose(), h();
                            });
                        case 7:
                        case "end":
                          return i.stop();
                      }
                  }, i);
                })
              )();
            },
            get global() {
              return o;
            },
            dispose: function () {
              s.stop();
            },
            __instances: i,
            __getInstance: function (e) {
              return i.get(e) || null;
            },
            __setInstance: function (e, t) {
              i.set(e, t);
            },
            __deleteInstance: function (e) {
              i.delete(e);
            }
          };
          return l;
        }
        function useI18n() {
          var e =
              arguments.length > 0 && void 0 !== arguments[0]
                ? arguments[0]
                : {},
            t = getCurrentInstance();
          if (null == t)
            throw createI18nError(I18nErrorCodes.MUST_BE_CALL_SETUP_TOP);
          if (
            !t.isCE &&
            null != t.appContext.app &&
            !t.appContext.app.__VUE_I18N_SYMBOL__
          )
            throw createI18nError(I18nErrorCodes.NOT_INSLALLED);
          var r = getI18nInstance(t),
            n = getGlobalComposer(r),
            i = getComponentOptions(t),
            a = getScope(e, i);
          if (
            __VUE_I18N_LEGACY_API__ &&
            "legacy" === r.mode &&
            !e.__useComponent
          ) {
            if (!r.allowComposition)
              throw createI18nError(
                I18nErrorCodes.NOT_AVAILABLE_IN_LEGACY_MODE
              );
            return useI18nForLegacy(t, a, n, e);
          }
          if ("global" === a) return adjustI18nResources(n, e, i), n;
          if ("parent" === a) {
            var s = getComposer(r, t, e.__useComponent);
            return null == s && (s = n), s;
          }
          var o = r,
            u = o.__getInstance(t);
          if (null == u) {
            var l = assign({}, e);
            "__i18n" in i && (l.__i18n = i.__i18n),
              n && (l.__root = n),
              (u = createComposer(l)),
              setupLifeCycle(o, t),
              o.__setInstance(t, u);
          }
          return u;
        }
        function createGlobal(e, t, r) {
          var n = effectScope(),
            i =
              __VUE_I18N_LEGACY_API__ && t
                ? n.run(function () {
                    return createVueI18n(e);
                  })
                : n.run(function () {
                    return createComposer(e);
                  });
          if (null == i) throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);
          return [n, i];
        }
        function getI18nInstance(e) {
          var t = inject(
            e.isCE ? I18nInjectionKey : e.appContext.app.__VUE_I18N_SYMBOL__
          );
          if (!t)
            throw createI18nError(
              e.isCE
                ? I18nErrorCodes.NOT_INSLALLED_WITH_PROVIDE
                : I18nErrorCodes.UNEXPECTED_ERROR
            );
          return t;
        }
        function getScope(e, t) {
          return isEmptyObject(e)
            ? "__i18n" in t
              ? "local"
              : "global"
            : e.useScope
            ? e.useScope
            : "local";
        }
        function getGlobalComposer(e) {
          return "composition" === e.mode ? e.global : e.global.__composer;
        }
        function getComposer(e, t) {
          for (
            var r =
                arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
              n = null,
              i = t.root,
              a = t.parent;
            null != a;

          ) {
            var s = e;
            if ("composition" === e.mode) n = s.__getInstance(a);
            else if (__VUE_I18N_LEGACY_API__) {
              var o = s.__getInstance(a);
              null != o &&
                ((n = o.__composer),
                r && n && !n[InejctWithOption] && (n = null));
            }
            if (null != n) break;
            if (i === a) break;
            a = a.parent;
          }
          return n;
        }
        function setupLifeCycle(e, t, r) {
          onMounted(function () {}, t),
            onUnmounted(function () {
              e.__deleteInstance(t);
            }, t);
        }
        function useI18nForLegacy(e, t, r) {
          var n =
              arguments.length > 3 && void 0 !== arguments[3]
                ? arguments[3]
                : {},
            i = "local" === t,
            a = shallowRef(null);
          if (
            i &&
            e.proxy &&
            !e.proxy.$options.i18n &&
            !e.proxy.$options.__i18n
          )
            throw createI18nError(
              I18nErrorCodes.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION
            );
          var s = !isBoolean(n.inheritLocale) || n.inheritLocale,
            o = ref(
              i && s
                ? r.locale.value
                : isString(n.locale)
                ? n.locale
                : DEFAULT_LOCALE
            ),
            u = ref(
              i && s
                ? r.fallbackLocale.value
                : isString(n.fallbackLocale) ||
                  isArray(n.fallbackLocale) ||
                  isPlainObject(n.fallbackLocale) ||
                  !1 === n.fallbackLocale
                ? n.fallbackLocale
                : o.value
            ),
            l = ref(getLocaleMessages(o.value, n)),
            c = ref(
              isPlainObject(n.datetimeFormats)
                ? n.datetimeFormats
                : _defineProperty({}, o.value, {})
            ),
            h = ref(
              isPlainObject(n.numberFormats)
                ? n.numberFormats
                : _defineProperty({}, o.value, {})
            ),
            f = i
              ? r.missingWarn
              : (!isBoolean(n.missingWarn) && !isRegExp(n.missingWarn)) ||
                n.missingWarn,
            d = i
              ? r.fallbackWarn
              : (!isBoolean(n.fallbackWarn) && !isRegExp(n.fallbackWarn)) ||
                n.fallbackWarn,
            p = i
              ? r.fallbackRoot
              : !isBoolean(n.fallbackRoot) || n.fallbackRoot,
            _ = !!n.fallbackFormat,
            v = isFunction(n.missing) ? n.missing : null,
            m = isFunction(n.postTranslation) ? n.postTranslation : null,
            g = i
              ? r.warnHtmlMessage
              : !isBoolean(n.warnHtmlMessage) || n.warnHtmlMessage,
            y = !!n.escapeParameter,
            T = i ? r.modifiers : isPlainObject(n.modifiers) ? n.modifiers : {},
            x = n.pluralRules || (i && r.pluralRules);
          function E(e) {
            return o.value, u.value, l.value, c.value, h.value, e();
          }
          var b = {
            get id() {
              return a.value ? a.value.id : -1;
            },
            locale: computed({
              get: function () {
                return a.value ? a.value.locale.value : o.value;
              },
              set: function (e) {
                a.value && (a.value.locale.value = e), (o.value = e);
              }
            }),
            fallbackLocale: computed({
              get: function () {
                return a.value ? a.value.fallbackLocale.value : u.value;
              },
              set: function (e) {
                a.value && (a.value.fallbackLocale.value = e), (u.value = e);
              }
            }),
            messages: computed(function () {
              return a.value ? a.value.messages.value : l.value;
            }),
            datetimeFormats: computed(function () {
              return c.value;
            }),
            numberFormats: computed(function () {
              return h.value;
            }),
            get inheritLocale() {
              return a.value ? a.value.inheritLocale : s;
            },
            set inheritLocale(e) {
              a.value && (a.value.inheritLocale = e);
            },
            get availableLocales() {
              return a.value ? a.value.availableLocales : Object.keys(l.value);
            },
            get modifiers() {
              return a.value ? a.value.modifiers : T;
            },
            get pluralRules() {
              return a.value ? a.value.pluralRules : x;
            },
            get isGlobal() {
              return !!a.value && a.value.isGlobal;
            },
            get missingWarn() {
              return a.value ? a.value.missingWarn : f;
            },
            set missingWarn(e) {
              a.value && (a.value.missingWarn = e);
            },
            get fallbackWarn() {
              return a.value ? a.value.fallbackWarn : d;
            },
            set fallbackWarn(e) {
              a.value && (a.value.missingWarn = e);
            },
            get fallbackRoot() {
              return a.value ? a.value.fallbackRoot : p;
            },
            set fallbackRoot(e) {
              a.value && (a.value.fallbackRoot = e);
            },
            get fallbackFormat() {
              return a.value ? a.value.fallbackFormat : _;
            },
            set fallbackFormat(e) {
              a.value && (a.value.fallbackFormat = e);
            },
            get warnHtmlMessage() {
              return a.value ? a.value.warnHtmlMessage : g;
            },
            set warnHtmlMessage(e) {
              a.value && (a.value.warnHtmlMessage = e);
            },
            get escapeParameter() {
              return a.value ? a.value.escapeParameter : y;
            },
            set escapeParameter(e) {
              a.value && (a.value.escapeParameter = e);
            },
            t: function () {
              for (
                var e = arguments.length, t = new Array(e), r = 0;
                r < e;
                r++
              )
                t[r] = arguments[r];
              return a.value
                ? E(function () {
                    return Reflect.apply(a.value.t, null, [].concat(t));
                  })
                : E(function () {
                    return "";
                  });
            },
            getPostTranslationHandler: function () {
              return a.value ? a.value.getPostTranslationHandler() : m;
            },
            setPostTranslationHandler: function (e) {
              a.value && a.value.setPostTranslationHandler(e);
            },
            getMissingHandler: function () {
              return a.value ? a.value.getMissingHandler() : v;
            },
            setMissingHandler: function (e) {
              a.value && a.value.setMissingHandler(e);
            },
            rt: function () {
              for (
                var e = arguments.length, t = new Array(e), r = 0;
                r < e;
                r++
              )
                t[r] = arguments[r];
              return a.value
                ? Reflect.apply(a.value.rt, null, [].concat(t))
                : "";
            },
            d: function () {
              for (
                var e = arguments.length, t = new Array(e), r = 0;
                r < e;
                r++
              )
                t[r] = arguments[r];
              return a.value
                ? E(function () {
                    return Reflect.apply(a.value.d, null, [].concat(t));
                  })
                : E(function () {
                    return "";
                  });
            },
            n: function () {
              for (
                var e = arguments.length, t = new Array(e), r = 0;
                r < e;
                r++
              )
                t[r] = arguments[r];
              return a.value
                ? E(function () {
                    return Reflect.apply(a.value.n, null, [].concat(t));
                  })
                : E(function () {
                    return "";
                  });
            },
            tm: function (e) {
              return a.value ? a.value.tm(e) : {};
            },
            te: function (e, t) {
              return !!a.value && a.value.te(e, t);
            },
            getLocaleMessage: function (e) {
              return a.value ? a.value.getLocaleMessage(e) : {};
            },
            setLocaleMessage: function (e, t) {
              a.value && (a.value.setLocaleMessage(e, t), (l.value[e] = t));
            },
            mergeLocaleMessage: function (e, t) {
              a.value && a.value.mergeLocaleMessage(e, t);
            },
            getDateTimeFormat: function (e) {
              return a.value ? a.value.getDateTimeFormat(e) : {};
            },
            setDateTimeFormat: function (e, t) {
              a.value && (a.value.setDateTimeFormat(e, t), (c.value[e] = t));
            },
            mergeDateTimeFormat: function (e, t) {
              a.value && a.value.mergeDateTimeFormat(e, t);
            },
            getNumberFormat: function (e) {
              return a.value ? a.value.getNumberFormat(e) : {};
            },
            setNumberFormat: function (e, t) {
              a.value && (a.value.setNumberFormat(e, t), (h.value[e] = t));
            },
            mergeNumberFormat: function (e, t) {
              a.value && a.value.mergeNumberFormat(e, t);
            }
          };
          return (
            onBeforeMount(function () {
              if (null == e.proxy || null == e.proxy.$i18n)
                throw createI18nError(
                  I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY
                );
              var r = (a.value = e.proxy.$i18n.__composer);
              "global" === t
                ? ((o.value = r.locale.value),
                  (u.value = r.fallbackLocale.value),
                  (l.value = r.messages.value),
                  (c.value = r.datetimeFormats.value),
                  (h.value = r.numberFormats.value))
                : i &&
                  (function (e) {
                    (e.locale.value = o.value),
                      (e.fallbackLocale.value = u.value),
                      Object.keys(l.value).forEach(function (t) {
                        e.mergeLocaleMessage(t, l.value[t]);
                      }),
                      Object.keys(c.value).forEach(function (t) {
                        e.mergeDateTimeFormat(t, c.value[t]);
                      }),
                      Object.keys(h.value).forEach(function (t) {
                        e.mergeNumberFormat(t, h.value[t]);
                      }),
                      (e.escapeParameter = y),
                      (e.fallbackFormat = _),
                      (e.fallbackRoot = p),
                      (e.fallbackWarn = d),
                      (e.missingWarn = f),
                      (e.warnHtmlMessage = g);
                  })(r);
            }),
            b
          );
        }
        var globalExportProps = [
            "locale",
            "fallbackLocale",
            "availableLocales"
          ],
          globalExportMethods = ["t", "rt", "d", "n", "tm"];
        function injectGlobalFields(e, t) {
          var r = Object.create(null);
          globalExportProps.forEach(function (e) {
            var n = Object.getOwnPropertyDescriptor(t, e);
            if (!n) throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);
            var i = isRef(n.value)
              ? {
                  get: function () {
                    return n.value.value;
                  },
                  set: function (e) {
                    n.value.value = e;
                  }
                }
              : {
                  get: function () {
                    return n.get && n.get();
                  }
                };
            Object.defineProperty(r, e, i);
          }),
            (e.config.globalProperties.$i18n = r),
            globalExportMethods.forEach(function (r) {
              var n = Object.getOwnPropertyDescriptor(t, r);
              if (!n || !n.value)
                throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);
              Object.defineProperty(
                e.config.globalProperties,
                "$".concat(r),
                n
              );
            });
        }
        if (
          (registerMessageCompiler(compileToFunction),
          registerMessageResolver(resolveValue),
          registerLocaleFallbacker(fallbackWithLocaleChain),
          initFeatureFlags(),
          __INTLIFY_PROD_DEVTOOLS__)
        ) {
          var target = getGlobalThis();
          (target.__INTLIFY__ = !0),
            setDevToolsHook(target.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__);
        }
        var commonjsGlobal =
          "undefined" != typeof globalThis
            ? globalThis
            : "undefined" != typeof window
            ? window
            : "undefined" != typeof global
            ? global
            : "undefined" != typeof self
            ? self
            : {};
        function getDefaultExportFromCjs(e) {
          return e &&
            e.__esModule &&
            Object.prototype.hasOwnProperty.call(e, "default")
            ? e.default
            : e;
        }
        var indexMinimal = {},
          minimal$1 = {},
          aspromise = asPromise;
        function asPromise(e, t) {
          for (
            var r = new Array(arguments.length - 1), n = 0, i = 2, a = !0;
            i < arguments.length;

          )
            r[n++] = arguments[i++];
          return new Promise(function (i, s) {
            r[n] = function (e) {
              if (a)
                if (((a = !1), e)) s(e);
                else {
                  for (
                    var t = new Array(arguments.length - 1), r = 0;
                    r < t.length;

                  )
                    t[r++] = arguments[r];
                  i.apply(null, t);
                }
            };
            try {
              e.apply(t || null, r);
            } catch (o) {
              a && ((a = !1), s(o));
            }
          });
        }
        var base64$1 = {};
        !(function (e) {
          var t = e;
          t.length = function (e) {
            var t = e.length;
            if (!t) return 0;
            for (var r = 0; --t % 4 > 1 && "=" === e.charAt(t); ) ++r;
            return Math.ceil(3 * e.length) / 4 - r;
          };
          for (var r = new Array(64), n = new Array(123), i = 0; i < 64; )
            n[
              (r[i] =
                i < 26
                  ? i + 65
                  : i < 52
                  ? i + 71
                  : i < 62
                  ? i - 4
                  : (i - 59) | 43)
            ] = i++;
          t.encode = function (e, t, n) {
            for (var i, a = null, s = [], o = 0, u = 0; t < n; ) {
              var l = e[t++];
              switch (u) {
                case 0:
                  (s[o++] = r[l >> 2]), (i = (3 & l) << 4), (u = 1);
                  break;
                case 1:
                  (s[o++] = r[i | (l >> 4)]), (i = (15 & l) << 2), (u = 2);
                  break;
                case 2:
                  (s[o++] = r[i | (l >> 6)]), (s[o++] = r[63 & l]), (u = 0);
              }
              o > 8191 &&
                ((a || (a = [])).push(String.fromCharCode.apply(String, s)),
                (o = 0));
            }
            return (
              u && ((s[o++] = r[i]), (s[o++] = 61), 1 === u && (s[o++] = 61)),
              a
                ? (o &&
                    a.push(String.fromCharCode.apply(String, s.slice(0, o))),
                  a.join(""))
                : String.fromCharCode.apply(String, s.slice(0, o))
            );
          };
          var a = "invalid encoding";
          (t.decode = function (e, t, r) {
            for (var i, s = r, o = 0, u = 0; u < e.length; ) {
              var l = e.charCodeAt(u++);
              if (61 === l && o > 1) break;
              if (void 0 === (l = n[l])) throw Error(a);
              switch (o) {
                case 0:
                  (i = l), (o = 1);
                  break;
                case 1:
                  (t[r++] = (i << 2) | ((48 & l) >> 4)), (i = l), (o = 2);
                  break;
                case 2:
                  (t[r++] = ((15 & i) << 4) | ((60 & l) >> 2)),
                    (i = l),
                    (o = 3);
                  break;
                case 3:
                  (t[r++] = ((3 & i) << 6) | l), (o = 0);
              }
            }
            if (1 === o) throw Error(a);
            return r - s;
          }),
            (t.test = function (e) {
              return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(
                e
              );
            });
        })(base64$1);
        var eventemitter = EventEmitter$1;
        function EventEmitter$1() {
          this._listeners = {};
        }
        (EventEmitter$1.prototype.on = function (e, t, r) {
          return (
            (this._listeners[e] || (this._listeners[e] = [])).push({
              fn: t,
              ctx: r || this
            }),
            this
          );
        }),
          (EventEmitter$1.prototype.off = function (e, t) {
            if (void 0 === e) this._listeners = {};
            else if (void 0 === t) this._listeners[e] = [];
            else
              for (var r = this._listeners[e], n = 0; n < r.length; )
                r[n].fn === t ? r.splice(n, 1) : ++n;
            return this;
          }),
          (EventEmitter$1.prototype.emit = function (e) {
            var t = this._listeners[e];
            if (t) {
              for (var r = [], n = 1; n < arguments.length; )
                r.push(arguments[n++]);
              for (n = 0; n < t.length; ) t[n].fn.apply(t[n++].ctx, r);
            }
            return this;
          });
        var _float = factory(factory);
        function factory(e) {
          return (
            "undefined" != typeof Float32Array
              ? (function () {
                  var t = new Float32Array([-0]),
                    r = new Uint8Array(t.buffer),
                    n = 128 === r[3];
                  function i(e, n, i) {
                    (t[0] = e),
                      (n[i] = r[0]),
                      (n[i + 1] = r[1]),
                      (n[i + 2] = r[2]),
                      (n[i + 3] = r[3]);
                  }
                  function a(e, n, i) {
                    (t[0] = e),
                      (n[i] = r[3]),
                      (n[i + 1] = r[2]),
                      (n[i + 2] = r[1]),
                      (n[i + 3] = r[0]);
                  }
                  function s(e, n) {
                    return (
                      (r[0] = e[n]),
                      (r[1] = e[n + 1]),
                      (r[2] = e[n + 2]),
                      (r[3] = e[n + 3]),
                      t[0]
                    );
                  }
                  function o(e, n) {
                    return (
                      (r[3] = e[n]),
                      (r[2] = e[n + 1]),
                      (r[1] = e[n + 2]),
                      (r[0] = e[n + 3]),
                      t[0]
                    );
                  }
                  (e.writeFloatLE = n ? i : a),
                    (e.writeFloatBE = n ? a : i),
                    (e.readFloatLE = n ? s : o),
                    (e.readFloatBE = n ? o : s);
                })()
              : (function () {
                  function t(e, t, r, n) {
                    var i = t < 0 ? 1 : 0;
                    if ((i && (t = -t), 0 === t))
                      e(1 / t > 0 ? 0 : 2147483648, r, n);
                    else if (isNaN(t)) e(2143289344, r, n);
                    else if (t > 34028234663852886e22)
                      e(((i << 31) | 2139095040) >>> 0, r, n);
                    else if (t < 11754943508222875e-54)
                      e(
                        ((i << 31) | Math.round(t / 1401298464324817e-60)) >>>
                          0,
                        r,
                        n
                      );
                    else {
                      var a = Math.floor(Math.log(t) / Math.LN2);
                      e(
                        ((i << 31) |
                          ((a + 127) << 23) |
                          (8388607 &
                            Math.round(t * Math.pow(2, -a) * 8388608))) >>>
                          0,
                        r,
                        n
                      );
                    }
                  }
                  function r(e, t, r) {
                    var n = e(t, r),
                      i = 2 * (n >> 31) + 1,
                      a = (n >>> 23) & 255,
                      s = 8388607 & n;
                    return 255 === a
                      ? s
                        ? NaN
                        : i * (1 / 0)
                      : 0 === a
                      ? 1401298464324817e-60 * i * s
                      : i * Math.pow(2, a - 150) * (s + 8388608);
                  }
                  (e.writeFloatLE = t.bind(null, writeUintLE)),
                    (e.writeFloatBE = t.bind(null, writeUintBE)),
                    (e.readFloatLE = r.bind(null, readUintLE)),
                    (e.readFloatBE = r.bind(null, readUintBE));
                })(),
            "undefined" != typeof Float64Array
              ? (function () {
                  var t = new Float64Array([-0]),
                    r = new Uint8Array(t.buffer),
                    n = 128 === r[7];
                  function i(e, n, i) {
                    (t[0] = e),
                      (n[i] = r[0]),
                      (n[i + 1] = r[1]),
                      (n[i + 2] = r[2]),
                      (n[i + 3] = r[3]),
                      (n[i + 4] = r[4]),
                      (n[i + 5] = r[5]),
                      (n[i + 6] = r[6]),
                      (n[i + 7] = r[7]);
                  }
                  function a(e, n, i) {
                    (t[0] = e),
                      (n[i] = r[7]),
                      (n[i + 1] = r[6]),
                      (n[i + 2] = r[5]),
                      (n[i + 3] = r[4]),
                      (n[i + 4] = r[3]),
                      (n[i + 5] = r[2]),
                      (n[i + 6] = r[1]),
                      (n[i + 7] = r[0]);
                  }
                  function s(e, n) {
                    return (
                      (r[0] = e[n]),
                      (r[1] = e[n + 1]),
                      (r[2] = e[n + 2]),
                      (r[3] = e[n + 3]),
                      (r[4] = e[n + 4]),
                      (r[5] = e[n + 5]),
                      (r[6] = e[n + 6]),
                      (r[7] = e[n + 7]),
                      t[0]
                    );
                  }
                  function o(e, n) {
                    return (
                      (r[7] = e[n]),
                      (r[6] = e[n + 1]),
                      (r[5] = e[n + 2]),
                      (r[4] = e[n + 3]),
                      (r[3] = e[n + 4]),
                      (r[2] = e[n + 5]),
                      (r[1] = e[n + 6]),
                      (r[0] = e[n + 7]),
                      t[0]
                    );
                  }
                  (e.writeDoubleLE = n ? i : a),
                    (e.writeDoubleBE = n ? a : i),
                    (e.readDoubleLE = n ? s : o),
                    (e.readDoubleBE = n ? o : s);
                })()
              : (function () {
                  function t(e, t, r, n, i, a) {
                    var s = n < 0 ? 1 : 0;
                    if ((s && (n = -n), 0 === n))
                      e(0, i, a + t), e(1 / n > 0 ? 0 : 2147483648, i, a + r);
                    else if (isNaN(n)) e(0, i, a + t), e(2146959360, i, a + r);
                    else if (n > 17976931348623157e292)
                      e(0, i, a + t),
                        e(((s << 31) | 2146435072) >>> 0, i, a + r);
                    else {
                      var o;
                      if (n < 22250738585072014e-324)
                        e((o = n / 5e-324) >>> 0, i, a + t),
                          e(((s << 31) | (o / 4294967296)) >>> 0, i, a + r);
                      else {
                        var u = Math.floor(Math.log(n) / Math.LN2);
                        1024 === u && (u = 1023),
                          e(
                            (4503599627370496 * (o = n * Math.pow(2, -u))) >>>
                              0,
                            i,
                            a + t
                          ),
                          e(
                            ((s << 31) |
                              ((u + 1023) << 20) |
                              ((1048576 * o) & 1048575)) >>>
                              0,
                            i,
                            a + r
                          );
                      }
                    }
                  }
                  function r(e, t, r, n, i) {
                    var a = e(n, i + t),
                      s = e(n, i + r),
                      o = 2 * (s >> 31) + 1,
                      u = (s >>> 20) & 2047,
                      l = 4294967296 * (1048575 & s) + a;
                    return 2047 === u
                      ? l
                        ? NaN
                        : o * (1 / 0)
                      : 0 === u
                      ? 5e-324 * o * l
                      : o * Math.pow(2, u - 1075) * (l + 4503599627370496);
                  }
                  (e.writeDoubleLE = t.bind(null, writeUintLE, 0, 4)),
                    (e.writeDoubleBE = t.bind(null, writeUintBE, 4, 0)),
                    (e.readDoubleLE = r.bind(null, readUintLE, 0, 4)),
                    (e.readDoubleBE = r.bind(null, readUintBE, 4, 0));
                })(),
            e
          );
        }
        function writeUintLE(e, t, r) {
          (t[r] = 255 & e),
            (t[r + 1] = (e >>> 8) & 255),
            (t[r + 2] = (e >>> 16) & 255),
            (t[r + 3] = e >>> 24);
        }
        function writeUintBE(e, t, r) {
          (t[r] = e >>> 24),
            (t[r + 1] = (e >>> 16) & 255),
            (t[r + 2] = (e >>> 8) & 255),
            (t[r + 3] = 255 & e);
        }
        function readUintLE(e, t) {
          return (
            (e[t] | (e[t + 1] << 8) | (e[t + 2] << 16) | (e[t + 3] << 24)) >>> 0
          );
        }
        function readUintBE(e, t) {
          return (
            ((e[t] << 24) | (e[t + 1] << 16) | (e[t + 2] << 8) | e[t + 3]) >>> 0
          );
        }
        var inquire_1 = inquire;
        function inquire(moduleName) {
          try {
            var mod = eval("quire".replace(/^/, "re"))(moduleName);
            if (mod && (mod.length || Object.keys(mod).length)) return mod;
          } catch (e) {}
          return null;
        }
        var utf8$2 = {};
        !(function (e) {
          var t = e;
          (t.length = function (e) {
            for (var t = 0, r = 0, n = 0; n < e.length; ++n)
              (r = e.charCodeAt(n)) < 128
                ? (t += 1)
                : r < 2048
                ? (t += 2)
                : 55296 == (64512 & r) && 56320 == (64512 & e.charCodeAt(n + 1))
                ? (++n, (t += 4))
                : (t += 3);
            return t;
          }),
            (t.read = function (e, t, r) {
              if (r - t < 1) return "";
              for (var n, i = null, a = [], s = 0; t < r; )
                (n = e[t++]) < 128
                  ? (a[s++] = n)
                  : n > 191 && n < 224
                  ? (a[s++] = ((31 & n) << 6) | (63 & e[t++]))
                  : n > 239 && n < 365
                  ? ((n =
                      (((7 & n) << 18) |
                        ((63 & e[t++]) << 12) |
                        ((63 & e[t++]) << 6) |
                        (63 & e[t++])) -
                      65536),
                    (a[s++] = 55296 + (n >> 10)),
                    (a[s++] = 56320 + (1023 & n)))
                  : (a[s++] =
                      ((15 & n) << 12) | ((63 & e[t++]) << 6) | (63 & e[t++])),
                  s > 8191 &&
                    ((i || (i = [])).push(String.fromCharCode.apply(String, a)),
                    (s = 0));
              return i
                ? (s &&
                    i.push(String.fromCharCode.apply(String, a.slice(0, s))),
                  i.join(""))
                : String.fromCharCode.apply(String, a.slice(0, s));
            }),
            (t.write = function (e, t, r) {
              for (var n, i, a = r, s = 0; s < e.length; ++s)
                (n = e.charCodeAt(s)) < 128
                  ? (t[r++] = n)
                  : n < 2048
                  ? ((t[r++] = (n >> 6) | 192), (t[r++] = (63 & n) | 128))
                  : 55296 == (64512 & n) &&
                    56320 == (64512 & (i = e.charCodeAt(s + 1)))
                  ? ((n = 65536 + ((1023 & n) << 10) + (1023 & i)),
                    ++s,
                    (t[r++] = (n >> 18) | 240),
                    (t[r++] = ((n >> 12) & 63) | 128),
                    (t[r++] = ((n >> 6) & 63) | 128),
                    (t[r++] = (63 & n) | 128))
                  : ((t[r++] = (n >> 12) | 224),
                    (t[r++] = ((n >> 6) & 63) | 128),
                    (t[r++] = (63 & n) | 128));
              return r - a;
            });
        })(utf8$2);
        var pool_1 = pool,
          longbits,
          hasRequiredLongbits,
          hasRequiredMinimal;
        function pool(e, t, r) {
          var n = r || 8192,
            i = n >>> 1,
            a = null,
            s = n;
          return function (r) {
            if (r < 1 || r > i) return e(r);
            s + r > n && ((a = e(n)), (s = 0));
            var o = t.call(a, s, (s += r));
            return 7 & s && (s = 1 + (7 | s)), o;
          };
        }
        function requireLongbits() {
          if (hasRequiredLongbits) return longbits;
          (hasRequiredLongbits = 1), (longbits = t);
          var e = requireMinimal();
          function t(e, t) {
            (this.lo = e >>> 0), (this.hi = t >>> 0);
          }
          var r = (t.zero = new t(0, 0));
          (r.toNumber = function () {
            return 0;
          }),
            (r.zzEncode = r.zzDecode = function () {
              return this;
            }),
            (r.length = function () {
              return 1;
            });
          var n = (t.zeroHash = "\0\0\0\0\0\0\0\0");
          (t.fromNumber = function (e) {
            if (0 === e) return r;
            var n = e < 0;
            n && (e = -e);
            var i = e >>> 0,
              a = ((e - i) / 4294967296) >>> 0;
            return (
              n &&
                ((a = ~a >>> 0),
                (i = ~i >>> 0),
                ++i > 4294967295 && ((i = 0), ++a > 4294967295 && (a = 0))),
              new t(i, a)
            );
          }),
            (t.from = function (n) {
              if ("number" == typeof n) return t.fromNumber(n);
              if (e.isString(n)) {
                if (!e.Long) return t.fromNumber(parseInt(n, 10));
                n = e.Long.fromString(n);
              }
              return n.low || n.high ? new t(n.low >>> 0, n.high >>> 0) : r;
            }),
            (t.prototype.toNumber = function (e) {
              if (!e && this.hi >>> 31) {
                var t = (1 + ~this.lo) >>> 0,
                  r = ~this.hi >>> 0;
                return t || (r = (r + 1) >>> 0), -(t + 4294967296 * r);
              }
              return this.lo + 4294967296 * this.hi;
            }),
            (t.prototype.toLong = function (t) {
              return e.Long
                ? new e.Long(0 | this.lo, 0 | this.hi, Boolean(t))
                : { low: 0 | this.lo, high: 0 | this.hi, unsigned: Boolean(t) };
            });
          var i = String.prototype.charCodeAt;
          return (
            (t.fromHash = function (e) {
              return e === n
                ? r
                : new t(
                    (i.call(e, 0) |
                      (i.call(e, 1) << 8) |
                      (i.call(e, 2) << 16) |
                      (i.call(e, 3) << 24)) >>>
                      0,
                    (i.call(e, 4) |
                      (i.call(e, 5) << 8) |
                      (i.call(e, 6) << 16) |
                      (i.call(e, 7) << 24)) >>>
                      0
                  );
            }),
            (t.prototype.toHash = function () {
              return String.fromCharCode(
                255 & this.lo,
                (this.lo >>> 8) & 255,
                (this.lo >>> 16) & 255,
                this.lo >>> 24,
                255 & this.hi,
                (this.hi >>> 8) & 255,
                (this.hi >>> 16) & 255,
                this.hi >>> 24
              );
            }),
            (t.prototype.zzEncode = function () {
              var e = this.hi >> 31;
              return (
                (this.hi = (((this.hi << 1) | (this.lo >>> 31)) ^ e) >>> 0),
                (this.lo = ((this.lo << 1) ^ e) >>> 0),
                this
              );
            }),
            (t.prototype.zzDecode = function () {
              var e = -(1 & this.lo);
              return (
                (this.lo = (((this.lo >>> 1) | (this.hi << 31)) ^ e) >>> 0),
                (this.hi = ((this.hi >>> 1) ^ e) >>> 0),
                this
              );
            }),
            (t.prototype.length = function () {
              var e = this.lo,
                t = ((this.lo >>> 28) | (this.hi << 4)) >>> 0,
                r = this.hi >>> 24;
              return 0 === r
                ? 0 === t
                  ? e < 16384
                    ? e < 128
                      ? 1
                      : 2
                    : e < 2097152
                    ? 3
                    : 4
                  : t < 16384
                  ? t < 128
                    ? 5
                    : 6
                  : t < 2097152
                  ? 7
                  : 8
                : r < 128
                ? 9
                : 10;
            }),
            longbits
          );
        }
        function requireMinimal() {
          return (
            hasRequiredMinimal ||
              ((hasRequiredMinimal = 1),
              (function (t) {
                var r = t;
                function n(e, t, r) {
                  for (var n = Object.keys(t), i = 0; i < n.length; ++i)
                    (void 0 !== e[n[i]] && r) || (e[n[i]] = t[n[i]]);
                  return e;
                }
                function i(e) {
                  function t(e, r) {
                    if (!(this instanceof t)) return new t(e, r);
                    Object.defineProperty(this, "message", {
                      get: function () {
                        return e;
                      }
                    }),
                      Error.captureStackTrace
                        ? Error.captureStackTrace(this, t)
                        : Object.defineProperty(this, "stack", {
                            value: new Error().stack || ""
                          }),
                      r && n(this, r);
                  }
                  return (
                    (t.prototype = Object.create(Error.prototype, {
                      constructor: {
                        value: t,
                        writable: !0,
                        enumerable: !1,
                        configurable: !0
                      },
                      name: {
                        get: function () {
                          return e;
                        },
                        set: void 0,
                        enumerable: !1,
                        configurable: !0
                      },
                      toString: {
                        value: function () {
                          return this.name + ": " + this.message;
                        },
                        writable: !0,
                        enumerable: !1,
                        configurable: !0
                      }
                    })),
                    t
                  );
                }
                (r.asPromise = aspromise),
                  (r.base64 = base64$1),
                  (r.EventEmitter = eventemitter),
                  (r.float = _float),
                  (r.inquire = inquire_1),
                  (r.utf8 = utf8$2),
                  (r.pool = pool_1),
                  (r.LongBits = requireLongbits()),
                  (r.isNode = Boolean(
                    void 0 !== commonjsGlobal &&
                      commonjsGlobal &&
                      commonjsGlobal.process &&
                      commonjsGlobal.process.versions &&
                      commonjsGlobal.process.versions.node
                  )),
                  (r.global =
                    (r.isNode && commonjsGlobal) ||
                    ("undefined" != typeof window && window) ||
                    ("undefined" != typeof self && self) ||
                    commonjsGlobal),
                  (r.emptyArray = Object.freeze ? Object.freeze([]) : []),
                  (r.emptyObject = Object.freeze ? Object.freeze({}) : {}),
                  (r.isInteger =
                    Number.isInteger ||
                    function (e) {
                      return (
                        "number" == typeof e &&
                        isFinite(e) &&
                        Math.floor(e) === e
                      );
                    }),
                  (r.isString = function (e) {
                    return "string" == typeof e || e instanceof String;
                  }),
                  (r.isObject = function (e) {
                    return e && "object" === _typeof(e);
                  }),
                  (r.isset = r.isSet = function (e, t) {
                    var r = e[t];
                    return (
                      !(null == r || !e.hasOwnProperty(t)) &&
                      ("object" !== _typeof(r) ||
                        (Array.isArray(r) ? r.length : Object.keys(r).length) >
                          0)
                    );
                  }),
                  (r.Buffer = (function () {
                    try {
                      var t = r.inquire("buffer").Buffer;
                      return t.prototype.utf8Write ? t : null;
                    } catch (e) {
                      return null;
                    }
                  })()),
                  (r._Buffer_from = null),
                  (r._Buffer_allocUnsafe = null),
                  (r.newBuffer = function (e) {
                    return "number" == typeof e
                      ? r.Buffer
                        ? r._Buffer_allocUnsafe(e)
                        : new r.Array(e)
                      : r.Buffer
                      ? r._Buffer_from(e)
                      : "undefined" == typeof Uint8Array
                      ? e
                      : new Uint8Array(e);
                  }),
                  (r.Array =
                    "undefined" != typeof Uint8Array ? Uint8Array : Array),
                  (r.Long =
                    (r.global.dcodeIO && r.global.dcodeIO.Long) ||
                    r.global.Long ||
                    r.inquire("long")),
                  (r.key2Re = /^true|false|0|1$/),
                  (r.key32Re = /^-?(?:0|[1-9][0-9]*)$/),
                  (r.key64Re = /^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/),
                  (r.longToHash = function (e) {
                    return e
                      ? r.LongBits.from(e).toHash()
                      : r.LongBits.zeroHash;
                  }),
                  (r.longFromHash = function (e, t) {
                    var n = r.LongBits.fromHash(e);
                    return r.Long
                      ? r.Long.fromBits(n.lo, n.hi, t)
                      : n.toNumber(Boolean(t));
                  }),
                  (r.merge = n),
                  (r.lcFirst = function (e) {
                    return e.charAt(0).toLowerCase() + e.substring(1);
                  }),
                  (r.newError = i),
                  (r.ProtocolError = i("ProtocolError")),
                  (r.oneOfGetter = function (e) {
                    for (var t = {}, r = 0; r < e.length; ++r) t[e[r]] = 1;
                    return function () {
                      for (
                        var e = Object.keys(this), r = e.length - 1;
                        r > -1;
                        --r
                      )
                        if (
                          1 === t[e[r]] &&
                          void 0 !== this[e[r]] &&
                          null !== this[e[r]]
                        )
                          return e[r];
                    };
                  }),
                  (r.oneOfSetter = function (e) {
                    return function (t) {
                      for (var r = 0; r < e.length; ++r)
                        e[r] !== t && delete this[e[r]];
                    };
                  }),
                  (r.toJSONOptions = {
                    longs: String,
                    enums: String,
                    bytes: String,
                    json: !0
                  }),
                  (r._configure = function () {
                    var e = r.Buffer;
                    e
                      ? ((r._Buffer_from =
                          (e.from !== Uint8Array.from && e.from) ||
                          function (t, r) {
                            return new e(t, r);
                          }),
                        (r._Buffer_allocUnsafe =
                          e.allocUnsafe ||
                          function (t) {
                            return new e(t);
                          }))
                      : (r._Buffer_from = r._Buffer_allocUnsafe = null);
                  });
              })(minimal$1)),
            minimal$1
          );
        }
        var writer = Writer$1,
          util$6 = requireMinimal(),
          BufferWriter$1,
          LongBits$1 = util$6.LongBits,
          base64 = util$6.base64,
          utf8$1 = util$6.utf8;
        function Op(e, t, r) {
          (this.fn = e), (this.len = t), (this.next = void 0), (this.val = r);
        }
        function noop() {}
        function State$1(e) {
          (this.head = e.head),
            (this.tail = e.tail),
            (this.len = e.len),
            (this.next = e.states);
        }
        function Writer$1() {
          (this.len = 0),
            (this.head = new Op(noop, 0, 0)),
            (this.tail = this.head),
            (this.states = null);
        }
        var create$1 = function () {
          return util$6.Buffer
            ? function () {
                return (Writer$1.create = function () {
                  return new BufferWriter$1();
                })();
              }
            : function () {
                return new Writer$1();
              };
        };
        function writeByte(e, t, r) {
          t[r] = 255 & e;
        }
        function writeVarint32(e, t, r) {
          for (; e > 127; ) (t[r++] = (127 & e) | 128), (e >>>= 7);
          t[r] = e;
        }
        function VarintOp(e, t) {
          (this.len = e), (this.next = void 0), (this.val = t);
        }
        function writeVarint64(e, t, r) {
          for (; e.hi; )
            (t[r++] = (127 & e.lo) | 128),
              (e.lo = ((e.lo >>> 7) | (e.hi << 25)) >>> 0),
              (e.hi >>>= 7);
          for (; e.lo > 127; )
            (t[r++] = (127 & e.lo) | 128), (e.lo = e.lo >>> 7);
          t[r++] = e.lo;
        }
        function writeFixed32(e, t, r) {
          (t[r] = 255 & e),
            (t[r + 1] = (e >>> 8) & 255),
            (t[r + 2] = (e >>> 16) & 255),
            (t[r + 3] = e >>> 24);
        }
        (Writer$1.create = create$1()),
          (Writer$1.alloc = function (e) {
            return new util$6.Array(e);
          }),
          util$6.Array !== Array &&
            (Writer$1.alloc = util$6.pool(
              Writer$1.alloc,
              util$6.Array.prototype.subarray
            )),
          (Writer$1.prototype._push = function (e, t, r) {
            return (
              (this.tail = this.tail.next = new Op(e, t, r)),
              (this.len += t),
              this
            );
          }),
          (VarintOp.prototype = Object.create(Op.prototype)),
          (VarintOp.prototype.fn = writeVarint32),
          (Writer$1.prototype.uint32 = function (e) {
            return (
              (this.len += (this.tail = this.tail.next = new VarintOp(
                (e >>>= 0) < 128
                  ? 1
                  : e < 16384
                  ? 2
                  : e < 2097152
                  ? 3
                  : e < 268435456
                  ? 4
                  : 5,
                e
              )).len),
              this
            );
          }),
          (Writer$1.prototype.int32 = function (e) {
            return e < 0
              ? this._push(writeVarint64, 10, LongBits$1.fromNumber(e))
              : this.uint32(e);
          }),
          (Writer$1.prototype.sint32 = function (e) {
            return this.uint32(((e << 1) ^ (e >> 31)) >>> 0);
          }),
          (Writer$1.prototype.uint64 = function (e) {
            var t = LongBits$1.from(e);
            return this._push(writeVarint64, t.length(), t);
          }),
          (Writer$1.prototype.int64 = Writer$1.prototype.uint64),
          (Writer$1.prototype.sint64 = function (e) {
            var t = LongBits$1.from(e).zzEncode();
            return this._push(writeVarint64, t.length(), t);
          }),
          (Writer$1.prototype.bool = function (e) {
            return this._push(writeByte, 1, e ? 1 : 0);
          }),
          (Writer$1.prototype.fixed32 = function (e) {
            return this._push(writeFixed32, 4, e >>> 0);
          }),
          (Writer$1.prototype.sfixed32 = Writer$1.prototype.fixed32),
          (Writer$1.prototype.fixed64 = function (e) {
            var t = LongBits$1.from(e);
            return this._push(writeFixed32, 4, t.lo)._push(
              writeFixed32,
              4,
              t.hi
            );
          }),
          (Writer$1.prototype.sfixed64 = Writer$1.prototype.fixed64),
          (Writer$1.prototype.float = function (e) {
            return this._push(util$6.float.writeFloatLE, 4, e);
          }),
          (Writer$1.prototype.double = function (e) {
            return this._push(util$6.float.writeDoubleLE, 8, e);
          });
        var writeBytes = util$6.Array.prototype.set
          ? function (e, t, r) {
              t.set(e, r);
            }
          : function (e, t, r) {
              for (var n = 0; n < e.length; ++n) t[r + n] = e[n];
            };
        (Writer$1.prototype.bytes = function (e) {
          var t = e.length >>> 0;
          if (!t) return this._push(writeByte, 1, 0);
          if (util$6.isString(e)) {
            var r = Writer$1.alloc((t = base64.length(e)));
            base64.decode(e, r, 0), (e = r);
          }
          return this.uint32(t)._push(writeBytes, t, e);
        }),
          (Writer$1.prototype.string = function (e) {
            var t = utf8$1.length(e);
            return t
              ? this.uint32(t)._push(utf8$1.write, t, e)
              : this._push(writeByte, 1, 0);
          }),
          (Writer$1.prototype.fork = function () {
            return (
              (this.states = new State$1(this)),
              (this.head = this.tail = new Op(noop, 0, 0)),
              (this.len = 0),
              this
            );
          }),
          (Writer$1.prototype.reset = function () {
            return (
              this.states
                ? ((this.head = this.states.head),
                  (this.tail = this.states.tail),
                  (this.len = this.states.len),
                  (this.states = this.states.next))
                : ((this.head = this.tail = new Op(noop, 0, 0)),
                  (this.len = 0)),
              this
            );
          }),
          (Writer$1.prototype.ldelim = function () {
            var e = this.head,
              t = this.tail,
              r = this.len;
            return (
              this.reset().uint32(r),
              r &&
                ((this.tail.next = e.next), (this.tail = t), (this.len += r)),
              this
            );
          }),
          (Writer$1.prototype.finish = function () {
            for (
              var e = this.head.next,
                t = this.constructor.alloc(this.len),
                r = 0;
              e;

            )
              e.fn(e.val, t, r), (r += e.len), (e = e.next);
            return t;
          }),
          (Writer$1._configure = function (e) {
            (BufferWriter$1 = e),
              (Writer$1.create = create$1()),
              BufferWriter$1._configure();
          });
        var writer_buffer = BufferWriter,
          Writer = writer;
        (BufferWriter.prototype = Object.create(
          Writer.prototype
        )).constructor = BufferWriter;
        var util$5 = requireMinimal();
        function BufferWriter() {
          Writer.call(this);
        }
        function writeStringBuffer(e, t, r) {
          e.length < 40
            ? util$5.utf8.write(e, t, r)
            : t.utf8Write
            ? t.utf8Write(e, r)
            : t.write(e, r);
        }
        (BufferWriter._configure = function () {
          (BufferWriter.alloc = util$5._Buffer_allocUnsafe),
            (BufferWriter.writeBytesBuffer =
              util$5.Buffer &&
              util$5.Buffer.prototype instanceof Uint8Array &&
              "set" === util$5.Buffer.prototype.set.name
                ? function (e, t, r) {
                    t.set(e, r);
                  }
                : function (e, t, r) {
                    if (e.copy) e.copy(t, r, 0, e.length);
                    else for (var n = 0; n < e.length; ) t[r++] = e[n++];
                  });
        }),
          (BufferWriter.prototype.bytes = function (e) {
            util$5.isString(e) && (e = util$5._Buffer_from(e, "base64"));
            var t = e.length >>> 0;
            return (
              this.uint32(t),
              t && this._push(BufferWriter.writeBytesBuffer, t, e),
              this
            );
          }),
          (BufferWriter.prototype.string = function (e) {
            var t = util$5.Buffer.byteLength(e);
            return (
              this.uint32(t), t && this._push(writeStringBuffer, t, e), this
            );
          }),
          BufferWriter._configure();
        var reader = Reader$1,
          util$4 = requireMinimal(),
          BufferReader$1,
          LongBits = util$4.LongBits,
          utf8 = util$4.utf8;
        function indexOutOfRange(e, t) {
          return RangeError(
            "index out of range: " + e.pos + " + " + (t || 1) + " > " + e.len
          );
        }
        function Reader$1(e) {
          (this.buf = e), (this.pos = 0), (this.len = e.length);
        }
        var create_array =
            "undefined" != typeof Uint8Array
              ? function (e) {
                  if (e instanceof Uint8Array || Array.isArray(e))
                    return new Reader$1(e);
                  throw Error("illegal buffer");
                }
              : function (e) {
                  if (Array.isArray(e)) return new Reader$1(e);
                  throw Error("illegal buffer");
                },
          create = function () {
            return util$4.Buffer
              ? function (e) {
                  return (Reader$1.create = function (e) {
                    return util$4.Buffer.isBuffer(e)
                      ? new BufferReader$1(e)
                      : create_array(e);
                  })(e);
                }
              : create_array;
          },
          value;
        function readLongVarint() {
          var e = new LongBits(0, 0),
            t = 0;
          if (!(this.len - this.pos > 4)) {
            for (; t < 3; ++t) {
              if (this.pos >= this.len) throw indexOutOfRange(this);
              if (
                ((e.lo =
                  (e.lo | ((127 & this.buf[this.pos]) << (7 * t))) >>> 0),
                this.buf[this.pos++] < 128)
              )
                return e;
            }
            return (
              (e.lo = (e.lo | ((127 & this.buf[this.pos++]) << (7 * t))) >>> 0),
              e
            );
          }
          for (; t < 4; ++t)
            if (
              ((e.lo = (e.lo | ((127 & this.buf[this.pos]) << (7 * t))) >>> 0),
              this.buf[this.pos++] < 128)
            )
              return e;
          if (
            ((e.lo = (e.lo | ((127 & this.buf[this.pos]) << 28)) >>> 0),
            (e.hi = (e.hi | ((127 & this.buf[this.pos]) >> 4)) >>> 0),
            this.buf[this.pos++] < 128)
          )
            return e;
          if (((t = 0), this.len - this.pos > 4)) {
            for (; t < 5; ++t)
              if (
                ((e.hi =
                  (e.hi | ((127 & this.buf[this.pos]) << (7 * t + 3))) >>> 0),
                this.buf[this.pos++] < 128)
              )
                return e;
          } else
            for (; t < 5; ++t) {
              if (this.pos >= this.len) throw indexOutOfRange(this);
              if (
                ((e.hi =
                  (e.hi | ((127 & this.buf[this.pos]) << (7 * t + 3))) >>> 0),
                this.buf[this.pos++] < 128)
              )
                return e;
            }
          throw Error("invalid varint encoding");
        }
        function readFixed32_end(e, t) {
          return (
            (e[t - 4] |
              (e[t - 3] << 8) |
              (e[t - 2] << 16) |
              (e[t - 1] << 24)) >>>
            0
          );
        }
        function readFixed64() {
          if (this.pos + 8 > this.len) throw indexOutOfRange(this, 8);
          return new LongBits(
            readFixed32_end(this.buf, (this.pos += 4)),
            readFixed32_end(this.buf, (this.pos += 4))
          );
        }
        (Reader$1.create = create()),
          (Reader$1.prototype._slice =
            util$4.Array.prototype.subarray || util$4.Array.prototype.slice),
          (Reader$1.prototype.uint32 =
            ((value = 4294967295),
            function () {
              if (
                ((value = (127 & this.buf[this.pos]) >>> 0),
                this.buf[this.pos++] < 128)
              )
                return value;
              if (
                ((value = (value | ((127 & this.buf[this.pos]) << 7)) >>> 0),
                this.buf[this.pos++] < 128)
              )
                return value;
              if (
                ((value = (value | ((127 & this.buf[this.pos]) << 14)) >>> 0),
                this.buf[this.pos++] < 128)
              )
                return value;
              if (
                ((value = (value | ((127 & this.buf[this.pos]) << 21)) >>> 0),
                this.buf[this.pos++] < 128)
              )
                return value;
              if (
                ((value = (value | ((15 & this.buf[this.pos]) << 28)) >>> 0),
                this.buf[this.pos++] < 128)
              )
                return value;
              if ((this.pos += 5) > this.len)
                throw ((this.pos = this.len), indexOutOfRange(this, 10));
              return value;
            })),
          (Reader$1.prototype.int32 = function () {
            return 0 | this.uint32();
          }),
          (Reader$1.prototype.sint32 = function () {
            var e = this.uint32();
            return ((e >>> 1) ^ -(1 & e)) | 0;
          }),
          (Reader$1.prototype.bool = function () {
            return 0 !== this.uint32();
          }),
          (Reader$1.prototype.fixed32 = function () {
            if (this.pos + 4 > this.len) throw indexOutOfRange(this, 4);
            return readFixed32_end(this.buf, (this.pos += 4));
          }),
          (Reader$1.prototype.sfixed32 = function () {
            if (this.pos + 4 > this.len) throw indexOutOfRange(this, 4);
            return 0 | readFixed32_end(this.buf, (this.pos += 4));
          }),
          (Reader$1.prototype.float = function () {
            if (this.pos + 4 > this.len) throw indexOutOfRange(this, 4);
            var e = util$4.float.readFloatLE(this.buf, this.pos);
            return (this.pos += 4), e;
          }),
          (Reader$1.prototype.double = function () {
            if (this.pos + 8 > this.len) throw indexOutOfRange(this, 4);
            var e = util$4.float.readDoubleLE(this.buf, this.pos);
            return (this.pos += 8), e;
          }),
          (Reader$1.prototype.bytes = function () {
            var e = this.uint32(),
              t = this.pos,
              r = this.pos + e;
            if (r > this.len) throw indexOutOfRange(this, e);
            return (
              (this.pos += e),
              Array.isArray(this.buf)
                ? this.buf.slice(t, r)
                : t === r
                ? new this.buf.constructor(0)
                : this._slice.call(this.buf, t, r)
            );
          }),
          (Reader$1.prototype.string = function () {
            var e = this.bytes();
            return utf8.read(e, 0, e.length);
          }),
          (Reader$1.prototype.skip = function (e) {
            if ("number" == typeof e) {
              if (this.pos + e > this.len) throw indexOutOfRange(this, e);
              this.pos += e;
            } else
              do {
                if (this.pos >= this.len) throw indexOutOfRange(this);
              } while (128 & this.buf[this.pos++]);
            return this;
          }),
          (Reader$1.prototype.skipType = function (e) {
            switch (e) {
              case 0:
                this.skip();
                break;
              case 1:
                this.skip(8);
                break;
              case 2:
                this.skip(this.uint32());
                break;
              case 3:
                for (; 4 != (e = 7 & this.uint32()); ) this.skipType(e);
                break;
              case 5:
                this.skip(4);
                break;
              default:
                throw Error(
                  "invalid wire type " + e + " at offset " + this.pos
                );
            }
            return this;
          }),
          (Reader$1._configure = function (e) {
            (BufferReader$1 = e),
              (Reader$1.create = create()),
              BufferReader$1._configure();
            var t = util$4.Long ? "toLong" : "toNumber";
            util$4.merge(Reader$1.prototype, {
              int64: function () {
                return readLongVarint.call(this)[t](!1);
              },
              uint64: function () {
                return readLongVarint.call(this)[t](!0);
              },
              sint64: function () {
                return readLongVarint.call(this).zzDecode()[t](!1);
              },
              fixed64: function () {
                return readFixed64.call(this)[t](!0);
              },
              sfixed64: function () {
                return readFixed64.call(this)[t](!1);
              }
            });
          });
        var reader_buffer = BufferReader,
          Reader = reader;
        (BufferReader.prototype = Object.create(
          Reader.prototype
        )).constructor = BufferReader;
        var util$3 = requireMinimal();
        function BufferReader(e) {
          Reader.call(this, e);
        }
        (BufferReader._configure = function () {
          util$3.Buffer &&
            (BufferReader.prototype._slice = util$3.Buffer.prototype.slice);
        }),
          (BufferReader.prototype.string = function () {
            var e = this.uint32();
            return this.buf.utf8Slice
              ? this.buf.utf8Slice(
                  this.pos,
                  (this.pos = Math.min(this.pos + e, this.len))
                )
              : this.buf.toString(
                  "utf-8",
                  this.pos,
                  (this.pos = Math.min(this.pos + e, this.len))
                );
          }),
          BufferReader._configure();
        var rpc = {},
          service = Service,
          util$2 = requireMinimal();
        function Service(e, t, r) {
          if ("function" != typeof e)
            throw TypeError("rpcImpl must be a function");
          util$2.EventEmitter.call(this),
            (this.rpcImpl = e),
            (this.requestDelimited = Boolean(t)),
            (this.responseDelimited = Boolean(r));
        }
        ((Service.prototype = Object.create(
          util$2.EventEmitter.prototype
        )).constructor = Service),
          (Service.prototype.rpcCall = function e(t, r, n, i, a) {
            if (!i) throw TypeError("request must be specified");
            var s = this;
            if (!a) return util$2.asPromise(e, s, t, r, n, i);
            if (s.rpcImpl)
              try {
                return s.rpcImpl(
                  t,
                  r[s.requestDelimited ? "encodeDelimited" : "encode"](
                    i
                  ).finish(),
                  function (e, r) {
                    if (e) return s.emit("error", e, t), a(e);
                    if (null !== r) {
                      if (!(r instanceof n))
                        try {
                          r = n[
                            s.responseDelimited ? "decodeDelimited" : "decode"
                          ](r);
                        } catch (e) {
                          return s.emit("error", e, t), a(e);
                        }
                      return s.emit("data", r, t), a(null, r);
                    }
                    s.end(!0);
                  }
                );
              } catch (o) {
                return (
                  s.emit("error", o, t),
                  void setTimeout(function () {
                    a(o);
                  }, 0)
                );
              }
            else
              setTimeout(function () {
                a(Error("already ended"));
              }, 0);
          }),
          (Service.prototype.end = function (e) {
            return (
              this.rpcImpl &&
                (e || this.rpcImpl(null, null, null),
                (this.rpcImpl = null),
                this.emit("end").off()),
              this
            );
          }),
          (function (e) {
            e.Service = service;
          })(rpc);
        var roots = {};
        !(function (e) {
          var t = e;
          function r() {
            t.util._configure(),
              t.Writer._configure(t.BufferWriter),
              t.Reader._configure(t.BufferReader);
          }
          (t.build = "minimal"),
            (t.Writer = writer),
            (t.BufferWriter = writer_buffer),
            (t.Reader = reader),
            (t.BufferReader = reader_buffer),
            (t.util = requireMinimal()),
            (t.rpc = rpc),
            (t.roots = roots),
            (t.configure = r),
            r();
        })(indexMinimal);
        var minimal = exports("m", indexMinimal),
          ENV = (function (e) {
            return (
              (e[(e.WEBGL_LEGACY = 0)] = "WEBGL_LEGACY"),
              (e[(e.WEBGL = 1)] = "WEBGL"),
              (e[(e.WEBGL2 = 2)] = "WEBGL2"),
              e
            );
          })(ENV || {}),
          RENDERER_TYPE = (function (e) {
            return (
              (e[(e.UNKNOWN = 0)] = "UNKNOWN"),
              (e[(e.WEBGL = 1)] = "WEBGL"),
              (e[(e.CANVAS = 2)] = "CANVAS"),
              e
            );
          })(RENDERER_TYPE || {}),
          BUFFER_BITS = (function (e) {
            return (
              (e[(e.COLOR = 16384)] = "COLOR"),
              (e[(e.DEPTH = 256)] = "DEPTH"),
              (e[(e.STENCIL = 1024)] = "STENCIL"),
              e
            );
          })(BUFFER_BITS || {}),
          BLEND_MODES = (function (e) {
            return (
              (e[(e.NORMAL = 0)] = "NORMAL"),
              (e[(e.ADD = 1)] = "ADD"),
              (e[(e.MULTIPLY = 2)] = "MULTIPLY"),
              (e[(e.SCREEN = 3)] = "SCREEN"),
              (e[(e.OVERLAY = 4)] = "OVERLAY"),
              (e[(e.DARKEN = 5)] = "DARKEN"),
              (e[(e.LIGHTEN = 6)] = "LIGHTEN"),
              (e[(e.COLOR_DODGE = 7)] = "COLOR_DODGE"),
              (e[(e.COLOR_BURN = 8)] = "COLOR_BURN"),
              (e[(e.HARD_LIGHT = 9)] = "HARD_LIGHT"),
              (e[(e.SOFT_LIGHT = 10)] = "SOFT_LIGHT"),
              (e[(e.DIFFERENCE = 11)] = "DIFFERENCE"),
              (e[(e.EXCLUSION = 12)] = "EXCLUSION"),
              (e[(e.HUE = 13)] = "HUE"),
              (e[(e.SATURATION = 14)] = "SATURATION"),
              (e[(e.COLOR = 15)] = "COLOR"),
              (e[(e.LUMINOSITY = 16)] = "LUMINOSITY"),
              (e[(e.NORMAL_NPM = 17)] = "NORMAL_NPM"),
              (e[(e.ADD_NPM = 18)] = "ADD_NPM"),
              (e[(e.SCREEN_NPM = 19)] = "SCREEN_NPM"),
              (e[(e.NONE = 20)] = "NONE"),
              (e[(e.SRC_OVER = 0)] = "SRC_OVER"),
              (e[(e.SRC_IN = 21)] = "SRC_IN"),
              (e[(e.SRC_OUT = 22)] = "SRC_OUT"),
              (e[(e.SRC_ATOP = 23)] = "SRC_ATOP"),
              (e[(e.DST_OVER = 24)] = "DST_OVER"),
              (e[(e.DST_IN = 25)] = "DST_IN"),
              (e[(e.DST_OUT = 26)] = "DST_OUT"),
              (e[(e.DST_ATOP = 27)] = "DST_ATOP"),
              (e[(e.ERASE = 26)] = "ERASE"),
              (e[(e.SUBTRACT = 28)] = "SUBTRACT"),
              (e[(e.XOR = 29)] = "XOR"),
              e
            );
          })(BLEND_MODES || {}),
          DRAW_MODES = (function (e) {
            return (
              (e[(e.POINTS = 0)] = "POINTS"),
              (e[(e.LINES = 1)] = "LINES"),
              (e[(e.LINE_LOOP = 2)] = "LINE_LOOP"),
              (e[(e.LINE_STRIP = 3)] = "LINE_STRIP"),
              (e[(e.TRIANGLES = 4)] = "TRIANGLES"),
              (e[(e.TRIANGLE_STRIP = 5)] = "TRIANGLE_STRIP"),
              (e[(e.TRIANGLE_FAN = 6)] = "TRIANGLE_FAN"),
              e
            );
          })(DRAW_MODES || {}),
          FORMATS = (function (e) {
            return (
              (e[(e.RGBA = 6408)] = "RGBA"),
              (e[(e.RGB = 6407)] = "RGB"),
              (e[(e.RG = 33319)] = "RG"),
              (e[(e.RED = 6403)] = "RED"),
              (e[(e.RGBA_INTEGER = 36249)] = "RGBA_INTEGER"),
              (e[(e.RGB_INTEGER = 36248)] = "RGB_INTEGER"),
              (e[(e.RG_INTEGER = 33320)] = "RG_INTEGER"),
              (e[(e.RED_INTEGER = 36244)] = "RED_INTEGER"),
              (e[(e.ALPHA = 6406)] = "ALPHA"),
              (e[(e.LUMINANCE = 6409)] = "LUMINANCE"),
              (e[(e.LUMINANCE_ALPHA = 6410)] = "LUMINANCE_ALPHA"),
              (e[(e.DEPTH_COMPONENT = 6402)] = "DEPTH_COMPONENT"),
              (e[(e.DEPTH_STENCIL = 34041)] = "DEPTH_STENCIL"),
              e
            );
          })(FORMATS || {}),
          TARGETS = (function (e) {
            return (
              (e[(e.TEXTURE_2D = 3553)] = "TEXTURE_2D"),
              (e[(e.TEXTURE_CUBE_MAP = 34067)] = "TEXTURE_CUBE_MAP"),
              (e[(e.TEXTURE_2D_ARRAY = 35866)] = "TEXTURE_2D_ARRAY"),
              (e[(e.TEXTURE_CUBE_MAP_POSITIVE_X = 34069)] =
                "TEXTURE_CUBE_MAP_POSITIVE_X"),
              (e[(e.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070)] =
                "TEXTURE_CUBE_MAP_NEGATIVE_X"),
              (e[(e.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071)] =
                "TEXTURE_CUBE_MAP_POSITIVE_Y"),
              (e[(e.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072)] =
                "TEXTURE_CUBE_MAP_NEGATIVE_Y"),
              (e[(e.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073)] =
                "TEXTURE_CUBE_MAP_POSITIVE_Z"),
              (e[(e.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074)] =
                "TEXTURE_CUBE_MAP_NEGATIVE_Z"),
              e
            );
          })(TARGETS || {}),
          TYPES = (function (e) {
            return (
              (e[(e.UNSIGNED_BYTE = 5121)] = "UNSIGNED_BYTE"),
              (e[(e.UNSIGNED_SHORT = 5123)] = "UNSIGNED_SHORT"),
              (e[(e.UNSIGNED_SHORT_5_6_5 = 33635)] = "UNSIGNED_SHORT_5_6_5"),
              (e[(e.UNSIGNED_SHORT_4_4_4_4 = 32819)] =
                "UNSIGNED_SHORT_4_4_4_4"),
              (e[(e.UNSIGNED_SHORT_5_5_5_1 = 32820)] =
                "UNSIGNED_SHORT_5_5_5_1"),
              (e[(e.UNSIGNED_INT = 5125)] = "UNSIGNED_INT"),
              (e[(e.UNSIGNED_INT_10F_11F_11F_REV = 35899)] =
                "UNSIGNED_INT_10F_11F_11F_REV"),
              (e[(e.UNSIGNED_INT_2_10_10_10_REV = 33640)] =
                "UNSIGNED_INT_2_10_10_10_REV"),
              (e[(e.UNSIGNED_INT_24_8 = 34042)] = "UNSIGNED_INT_24_8"),
              (e[(e.UNSIGNED_INT_5_9_9_9_REV = 35902)] =
                "UNSIGNED_INT_5_9_9_9_REV"),
              (e[(e.BYTE = 5120)] = "BYTE"),
              (e[(e.SHORT = 5122)] = "SHORT"),
              (e[(e.INT = 5124)] = "INT"),
              (e[(e.FLOAT = 5126)] = "FLOAT"),
              (e[(e.FLOAT_32_UNSIGNED_INT_24_8_REV = 36269)] =
                "FLOAT_32_UNSIGNED_INT_24_8_REV"),
              (e[(e.HALF_FLOAT = 36193)] = "HALF_FLOAT"),
              e
            );
          })(TYPES || {}),
          SAMPLER_TYPES = (function (e) {
            return (
              (e[(e.FLOAT = 0)] = "FLOAT"),
              (e[(e.INT = 1)] = "INT"),
              (e[(e.UINT = 2)] = "UINT"),
              e
            );
          })(SAMPLER_TYPES || {}),
          SCALE_MODES = (function (e) {
            return (
              (e[(e.NEAREST = 0)] = "NEAREST"),
              (e[(e.LINEAR = 1)] = "LINEAR"),
              e
            );
          })(SCALE_MODES || {}),
          WRAP_MODES = (function (e) {
            return (
              (e[(e.CLAMP = 33071)] = "CLAMP"),
              (e[(e.REPEAT = 10497)] = "REPEAT"),
              (e[(e.MIRRORED_REPEAT = 33648)] = "MIRRORED_REPEAT"),
              e
            );
          })(WRAP_MODES || {}),
          MIPMAP_MODES = (function (e) {
            return (
              (e[(e.OFF = 0)] = "OFF"),
              (e[(e.POW2 = 1)] = "POW2"),
              (e[(e.ON = 2)] = "ON"),
              (e[(e.ON_MANUAL = 3)] = "ON_MANUAL"),
              e
            );
          })(MIPMAP_MODES || {}),
          ALPHA_MODES = (function (e) {
            return (
              (e[(e.NPM = 0)] = "NPM"),
              (e[(e.UNPACK = 1)] = "UNPACK"),
              (e[(e.PMA = 2)] = "PMA"),
              (e[(e.NO_PREMULTIPLIED_ALPHA = 0)] = "NO_PREMULTIPLIED_ALPHA"),
              (e[(e.PREMULTIPLY_ON_UPLOAD = 1)] = "PREMULTIPLY_ON_UPLOAD"),
              (e[(e.PREMULTIPLIED_ALPHA = 2)] = "PREMULTIPLIED_ALPHA"),
              e
            );
          })(ALPHA_MODES || {}),
          CLEAR_MODES = (function (e) {
            return (
              (e[(e.NO = 0)] = "NO"),
              (e[(e.YES = 1)] = "YES"),
              (e[(e.AUTO = 2)] = "AUTO"),
              (e[(e.BLEND = 0)] = "BLEND"),
              (e[(e.CLEAR = 1)] = "CLEAR"),
              (e[(e.BLIT = 2)] = "BLIT"),
              e
            );
          })(CLEAR_MODES || {}),
          GC_MODES = (function (e) {
            return (
              (e[(e.AUTO = 0)] = "AUTO"), (e[(e.MANUAL = 1)] = "MANUAL"), e
            );
          })(GC_MODES || {}),
          PRECISION = (function (e) {
            return (
              (e.LOW = "lowp"), (e.MEDIUM = "mediump"), (e.HIGH = "highp"), e
            );
          })(PRECISION || {}),
          MASK_TYPES = (function (e) {
            return (
              (e[(e.NONE = 0)] = "NONE"),
              (e[(e.SCISSOR = 1)] = "SCISSOR"),
              (e[(e.STENCIL = 2)] = "STENCIL"),
              (e[(e.SPRITE = 3)] = "SPRITE"),
              (e[(e.COLOR = 4)] = "COLOR"),
              e
            );
          })(MASK_TYPES || {}),
          MSAA_QUALITY = (function (e) {
            return (
              (e[(e.NONE = 0)] = "NONE"),
              (e[(e.LOW = 2)] = "LOW"),
              (e[(e.MEDIUM = 4)] = "MEDIUM"),
              (e[(e.HIGH = 8)] = "HIGH"),
              e
            );
          })(MSAA_QUALITY || {}),
          BUFFER_TYPE = (function (e) {
            return (
              (e[(e.ELEMENT_ARRAY_BUFFER = 34963)] = "ELEMENT_ARRAY_BUFFER"),
              (e[(e.ARRAY_BUFFER = 34962)] = "ARRAY_BUFFER"),
              (e[(e.UNIFORM_BUFFER = 35345)] = "UNIFORM_BUFFER"),
              e
            );
          })(BUFFER_TYPE || {}),
          BrowserAdapter = {
            createCanvas: function (e, t) {
              var r = document.createElement("canvas");
              return (r.width = e), (r.height = t), r;
            },
            getCanvasRenderingContext2D: function () {
              return CanvasRenderingContext2D;
            },
            getWebGLRenderingContext: function () {
              return WebGLRenderingContext;
            },
            getNavigator: function () {
              return navigator;
            },
            getBaseUrl: function () {
              var e;
              return null !== (e = document.baseURI) && void 0 !== e
                ? e
                : window.location.href;
            },
            getFontFaceSet: function () {
              return document.fonts;
            },
            fetch: (function (e) {
              function t(t, r) {
                return e.apply(this, arguments);
              }
              return (
                (t.toString = function () {
                  return e.toString();
                }),
                t
              );
            })(function (e, t) {
              return fetch(e, t);
            }),
            parseXML: function (e) {
              return new DOMParser().parseFromString(e, "text/xml");
            }
          },
          settings = {
            ADAPTER: BrowserAdapter,
            RESOLUTION: 1,
            CREATE_IMAGE_BITMAP: !1,
            ROUND_PIXELS: !1
          },
          appleIphone = /iPhone/i,
          appleIpod = /iPod/i,
          appleTablet = /iPad/i,
          appleUniversal = /\biOS-universal(?:.+)Mac\b/i,
          androidPhone = /\bAndroid(?:.+)Mobile\b/i,
          androidTablet = /Android/i,
          amazonPhone = /(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,
          amazonTablet = /Silk/i,
          windowsPhone = /Windows Phone/i,
          windowsTablet = /\bWindows(?:.+)ARM\b/i,
          otherBlackBerry = /BlackBerry/i,
          otherBlackBerry10 = /BB10/i,
          otherOpera = /Opera Mini/i,
          otherChrome = /\b(CriOS|Chrome)(?:.+)Mobile/i,
          otherFirefox = /Mobile(?:.+)Firefox\b/i,
          isAppleTabletOnIos13 = function (e) {
            return (
              void 0 !== e &&
              "MacIntel" === e.platform &&
              "number" == typeof e.maxTouchPoints &&
              e.maxTouchPoints > 1 &&
              "undefined" == typeof MSStream
            );
          };
        function createMatch(e) {
          return function (t) {
            return t.test(e);
          };
        }
        function isMobile$1(e) {
          var t = { userAgent: "", platform: "", maxTouchPoints: 0 };
          e || "undefined" == typeof navigator
            ? "string" == typeof e
              ? (t.userAgent = e)
              : e &&
                e.userAgent &&
                (t = {
                  userAgent: e.userAgent,
                  platform: e.platform,
                  maxTouchPoints: e.maxTouchPoints || 0
                })
            : (t = {
                userAgent: navigator.userAgent,
                platform: navigator.platform,
                maxTouchPoints: navigator.maxTouchPoints || 0
              });
          var r = t.userAgent,
            n = r.split("[FBAN");
          void 0 !== n[1] && (r = n[0]),
            void 0 !== (n = r.split("Twitter"))[1] && (r = n[0]);
          var i = createMatch(r),
            a = {
              apple: {
                phone: i(appleIphone) && !i(windowsPhone),
                ipod: i(appleIpod),
                tablet:
                  !i(appleIphone) &&
                  (i(appleTablet) || isAppleTabletOnIos13(t)) &&
                  !i(windowsPhone),
                universal: i(appleUniversal),
                device:
                  (i(appleIphone) ||
                    i(appleIpod) ||
                    i(appleTablet) ||
                    i(appleUniversal) ||
                    isAppleTabletOnIos13(t)) &&
                  !i(windowsPhone)
              },
              amazon: {
                phone: i(amazonPhone),
                tablet: !i(amazonPhone) && i(amazonTablet),
                device: i(amazonPhone) || i(amazonTablet)
              },
              android: {
                phone:
                  (!i(windowsPhone) && i(amazonPhone)) ||
                  (!i(windowsPhone) && i(androidPhone)),
                tablet:
                  !i(windowsPhone) &&
                  !i(amazonPhone) &&
                  !i(androidPhone) &&
                  (i(amazonTablet) || i(androidTablet)),
                device:
                  (!i(windowsPhone) &&
                    (i(amazonPhone) ||
                      i(amazonTablet) ||
                      i(androidPhone) ||
                      i(androidTablet))) ||
                  i(/\bokhttp\b/i)
              },
              windows: {
                phone: i(windowsPhone),
                tablet: i(windowsTablet),
                device: i(windowsPhone) || i(windowsTablet)
              },
              other: {
                blackberry: i(otherBlackBerry),
                blackberry10: i(otherBlackBerry10),
                opera: i(otherOpera),
                firefox: i(otherFirefox),
                chrome: i(otherChrome),
                device:
                  i(otherBlackBerry) ||
                  i(otherBlackBerry10) ||
                  i(otherOpera) ||
                  i(otherFirefox) ||
                  i(otherChrome)
              },
              any: !1,
              phone: !1,
              tablet: !1
            };
          return (
            (a.any =
              a.apple.device ||
              a.android.device ||
              a.windows.device ||
              a.other.device),
            (a.phone = a.apple.phone || a.android.phone || a.windows.phone),
            (a.tablet = a.apple.tablet || a.android.tablet || a.windows.tablet),
            a
          );
        }
        var isMobileCall =
            null !== (_isMobile$1$default = isMobile$1.default) &&
            void 0 !== _isMobile$1$default
              ? _isMobile$1$default
              : isMobile$1,
          isMobile = isMobileCall(globalThis.navigator);
        (settings.RETINA_PREFIX = /@([0-9\.]+)x/),
          (settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT = !1);
        var eventemitter3 = { exports: {} };
        !(function (e) {
          var t = Object.prototype.hasOwnProperty,
            r = "~";
          function n() {}
          function i(e, t, r) {
            (this.fn = e), (this.context = t), (this.once = r || !1);
          }
          function a(e, t, n, a, s) {
            if ("function" != typeof n)
              throw new TypeError("The listener must be a function");
            var o = new i(n, a || e, s),
              u = r ? r + t : t;
            return (
              e._events[u]
                ? e._events[u].fn
                  ? (e._events[u] = [e._events[u], o])
                  : e._events[u].push(o)
                : ((e._events[u] = o), e._eventsCount++),
              e
            );
          }
          function s(e, t) {
            0 == --e._eventsCount ? (e._events = new n()) : delete e._events[t];
          }
          function o() {
            (this._events = new n()), (this._eventsCount = 0);
          }
          Object.create &&
            ((n.prototype = Object.create(null)),
            new n().__proto__ || (r = !1)),
            (o.prototype.eventNames = function () {
              var e,
                n,
                i = [];
              if (0 === this._eventsCount) return i;
              for (n in (e = this._events))
                t.call(e, n) && i.push(r ? n.slice(1) : n);
              return Object.getOwnPropertySymbols
                ? i.concat(Object.getOwnPropertySymbols(e))
                : i;
            }),
            (o.prototype.listeners = function (e) {
              var t = r ? r + e : e,
                n = this._events[t];
              if (!n) return [];
              if (n.fn) return [n.fn];
              for (var i = 0, a = n.length, s = new Array(a); i < a; i++)
                s[i] = n[i].fn;
              return s;
            }),
            (o.prototype.listenerCount = function (e) {
              var t = r ? r + e : e,
                n = this._events[t];
              return n ? (n.fn ? 1 : n.length) : 0;
            }),
            (o.prototype.emit = function (e, t, n, i, a, s) {
              var o = r ? r + e : e;
              if (!this._events[o]) return !1;
              var u,
                l,
                c = this._events[o],
                h = arguments.length;
              if (c.fn) {
                switch (
                  (c.once && this.removeListener(e, c.fn, void 0, !0), h)
                ) {
                  case 1:
                    return c.fn.call(c.context), !0;
                  case 2:
                    return c.fn.call(c.context, t), !0;
                  case 3:
                    return c.fn.call(c.context, t, n), !0;
                  case 4:
                    return c.fn.call(c.context, t, n, i), !0;
                  case 5:
                    return c.fn.call(c.context, t, n, i, a), !0;
                  case 6:
                    return c.fn.call(c.context, t, n, i, a, s), !0;
                }
                for (l = 1, u = new Array(h - 1); l < h; l++)
                  u[l - 1] = arguments[l];
                c.fn.apply(c.context, u);
              } else {
                var f,
                  d = c.length;
                for (l = 0; l < d; l++)
                  switch (
                    (c[l].once && this.removeListener(e, c[l].fn, void 0, !0),
                    h)
                  ) {
                    case 1:
                      c[l].fn.call(c[l].context);
                      break;
                    case 2:
                      c[l].fn.call(c[l].context, t);
                      break;
                    case 3:
                      c[l].fn.call(c[l].context, t, n);
                      break;
                    case 4:
                      c[l].fn.call(c[l].context, t, n, i);
                      break;
                    default:
                      if (!u)
                        for (f = 1, u = new Array(h - 1); f < h; f++)
                          u[f - 1] = arguments[f];
                      c[l].fn.apply(c[l].context, u);
                  }
              }
              return !0;
            }),
            (o.prototype.on = function (e, t, r) {
              return a(this, e, t, r, !1);
            }),
            (o.prototype.once = function (e, t, r) {
              return a(this, e, t, r, !0);
            }),
            (o.prototype.removeListener = function (e, t, n, i) {
              var a = r ? r + e : e;
              if (!this._events[a]) return this;
              if (!t) return s(this, a), this;
              var o = this._events[a];
              if (o.fn)
                o.fn !== t ||
                  (i && !o.once) ||
                  (n && o.context !== n) ||
                  s(this, a);
              else {
                for (var u = 0, l = [], c = o.length; u < c; u++)
                  (o[u].fn !== t ||
                    (i && !o[u].once) ||
                    (n && o[u].context !== n)) &&
                    l.push(o[u]);
                l.length
                  ? (this._events[a] = 1 === l.length ? l[0] : l)
                  : s(this, a);
              }
              return this;
            }),
            (o.prototype.removeAllListeners = function (e) {
              var t;
              return (
                e
                  ? ((t = r ? r + e : e), this._events[t] && s(this, t))
                  : ((this._events = new n()), (this._eventsCount = 0)),
                this
              );
            }),
            (o.prototype.off = o.prototype.removeListener),
            (o.prototype.addListener = o.prototype.on),
            (o.prefixed = r),
            (o.EventEmitter = o),
            (e.exports = o);
        })(eventemitter3);
        var eventemitter3Exports = eventemitter3.exports,
          EventEmitter = getDefaultExportFromCjs(eventemitter3Exports),
          earcut$2 = { exports: {} };
        function earcut(e, t, r) {
          r = r || 2;
          var n,
            i,
            a,
            s,
            o,
            u,
            l,
            c = t && t.length,
            h = c ? t[0] * r : e.length,
            f = linkedList(e, 0, h, r, !0),
            d = [];
          if (!f || f.next === f.prev) return d;
          if ((c && (f = eliminateHoles(e, t, f, r)), e.length > 80 * r)) {
            (n = a = e[0]), (i = s = e[1]);
            for (var p = r; p < h; p += r)
              (o = e[p]) < n && (n = o),
                (u = e[p + 1]) < i && (i = u),
                o > a && (a = o),
                u > s && (s = u);
            l = 0 !== (l = Math.max(a - n, s - i)) ? 32767 / l : 0;
          }
          return earcutLinked(f, d, r, n, i, l, 0), d;
        }
        function linkedList(e, t, r, n, i) {
          var a, s;
          if (i === signedArea(e, t, r, n) > 0)
            for (a = t; a < r; a += n) s = insertNode(a, e[a], e[a + 1], s);
          else
            for (a = r - n; a >= t; a -= n)
              s = insertNode(a, e[a], e[a + 1], s);
          return s && equals(s, s.next) && (removeNode(s), (s = s.next)), s;
        }
        function filterPoints(e, t) {
          if (!e) return e;
          t || (t = e);
          var r,
            n = e;
          do {
            if (
              ((r = !1),
              n.steiner ||
                (!equals(n, n.next) && 0 !== area(n.prev, n, n.next)))
            )
              n = n.next;
            else {
              if ((removeNode(n), (n = t = n.prev) === n.next)) break;
              r = !0;
            }
          } while (r || n !== t);
          return t;
        }
        function earcutLinked(e, t, r, n, i, a, s) {
          if (e) {
            !s && a && indexCurve(e, n, i, a);
            for (var o, u, l = e; e.prev !== e.next; )
              if (
                ((o = e.prev),
                (u = e.next),
                a ? isEarHashed(e, n, i, a) : isEar(e))
              )
                t.push((o.i / r) | 0),
                  t.push((e.i / r) | 0),
                  t.push((u.i / r) | 0),
                  removeNode(e),
                  (e = u.next),
                  (l = u.next);
              else if ((e = u) === l) {
                s
                  ? 1 === s
                    ? earcutLinked(
                        (e = cureLocalIntersections(filterPoints(e), t, r)),
                        t,
                        r,
                        n,
                        i,
                        a,
                        2
                      )
                    : 2 === s && splitEarcut(e, t, r, n, i, a)
                  : earcutLinked(filterPoints(e), t, r, n, i, a, 1);
                break;
              }
          }
        }
        function isEar(e) {
          var t = e.prev,
            r = e,
            n = e.next;
          if (area(t, r, n) >= 0) return !1;
          for (
            var i = t.x,
              a = r.x,
              s = n.x,
              o = t.y,
              u = r.y,
              l = n.y,
              c = i < a ? (i < s ? i : s) : a < s ? a : s,
              h = o < u ? (o < l ? o : l) : u < l ? u : l,
              f = i > a ? (i > s ? i : s) : a > s ? a : s,
              d = o > u ? (o > l ? o : l) : u > l ? u : l,
              p = n.next;
            p !== t;

          ) {
            if (
              p.x >= c &&
              p.x <= f &&
              p.y >= h &&
              p.y <= d &&
              pointInTriangle(i, o, a, u, s, l, p.x, p.y) &&
              area(p.prev, p, p.next) >= 0
            )
              return !1;
            p = p.next;
          }
          return !0;
        }
        function isEarHashed(e, t, r, n) {
          var i = e.prev,
            a = e,
            s = e.next;
          if (area(i, a, s) >= 0) return !1;
          for (
            var o = i.x,
              u = a.x,
              l = s.x,
              c = i.y,
              h = a.y,
              f = s.y,
              d = o < u ? (o < l ? o : l) : u < l ? u : l,
              p = c < h ? (c < f ? c : f) : h < f ? h : f,
              _ = o > u ? (o > l ? o : l) : u > l ? u : l,
              v = c > h ? (c > f ? c : f) : h > f ? h : f,
              m = zOrder(d, p, t, r, n),
              g = zOrder(_, v, t, r, n),
              y = e.prevZ,
              T = e.nextZ;
            y && y.z >= m && T && T.z <= g;

          ) {
            if (
              y.x >= d &&
              y.x <= _ &&
              y.y >= p &&
              y.y <= v &&
              y !== i &&
              y !== s &&
              pointInTriangle(o, c, u, h, l, f, y.x, y.y) &&
              area(y.prev, y, y.next) >= 0
            )
              return !1;
            if (
              ((y = y.prevZ),
              T.x >= d &&
                T.x <= _ &&
                T.y >= p &&
                T.y <= v &&
                T !== i &&
                T !== s &&
                pointInTriangle(o, c, u, h, l, f, T.x, T.y) &&
                area(T.prev, T, T.next) >= 0)
            )
              return !1;
            T = T.nextZ;
          }
          for (; y && y.z >= m; ) {
            if (
              y.x >= d &&
              y.x <= _ &&
              y.y >= p &&
              y.y <= v &&
              y !== i &&
              y !== s &&
              pointInTriangle(o, c, u, h, l, f, y.x, y.y) &&
              area(y.prev, y, y.next) >= 0
            )
              return !1;
            y = y.prevZ;
          }
          for (; T && T.z <= g; ) {
            if (
              T.x >= d &&
              T.x <= _ &&
              T.y >= p &&
              T.y <= v &&
              T !== i &&
              T !== s &&
              pointInTriangle(o, c, u, h, l, f, T.x, T.y) &&
              area(T.prev, T, T.next) >= 0
            )
              return !1;
            T = T.nextZ;
          }
          return !0;
        }
        function cureLocalIntersections(e, t, r) {
          var n = e;
          do {
            var i = n.prev,
              a = n.next.next;
            !equals(i, a) &&
              intersects(i, n, n.next, a) &&
              locallyInside(i, a) &&
              locallyInside(a, i) &&
              (t.push((i.i / r) | 0),
              t.push((n.i / r) | 0),
              t.push((a.i / r) | 0),
              removeNode(n),
              removeNode(n.next),
              (n = e = a)),
              (n = n.next);
          } while (n !== e);
          return filterPoints(n);
        }
        function splitEarcut(e, t, r, n, i, a) {
          var s = e;
          do {
            for (var o = s.next.next; o !== s.prev; ) {
              if (s.i !== o.i && isValidDiagonal(s, o)) {
                var u = splitPolygon(s, o);
                return (
                  (s = filterPoints(s, s.next)),
                  (u = filterPoints(u, u.next)),
                  earcutLinked(s, t, r, n, i, a, 0),
                  void earcutLinked(u, t, r, n, i, a, 0)
                );
              }
              o = o.next;
            }
            s = s.next;
          } while (s !== e);
        }
        function eliminateHoles(e, t, r, n) {
          var i,
            a,
            s,
            o = [];
          for (i = 0, a = t.length; i < a; i++)
            (s = linkedList(
              e,
              t[i] * n,
              i < a - 1 ? t[i + 1] * n : e.length,
              n,
              !1
            )) === s.next && (s.steiner = !0),
              o.push(getLeftmost(s));
          for (o.sort(compareX), i = 0; i < o.length; i++)
            r = eliminateHole(o[i], r);
          return r;
        }
        function compareX(e, t) {
          return e.x - t.x;
        }
        function eliminateHole(e, t) {
          var r = findHoleBridge(e, t);
          if (!r) return t;
          var n = splitPolygon(r, e);
          return filterPoints(n, n.next), filterPoints(r, r.next);
        }
        function findHoleBridge(e, t) {
          var r,
            n = t,
            i = e.x,
            a = e.y,
            s = -1 / 0;
          do {
            if (a <= n.y && a >= n.next.y && n.next.y !== n.y) {
              var o = n.x + ((a - n.y) * (n.next.x - n.x)) / (n.next.y - n.y);
              if (
                o <= i &&
                o > s &&
                ((s = o), (r = n.x < n.next.x ? n : n.next), o === i)
              )
                return r;
            }
            n = n.next;
          } while (n !== t);
          if (!r) return null;
          var u,
            l = r,
            c = r.x,
            h = r.y,
            f = 1 / 0;
          n = r;
          do {
            i >= n.x &&
              n.x >= c &&
              i !== n.x &&
              pointInTriangle(
                a < h ? i : s,
                a,
                c,
                h,
                a < h ? s : i,
                a,
                n.x,
                n.y
              ) &&
              ((u = Math.abs(a - n.y) / (i - n.x)),
              locallyInside(n, e) &&
                (u < f ||
                  (u === f &&
                    (n.x > r.x ||
                      (n.x === r.x && sectorContainsSector(r, n))))) &&
                ((r = n), (f = u))),
              (n = n.next);
          } while (n !== l);
          return r;
        }
        function sectorContainsSector(e, t) {
          return area(e.prev, e, t.prev) < 0 && area(t.next, e, e.next) < 0;
        }
        function indexCurve(e, t, r, n) {
          var i = e;
          do {
            0 === i.z && (i.z = zOrder(i.x, i.y, t, r, n)),
              (i.prevZ = i.prev),
              (i.nextZ = i.next),
              (i = i.next);
          } while (i !== e);
          (i.prevZ.nextZ = null), (i.prevZ = null), sortLinked(i);
        }
        function sortLinked(e) {
          var t,
            r,
            n,
            i,
            a,
            s,
            o,
            u,
            l = 1;
          do {
            for (r = e, e = null, a = null, s = 0; r; ) {
              for (
                s++, n = r, o = 0, t = 0;
                t < l && (o++, (n = n.nextZ));
                t++
              );
              for (u = l; o > 0 || (u > 0 && n); )
                0 !== o && (0 === u || !n || r.z <= n.z)
                  ? ((i = r), (r = r.nextZ), o--)
                  : ((i = n), (n = n.nextZ), u--),
                  a ? (a.nextZ = i) : (e = i),
                  (i.prevZ = a),
                  (a = i);
              r = n;
            }
            (a.nextZ = null), (l *= 2);
          } while (s > 1);
          return e;
        }
        function zOrder(e, t, r, n, i) {
          return (
            (e =
              1431655765 &
              ((e =
                858993459 &
                ((e =
                  252645135 &
                  ((e = 16711935 & ((e = ((e - r) * i) | 0) | (e << 8))) |
                    (e << 4))) |
                  (e << 2))) |
                (e << 1))) |
            ((t =
              1431655765 &
              ((t =
                858993459 &
                ((t =
                  252645135 &
                  ((t = 16711935 & ((t = ((t - n) * i) | 0) | (t << 8))) |
                    (t << 4))) |
                  (t << 2))) |
                (t << 1))) <<
              1)
          );
        }
        function getLeftmost(e) {
          var t = e,
            r = e;
          do {
            (t.x < r.x || (t.x === r.x && t.y < r.y)) && (r = t), (t = t.next);
          } while (t !== e);
          return r;
        }
        function pointInTriangle(e, t, r, n, i, a, s, o) {
          return (
            (i - s) * (t - o) >= (e - s) * (a - o) &&
            (e - s) * (n - o) >= (r - s) * (t - o) &&
            (r - s) * (a - o) >= (i - s) * (n - o)
          );
        }
        function isValidDiagonal(e, t) {
          return (
            e.next.i !== t.i &&
            e.prev.i !== t.i &&
            !intersectsPolygon(e, t) &&
            ((locallyInside(e, t) &&
              locallyInside(t, e) &&
              middleInside(e, t) &&
              (area(e.prev, e, t.prev) || area(e, t.prev, t))) ||
              (equals(e, t) &&
                area(e.prev, e, e.next) > 0 &&
                area(t.prev, t, t.next) > 0))
          );
        }
        function area(e, t, r) {
          return (t.y - e.y) * (r.x - t.x) - (t.x - e.x) * (r.y - t.y);
        }
        function equals(e, t) {
          return e.x === t.x && e.y === t.y;
        }
        function intersects(e, t, r, n) {
          var i = sign$1(area(e, t, r)),
            a = sign$1(area(e, t, n)),
            s = sign$1(area(r, n, e)),
            o = sign$1(area(r, n, t));
          return (
            (i !== a && s !== o) ||
            !(0 !== i || !onSegment(e, r, t)) ||
            !(0 !== a || !onSegment(e, n, t)) ||
            !(0 !== s || !onSegment(r, e, n)) ||
            !(0 !== o || !onSegment(r, t, n))
          );
        }
        function onSegment(e, t, r) {
          return (
            t.x <= Math.max(e.x, r.x) &&
            t.x >= Math.min(e.x, r.x) &&
            t.y <= Math.max(e.y, r.y) &&
            t.y >= Math.min(e.y, r.y)
          );
        }
        function sign$1(e) {
          return e > 0 ? 1 : e < 0 ? -1 : 0;
        }
        function intersectsPolygon(e, t) {
          var r = e;
          do {
            if (
              r.i !== e.i &&
              r.next.i !== e.i &&
              r.i !== t.i &&
              r.next.i !== t.i &&
              intersects(r, r.next, e, t)
            )
              return !0;
            r = r.next;
          } while (r !== e);
          return !1;
        }
        function locallyInside(e, t) {
          return area(e.prev, e, e.next) < 0
            ? area(e, t, e.next) >= 0 && area(e, e.prev, t) >= 0
            : area(e, t, e.prev) < 0 || area(e, e.next, t) < 0;
        }
        function middleInside(e, t) {
          var r = e,
            n = !1,
            i = (e.x + t.x) / 2,
            a = (e.y + t.y) / 2;
          do {
            r.y > a != r.next.y > a &&
              r.next.y !== r.y &&
              i < ((r.next.x - r.x) * (a - r.y)) / (r.next.y - r.y) + r.x &&
              (n = !n),
              (r = r.next);
          } while (r !== e);
          return n;
        }
        function splitPolygon(e, t) {
          var r = new Node(e.i, e.x, e.y),
            n = new Node(t.i, t.x, t.y),
            i = e.next,
            a = t.prev;
          return (
            (e.next = t),
            (t.prev = e),
            (r.next = i),
            (i.prev = r),
            (n.next = r),
            (r.prev = n),
            (a.next = n),
            (n.prev = a),
            n
          );
        }
        function insertNode(e, t, r, n) {
          var i = new Node(e, t, r);
          return (
            n
              ? ((i.next = n.next),
                (i.prev = n),
                (n.next.prev = i),
                (n.next = i))
              : ((i.prev = i), (i.next = i)),
            i
          );
        }
        function removeNode(e) {
          (e.next.prev = e.prev),
            (e.prev.next = e.next),
            e.prevZ && (e.prevZ.nextZ = e.nextZ),
            e.nextZ && (e.nextZ.prevZ = e.prevZ);
        }
        function Node(e, t, r) {
          (this.i = e),
            (this.x = t),
            (this.y = r),
            (this.prev = null),
            (this.next = null),
            (this.z = 0),
            (this.prevZ = null),
            (this.nextZ = null),
            (this.steiner = !1);
        }
        function signedArea(e, t, r, n) {
          for (var i = 0, a = t, s = r - n; a < r; a += n)
            (i += (e[s] - e[a]) * (e[a + 1] + e[s + 1])), (s = a);
          return i;
        }
        (earcut$2.exports = earcut),
          (earcut$2.exports.default = earcut),
          (earcut.deviation = function (e, t, r, n) {
            var i = t && t.length,
              a = i ? t[0] * r : e.length,
              s = Math.abs(signedArea(e, 0, a, r));
            if (i)
              for (var o = 0, u = t.length; o < u; o++) {
                var l = t[o] * r,
                  c = o < u - 1 ? t[o + 1] * r : e.length;
                s -= Math.abs(signedArea(e, l, c, r));
              }
            var h = 0;
            for (o = 0; o < n.length; o += 3) {
              var f = n[o] * r,
                d = n[o + 1] * r,
                p = n[o + 2] * r;
              h += Math.abs(
                (e[f] - e[p]) * (e[d + 1] - e[f + 1]) -
                  (e[f] - e[d]) * (e[p + 1] - e[f + 1])
              );
            }
            return 0 === s && 0 === h ? 0 : Math.abs((h - s) / s);
          }),
          (earcut.flatten = function (e) {
            for (
              var t = e[0][0].length,
                r = { vertices: [], holes: [], dimensions: t },
                n = 0,
                i = 0;
              i < e.length;
              i++
            ) {
              for (var a = 0; a < e[i].length; a++)
                for (var s = 0; s < t; s++) r.vertices.push(e[i][a][s]);
              i > 0 && ((n += e[i - 1].length), r.holes.push(n));
            }
            return r;
          });
        var earcutExports = earcut$2.exports,
          earcut$1 = getDefaultExportFromCjs(earcutExports),
          punycode$1 = { exports: {} };
        /*! https://mths.be/punycode v1.3.2 by @mathias */ punycode$1.exports,
          (function (e, t) {
            !(function (r) {
              var n = t && !t.nodeType && t,
                i = e && !e.nodeType && e,
                a = "object" == _typeof(commonjsGlobal) && commonjsGlobal;
              (a.global !== a && a.window !== a && a.self !== a) || (r = a);
              var s,
                o,
                u = 2147483647,
                l = 36,
                c = 1,
                h = 26,
                f = 38,
                d = 700,
                p = 72,
                _ = 128,
                v = "-",
                m = /^xn--/,
                g = /[^\x20-\x7E]/,
                y = /[\x2E\u3002\uFF0E\uFF61]/g,
                T = {
                  overflow: "Overflow: input needs wider integers to process",
                  "not-basic": "Illegal input >= 0x80 (not a basic code point)",
                  "invalid-input": "Invalid input"
                },
                x = l - c,
                E = Math.floor,
                b = String.fromCharCode;
              function S(e) {
                throw RangeError(T[e]);
              }
              function A(e, t) {
                for (var r = e.length, n = []; r--; ) n[r] = t(e[r]);
                return n;
              }
              function C(e, t) {
                var r = e.split("@"),
                  n = "";
                return (
                  r.length > 1 && ((n = r[0] + "@"), (e = r[1])),
                  n + A((e = e.replace(y, ".")).split("."), t).join(".")
                );
              }
              function P(e) {
                for (var t, r, n = [], i = 0, a = e.length; i < a; )
                  (t = e.charCodeAt(i++)) >= 55296 && t <= 56319 && i < a
                    ? 56320 == (64512 & (r = e.charCodeAt(i++)))
                      ? n.push(((1023 & t) << 10) + (1023 & r) + 65536)
                      : (n.push(t), i--)
                    : n.push(t);
                return n;
              }
              function k(e) {
                return A(e, function (e) {
                  var t = "";
                  return (
                    e > 65535 &&
                      ((t += b((((e -= 65536) >>> 10) & 1023) | 55296)),
                      (e = 56320 | (1023 & e))),
                    (t += b(e))
                  );
                }).join("");
              }
              function w(e, t) {
                return e + 22 + 75 * (e < 26) - ((0 != t) << 5);
              }
              function R(e, t, r) {
                var n = 0;
                for (
                  e = r ? E(e / d) : e >> 1, e += E(e / t);
                  e > (x * h) >> 1;
                  n += l
                )
                  e = E(e / x);
                return E(n + ((x + 1) * e) / (e + f));
              }
              function M(e) {
                var t,
                  r,
                  n,
                  i,
                  a,
                  s,
                  o,
                  f,
                  d,
                  m,
                  g,
                  y = [],
                  T = e.length,
                  x = 0,
                  b = _,
                  A = p;
                for ((r = e.lastIndexOf(v)) < 0 && (r = 0), n = 0; n < r; ++n)
                  e.charCodeAt(n) >= 128 && S("not-basic"),
                    y.push(e.charCodeAt(n));
                for (i = r > 0 ? r + 1 : 0; i < T; ) {
                  for (
                    a = x, s = 1, o = l;
                    i >= T && S("invalid-input"),
                      ((f =
                        (g = e.charCodeAt(i++)) - 48 < 10
                          ? g - 22
                          : g - 65 < 26
                          ? g - 65
                          : g - 97 < 26
                          ? g - 97
                          : l) >= l ||
                        f > E((u - x) / s)) &&
                        S("overflow"),
                      (x += f * s),
                      !(f < (d = o <= A ? c : o >= A + h ? h : o - A));
                    o += l
                  )
                    s > E(u / (m = l - d)) && S("overflow"), (s *= m);
                  (A = R(x - a, (t = y.length + 1), 0 == a)),
                    E(x / t) > u - b && S("overflow"),
                    (b += E(x / t)),
                    (x %= t),
                    y.splice(x++, 0, b);
                }
                return k(y);
              }
              function I(e) {
                var t,
                  r,
                  n,
                  i,
                  a,
                  s,
                  o,
                  f,
                  d,
                  m,
                  g,
                  y,
                  T,
                  x,
                  A,
                  C = [];
                for (
                  y = (e = P(e)).length, t = _, r = 0, a = p, s = 0;
                  s < y;
                  ++s
                )
                  (g = e[s]) < 128 && C.push(b(g));
                for (n = i = C.length, i && C.push(v); n < y; ) {
                  for (o = u, s = 0; s < y; ++s)
                    (g = e[s]) >= t && g < o && (o = g);
                  for (
                    o - t > E((u - r) / (T = n + 1)) && S("overflow"),
                      r += (o - t) * T,
                      t = o,
                      s = 0;
                    s < y;
                    ++s
                  )
                    if (((g = e[s]) < t && ++r > u && S("overflow"), g == t)) {
                      for (
                        f = r, d = l;
                        !(f < (m = d <= a ? c : d >= a + h ? h : d - a));
                        d += l
                      )
                        (A = f - m),
                          (x = l - m),
                          C.push(b(w(m + (A % x), 0))),
                          (f = E(A / x));
                      C.push(b(w(f, 0))), (a = R(r, T, n == i)), (r = 0), ++n;
                    }
                  ++r, ++t;
                }
                return C.join("");
              }
              if (
                ((s = {
                  version: "1.3.2",
                  ucs2: { decode: P, encode: k },
                  decode: M,
                  encode: I,
                  toASCII: function (e) {
                    return C(e, function (e) {
                      return g.test(e) ? "xn--" + I(e) : e;
                    });
                  },
                  toUnicode: function (e) {
                    return C(e, function (e) {
                      return m.test(e) ? M(e.slice(4).toLowerCase()) : e;
                    });
                  }
                }),
                n && i)
              )
                if (e.exports == n) i.exports = s;
                else for (o in s) s.hasOwnProperty(o) && (n[o] = s[o]);
              else r.punycode = s;
            })(commonjsGlobal);
          })(punycode$1, punycode$1.exports);
        var punycodeExports = punycode$1.exports,
          util$1 = {
            isString: function (e) {
              return "string" == typeof e;
            },
            isObject: function (e) {
              return "object" === _typeof(e) && null !== e;
            },
            isNull: function (e) {
              return null === e;
            },
            isNullOrUndefined: function (e) {
              return null == e;
            }
          },
          querystring$1 = {};
        function hasOwnProperty(e, t) {
          return Object.prototype.hasOwnProperty.call(e, t);
        }
        var decode = function (e, t, r, n) {
            (t = t || "&"), (r = r || "=");
            var i = {};
            if ("string" != typeof e || 0 === e.length) return i;
            var a = /\+/g;
            e = e.split(t);
            var s = 1e3;
            n && "number" == typeof n.maxKeys && (s = n.maxKeys);
            var o = e.length;
            s > 0 && o > s && (o = s);
            for (var u = 0; u < o; ++u) {
              var l,
                c,
                h,
                f,
                d = e[u].replace(a, "%20"),
                p = d.indexOf(r);
              p >= 0
                ? ((l = d.substr(0, p)), (c = d.substr(p + 1)))
                : ((l = d), (c = "")),
                (h = decodeURIComponent(l)),
                (f = decodeURIComponent(c)),
                hasOwnProperty(i, h)
                  ? Array.isArray(i[h])
                    ? i[h].push(f)
                    : (i[h] = [i[h], f])
                  : (i[h] = f);
            }
            return i;
          },
          stringifyPrimitive = function (e) {
            switch (_typeof(e)) {
              case "string":
                return e;
              case "boolean":
                return e ? "true" : "false";
              case "number":
                return isFinite(e) ? e : "";
              default:
                return "";
            }
          },
          encode = function (e, t, r, n) {
            return (
              (t = t || "&"),
              (r = r || "="),
              null === e && (e = void 0),
              "object" === _typeof(e)
                ? Object.keys(e)
                    .map(function (n) {
                      var i = encodeURIComponent(stringifyPrimitive(n)) + r;
                      return Array.isArray(e[n])
                        ? e[n]
                            .map(function (e) {
                              return (
                                i + encodeURIComponent(stringifyPrimitive(e))
                              );
                            })
                            .join(t)
                        : i + encodeURIComponent(stringifyPrimitive(e[n]));
                    })
                    .join(t)
                : n
                ? encodeURIComponent(stringifyPrimitive(n)) +
                  r +
                  encodeURIComponent(stringifyPrimitive(e))
                : ""
            );
          };
        (querystring$1.decode = querystring$1.parse = decode),
          (querystring$1.encode = querystring$1.stringify = encode);
        var punycode = punycodeExports,
          util = util$1,
          parse = urlParse,
          resolve = urlResolve,
          format = urlFormat;
        function Url() {
          (this.protocol = null),
            (this.slashes = null),
            (this.auth = null),
            (this.host = null),
            (this.port = null),
            (this.hostname = null),
            (this.hash = null),
            (this.search = null),
            (this.query = null),
            (this.pathname = null),
            (this.path = null),
            (this.href = null);
        }
        var protocolPattern = /^([a-z0-9.+-]+:)/i,
          portPattern = /:[0-9]*$/,
          simplePathPattern = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,
          delims = ["<", ">", '"', "`", " ", "\r", "\n", "\t"],
          unwise = ["{", "}", "|", "\\", "^", "`"].concat(delims),
          autoEscape = ["'"].concat(unwise),
          nonHostChars = ["%", "/", "?", ";", "#"].concat(autoEscape),
          hostEndingChars = ["/", "?", "#"],
          hostnameMaxLen = 255,
          hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,
          hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,
          unsafeProtocol = { javascript: !0, "javascript:": !0 },
          hostlessProtocol = { javascript: !0, "javascript:": !0 },
          slashedProtocol = {
            http: !0,
            https: !0,
            ftp: !0,
            gopher: !0,
            file: !0,
            "http:": !0,
            "https:": !0,
            "ftp:": !0,
            "gopher:": !0,
            "file:": !0
          },
          querystring = querystring$1;
        function urlParse(e, t, r) {
          if (e && util.isObject(e) && e instanceof Url) return e;
          var n = new Url();
          return n.parse(e, t, r), n;
        }
        function urlFormat(e) {
          return (
            util.isString(e) && (e = urlParse(e)),
            e instanceof Url ? e.format() : Url.prototype.format.call(e)
          );
        }
        function urlResolve(e, t) {
          return urlParse(e, !1, !0).resolve(t);
        }
        (Url.prototype.parse = function (e, t, r) {
          if (!util.isString(e))
            throw new TypeError(
              "Parameter 'url' must be a string, not " + _typeof(e)
            );
          var n = e.indexOf("?"),
            i = -1 !== n && n < e.indexOf("#") ? "?" : "#",
            a = e.split(i);
          a[0] = a[0].replace(/\\/g, "/");
          var s = (e = a.join(i));
          if (((s = s.trim()), !r && 1 === e.split("#").length)) {
            var o = simplePathPattern.exec(s);
            if (o)
              return (
                (this.path = s),
                (this.href = s),
                (this.pathname = o[1]),
                o[2]
                  ? ((this.search = o[2]),
                    (this.query = t
                      ? querystring.parse(this.search.substr(1))
                      : this.search.substr(1)))
                  : t && ((this.search = ""), (this.query = {})),
                this
              );
          }
          var u = protocolPattern.exec(s);
          if (u) {
            var l = (u = u[0]).toLowerCase();
            (this.protocol = l), (s = s.substr(u.length));
          }
          if (r || u || s.match(/^\/\/[^@\/]+@[^@\/]+/)) {
            var c = "//" === s.substr(0, 2);
            !c ||
              (u && hostlessProtocol[u]) ||
              ((s = s.substr(2)), (this.slashes = !0));
          }
          if (!hostlessProtocol[u] && (c || (u && !slashedProtocol[u]))) {
            for (var h, f, d = -1, p = 0; p < hostEndingChars.length; p++) {
              -1 !== (_ = s.indexOf(hostEndingChars[p])) &&
                (-1 === d || _ < d) &&
                (d = _);
            }
            -1 !==
              (f = -1 === d ? s.lastIndexOf("@") : s.lastIndexOf("@", d)) &&
              ((h = s.slice(0, f)),
              (s = s.slice(f + 1)),
              (this.auth = decodeURIComponent(h))),
              (d = -1);
            for (p = 0; p < nonHostChars.length; p++) {
              var _;
              -1 !== (_ = s.indexOf(nonHostChars[p])) &&
                (-1 === d || _ < d) &&
                (d = _);
            }
            -1 === d && (d = s.length),
              (this.host = s.slice(0, d)),
              (s = s.slice(d)),
              this.parseHost(),
              (this.hostname = this.hostname || "");
            var v =
              "[" === this.hostname[0] &&
              "]" === this.hostname[this.hostname.length - 1];
            if (!v)
              for (
                var m = this.hostname.split(/\./), g = ((p = 0), m.length);
                p < g;
                p++
              ) {
                var y = m[p];
                if (y && !y.match(hostnamePartPattern)) {
                  for (var T = "", x = 0, E = y.length; x < E; x++)
                    y.charCodeAt(x) > 127 ? (T += "x") : (T += y[x]);
                  if (!T.match(hostnamePartPattern)) {
                    var b = m.slice(0, p),
                      S = m.slice(p + 1),
                      A = y.match(hostnamePartStart);
                    A && (b.push(A[1]), S.unshift(A[2])),
                      S.length && (s = "/" + S.join(".") + s),
                      (this.hostname = b.join("."));
                    break;
                  }
                }
              }
            this.hostname.length > hostnameMaxLen
              ? (this.hostname = "")
              : (this.hostname = this.hostname.toLowerCase()),
              v || (this.hostname = punycode.toASCII(this.hostname));
            var C = this.port ? ":" + this.port : "",
              P = this.hostname || "";
            (this.host = P + C),
              (this.href += this.host),
              v &&
                ((this.hostname = this.hostname.substr(
                  1,
                  this.hostname.length - 2
                )),
                "/" !== s[0] && (s = "/" + s));
          }
          if (!unsafeProtocol[l])
            for (p = 0, g = autoEscape.length; p < g; p++) {
              var k = autoEscape[p];
              if (-1 !== s.indexOf(k)) {
                var w = encodeURIComponent(k);
                w === k && (w = escape(k)), (s = s.split(k).join(w));
              }
            }
          var R = s.indexOf("#");
          -1 !== R && ((this.hash = s.substr(R)), (s = s.slice(0, R)));
          var M = s.indexOf("?");
          if (
            (-1 !== M
              ? ((this.search = s.substr(M)),
                (this.query = s.substr(M + 1)),
                t && (this.query = querystring.parse(this.query)),
                (s = s.slice(0, M)))
              : t && ((this.search = ""), (this.query = {})),
            s && (this.pathname = s),
            slashedProtocol[l] &&
              this.hostname &&
              !this.pathname &&
              (this.pathname = "/"),
            this.pathname || this.search)
          ) {
            C = this.pathname || "";
            var I = this.search || "";
            this.path = C + I;
          }
          return (this.href = this.format()), this;
        }),
          (Url.prototype.format = function () {
            var e = this.auth || "";
            e &&
              ((e = (e = encodeURIComponent(e)).replace(/%3A/i, ":")),
              (e += "@"));
            var t = this.protocol || "",
              r = this.pathname || "",
              n = this.hash || "",
              i = !1,
              a = "";
            this.host
              ? (i = e + this.host)
              : this.hostname &&
                ((i =
                  e +
                  (-1 === this.hostname.indexOf(":")
                    ? this.hostname
                    : "[" + this.hostname + "]")),
                this.port && (i += ":" + this.port)),
              this.query &&
                util.isObject(this.query) &&
                Object.keys(this.query).length &&
                (a = querystring.stringify(this.query));
            var s = this.search || (a && "?" + a) || "";
            return (
              t && ":" !== t.substr(-1) && (t += ":"),
              this.slashes || ((!t || slashedProtocol[t]) && !1 !== i)
                ? ((i = "//" + (i || "")),
                  r && "/" !== r.charAt(0) && (r = "/" + r))
                : i || (i = ""),
              n && "#" !== n.charAt(0) && (n = "#" + n),
              s && "?" !== s.charAt(0) && (s = "?" + s),
              t +
                i +
                (r = r.replace(/[?#]/g, function (e) {
                  return encodeURIComponent(e);
                })) +
                (s = s.replace("#", "%23")) +
                n
            );
          }),
          (Url.prototype.resolve = function (e) {
            return this.resolveObject(urlParse(e, !1, !0)).format();
          }),
          (Url.prototype.resolveObject = function (e) {
            if (util.isString(e)) {
              var t = new Url();
              t.parse(e, !1, !0), (e = t);
            }
            for (
              var r = new Url(), n = Object.keys(this), i = 0;
              i < n.length;
              i++
            ) {
              var a = n[i];
              r[a] = this[a];
            }
            if (((r.hash = e.hash), "" === e.href))
              return (r.href = r.format()), r;
            if (e.slashes && !e.protocol) {
              for (var s = Object.keys(e), o = 0; o < s.length; o++) {
                var u = s[o];
                "protocol" !== u && (r[u] = e[u]);
              }
              return (
                slashedProtocol[r.protocol] &&
                  r.hostname &&
                  !r.pathname &&
                  (r.path = r.pathname = "/"),
                (r.href = r.format()),
                r
              );
            }
            if (e.protocol && e.protocol !== r.protocol) {
              if (!slashedProtocol[e.protocol]) {
                for (var l = Object.keys(e), c = 0; c < l.length; c++) {
                  var h = l[c];
                  r[h] = e[h];
                }
                return (r.href = r.format()), r;
              }
              if (
                ((r.protocol = e.protocol),
                e.host || hostlessProtocol[e.protocol])
              )
                r.pathname = e.pathname;
              else {
                for (
                  var f = (e.pathname || "").split("/");
                  f.length && !(e.host = f.shift());

                );
                e.host || (e.host = ""),
                  e.hostname || (e.hostname = ""),
                  "" !== f[0] && f.unshift(""),
                  f.length < 2 && f.unshift(""),
                  (r.pathname = f.join("/"));
              }
              if (
                ((r.search = e.search),
                (r.query = e.query),
                (r.host = e.host || ""),
                (r.auth = e.auth),
                (r.hostname = e.hostname || e.host),
                (r.port = e.port),
                r.pathname || r.search)
              ) {
                var d = r.pathname || "",
                  p = r.search || "";
                r.path = d + p;
              }
              return (
                (r.slashes = r.slashes || e.slashes), (r.href = r.format()), r
              );
            }
            var _ = r.pathname && "/" === r.pathname.charAt(0),
              v = e.host || (e.pathname && "/" === e.pathname.charAt(0)),
              m = v || _ || (r.host && e.pathname),
              g = m,
              y = (r.pathname && r.pathname.split("/")) || [],
              T =
                ((f = (e.pathname && e.pathname.split("/")) || []),
                r.protocol && !slashedProtocol[r.protocol]);
            if (
              (T &&
                ((r.hostname = ""),
                (r.port = null),
                r.host && ("" === y[0] ? (y[0] = r.host) : y.unshift(r.host)),
                (r.host = ""),
                e.protocol &&
                  ((e.hostname = null),
                  (e.port = null),
                  e.host && ("" === f[0] ? (f[0] = e.host) : f.unshift(e.host)),
                  (e.host = null)),
                (m = m && ("" === f[0] || "" === y[0]))),
              v)
            )
              (r.host = e.host || "" === e.host ? e.host : r.host),
                (r.hostname =
                  e.hostname || "" === e.hostname ? e.hostname : r.hostname),
                (r.search = e.search),
                (r.query = e.query),
                (y = f);
            else if (f.length)
              y || (y = []),
                y.pop(),
                (y = y.concat(f)),
                (r.search = e.search),
                (r.query = e.query);
            else if (!util.isNullOrUndefined(e.search)) {
              if (T)
                (r.hostname = r.host = y.shift()),
                  (A =
                    !!(r.host && r.host.indexOf("@") > 0) &&
                    r.host.split("@")) &&
                    ((r.auth = A.shift()), (r.host = r.hostname = A.shift()));
              return (
                (r.search = e.search),
                (r.query = e.query),
                (util.isNull(r.pathname) && util.isNull(r.search)) ||
                  (r.path =
                    (r.pathname ? r.pathname : "") +
                    (r.search ? r.search : "")),
                (r.href = r.format()),
                r
              );
            }
            if (!y.length)
              return (
                (r.pathname = null),
                r.search ? (r.path = "/" + r.search) : (r.path = null),
                (r.href = r.format()),
                r
              );
            for (
              var x = y.slice(-1)[0],
                E =
                  ((r.host || e.host || y.length > 1) &&
                    ("." === x || ".." === x)) ||
                  "" === x,
                b = 0,
                S = y.length;
              S >= 0;
              S--
            )
              "." === (x = y[S])
                ? y.splice(S, 1)
                : ".." === x
                ? (y.splice(S, 1), b++)
                : b && (y.splice(S, 1), b--);
            if (!m && !g) for (; b--; b) y.unshift("..");
            !m ||
              "" === y[0] ||
              (y[0] && "/" === y[0].charAt(0)) ||
              y.unshift(""),
              E && "/" !== y.join("/").substr(-1) && y.push("");
            var A,
              C = "" === y[0] || (y[0] && "/" === y[0].charAt(0));
            T &&
              ((r.hostname = r.host = C ? "" : y.length ? y.shift() : ""),
              (A =
                !!(r.host && r.host.indexOf("@") > 0) && r.host.split("@")) &&
                ((r.auth = A.shift()), (r.host = r.hostname = A.shift())));
            return (
              (m = m || (r.host && y.length)) && !C && y.unshift(""),
              y.length
                ? (r.pathname = y.join("/"))
                : ((r.pathname = null), (r.path = null)),
              (util.isNull(r.pathname) && util.isNull(r.search)) ||
                (r.path =
                  (r.pathname ? r.pathname : "") + (r.search ? r.search : "")),
              (r.auth = e.auth || r.auth),
              (r.slashes = r.slashes || e.slashes),
              (r.href = r.format()),
              r
            );
          }),
          (Url.prototype.parseHost = function () {
            var e = this.host,
              t = portPattern.exec(e);
            t &&
              (":" !== (t = t[0]) && (this.port = t.substr(1)),
              (e = e.substr(0, e.length - t.length))),
              e && (this.hostname = e);
          });
        var url = { parse: parse, format: format, resolve: resolve };
        function assertPath(e) {
          if ("string" != typeof e)
            throw new TypeError(
              "Path must be a string. Received ".concat(JSON.stringify(e))
            );
        }
        function removeUrlParams(e) {
          return e.split("?")[0].split("#")[0];
        }
        function escapeRegExp(e) {
          return e.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
        }
        function replaceAll(e, t, r) {
          return e.replace(new RegExp(escapeRegExp(t), "g"), r);
        }
        function normalizeStringPosix(e, t) {
          for (
            var r = "", n = 0, i = -1, a = 0, s = -1, o = 0;
            o <= e.length;
            ++o
          ) {
            if (o < e.length) s = e.charCodeAt(o);
            else {
              if (47 === s) break;
              s = 47;
            }
            if (47 === s) {
              if (i === o - 1 || 1 === a);
              else if (i !== o - 1 && 2 === a) {
                if (
                  r.length < 2 ||
                  2 !== n ||
                  46 !== r.charCodeAt(r.length - 1) ||
                  46 !== r.charCodeAt(r.length - 2)
                )
                  if (r.length > 2) {
                    var u = r.lastIndexOf("/");
                    if (u !== r.length - 1) {
                      -1 === u
                        ? ((r = ""), (n = 0))
                        : (n =
                            (r = r.slice(0, u)).length -
                            1 -
                            r.lastIndexOf("/")),
                        (i = o),
                        (a = 0);
                      continue;
                    }
                  } else if (2 === r.length || 1 === r.length) {
                    (r = ""), (n = 0), (i = o), (a = 0);
                    continue;
                  }
                t && (r.length > 0 ? (r += "/..") : (r = ".."), (n = 2));
              } else
                r.length > 0
                  ? (r += "/".concat(e.slice(i + 1, o)))
                  : (r = e.slice(i + 1, o)),
                  (n = o - i - 1);
              (i = o), (a = 0);
            } else 46 === s && -1 !== a ? ++a : (a = -1);
          }
          return r;
        }
        var path = {
            toPosix: function (e) {
              return replaceAll(e, "\\", "/");
            },
            isUrl: function (e) {
              return /^https?:/.test(this.toPosix(e));
            },
            isDataUrl: function (e) {
              return /^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(
                e
              );
            },
            hasProtocol: function (e) {
              return /^[^/:]+:\//.test(this.toPosix(e));
            },
            getProtocol: function (e) {
              assertPath(e), (e = this.toPosix(e));
              var t = "",
                r = /^file:\/\/\//.exec(e),
                n = /^[^/:]+:\/\//.exec(e),
                i = /^[^/:]+:\//.exec(e);
              if (r || n || i) {
                var a =
                  (null == r ? void 0 : r[0]) ||
                  (null == n ? void 0 : n[0]) ||
                  (null == i ? void 0 : i[0]);
                (t = a), (e = e.slice(a.length));
              }
              return t;
            },
            toAbsolute: function (e, t, r) {
              if (this.isDataUrl(e)) return e;
              var n = removeUrlParams(
                  this.toPosix(null != t ? t : settings.ADAPTER.getBaseUrl())
                ),
                i = removeUrlParams(
                  this.toPosix(null != r ? r : this.rootname(n))
                );
              return (
                assertPath(e),
                (e = this.toPosix(e)).startsWith("/")
                  ? path.join(i, e.slice(1))
                  : this.isAbsolute(e)
                  ? e
                  : this.join(n, e)
              );
            },
            normalize: function (e) {
              if ((assertPath((e = this.toPosix(e))), 0 === e.length))
                return ".";
              var t = "",
                r = e.startsWith("/");
              this.hasProtocol(e) &&
                ((t = this.rootname(e)), (e = e.slice(t.length)));
              var n = e.endsWith("/");
              return (
                (e = normalizeStringPosix(e, !1)).length > 0 && n && (e += "/"),
                r ? "/".concat(e) : t + e
              );
            },
            isAbsolute: function (e) {
              return (
                assertPath(e),
                (e = this.toPosix(e)),
                !!this.hasProtocol(e) || e.startsWith("/")
              );
            },
            join: function () {
              if (0 === arguments.length) return ".";
              for (var e, t = 0; t < arguments.length; ++t) {
                var r = t < 0 || arguments.length <= t ? void 0 : arguments[t];
                if ((assertPath(r), r.length > 0))
                  if (void 0 === e) e = r;
                  else {
                    var n,
                      i =
                        null !==
                          (n =
                            t - 1 < 0 || arguments.length <= t - 1
                              ? void 0
                              : arguments[t - 1]) && void 0 !== n
                          ? n
                          : "";
                    this.extname(i)
                      ? (e += "/../".concat(r))
                      : (e += "/".concat(r));
                  }
              }
              return void 0 === e ? "." : this.normalize(e);
            },
            dirname: function (e) {
              if ((assertPath(e), 0 === e.length)) return ".";
              for (
                var t = (e = this.toPosix(e)).charCodeAt(0),
                  r = 47 === t,
                  n = -1,
                  i = !0,
                  a = this.getProtocol(e),
                  s = e,
                  o = (e = e.slice(a.length)).length - 1;
                o >= 1;
                --o
              )
                if (47 === (t = e.charCodeAt(o))) {
                  if (!i) {
                    n = o;
                    break;
                  }
                } else i = !1;
              return -1 === n
                ? r
                  ? "/"
                  : this.isUrl(s)
                  ? a + e
                  : a
                : r && 1 === n
                ? "//"
                : a + e.slice(0, n);
            },
            rootname: function (e) {
              assertPath(e);
              var t = "";
              if (
                ((t = (e = this.toPosix(e)).startsWith("/")
                  ? "/"
                  : this.getProtocol(e)),
                this.isUrl(e))
              ) {
                var r = e.indexOf("/", t.length);
                (t = -1 !== r ? e.slice(0, r) : e).endsWith("/") || (t += "/");
              }
              return t;
            },
            basename: function (e, t) {
              assertPath(e),
                t && assertPath(t),
                (e = removeUrlParams(this.toPosix(e)));
              var r,
                n = 0,
                i = -1,
                a = !0;
              if (void 0 !== t && t.length > 0 && t.length <= e.length) {
                if (t.length === e.length && t === e) return "";
                var s = t.length - 1,
                  o = -1;
                for (r = e.length - 1; r >= 0; --r) {
                  var u = e.charCodeAt(r);
                  if (47 === u) {
                    if (!a) {
                      n = r + 1;
                      break;
                    }
                  } else
                    -1 === o && ((a = !1), (o = r + 1)),
                      s >= 0 &&
                        (u === t.charCodeAt(s)
                          ? -1 == --s && (i = r)
                          : ((s = -1), (i = o)));
                }
                return (
                  n === i ? (i = o) : -1 === i && (i = e.length), e.slice(n, i)
                );
              }
              for (r = e.length - 1; r >= 0; --r)
                if (47 === e.charCodeAt(r)) {
                  if (!a) {
                    n = r + 1;
                    break;
                  }
                } else -1 === i && ((a = !1), (i = r + 1));
              return -1 === i ? "" : e.slice(n, i);
            },
            extname: function (e) {
              assertPath(e);
              for (
                var t = -1,
                  r = 0,
                  n = -1,
                  i = !0,
                  a = 0,
                  s = (e = removeUrlParams(this.toPosix(e))).length - 1;
                s >= 0;
                --s
              ) {
                var o = e.charCodeAt(s);
                if (47 !== o)
                  -1 === n && ((i = !1), (n = s + 1)),
                    46 === o
                      ? -1 === t
                        ? (t = s)
                        : 1 !== a && (a = 1)
                      : -1 !== t && (a = -1);
                else if (!i) {
                  r = s + 1;
                  break;
                }
              }
              return -1 === t ||
                -1 === n ||
                0 === a ||
                (1 === a && t === n - 1 && t === r + 1)
                ? ""
                : e.slice(t, n);
            },
            parse: function (e) {
              assertPath(e);
              var t = { root: "", dir: "", base: "", ext: "", name: "" };
              if (0 === e.length) return t;
              var r,
                n = (e = removeUrlParams(this.toPosix(e))).charCodeAt(0),
                i = this.isAbsolute(e);
              (t.root = this.rootname(e)),
                (r = i || this.hasProtocol(e) ? 1 : 0);
              for (
                var a = -1, s = 0, o = -1, u = !0, l = e.length - 1, c = 0;
                l >= r;
                --l
              )
                if (47 !== (n = e.charCodeAt(l)))
                  -1 === o && ((u = !1), (o = l + 1)),
                    46 === n
                      ? -1 === a
                        ? (a = l)
                        : 1 !== c && (c = 1)
                      : -1 !== a && (c = -1);
                else if (!u) {
                  s = l + 1;
                  break;
                }
              return (
                -1 === a ||
                -1 === o ||
                0 === c ||
                (1 === c && a === o - 1 && a === s + 1)
                  ? -1 !== o &&
                    (t.base = t.name =
                      0 === s && i ? e.slice(1, o) : e.slice(s, o))
                  : (0 === s && i
                      ? ((t.name = e.slice(1, a)), (t.base = e.slice(1, o)))
                      : ((t.name = e.slice(s, a)), (t.base = e.slice(s, o))),
                    (t.ext = e.slice(a, o))),
                (t.dir = this.dirname(e)),
                t
              );
            },
            sep: "/",
            delimiter: ":"
          },
          warnings = {},
          supported;
        function deprecation(e, t) {
          var r =
            arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 3;
          if (!warnings[t]) {
            var n = new Error().stack;
            void 0 === n
              ? console.warn(
                  "PixiJS Deprecation Warning: ",
                  "".concat(t, "\nDeprecated since v").concat(e)
                )
              : ((n = n.split("\n").splice(r).join("\n")),
                console.groupCollapsed
                  ? (console.groupCollapsed(
                      "%cPixiJS Deprecation Warning: %c%s",
                      "color:#614108;background:#fffbe6",
                      "font-weight:normal;color:#614108;background:#fffbe6",
                      "".concat(t, "\nDeprecated since v").concat(e)
                    ),
                    console.warn(n),
                    console.groupEnd())
                  : (console.warn(
                      "PixiJS Deprecation Warning: ",
                      "".concat(t, "\nDeprecated since v").concat(e)
                    ),
                    console.warn(n))),
              (warnings[t] = !0);
          }
        }
        function isWebGLSupported() {
          return (
            void 0 === supported &&
              (supported = (function () {
                var t = {
                  stencil: !0,
                  failIfMajorPerformanceCaveat:
                    settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT
                };
                try {
                  var r, n;
                  if (!settings.ADAPTER.getWebGLRenderingContext()) return !1;
                  var i = settings.ADAPTER.createCanvas(),
                    a =
                      i.getContext("webgl", t) ||
                      i.getContext("experimental-webgl", t),
                    s = !(
                      null === (r = a) ||
                      void 0 === r ||
                      null === (n = r.getContextAttributes()) ||
                      void 0 === n ||
                      !n.stencil
                    );
                  if (a) {
                    var o = a.getExtension("WEBGL_lose_context");
                    o && o.loseContext();
                  }
                  return (a = null), s;
                } catch (e) {
                  return !1;
                }
              })()),
            supported
          );
        }
        var r = { grad: 0.9, turn: 360, rad: 360 / (2 * Math.PI) },
          t = function (e) {
            return "string" == typeof e ? e.length > 0 : "number" == typeof e;
          },
          n = function (e, t, r) {
            return (
              void 0 === t && (t = 0),
              void 0 === r && (r = Math.pow(10, t)),
              Math.round(r * e) / r + 0
            );
          },
          e = function (e, t, r) {
            return (
              void 0 === t && (t = 0),
              void 0 === r && (r = 1),
              e > r ? r : e > t ? e : t
            );
          },
          u = function (e) {
            return (e = isFinite(e) ? e % 360 : 0) > 0 ? e : e + 360;
          },
          a = function (t) {
            return {
              r: e(t.r, 0, 255),
              g: e(t.g, 0, 255),
              b: e(t.b, 0, 255),
              a: e(t.a)
            };
          },
          o = function (e) {
            return { r: n(e.r), g: n(e.g), b: n(e.b), a: n(e.a, 3) };
          },
          i$1 = /^#([0-9a-f]{3,8})$/i,
          s = function (e) {
            var t = e.toString(16);
            return t.length < 2 ? "0" + t : t;
          },
          h = function (e) {
            var t = e.r,
              r = e.g,
              n = e.b,
              i = e.a,
              a = Math.max(t, r, n),
              s = a - Math.min(t, r, n),
              o = s
                ? a === t
                  ? (r - n) / s
                  : a === r
                  ? 2 + (n - t) / s
                  : 4 + (t - r) / s
                : 0;
            return {
              h: 60 * (o < 0 ? o + 6 : o),
              s: a ? (s / a) * 100 : 0,
              v: (a / 255) * 100,
              a: i
            };
          },
          b = function (e) {
            var t = e.h,
              r = e.s,
              n = e.v,
              i = e.a;
            (t = (t / 360) * 6), (r /= 100), (n /= 100);
            var a = Math.floor(t),
              s = n * (1 - r),
              o = n * (1 - (t - a) * r),
              u = n * (1 - (1 - t + a) * r),
              l = a % 6;
            return {
              r: 255 * [n, o, s, s, u, n][l],
              g: 255 * [u, n, n, o, s, s][l],
              b: 255 * [s, s, u, n, n, o][l],
              a: i
            };
          },
          g = function (t) {
            return {
              h: u(t.h),
              s: e(t.s, 0, 100),
              l: e(t.l, 0, 100),
              a: e(t.a)
            };
          },
          d = function (e) {
            return { h: n(e.h), s: n(e.s), l: n(e.l), a: n(e.a, 3) };
          },
          f = function (e) {
            return b(
              ((r = (t = e).s),
              {
                h: t.h,
                s:
                  (r *= ((n = t.l) < 50 ? n : 100 - n) / 100) > 0
                    ? ((2 * r) / (n + r)) * 100
                    : 0,
                v: n + r,
                a: t.a
              })
            );
            var t, r, n;
          },
          c = function (e) {
            return {
              h: (t = h(e)).h,
              s:
                (i = ((200 - (r = t.s)) * (n = t.v)) / 100) > 0 && i < 200
                  ? ((r * n) / 100 / (i <= 100 ? i : 200 - i)) * 100
                  : 0,
              l: i / 2,
              a: t.a
            };
            var t, r, n, i;
          },
          l = /^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,
          p$1 = /^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,
          v = /^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,
          m = /^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,
          y = {
            string: [
              [
                function (e) {
                  var t = i$1.exec(e);
                  return t
                    ? (e = t[1]).length <= 4
                      ? {
                          r: parseInt(e[0] + e[0], 16),
                          g: parseInt(e[1] + e[1], 16),
                          b: parseInt(e[2] + e[2], 16),
                          a:
                            4 === e.length
                              ? n(parseInt(e[3] + e[3], 16) / 255, 2)
                              : 1
                        }
                      : 6 === e.length || 8 === e.length
                      ? {
                          r: parseInt(e.substr(0, 2), 16),
                          g: parseInt(e.substr(2, 2), 16),
                          b: parseInt(e.substr(4, 2), 16),
                          a:
                            8 === e.length
                              ? n(parseInt(e.substr(6, 2), 16) / 255, 2)
                              : 1
                        }
                      : null
                    : null;
                },
                "hex"
              ],
              [
                function (e) {
                  var t = v.exec(e) || m.exec(e);
                  return t
                    ? t[2] !== t[4] || t[4] !== t[6]
                      ? null
                      : a({
                          r: Number(t[1]) / (t[2] ? 100 / 255 : 1),
                          g: Number(t[3]) / (t[4] ? 100 / 255 : 1),
                          b: Number(t[5]) / (t[6] ? 100 / 255 : 1),
                          a:
                            void 0 === t[7]
                              ? 1
                              : Number(t[7]) / (t[8] ? 100 : 1)
                        })
                    : null;
                },
                "rgb"
              ],
              [
                function (e) {
                  var t = l.exec(e) || p$1.exec(e);
                  if (!t) return null;
                  var n,
                    i,
                    a = g({
                      h:
                        ((n = t[1]),
                        (i = t[2]),
                        void 0 === i && (i = "deg"),
                        Number(n) * (r[i] || 1)),
                      s: Number(t[3]),
                      l: Number(t[4]),
                      a: void 0 === t[5] ? 1 : Number(t[5]) / (t[6] ? 100 : 1)
                    });
                  return f(a);
                },
                "hsl"
              ]
            ],
            object: [
              [
                function (e) {
                  var r = e.r,
                    n = e.g,
                    i = e.b,
                    s = e.a,
                    o = void 0 === s ? 1 : s;
                  return t(r) && t(n) && t(i)
                    ? a({
                        r: Number(r),
                        g: Number(n),
                        b: Number(i),
                        a: Number(o)
                      })
                    : null;
                },
                "rgb"
              ],
              [
                function (e) {
                  var r = e.h,
                    n = e.s,
                    i = e.l,
                    a = e.a,
                    s = void 0 === a ? 1 : a;
                  if (!t(r) || !t(n) || !t(i)) return null;
                  var o = g({
                    h: Number(r),
                    s: Number(n),
                    l: Number(i),
                    a: Number(s)
                  });
                  return f(o);
                },
                "hsl"
              ],
              [
                function (r) {
                  var n = r.h,
                    i = r.s,
                    a = r.v,
                    s = r.a,
                    o = void 0 === s ? 1 : s;
                  if (!t(n) || !t(i) || !t(a)) return null;
                  var l = (function (t) {
                    return {
                      h: u(t.h),
                      s: e(t.s, 0, 100),
                      v: e(t.v, 0, 100),
                      a: e(t.a)
                    };
                  })({
                    h: Number(n),
                    s: Number(i),
                    v: Number(a),
                    a: Number(o)
                  });
                  return b(l);
                },
                "hsv"
              ]
            ]
          },
          N = function (e, t) {
            for (var r = 0; r < t.length; r++) {
              var n = t[r][0](e);
              if (n) return [n, t[r][1]];
            }
            return [null, void 0];
          },
          x = function (e) {
            return "string" == typeof e
              ? N(e.trim(), y.string)
              : "object" == _typeof(e) && null !== e
              ? N(e, y.object)
              : [null, void 0];
          },
          M = function (t, r) {
            var n = c(t);
            return { h: n.h, s: e(n.s + 100 * r, 0, 100), l: n.l, a: n.a };
          },
          H = function (e) {
            return (299 * e.r + 587 * e.g + 114 * e.b) / 1e3 / 255;
          },
          $ = function (t, r) {
            var n = c(t);
            return { h: n.h, s: n.s, l: e(n.l + 100 * r, 0, 100), a: n.a };
          },
          j = (function () {
            function e(e) {
              (this.parsed = x(e)[0]),
                (this.rgba = this.parsed || { r: 0, g: 0, b: 0, a: 1 });
            }
            return (
              (e.prototype.isValid = function () {
                return null !== this.parsed;
              }),
              (e.prototype.brightness = function () {
                return n(H(this.rgba), 2);
              }),
              (e.prototype.isDark = function () {
                return H(this.rgba) < 0.5;
              }),
              (e.prototype.isLight = function () {
                return H(this.rgba) >= 0.5;
              }),
              (e.prototype.toHex = function () {
                return (
                  (t = (e = o(this.rgba)).r),
                  (r = e.g),
                  (i = e.b),
                  (u = (a = e.a) < 1 ? s(n(255 * a)) : ""),
                  "#" + s(t) + s(r) + s(i) + u
                );
                var e, t, r, i, a, u;
              }),
              (e.prototype.toRgb = function () {
                return o(this.rgba);
              }),
              (e.prototype.toRgbString = function () {
                return (
                  (t = (e = o(this.rgba)).r),
                  (r = e.g),
                  (n = e.b),
                  (i = e.a) < 1
                    ? "rgba(" + t + ", " + r + ", " + n + ", " + i + ")"
                    : "rgb(" + t + ", " + r + ", " + n + ")"
                );
                var e, t, r, n, i;
              }),
              (e.prototype.toHsl = function () {
                return d(c(this.rgba));
              }),
              (e.prototype.toHslString = function () {
                return (
                  (t = (e = d(c(this.rgba))).h),
                  (r = e.s),
                  (n = e.l),
                  (i = e.a) < 1
                    ? "hsla(" + t + ", " + r + "%, " + n + "%, " + i + ")"
                    : "hsl(" + t + ", " + r + "%, " + n + "%)"
                );
                var e, t, r, n, i;
              }),
              (e.prototype.toHsv = function () {
                return (
                  (e = h(this.rgba)),
                  { h: n(e.h), s: n(e.s), v: n(e.v), a: n(e.a, 3) }
                );
                var e;
              }),
              (e.prototype.invert = function () {
                return w({
                  r: 255 - (e = this.rgba).r,
                  g: 255 - e.g,
                  b: 255 - e.b,
                  a: e.a
                });
                var e;
              }),
              (e.prototype.saturate = function (e) {
                return void 0 === e && (e = 0.1), w(M(this.rgba, e));
              }),
              (e.prototype.desaturate = function (e) {
                return void 0 === e && (e = 0.1), w(M(this.rgba, -e));
              }),
              (e.prototype.grayscale = function () {
                return w(M(this.rgba, -1));
              }),
              (e.prototype.lighten = function (e) {
                return void 0 === e && (e = 0.1), w($(this.rgba, e));
              }),
              (e.prototype.darken = function (e) {
                return void 0 === e && (e = 0.1), w($(this.rgba, -e));
              }),
              (e.prototype.rotate = function (e) {
                return void 0 === e && (e = 15), this.hue(this.hue() + e);
              }),
              (e.prototype.alpha = function (e) {
                return "number" == typeof e
                  ? w({ r: (t = this.rgba).r, g: t.g, b: t.b, a: e })
                  : n(this.rgba.a, 3);
                var t;
              }),
              (e.prototype.hue = function (e) {
                var t = c(this.rgba);
                return "number" == typeof e
                  ? w({ h: e, s: t.s, l: t.l, a: t.a })
                  : n(t.h);
              }),
              (e.prototype.isEqual = function (e) {
                return this.toHex() === w(e).toHex();
              }),
              e
            );
          })(),
          w = function (e) {
            return e instanceof j ? e : new j(e);
          },
          S = [],
          k = function (e) {
            e.forEach(function (e) {
              S.indexOf(e) < 0 && (e(j, y), S.push(e));
            });
          };
        function namesPlugin(e, t) {
          var r = {
              white: "#ffffff",
              bisque: "#ffe4c4",
              blue: "#0000ff",
              cadetblue: "#5f9ea0",
              chartreuse: "#7fff00",
              chocolate: "#d2691e",
              coral: "#ff7f50",
              antiquewhite: "#faebd7",
              aqua: "#00ffff",
              azure: "#f0ffff",
              whitesmoke: "#f5f5f5",
              papayawhip: "#ffefd5",
              plum: "#dda0dd",
              blanchedalmond: "#ffebcd",
              black: "#000000",
              gold: "#ffd700",
              goldenrod: "#daa520",
              gainsboro: "#dcdcdc",
              cornsilk: "#fff8dc",
              cornflowerblue: "#6495ed",
              burlywood: "#deb887",
              aquamarine: "#7fffd4",
              beige: "#f5f5dc",
              crimson: "#dc143c",
              cyan: "#00ffff",
              darkblue: "#00008b",
              darkcyan: "#008b8b",
              darkgoldenrod: "#b8860b",
              darkkhaki: "#bdb76b",
              darkgray: "#a9a9a9",
              darkgreen: "#006400",
              darkgrey: "#a9a9a9",
              peachpuff: "#ffdab9",
              darkmagenta: "#8b008b",
              darkred: "#8b0000",
              darkorchid: "#9932cc",
              darkorange: "#ff8c00",
              darkslateblue: "#483d8b",
              gray: "#808080",
              darkslategray: "#2f4f4f",
              darkslategrey: "#2f4f4f",
              deeppink: "#ff1493",
              deepskyblue: "#00bfff",
              wheat: "#f5deb3",
              firebrick: "#b22222",
              floralwhite: "#fffaf0",
              ghostwhite: "#f8f8ff",
              darkviolet: "#9400d3",
              magenta: "#ff00ff",
              green: "#008000",
              dodgerblue: "#1e90ff",
              grey: "#808080",
              honeydew: "#f0fff0",
              hotpink: "#ff69b4",
              blueviolet: "#8a2be2",
              forestgreen: "#228b22",
              lawngreen: "#7cfc00",
              indianred: "#cd5c5c",
              indigo: "#4b0082",
              fuchsia: "#ff00ff",
              brown: "#a52a2a",
              maroon: "#800000",
              mediumblue: "#0000cd",
              lightcoral: "#f08080",
              darkturquoise: "#00ced1",
              lightcyan: "#e0ffff",
              ivory: "#fffff0",
              lightyellow: "#ffffe0",
              lightsalmon: "#ffa07a",
              lightseagreen: "#20b2aa",
              linen: "#faf0e6",
              mediumaquamarine: "#66cdaa",
              lemonchiffon: "#fffacd",
              lime: "#00ff00",
              khaki: "#f0e68c",
              mediumseagreen: "#3cb371",
              limegreen: "#32cd32",
              mediumspringgreen: "#00fa9a",
              lightskyblue: "#87cefa",
              lightblue: "#add8e6",
              midnightblue: "#191970",
              lightpink: "#ffb6c1",
              mistyrose: "#ffe4e1",
              moccasin: "#ffe4b5",
              mintcream: "#f5fffa",
              lightslategray: "#778899",
              lightslategrey: "#778899",
              navajowhite: "#ffdead",
              navy: "#000080",
              mediumvioletred: "#c71585",
              powderblue: "#b0e0e6",
              palegoldenrod: "#eee8aa",
              oldlace: "#fdf5e6",
              paleturquoise: "#afeeee",
              mediumturquoise: "#48d1cc",
              mediumorchid: "#ba55d3",
              rebeccapurple: "#663399",
              lightsteelblue: "#b0c4de",
              mediumslateblue: "#7b68ee",
              thistle: "#d8bfd8",
              tan: "#d2b48c",
              orchid: "#da70d6",
              mediumpurple: "#9370db",
              purple: "#800080",
              pink: "#ffc0cb",
              skyblue: "#87ceeb",
              springgreen: "#00ff7f",
              palegreen: "#98fb98",
              red: "#ff0000",
              yellow: "#ffff00",
              slateblue: "#6a5acd",
              lavenderblush: "#fff0f5",
              peru: "#cd853f",
              palevioletred: "#db7093",
              violet: "#ee82ee",
              teal: "#008080",
              slategray: "#708090",
              slategrey: "#708090",
              aliceblue: "#f0f8ff",
              darkseagreen: "#8fbc8f",
              darkolivegreen: "#556b2f",
              greenyellow: "#adff2f",
              seagreen: "#2e8b57",
              seashell: "#fff5ee",
              tomato: "#ff6347",
              silver: "#c0c0c0",
              sienna: "#a0522d",
              lavender: "#e6e6fa",
              lightgreen: "#90ee90",
              orange: "#ffa500",
              orangered: "#ff4500",
              steelblue: "#4682b4",
              royalblue: "#4169e1",
              turquoise: "#40e0d0",
              yellowgreen: "#9acd32",
              salmon: "#fa8072",
              saddlebrown: "#8b4513",
              sandybrown: "#f4a460",
              rosybrown: "#bc8f8f",
              darksalmon: "#e9967a",
              lightgoldenrodyellow: "#fafad2",
              snow: "#fffafa",
              lightgrey: "#d3d3d3",
              lightgray: "#d3d3d3",
              dimgray: "#696969",
              dimgrey: "#696969",
              olivedrab: "#6b8e23",
              olive: "#808000"
            },
            n = {};
          for (var i in r) n[r[i]] = i;
          var a = {};
          (e.prototype.toName = function (t) {
            if (!(this.rgba.a || this.rgba.r || this.rgba.g || this.rgba.b))
              return "transparent";
            var i,
              s,
              o = n[this.toHex()];
            if (o) return o;
            if (null == t ? void 0 : t.closest) {
              var u = this.toRgb(),
                l = 1 / 0,
                c = "black";
              if (!a.length) for (var h in r) a[h] = new e(r[h]).toRgb();
              for (var f in r) {
                var d =
                  ((i = u),
                  (s = a[f]),
                  Math.pow(i.r - s.r, 2) +
                    Math.pow(i.g - s.g, 2) +
                    Math.pow(i.b - s.b, 2));
                d < l && ((l = d), (c = f));
              }
              return c;
            }
          }),
            t.string.push([
              function (t) {
                var n = t.toLowerCase(),
                  i = "transparent" === n ? "#0000" : r[n];
                return i ? new e(i).toRgb() : null;
              },
              "name"
            ]);
        }
        k([namesPlugin]);
        var _Color = (function () {
            function e() {
              var t =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : 16777215;
              _classCallCheck(this, e),
                (this._value = null),
                (this._components = new Float32Array(4)),
                this._components.fill(1),
                (this._int = 16777215),
                (this.value = t);
            }
            return (
              _createClass(e, [
                {
                  key: "red",
                  get: function () {
                    return this._components[0];
                  }
                },
                {
                  key: "green",
                  get: function () {
                    return this._components[1];
                  }
                },
                {
                  key: "blue",
                  get: function () {
                    return this._components[2];
                  }
                },
                {
                  key: "alpha",
                  get: function () {
                    return this._components[3];
                  }
                },
                {
                  key: "setValue",
                  value: function (e) {
                    return (this.value = e), this;
                  }
                },
                {
                  key: "value",
                  get: function () {
                    return this._value;
                  },
                  set: function (t) {
                    if (t instanceof e)
                      (this._value = this.cloneSource(t._value)),
                        (this._int = t._int),
                        this._components.set(t._components);
                    else {
                      if (null === t)
                        throw new Error("Cannot set PIXI.Color#value to null");
                      (null !== this._value &&
                        this.isSourceEqual(this._value, t)) ||
                        (this.normalize(t),
                        (this._value = this.cloneSource(t)));
                    }
                  }
                },
                {
                  key: "cloneSource",
                  value: function (e) {
                    return "string" == typeof e ||
                      "number" == typeof e ||
                      e instanceof Number ||
                      null === e
                      ? e
                      : Array.isArray(e) || ArrayBuffer.isView(e)
                      ? e.slice(0)
                      : "object" === _typeof(e) && null !== e
                      ? _objectSpread({}, e)
                      : e;
                  }
                },
                {
                  key: "isSourceEqual",
                  value: function (e, t) {
                    var r = _typeof(e);
                    if (r !== _typeof(t)) return !1;
                    if ("number" === r || "string" === r || e instanceof Number)
                      return e === t;
                    if (
                      (Array.isArray(e) && Array.isArray(t)) ||
                      (ArrayBuffer.isView(e) && ArrayBuffer.isView(t))
                    )
                      return (
                        e.length === t.length &&
                        e.every(function (e, r) {
                          return e === t[r];
                        })
                      );
                    if (null !== e && null !== t) {
                      var n = Object.keys(e),
                        i = Object.keys(t);
                      return (
                        n.length === i.length &&
                        n.every(function (r) {
                          return e[r] === t[r];
                        })
                      );
                    }
                    return e === t;
                  }
                },
                {
                  key: "toRgba",
                  value: function () {
                    var e = _slicedToArray(this._components, 4);
                    return { r: e[0], g: e[1], b: e[2], a: e[3] };
                  }
                },
                {
                  key: "toRgb",
                  value: function () {
                    var e = _slicedToArray(this._components, 3);
                    return { r: e[0], g: e[1], b: e[2] };
                  }
                },
                {
                  key: "toRgbaString",
                  value: function () {
                    var e = _slicedToArray(this.toUint8RgbArray(), 3),
                      t = e[0],
                      r = e[1],
                      n = e[2];
                    return "rgba("
                      .concat(t, ",")
                      .concat(r, ",")
                      .concat(n, ",")
                      .concat(this.alpha, ")");
                  }
                },
                {
                  key: "toUint8RgbArray",
                  value: function (e) {
                    var t,
                      r = _slicedToArray(this._components, 3),
                      n = r[0],
                      i = r[1],
                      a = r[2];
                    return (
                      ((e =
                        null !== (t = e) && void 0 !== t
                          ? t
                          : [])[0] = Math.round(255 * n)),
                      (e[1] = Math.round(255 * i)),
                      (e[2] = Math.round(255 * a)),
                      e
                    );
                  }
                },
                {
                  key: "toRgbArray",
                  value: function (e) {
                    var t;
                    e = null !== (t = e) && void 0 !== t ? t : [];
                    var r = _slicedToArray(this._components, 3),
                      n = r[0],
                      i = r[1],
                      a = r[2];
                    return (e[0] = n), (e[1] = i), (e[2] = a), e;
                  }
                },
                {
                  key: "toNumber",
                  value: function () {
                    return this._int;
                  }
                },
                {
                  key: "toLittleEndianNumber",
                  value: function () {
                    var e = this._int;
                    return (e >> 16) + (65280 & e) + ((255 & e) << 16);
                  }
                },
                {
                  key: "multiply",
                  value: function (t) {
                    var r = _slicedToArray(e.temp.setValue(t)._components, 4),
                      n = r[0],
                      i = r[1],
                      a = r[2],
                      s = r[3];
                    return (
                      (this._components[0] *= n),
                      (this._components[1] *= i),
                      (this._components[2] *= a),
                      (this._components[3] *= s),
                      this.refreshInt(),
                      (this._value = null),
                      this
                    );
                  }
                },
                {
                  key: "premultiply",
                  value: function (e) {
                    return (
                      (!(arguments.length > 1 && void 0 !== arguments[1]) ||
                        arguments[1]) &&
                        ((this._components[0] *= e),
                        (this._components[1] *= e),
                        (this._components[2] *= e)),
                      (this._components[3] = e),
                      this.refreshInt(),
                      (this._value = null),
                      this
                    );
                  }
                },
                {
                  key: "toPremultiplied",
                  value: function (e) {
                    var t =
                      !(arguments.length > 1 && void 0 !== arguments[1]) ||
                      arguments[1];
                    if (1 === e) return (255 << 24) + this._int;
                    if (0 === e) return t ? 0 : this._int;
                    var r = (this._int >> 16) & 255,
                      n = (this._int >> 8) & 255,
                      i = 255 & this._int;
                    return (
                      t &&
                        ((r = (r * e + 0.5) | 0),
                        (n = (n * e + 0.5) | 0),
                        (i = (i * e + 0.5) | 0)),
                      ((255 * e) << 24) + (r << 16) + (n << 8) + i
                    );
                  }
                },
                {
                  key: "toHex",
                  value: function () {
                    var e = this._int.toString(16);
                    return "#".concat("000000".substring(0, 6 - e.length) + e);
                  }
                },
                {
                  key: "toHexa",
                  value: function () {
                    var e = Math.round(255 * this._components[3]).toString(16);
                    return this.toHex() + "00".substring(0, 2 - e.length) + e;
                  }
                },
                {
                  key: "setAlpha",
                  value: function (e) {
                    return (this._components[3] = this._clamp(e)), this;
                  }
                },
                {
                  key: "round",
                  value: function (e) {
                    var t = _slicedToArray(this._components, 3),
                      r = t[0],
                      n = t[1],
                      i = t[2];
                    return (
                      (this._components[0] = Math.round(r * e) / e),
                      (this._components[1] = Math.round(n * e) / e),
                      (this._components[2] = Math.round(i * e) / e),
                      this.refreshInt(),
                      (this._value = null),
                      this
                    );
                  }
                },
                {
                  key: "toArray",
                  value: function (e) {
                    var t;
                    e = null !== (t = e) && void 0 !== t ? t : [];
                    var r = _slicedToArray(this._components, 4),
                      n = r[0],
                      i = r[1],
                      a = r[2],
                      s = r[3];
                    return (e[0] = n), (e[1] = i), (e[2] = a), (e[3] = s), e;
                  }
                },
                {
                  key: "normalize",
                  value: function (t) {
                    var r, n, i, a;
                    if (
                      ("number" == typeof t || t instanceof Number) &&
                      t >= 0 &&
                      t <= 16777215
                    ) {
                      (r = ((t >> 16) & 255) / 255),
                        (n = ((t >> 8) & 255) / 255),
                        (i = (255 & t) / 255),
                        (a = 1);
                    } else if (
                      (Array.isArray(t) || t instanceof Float32Array) &&
                      t.length >= 3 &&
                      t.length <= 4
                    ) {
                      var s = _slicedToArray((t = this._clamp(t)), 4);
                      (r = s[0]), (n = s[1]), (i = s[2]);
                      var o = s[3];
                      a = void 0 === o ? 1 : o;
                    } else if (
                      (t instanceof Uint8Array ||
                        t instanceof Uint8ClampedArray) &&
                      t.length >= 3 &&
                      t.length <= 4
                    ) {
                      var u = _slicedToArray((t = this._clamp(t, 0, 255)), 4);
                      (r = u[0]), (n = u[1]), (i = u[2]);
                      var l = u[3];
                      (a = void 0 === l ? 255 : l),
                        (r /= 255),
                        (n /= 255),
                        (i /= 255),
                        (a /= 255);
                    } else if (
                      "string" == typeof t ||
                      "object" === _typeof(t)
                    ) {
                      if ("string" == typeof t) {
                        var c = e.HEX_PATTERN.exec(t);
                        c && (t = "#".concat(c[2]));
                      }
                      var h = w(t);
                      if (h.isValid()) {
                        var f = h.rgba;
                        (r = f.r),
                          (n = f.g),
                          (i = f.b),
                          (a = f.a),
                          (r /= 255),
                          (n /= 255),
                          (i /= 255);
                      }
                    }
                    if (void 0 === r)
                      throw new Error("Unable to convert color ".concat(t));
                    (this._components[0] = r),
                      (this._components[1] = n),
                      (this._components[2] = i),
                      (this._components[3] = a),
                      this.refreshInt();
                  }
                },
                {
                  key: "refreshInt",
                  value: function () {
                    this._clamp(this._components);
                    var e = _slicedToArray(this._components, 3),
                      t = e[0],
                      r = e[1],
                      n = e[2];
                    this._int =
                      ((255 * t) << 16) + ((255 * r) << 8) + ((255 * n) | 0);
                  }
                },
                {
                  key: "_clamp",
                  value: function (e) {
                    var t =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : 0,
                      r =
                        arguments.length > 2 && void 0 !== arguments[2]
                          ? arguments[2]
                          : 1;
                    return "number" == typeof e
                      ? Math.min(Math.max(e, t), r)
                      : (e.forEach(function (n, i) {
                          e[i] = Math.min(Math.max(n, t), r);
                        }),
                        e);
                  }
                }
              ]),
              e
            );
          })(),
          Color = _Color;
        function hex2string(e) {
          return (
            deprecation(
              "7.2.0",
              "utils.hex2string is deprecated, use Color#toHex instead"
            ),
            Color.shared.setValue(e).toHex()
          );
        }
        function rgb2hex(e) {
          return (
            deprecation(
              "7.2.0",
              "utils.rgb2hex is deprecated, use Color#toNumber instead"
            ),
            Color.shared.setValue(e).toNumber()
          );
        }
        function mapPremultipliedBlendModes() {
          for (var e = [], t = [], r = 0; r < 32; r++) (e[r] = r), (t[r] = r);
          (e[BLEND_MODES.NORMAL_NPM] = BLEND_MODES.NORMAL),
            (e[BLEND_MODES.ADD_NPM] = BLEND_MODES.ADD),
            (e[BLEND_MODES.SCREEN_NPM] = BLEND_MODES.SCREEN),
            (t[BLEND_MODES.NORMAL] = BLEND_MODES.NORMAL_NPM),
            (t[BLEND_MODES.ADD] = BLEND_MODES.ADD_NPM),
            (t[BLEND_MODES.SCREEN] = BLEND_MODES.SCREEN_NPM);
          var n = [];
          return n.push(t), n.push(e), n;
        }
        (Color.shared = new _Color()),
          (Color.temp = new _Color()),
          (Color.HEX_PATTERN = /^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i);
        var premultiplyBlendMode = mapPremultipliedBlendModes();
        function correctBlendMode(e, t) {
          return premultiplyBlendMode[t ? 1 : 0][e];
        }
        function createIndicesForQuads(e) {
          var t =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : null,
            r = 6 * e;
          if ((t = t || new Uint16Array(r)).length !== r)
            throw new Error(
              "Out buffer length is incorrect, got "
                .concat(t.length, " and expected ")
                .concat(r)
            );
          for (var n = 0, i = 0; n < r; n += 6, i += 4)
            (t[n + 0] = i + 0),
              (t[n + 1] = i + 1),
              (t[n + 2] = i + 2),
              (t[n + 3] = i + 0),
              (t[n + 4] = i + 2),
              (t[n + 5] = i + 3);
          return t;
        }
        function getBufferType(e) {
          if (4 === e.BYTES_PER_ELEMENT)
            return e instanceof Float32Array
              ? "Float32Array"
              : e instanceof Uint32Array
              ? "Uint32Array"
              : "Int32Array";
          if (2 === e.BYTES_PER_ELEMENT) {
            if (e instanceof Uint16Array) return "Uint16Array";
          } else if (1 === e.BYTES_PER_ELEMENT && e instanceof Uint8Array)
            return "Uint8Array";
          return null;
        }
        function nextPow2(e) {
          return (
            (e += 0 === e ? 1 : 0),
            --e,
            (e |= e >>> 1),
            (e |= e >>> 2),
            (e |= e >>> 4),
            (e |= e >>> 8),
            (e |= e >>> 16) + 1
          );
        }
        function isPow2(e) {
          return !(e & (e - 1) || !e);
        }
        function log2(e) {
          var t = (e > 65535 ? 1 : 0) << 4,
            r = ((e >>>= t) > 255 ? 1 : 0) << 3;
          return (
            (t |= r),
            (t |= r = ((e >>>= r) > 15 ? 1 : 0) << 2),
            (t |= r = ((e >>>= r) > 3 ? 1 : 0) << 1) | ((e >>>= r) >> 1)
          );
        }
        function removeItems(e, t, r) {
          var n,
            i = e.length;
          if (!(t >= i || 0 === r)) {
            var a = i - (r = t + r > i ? i - t : r);
            for (n = t; n < a; ++n) e[n] = e[n + r];
            e.length = a;
          }
        }
        function sign(e) {
          return 0 === e ? 0 : e < 0 ? -1 : 1;
        }
        var nextUid = 0;
        function uid() {
          return ++nextUid;
        }
        var _BoundingBox = (function () {
            function e(t, r, n, i) {
              _classCallCheck(this, e),
                (this.left = t),
                (this.top = r),
                (this.right = n),
                (this.bottom = i);
            }
            return (
              _createClass(e, [
                {
                  key: "width",
                  get: function () {
                    return this.right - this.left;
                  }
                },
                {
                  key: "height",
                  get: function () {
                    return this.bottom - this.top;
                  }
                },
                {
                  key: "isEmpty",
                  value: function () {
                    return this.left === this.right || this.top === this.bottom;
                  }
                }
              ]),
              e
            );
          })(),
          BoundingBox = _BoundingBox;
        BoundingBox.EMPTY = new _BoundingBox(0, 0, 0, 0);
        var ProgramCache = {},
          TextureCache = Object.create(null),
          BaseTextureCache = Object.create(null),
          CanvasRenderTarget = (function () {
            function e(t, r, n) {
              _classCallCheck(this, e),
                (this._canvas = settings.ADAPTER.createCanvas()),
                (this._context = this._canvas.getContext("2d")),
                (this.resolution = n || settings.RESOLUTION),
                this.resize(t, r);
            }
            return (
              _createClass(e, [
                {
                  key: "clear",
                  value: function () {
                    this._checkDestroyed(),
                      this._context.setTransform(1, 0, 0, 1, 0, 0),
                      this._context.clearRect(
                        0,
                        0,
                        this._canvas.width,
                        this._canvas.height
                      );
                  }
                },
                {
                  key: "resize",
                  value: function (e, t) {
                    this._checkDestroyed(),
                      (this._canvas.width = Math.round(e * this.resolution)),
                      (this._canvas.height = Math.round(t * this.resolution));
                  }
                },
                {
                  key: "destroy",
                  value: function () {
                    (this._context = null), (this._canvas = null);
                  }
                },
                {
                  key: "width",
                  get: function () {
                    return this._checkDestroyed(), this._canvas.width;
                  },
                  set: function (e) {
                    this._checkDestroyed(),
                      (this._canvas.width = Math.round(e));
                  }
                },
                {
                  key: "height",
                  get: function () {
                    return this._checkDestroyed(), this._canvas.height;
                  },
                  set: function (e) {
                    this._checkDestroyed(),
                      (this._canvas.height = Math.round(e));
                  }
                },
                {
                  key: "canvas",
                  get: function () {
                    return this._checkDestroyed(), this._canvas;
                  }
                },
                {
                  key: "context",
                  get: function () {
                    return this._checkDestroyed(), this._context;
                  }
                },
                {
                  key: "_checkDestroyed",
                  value: function () {
                    if (null === this._canvas)
                      throw new TypeError(
                        "The CanvasRenderTarget has already been destroyed"
                      );
                  }
                }
              ]),
              e
            );
          })(),
          tempAnchor;
        function checkRow(e, t, r) {
          for (var n = 0, i = 4 * r * t; n < t; ++n, i += 4)
            if (0 !== e[i + 3]) return !1;
          return !0;
        }
        function checkColumn(e, t, r, n, i) {
          for (var a = 4 * t, s = n, o = n * a + 4 * r; s <= i; ++s, o += a)
            if (0 !== e[o + 3]) return !1;
          return !0;
        }
        function getCanvasBoundingBox(e) {
          var t = e.width,
            r = e.height,
            n = e.getContext("2d", { willReadFrequently: !0 });
          if (null === n)
            throw new TypeError("Failed to get canvas 2D context");
          for (
            var i = n.getImageData(0, 0, t, r).data,
              a = 0,
              s = 0,
              o = t - 1,
              u = r - 1;
            s < r && checkRow(i, t, s);

          )
            ++s;
          if (s === r) return BoundingBox.EMPTY;
          for (; checkRow(i, t, u); ) --u;
          for (; checkColumn(i, t, a, s, u); ) ++a;
          for (; checkColumn(i, t, o, s, u); ) --o;
          return ++o, ++u, new BoundingBox(a, s, o, u);
        }
        function trimCanvas(e) {
          var t = getCanvasBoundingBox(e),
            r = t.width,
            n = t.height,
            i = null;
          if (!t.isEmpty()) {
            var a = e.getContext("2d");
            if (null === a)
              throw new TypeError("Failed to get canvas 2D context");
            i = a.getImageData(t.left, t.top, r, n);
          }
          return { width: r, height: n, data: i };
        }
        function determineCrossOrigin(e) {
          var t =
            arguments.length > 1 && void 0 !== arguments[1]
              ? arguments[1]
              : globalThis.location;
          if (e.startsWith("data:")) return "";
          (t = t || globalThis.location),
            tempAnchor || (tempAnchor = document.createElement("a")),
            (tempAnchor.href = e);
          var r = url.parse(tempAnchor.href),
            n = (!r.port && "" === t.port) || r.port === t.port;
          return r.hostname === t.hostname && n && r.protocol === t.protocol
            ? ""
            : "anonymous";
        }
        function getResolutionOfUrl(e) {
          var t,
            r =
              arguments.length > 1 && void 0 !== arguments[1]
                ? arguments[1]
                : 1,
            n =
              null === (t = settings.RETINA_PREFIX) || void 0 === t
                ? void 0
                : t.exec(e);
          return n ? parseFloat(n[1]) : r;
        }
        var ExtensionType = (function (e) {
            return (
              (e.Renderer = "renderer"),
              (e.Application = "application"),
              (e.RendererSystem = "renderer-webgl-system"),
              (e.RendererPlugin = "renderer-webgl-plugin"),
              (e.CanvasRendererSystem = "renderer-canvas-system"),
              (e.CanvasRendererPlugin = "renderer-canvas-plugin"),
              (e.Asset = "asset"),
              (e.LoadParser = "load-parser"),
              (e.ResolveParser = "resolve-parser"),
              (e.CacheParser = "cache-parser"),
              (e.DetectionParser = "detection-parser"),
              e
            );
          })(ExtensionType || {}),
          normalizeExtension = function (e) {
            if (
              "function" == typeof e ||
              ("object" === _typeof(e) && e.extension)
            ) {
              if (!e.extension)
                throw new Error(
                  "Extension class must have an extension object"
                );
              e = _objectSpread(
                _objectSpread(
                  {},
                  "object" !== _typeof(e.extension)
                    ? { type: e.extension }
                    : e.extension
                ),
                {},
                { ref: e }
              );
            }
            if ("object" !== _typeof(e))
              throw new Error("Invalid extension type");
            return (
              "string" == typeof (e = _objectSpread({}, e)).type &&
                (e.type = [e.type]),
              e
            );
          },
          normalizePriority = function (e, t) {
            var r;
            return null !== (r = normalizeExtension(e).priority) && void 0 !== r
              ? r
              : t;
          },
          extensions$1 = {
            _addHandlers: {},
            _removeHandlers: {},
            _queue: {},
            remove: function () {
              for (
                var e = this, t = arguments.length, r = new Array(t), n = 0;
                n < t;
                n++
              )
                r[n] = arguments[n];
              return (
                r.map(normalizeExtension).forEach(function (t) {
                  t.type.forEach(function (r) {
                    var n, i;
                    return null === (n = (i = e._removeHandlers)[r]) ||
                      void 0 === n
                      ? void 0
                      : n.call(i, t);
                  });
                }),
                this
              );
            },
            add: function () {
              for (
                var e = this, t = arguments.length, r = new Array(t), n = 0;
                n < t;
                n++
              )
                r[n] = arguments[n];
              return (
                r.map(normalizeExtension).forEach(function (t) {
                  t.type.forEach(function (r) {
                    var n = e._addHandlers,
                      i = e._queue;
                    n[r] ? n[r](t) : ((i[r] = i[r] || []), i[r].push(t));
                  });
                }),
                this
              );
            },
            handle: function (e, t, r) {
              var n = this._addHandlers,
                i = this._removeHandlers;
              if (n[e] || i[e])
                throw new Error(
                  "Extension type ".concat(e, " already has a handler")
                );
              (n[e] = t), (i[e] = r);
              var a = this._queue;
              return (
                a[e] &&
                  (a[e].forEach(function (e) {
                    return t(e);
                  }),
                  delete a[e]),
                this
              );
            },
            handleByMap: function (e, t) {
              return this.handle(
                e,
                function (e) {
                  t[e.name] = e.ref;
                },
                function (e) {
                  delete t[e.name];
                }
              );
            },
            handleByList: function (e, t) {
              var r =
                arguments.length > 2 && void 0 !== arguments[2]
                  ? arguments[2]
                  : -1;
              return this.handle(
                e,
                function (e) {
                  t.includes(e.ref) ||
                    (t.push(e.ref),
                    t.sort(function (e, t) {
                      return normalizePriority(t, r) - normalizePriority(e, r);
                    }));
                },
                function (e) {
                  var r = t.indexOf(e.ref);
                  -1 !== r && t.splice(r, 1);
                }
              );
            }
          },
          ViewableBuffer = (function () {
            function e(t) {
              _classCallCheck(this, e),
                "number" == typeof t
                  ? (this.rawBinaryData = new ArrayBuffer(t))
                  : t instanceof Uint8Array
                  ? (this.rawBinaryData = t.buffer)
                  : (this.rawBinaryData = t),
                (this.uint32View = new Uint32Array(this.rawBinaryData)),
                (this.float32View = new Float32Array(this.rawBinaryData));
            }
            return (
              _createClass(
                e,
                [
                  {
                    key: "int8View",
                    get: function () {
                      return (
                        this._int8View ||
                          (this._int8View = new Int8Array(this.rawBinaryData)),
                        this._int8View
                      );
                    }
                  },
                  {
                    key: "uint8View",
                    get: function () {
                      return (
                        this._uint8View ||
                          (this._uint8View = new Uint8Array(
                            this.rawBinaryData
                          )),
                        this._uint8View
                      );
                    }
                  },
                  {
                    key: "int16View",
                    get: function () {
                      return (
                        this._int16View ||
                          (this._int16View = new Int16Array(
                            this.rawBinaryData
                          )),
                        this._int16View
                      );
                    }
                  },
                  {
                    key: "uint16View",
                    get: function () {
                      return (
                        this._uint16View ||
                          (this._uint16View = new Uint16Array(
                            this.rawBinaryData
                          )),
                        this._uint16View
                      );
                    }
                  },
                  {
                    key: "int32View",
                    get: function () {
                      return (
                        this._int32View ||
                          (this._int32View = new Int32Array(
                            this.rawBinaryData
                          )),
                        this._int32View
                      );
                    }
                  },
                  {
                    key: "view",
                    value: function (e) {
                      return this["".concat(e, "View")];
                    }
                  },
                  {
                    key: "destroy",
                    value: function () {
                      (this.rawBinaryData = null),
                        (this._int8View = null),
                        (this._uint8View = null),
                        (this._int16View = null),
                        (this._uint16View = null),
                        (this._int32View = null),
                        (this.uint32View = null),
                        (this.float32View = null);
                    }
                  }
                ],
                [
                  {
                    key: "sizeOf",
                    value: function (e) {
                      switch (e) {
                        case "int8":
                        case "uint8":
                          return 1;
                        case "int16":
                        case "uint16":
                          return 2;
                        case "int32":
                        case "uint32":
                        case "float32":
                          return 4;
                        default:
                          throw new Error(
                            "".concat(e, " isn't a valid view type")
                          );
                      }
                    }
                  }
                ]
              ),
              e
            );
          })(),
          fragTemplate$1 = [
            "precision mediump float;",
            "void main(void){",
            "float test = 0.1;",
            "%forloop%",
            "gl_FragColor = vec4(0.0);",
            "}"
          ].join("\n");
        function generateIfTestSrc(e) {
          for (var t = "", r = 0; r < e; ++r)
            r > 0 && (t += "\nelse "),
              r < e - 1 && (t += "if(test == ".concat(r, ".0){}"));
          return t;
        }
        function checkMaxIfStatementsInShader(e, t) {
          if (0 === e)
            throw new Error(
              "Invalid value of `0` passed to `checkMaxIfStatementsInShader`"
            );
          for (var r = t.createShader(t.FRAGMENT_SHADER); ; ) {
            var n = fragTemplate$1.replace(/%forloop%/gi, generateIfTestSrc(e));
            if (
              (t.shaderSource(r, n),
              t.compileShader(r),
              t.getShaderParameter(r, t.COMPILE_STATUS))
            )
              break;
            e = (e / 2) | 0;
          }
          return e;
        }
        var BLEND$1 = 0,
          OFFSET$1 = 1,
          CULLING$1 = 2,
          DEPTH_TEST$1 = 3,
          WINDING$1 = 4,
          DEPTH_MASK$1 = 5,
          State = (function () {
            function e() {
              _classCallCheck(this, e),
                (this.data = 0),
                (this.blendMode = BLEND_MODES.NORMAL),
                (this.polygonOffset = 0),
                (this.blend = !0),
                (this.depthMask = !0);
            }
            return (
              _createClass(
                e,
                [
                  {
                    key: "blend",
                    get: function () {
                      return !!(this.data & (1 << BLEND$1));
                    },
                    set: function (e) {
                      !!(this.data & (1 << BLEND$1)) !== e &&
                        (this.data ^= 1 << BLEND$1);
                    }
                  },
                  {
                    key: "offsets",
                    get: function () {
                      return !!(this.data & (1 << OFFSET$1));
                    },
                    set: function (e) {
                      !!(this.data & (1 << OFFSET$1)) !== e &&
                        (this.data ^= 1 << OFFSET$1);
                    }
                  },
                  {
                    key: "culling",
                    get: function () {
                      return !!(this.data & (1 << CULLING$1));
                    },
                    set: function (e) {
                      !!(this.data & (1 << CULLING$1)) !== e &&
                        (this.data ^= 1 << CULLING$1);
                    }
                  },
                  {
                    key: "depthTest",
                    get: function () {
                      return !!(this.data & (1 << DEPTH_TEST$1));
                    },
                    set: function (e) {
                      !!(this.data & (1 << DEPTH_TEST$1)) !== e &&
                        (this.data ^= 1 << DEPTH_TEST$1);
                    }
                  },
                  {
                    key: "depthMask",
                    get: function () {
                      return !!(this.data & (1 << DEPTH_MASK$1));
                    },
                    set: function (e) {
                      !!(this.data & (1 << DEPTH_MASK$1)) !== e &&
                        (this.data ^= 1 << DEPTH_MASK$1);
                    }
                  },
                  {
                    key: "clockwiseFrontFace",
                    get: function () {
                      return !!(this.data & (1 << WINDING$1));
                    },
                    set: function (e) {
                      !!(this.data & (1 << WINDING$1)) !== e &&
                        (this.data ^= 1 << WINDING$1);
                    }
                  },
                  {
                    key: "blendMode",
                    get: function () {
                      return this._blendMode;
                    },
                    set: function (e) {
                      (this.blend = e !== BLEND_MODES.NONE),
                        (this._blendMode = e);
                    }
                  },
                  {
                    key: "polygonOffset",
                    get: function () {
                      return this._polygonOffset;
                    },
                    set: function (e) {
                      (this.offsets = !!e), (this._polygonOffset = e);
                    }
                  },
                  {
                    key: "toString",
                    value: function () {
                      return "[@pixi/core:State blendMode="
                        .concat(this.blendMode, " clockwiseFrontFace=")
                        .concat(this.clockwiseFrontFace, " culling=")
                        .concat(this.culling, " depthMask=")
                        .concat(this.depthMask, " polygonOffset=")
                        .concat(this.polygonOffset, "]");
                    }
                  }
                ],
                [
                  {
                    key: "for2d",
                    value: function () {
                      var t = new e();
                      return (t.depthTest = !1), (t.blend = !0), t;
                    }
                  }
                ]
              ),
              e
            );
          })(),
          INSTALLED = [];
        function autoDetectResource(e, t) {
          if (!e) return null;
          var r = "";
          if ("string" == typeof e) {
            var n = /\.(\w{3,4})(?:$|\?|#)/i.exec(e);
            n && (r = n[1].toLowerCase());
          }
          for (var i = INSTALLED.length - 1; i >= 0; --i) {
            var a = INSTALLED[i];
            if (a.test && a.test(e, r)) return new a(e, t);
          }
          throw new Error("Unrecognized source type to auto-detect Resource");
        }
        var Runner = (function () {
          function e(t) {
            _classCallCheck(this, e),
              (this.items = []),
              (this._name = t),
              (this._aliasCount = 0);
          }
          return (
            _createClass(e, [
              {
                key: "emit",
                value: function (e, t, r, n, i, a, s, o) {
                  if (arguments.length > 8)
                    throw new Error("max arguments reached");
                  var u = this.name,
                    l = this.items;
                  this._aliasCount++;
                  for (var c = 0, h = l.length; c < h; c++)
                    l[c][u](e, t, r, n, i, a, s, o);
                  return l === this.items && this._aliasCount--, this;
                }
              },
              {
                key: "ensureNonAliasedItems",
                value: function () {
                  this._aliasCount > 0 &&
                    this.items.length > 1 &&
                    ((this._aliasCount = 0),
                    (this.items = this.items.slice(0)));
                }
              },
              {
                key: "add",
                value: function (e) {
                  return (
                    e[this._name] &&
                      (this.ensureNonAliasedItems(),
                      this.remove(e),
                      this.items.push(e)),
                    this
                  );
                }
              },
              {
                key: "remove",
                value: function (e) {
                  var t = this.items.indexOf(e);
                  return (
                    -1 !== t &&
                      (this.ensureNonAliasedItems(), this.items.splice(t, 1)),
                    this
                  );
                }
              },
              {
                key: "contains",
                value: function (e) {
                  return this.items.includes(e);
                }
              },
              {
                key: "removeAll",
                value: function () {
                  return (
                    this.ensureNonAliasedItems(), (this.items.length = 0), this
                  );
                }
              },
              {
                key: "destroy",
                value: function () {
                  this.removeAll(), (this.items = null), (this._name = null);
                }
              },
              {
                key: "empty",
                get: function () {
                  return 0 === this.items.length;
                }
              },
              {
                key: "name",
                get: function () {
                  return this._name;
                }
              }
            ]),
            e
          );
        })();
        Object.defineProperties(Runner.prototype, {
          dispatch: { value: Runner.prototype.emit },
          run: { value: Runner.prototype.emit }
        });
        var Resource = (function () {
            function e() {
              var t =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : 0,
                r =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : 0;
              _classCallCheck(this, e),
                (this._width = t),
                (this._height = r),
                (this.destroyed = !1),
                (this.internal = !1),
                (this.onResize = new Runner("setRealSize")),
                (this.onUpdate = new Runner("update")),
                (this.onError = new Runner("onError"));
            }
            return (
              _createClass(
                e,
                [
                  {
                    key: "bind",
                    value: function (e) {
                      this.onResize.add(e),
                        this.onUpdate.add(e),
                        this.onError.add(e),
                        (this._width || this._height) &&
                          this.onResize.emit(this._width, this._height);
                    }
                  },
                  {
                    key: "unbind",
                    value: function (e) {
                      this.onResize.remove(e),
                        this.onUpdate.remove(e),
                        this.onError.remove(e);
                    }
                  },
                  {
                    key: "resize",
                    value: function (e, t) {
                      (e === this._width && t === this._height) ||
                        ((this._width = e),
                        (this._height = t),
                        this.onResize.emit(e, t));
                    }
                  },
                  {
                    key: "valid",
                    get: function () {
                      return !!this._width && !!this._height;
                    }
                  },
                  {
                    key: "update",
                    value: function () {
                      this.destroyed || this.onUpdate.emit();
                    }
                  },
                  {
                    key: "load",
                    value: function () {
                      return Promise.resolve(this);
                    }
                  },
                  {
                    key: "width",
                    get: function () {
                      return this._width;
                    }
                  },
                  {
                    key: "height",
                    get: function () {
                      return this._height;
                    }
                  },
                  {
                    key: "style",
                    value: function (e, t, r) {
                      return !1;
                    }
                  },
                  { key: "dispose", value: function () {} },
                  {
                    key: "destroy",
                    value: function () {
                      this.destroyed ||
                        ((this.destroyed = !0),
                        this.dispose(),
                        this.onError.removeAll(),
                        (this.onError = null),
                        this.onResize.removeAll(),
                        (this.onResize = null),
                        this.onUpdate.removeAll(),
                        (this.onUpdate = null));
                    }
                  }
                ],
                [
                  {
                    key: "test",
                    value: function (e, t) {
                      return !1;
                    }
                  }
                ]
              ),
              e
            );
          })(),
          BufferResource = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e, n) {
              var i;
              _classCallCheck(this, r);
              var a = n || {},
                s = a.width,
                o = a.height;
              if (!s || !o)
                throw new Error("BufferResource width or height invalid");
              return ((i = t.call(this, s, o)).data = e), i;
            }
            return (
              _createClass(
                r,
                [
                  {
                    key: "upload",
                    value: function (e, t, r) {
                      var n = e.gl;
                      n.pixelStorei(
                        n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
                        t.alphaMode === ALPHA_MODES.UNPACK
                      );
                      var i = t.realWidth,
                        a = t.realHeight;
                      return (
                        r.width === i && r.height === a
                          ? n.texSubImage2D(
                              t.target,
                              0,
                              0,
                              0,
                              i,
                              a,
                              t.format,
                              r.type,
                              this.data
                            )
                          : ((r.width = i),
                            (r.height = a),
                            n.texImage2D(
                              t.target,
                              0,
                              r.internalFormat,
                              i,
                              a,
                              0,
                              t.format,
                              r.type,
                              this.data
                            )),
                        !0
                      );
                    }
                  },
                  {
                    key: "dispose",
                    value: function () {
                      this.data = null;
                    }
                  }
                ],
                [
                  {
                    key: "test",
                    value: function (e) {
                      return (
                        e instanceof Float32Array ||
                        e instanceof Uint8Array ||
                        e instanceof Uint32Array
                      );
                    }
                  }
                ]
              ),
              r
            );
          })(Resource),
          defaultBufferOptions = {
            scaleMode: SCALE_MODES.NEAREST,
            format: FORMATS.RGBA,
            alphaMode: ALPHA_MODES.NPM
          },
          _BaseTexture = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r() {
              var e,
                n =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : null,
                i =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : null;
              _classCallCheck(this, r), (e = t.call(this));
              var a = (i = Object.assign({}, r.defaultOptions, i)),
                s = a.alphaMode,
                o = a.mipmap,
                u = a.anisotropicLevel,
                l = a.scaleMode,
                c = a.width,
                h = a.height,
                f = a.wrapMode,
                d = a.format,
                p = a.type,
                _ = a.target,
                v = a.resolution,
                m = a.resourceOptions;
              return (
                !n ||
                  n instanceof Resource ||
                  ((n = autoDetectResource(n, m)).internal = !0),
                (e.resolution = v || settings.RESOLUTION),
                (e.width = Math.round((c || 0) * e.resolution) / e.resolution),
                (e.height = Math.round((h || 0) * e.resolution) / e.resolution),
                (e._mipmap = o),
                (e.anisotropicLevel = u),
                (e._wrapMode = f),
                (e._scaleMode = l),
                (e.format = d),
                (e.type = p),
                (e.target = _),
                (e.alphaMode = s),
                (e.uid = uid()),
                (e.touched = 0),
                (e.isPowerOfTwo = !1),
                e._refreshPOT(),
                (e._glTextures = {}),
                (e.dirtyId = 0),
                (e.dirtyStyleId = 0),
                (e.cacheId = null),
                (e.valid = c > 0 && h > 0),
                (e.textureCacheIds = []),
                (e.destroyed = !1),
                (e.resource = null),
                (e._batchEnabled = 0),
                (e._batchLocation = 0),
                (e.parentTextureArray = null),
                e.setResource(n),
                e
              );
            }
            return (
              _createClass(
                r,
                [
                  {
                    key: "realWidth",
                    get: function () {
                      return Math.round(this.width * this.resolution);
                    }
                  },
                  {
                    key: "realHeight",
                    get: function () {
                      return Math.round(this.height * this.resolution);
                    }
                  },
                  {
                    key: "mipmap",
                    get: function () {
                      return this._mipmap;
                    },
                    set: function (e) {
                      this._mipmap !== e &&
                        ((this._mipmap = e), this.dirtyStyleId++);
                    }
                  },
                  {
                    key: "scaleMode",
                    get: function () {
                      return this._scaleMode;
                    },
                    set: function (e) {
                      this._scaleMode !== e &&
                        ((this._scaleMode = e), this.dirtyStyleId++);
                    }
                  },
                  {
                    key: "wrapMode",
                    get: function () {
                      return this._wrapMode;
                    },
                    set: function (e) {
                      this._wrapMode !== e &&
                        ((this._wrapMode = e), this.dirtyStyleId++);
                    }
                  },
                  {
                    key: "setStyle",
                    value: function (e, t) {
                      var r;
                      return (
                        void 0 !== e &&
                          e !== this.scaleMode &&
                          ((this.scaleMode = e), (r = !0)),
                        void 0 !== t &&
                          t !== this.mipmap &&
                          ((this.mipmap = t), (r = !0)),
                        r && this.dirtyStyleId++,
                        this
                      );
                    }
                  },
                  {
                    key: "setSize",
                    value: function (e, t, r) {
                      return (
                        (r = r || this.resolution),
                        this.setRealSize(e * r, t * r, r)
                      );
                    }
                  },
                  {
                    key: "setRealSize",
                    value: function (e, t, r) {
                      return (
                        (this.resolution = r || this.resolution),
                        (this.width = Math.round(e) / this.resolution),
                        (this.height = Math.round(t) / this.resolution),
                        this._refreshPOT(),
                        this.update(),
                        this
                      );
                    }
                  },
                  {
                    key: "_refreshPOT",
                    value: function () {
                      this.isPowerOfTwo =
                        isPow2(this.realWidth) && isPow2(this.realHeight);
                    }
                  },
                  {
                    key: "setResolution",
                    value: function (e) {
                      var t = this.resolution;
                      return (
                        t === e ||
                          ((this.resolution = e),
                          this.valid &&
                            ((this.width = Math.round(this.width * t) / e),
                            (this.height = Math.round(this.height * t) / e),
                            this.emit("update", this)),
                          this._refreshPOT()),
                        this
                      );
                    }
                  },
                  {
                    key: "setResource",
                    value: function (e) {
                      if (this.resource === e) return this;
                      if (this.resource)
                        throw new Error("Resource can be set only once");
                      return e.bind(this), (this.resource = e), this;
                    }
                  },
                  {
                    key: "update",
                    value: function () {
                      this.valid
                        ? (this.dirtyId++,
                          this.dirtyStyleId++,
                          this.emit("update", this))
                        : this.width > 0 &&
                          this.height > 0 &&
                          ((this.valid = !0),
                          this.emit("loaded", this),
                          this.emit("update", this));
                    }
                  },
                  {
                    key: "onError",
                    value: function (e) {
                      this.emit("error", this, e);
                    }
                  },
                  {
                    key: "destroy",
                    value: function () {
                      this.resource &&
                        (this.resource.unbind(this),
                        this.resource.internal && this.resource.destroy(),
                        (this.resource = null)),
                        this.cacheId &&
                          (delete BaseTextureCache[this.cacheId],
                          delete TextureCache[this.cacheId],
                          (this.cacheId = null)),
                        this.dispose(),
                        r.removeFromCache(this),
                        (this.textureCacheIds = null),
                        (this.destroyed = !0);
                    }
                  },
                  {
                    key: "dispose",
                    value: function () {
                      this.emit("dispose", this);
                    }
                  },
                  {
                    key: "castToBaseTexture",
                    value: function () {
                      return this;
                    }
                  }
                ],
                [
                  {
                    key: "from",
                    value: function (e, t) {
                      var n =
                          arguments.length > 2 && void 0 !== arguments[2]
                            ? arguments[2]
                            : settings.STRICT_TEXTURE_CACHE,
                        i = "string" == typeof e,
                        a = null;
                      if (i) a = e;
                      else {
                        if (!e._pixiId) {
                          var s =
                            (null == t ? void 0 : t.pixiIdPrefix) || "pixiid";
                          e._pixiId = "".concat(s, "_").concat(uid());
                        }
                        a = e._pixiId;
                      }
                      var o = BaseTextureCache[a];
                      if (i && n && !o)
                        throw new Error(
                          'The cacheId "'.concat(
                            a,
                            '" does not exist in BaseTextureCache.'
                          )
                        );
                      return (
                        o ||
                          (((o = new r(e, t)).cacheId = a), r.addToCache(o, a)),
                        o
                      );
                    }
                  },
                  {
                    key: "fromBuffer",
                    value: function (e, t, n, i) {
                      e = e || new Float32Array(t * n * 4);
                      var a = new BufferResource(e, { width: t, height: n }),
                        s =
                          e instanceof Float32Array
                            ? TYPES.FLOAT
                            : TYPES.UNSIGNED_BYTE;
                      return new r(
                        a,
                        Object.assign({}, defaultBufferOptions, { type: s }, i)
                      );
                    }
                  },
                  {
                    key: "addToCache",
                    value: function (e, t) {
                      t &&
                        (e.textureCacheIds.includes(t) ||
                          e.textureCacheIds.push(t),
                        BaseTextureCache[t] &&
                          BaseTextureCache[t] !== e &&
                          console.warn(
                            "BaseTexture added to the cache with an id [".concat(
                              t,
                              "] that already had an entry"
                            )
                          ),
                        (BaseTextureCache[t] = e));
                    }
                  },
                  {
                    key: "removeFromCache",
                    value: function (e) {
                      if ("string" == typeof e) {
                        var t = BaseTextureCache[e];
                        if (t) {
                          var r = t.textureCacheIds.indexOf(e);
                          return (
                            r > -1 && t.textureCacheIds.splice(r, 1),
                            delete BaseTextureCache[e],
                            t
                          );
                        }
                      } else if (null != e && e.textureCacheIds) {
                        for (var n = 0; n < e.textureCacheIds.length; ++n)
                          delete BaseTextureCache[e.textureCacheIds[n]];
                        return (e.textureCacheIds.length = 0), e;
                      }
                      return null;
                    }
                  }
                ]
              ),
              r
            );
          })(EventEmitter),
          BaseTexture = _BaseTexture;
        (BaseTexture.defaultOptions = {
          mipmap: MIPMAP_MODES.POW2,
          anisotropicLevel: 0,
          scaleMode: SCALE_MODES.LINEAR,
          wrapMode: WRAP_MODES.CLAMP,
          alphaMode: ALPHA_MODES.UNPACK,
          target: TARGETS.TEXTURE_2D,
          format: FORMATS.RGBA,
          type: TYPES.UNSIGNED_BYTE
        }),
          (BaseTexture._globalBatch = 0);
        var BatchDrawCall = _createClass(function e() {
            _classCallCheck(this, e),
              (this.texArray = null),
              (this.blend = 0),
              (this.type = DRAW_MODES.TRIANGLES),
              (this.start = 0),
              (this.size = 0),
              (this.data = null);
          }),
          UID$4 = 0,
          Buffer = (function () {
            function e(t) {
              var r =
                  !(arguments.length > 1 && void 0 !== arguments[1]) ||
                  arguments[1],
                n =
                  arguments.length > 2 &&
                  void 0 !== arguments[2] &&
                  arguments[2];
              _classCallCheck(this, e),
                (this.data = t || new Float32Array(1)),
                (this._glBuffers = {}),
                (this._updateID = 0),
                (this.index = n),
                (this.static = r),
                (this.id = UID$4++),
                (this.disposeRunner = new Runner("disposeBuffer"));
            }
            return (
              _createClass(
                e,
                [
                  {
                    key: "update",
                    value: function (e) {
                      e instanceof Array && (e = new Float32Array(e)),
                        (this.data = e || this.data),
                        this._updateID++;
                    }
                  },
                  {
                    key: "dispose",
                    value: function () {
                      this.disposeRunner.emit(this, !1);
                    }
                  },
                  {
                    key: "destroy",
                    value: function () {
                      this.dispose(), (this.data = null);
                    }
                  },
                  {
                    key: "index",
                    get: function () {
                      return this.type === BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;
                    },
                    set: function (e) {
                      this.type = e
                        ? BUFFER_TYPE.ELEMENT_ARRAY_BUFFER
                        : BUFFER_TYPE.ARRAY_BUFFER;
                    }
                  }
                ],
                [
                  {
                    key: "from",
                    value: function (t) {
                      return (
                        t instanceof Array && (t = new Float32Array(t)),
                        new e(t)
                      );
                    }
                  }
                ]
              ),
              e
            );
          })(),
          Attribute = (function () {
            function e(t) {
              var r =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : 0,
                n =
                  arguments.length > 2 &&
                  void 0 !== arguments[2] &&
                  arguments[2],
                i =
                  arguments.length > 3 && void 0 !== arguments[3]
                    ? arguments[3]
                    : TYPES.FLOAT,
                a = arguments.length > 4 ? arguments[4] : void 0,
                s = arguments.length > 5 ? arguments[5] : void 0,
                o = arguments.length > 6 ? arguments[6] : void 0,
                u =
                  arguments.length > 7 && void 0 !== arguments[7]
                    ? arguments[7]
                    : 1;
              _classCallCheck(this, e),
                (this.buffer = t),
                (this.size = r),
                (this.normalized = n),
                (this.type = i),
                (this.stride = a),
                (this.start = s),
                (this.instance = o),
                (this.divisor = u);
            }
            return (
              _createClass(
                e,
                [
                  {
                    key: "destroy",
                    value: function () {
                      this.buffer = null;
                    }
                  }
                ],
                [
                  {
                    key: "from",
                    value: function (t, r, n, i, a) {
                      return new e(t, r, n, i, a);
                    }
                  }
                ]
              ),
              e
            );
          })(),
          map$1 = {
            Float32Array: Float32Array,
            Uint32Array: Uint32Array,
            Int32Array: Int32Array,
            Uint8Array: Uint8Array
          };
        function interleaveTypedArrays(e, t) {
          for (var r = 0, n = 0, i = {}, a = 0; a < e.length; a++)
            (n += t[a]), (r += e[a].length);
          for (
            var s = new ArrayBuffer(4 * r), o = null, u = 0, l = 0;
            l < e.length;
            l++
          ) {
            var c = t[l],
              h = e[l],
              f = getBufferType(h);
            i[f] || (i[f] = new map$1[f](s)), (o = i[f]);
            for (var d = 0; d < h.length; d++) {
              o[((d / c) | 0) * n + u + (d % c)] = h[d];
            }
            u += c;
          }
          return new Float32Array(s);
        }
        var byteSizeMap$1 = { 5126: 4, 5123: 2, 5121: 1 },
          UID$3 = 0,
          map = {
            Float32Array: Float32Array,
            Uint32Array: Uint32Array,
            Int32Array: Int32Array,
            Uint8Array: Uint8Array,
            Uint16Array: Uint16Array
          },
          Geometry = (function () {
            function e() {
              var t =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : [],
                r =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : {};
              _classCallCheck(this, e),
                (this.buffers = t),
                (this.indexBuffer = null),
                (this.attributes = r),
                (this.glVertexArrayObjects = {}),
                (this.id = UID$3++),
                (this.instanced = !1),
                (this.instanceCount = 1),
                (this.disposeRunner = new Runner("disposeGeometry")),
                (this.refCount = 0);
            }
            return (
              _createClass(
                e,
                [
                  {
                    key: "addAttribute",
                    value: function (e, t) {
                      var r =
                          arguments.length > 2 && void 0 !== arguments[2]
                            ? arguments[2]
                            : 0,
                        n =
                          arguments.length > 3 &&
                          void 0 !== arguments[3] &&
                          arguments[3],
                        i = arguments.length > 4 ? arguments[4] : void 0,
                        a = arguments.length > 5 ? arguments[5] : void 0,
                        s = arguments.length > 6 ? arguments[6] : void 0,
                        o =
                          arguments.length > 7 &&
                          void 0 !== arguments[7] &&
                          arguments[7];
                      if (!t)
                        throw new Error(
                          "You must pass a buffer when creating an attribute"
                        );
                      t instanceof Buffer ||
                        (t instanceof Array && (t = new Float32Array(t)),
                        (t = new Buffer(t)));
                      var u = e.split("|");
                      if (u.length > 1) {
                        for (var l = 0; l < u.length; l++)
                          this.addAttribute(u[l], t, r, n, i);
                        return this;
                      }
                      var c = this.buffers.indexOf(t);
                      return (
                        -1 === c &&
                          (this.buffers.push(t), (c = this.buffers.length - 1)),
                        (this.attributes[e] = new Attribute(
                          c,
                          r,
                          n,
                          i,
                          a,
                          s,
                          o
                        )),
                        (this.instanced = this.instanced || o),
                        this
                      );
                    }
                  },
                  {
                    key: "getAttribute",
                    value: function (e) {
                      return this.attributes[e];
                    }
                  },
                  {
                    key: "getBuffer",
                    value: function (e) {
                      return this.buffers[this.getAttribute(e).buffer];
                    }
                  },
                  {
                    key: "addIndex",
                    value: function (e) {
                      return (
                        e instanceof Buffer ||
                          (e instanceof Array && (e = new Uint16Array(e)),
                          (e = new Buffer(e))),
                        (e.type = BUFFER_TYPE.ELEMENT_ARRAY_BUFFER),
                        (this.indexBuffer = e),
                        this.buffers.includes(e) || this.buffers.push(e),
                        this
                      );
                    }
                  },
                  {
                    key: "getIndex",
                    value: function () {
                      return this.indexBuffer;
                    }
                  },
                  {
                    key: "interleave",
                    value: function () {
                      if (
                        1 === this.buffers.length ||
                        (2 === this.buffers.length && this.indexBuffer)
                      )
                        return this;
                      var e,
                        t = [],
                        r = [],
                        n = new Buffer();
                      for (e in this.attributes) {
                        var i = this.attributes[e],
                          a = this.buffers[i.buffer];
                        t.push(a.data),
                          r.push((i.size * byteSizeMap$1[i.type]) / 4),
                          (i.buffer = 0);
                      }
                      for (
                        n.data = interleaveTypedArrays(t, r), e = 0;
                        e < this.buffers.length;
                        e++
                      )
                        this.buffers[e] !== this.indexBuffer &&
                          this.buffers[e].destroy();
                      return (
                        (this.buffers = [n]),
                        this.indexBuffer && this.buffers.push(this.indexBuffer),
                        this
                      );
                    }
                  },
                  {
                    key: "getSize",
                    value: function () {
                      for (var e in this.attributes) {
                        var t = this.attributes[e];
                        return (
                          this.buffers[t.buffer].data.length /
                          (t.stride / 4 || t.size)
                        );
                      }
                      return 0;
                    }
                  },
                  {
                    key: "dispose",
                    value: function () {
                      this.disposeRunner.emit(this, !1);
                    }
                  },
                  {
                    key: "destroy",
                    value: function () {
                      this.dispose(),
                        (this.buffers = null),
                        (this.indexBuffer = null),
                        (this.attributes = null);
                    }
                  },
                  {
                    key: "clone",
                    value: function () {
                      for (var t = new e(), r = 0; r < this.buffers.length; r++)
                        t.buffers[r] = new Buffer(
                          this.buffers[r].data.slice(0)
                        );
                      for (var n in this.attributes) {
                        var i = this.attributes[n];
                        t.attributes[n] = new Attribute(
                          i.buffer,
                          i.size,
                          i.normalized,
                          i.type,
                          i.stride,
                          i.start,
                          i.instance
                        );
                      }
                      return (
                        this.indexBuffer &&
                          ((t.indexBuffer =
                            t.buffers[this.buffers.indexOf(this.indexBuffer)]),
                          (t.indexBuffer.type =
                            BUFFER_TYPE.ELEMENT_ARRAY_BUFFER)),
                        t
                      );
                    }
                  }
                ],
                [
                  {
                    key: "merge",
                    value: function (t) {
                      for (
                        var r, n = new e(), i = [], a = [], s = [], o = 0;
                        o < t.length;
                        o++
                      ) {
                        r = t[o];
                        for (var u = 0; u < r.buffers.length; u++)
                          (a[u] = a[u] || 0),
                            (a[u] += r.buffers[u].data.length),
                            (s[u] = 0);
                      }
                      for (var l = 0; l < r.buffers.length; l++)
                        (i[l] = new map[getBufferType(r.buffers[l].data)](
                          a[l]
                        )),
                          (n.buffers[l] = new Buffer(i[l]));
                      for (var c = 0; c < t.length; c++) {
                        r = t[c];
                        for (var h = 0; h < r.buffers.length; h++)
                          i[h].set(r.buffers[h].data, s[h]),
                            (s[h] += r.buffers[h].data.length);
                      }
                      if (((n.attributes = r.attributes), r.indexBuffer)) {
                        (n.indexBuffer =
                          n.buffers[r.buffers.indexOf(r.indexBuffer)]),
                          (n.indexBuffer.type =
                            BUFFER_TYPE.ELEMENT_ARRAY_BUFFER);
                        for (
                          var f = 0, d = 0, p = 0, _ = 0, v = 0;
                          v < r.buffers.length;
                          v++
                        )
                          if (r.buffers[v] !== r.indexBuffer) {
                            _ = v;
                            break;
                          }
                        for (var m in r.attributes) {
                          var g = r.attributes[m];
                          (0 | g.buffer) === _ &&
                            (d += (g.size * byteSizeMap$1[g.type]) / 4);
                        }
                        for (var y = 0; y < t.length; y++) {
                          for (
                            var T = t[y].indexBuffer.data, x = 0;
                            x < T.length;
                            x++
                          )
                            n.indexBuffer.data[x + p] += f;
                          (f += t[y].buffers[_].data.length / d),
                            (p += T.length);
                        }
                      }
                      return n;
                    }
                  }
                ]
              ),
              e
            );
          })(),
          BatchGeometry = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r() {
              var e,
                n =
                  arguments.length > 0 &&
                  void 0 !== arguments[0] &&
                  arguments[0];
              return (
                _classCallCheck(this, r),
                ((e = t.call(this))._buffer = new Buffer(null, n, !1)),
                (e._indexBuffer = new Buffer(null, n, !0)),
                e
                  .addAttribute(
                    "aVertexPosition",
                    e._buffer,
                    2,
                    !1,
                    TYPES.FLOAT
                  )
                  .addAttribute("aTextureCoord", e._buffer, 2, !1, TYPES.FLOAT)
                  .addAttribute("aColor", e._buffer, 4, !0, TYPES.UNSIGNED_BYTE)
                  .addAttribute("aTextureId", e._buffer, 1, !0, TYPES.FLOAT)
                  .addIndex(e._indexBuffer),
                e
              );
            }
            return _createClass(r);
          })(Geometry),
          PI_2 = 2 * Math.PI,
          RAD_TO_DEG = 180 / Math.PI,
          DEG_TO_RAD = Math.PI / 180,
          SHAPES = (function (e) {
            return (
              (e[(e.POLY = 0)] = "POLY"),
              (e[(e.RECT = 1)] = "RECT"),
              (e[(e.CIRC = 2)] = "CIRC"),
              (e[(e.ELIP = 3)] = "ELIP"),
              (e[(e.RREC = 4)] = "RREC"),
              e
            );
          })(SHAPES || {}),
          Point = (function () {
            function e() {
              var t =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : 0,
                r =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : 0;
              _classCallCheck(this, e),
                (this.x = 0),
                (this.y = 0),
                (this.x = t),
                (this.y = r);
            }
            return (
              _createClass(e, [
                {
                  key: "clone",
                  value: function () {
                    return new e(this.x, this.y);
                  }
                },
                {
                  key: "copyFrom",
                  value: function (e) {
                    return this.set(e.x, e.y), this;
                  }
                },
                {
                  key: "copyTo",
                  value: function (e) {
                    return e.set(this.x, this.y), e;
                  }
                },
                {
                  key: "equals",
                  value: function (e) {
                    return e.x === this.x && e.y === this.y;
                  }
                },
                {
                  key: "set",
                  value: function () {
                    var e =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : 0,
                      t =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : e;
                    return (this.x = e), (this.y = t), this;
                  }
                },
                {
                  key: "toString",
                  value: function () {
                    return "[@pixi/math:Point x="
                      .concat(this.x, " y=")
                      .concat(this.y, "]");
                  }
                }
              ]),
              e
            );
          })(),
          tempPoints$1 = [new Point(), new Point(), new Point(), new Point()],
          Rectangle = (function () {
            function e() {
              var t =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : 0,
                r =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : 0,
                n =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : 0,
                i =
                  arguments.length > 3 && void 0 !== arguments[3]
                    ? arguments[3]
                    : 0;
              _classCallCheck(this, e),
                (this.x = Number(t)),
                (this.y = Number(r)),
                (this.width = Number(n)),
                (this.height = Number(i)),
                (this.type = SHAPES.RECT);
            }
            return (
              _createClass(
                e,
                [
                  {
                    key: "left",
                    get: function () {
                      return this.x;
                    }
                  },
                  {
                    key: "right",
                    get: function () {
                      return this.x + this.width;
                    }
                  },
                  {
                    key: "top",
                    get: function () {
                      return this.y;
                    }
                  },
                  {
                    key: "bottom",
                    get: function () {
                      return this.y + this.height;
                    }
                  },
                  {
                    key: "clone",
                    value: function () {
                      return new e(this.x, this.y, this.width, this.height);
                    }
                  },
                  {
                    key: "copyFrom",
                    value: function (e) {
                      return (
                        (this.x = e.x),
                        (this.y = e.y),
                        (this.width = e.width),
                        (this.height = e.height),
                        this
                      );
                    }
                  },
                  {
                    key: "copyTo",
                    value: function (e) {
                      return (
                        (e.x = this.x),
                        (e.y = this.y),
                        (e.width = this.width),
                        (e.height = this.height),
                        e
                      );
                    }
                  },
                  {
                    key: "contains",
                    value: function (e, t) {
                      return (
                        !(this.width <= 0 || this.height <= 0) &&
                        e >= this.x &&
                        e < this.x + this.width &&
                        t >= this.y &&
                        t < this.y + this.height
                      );
                    }
                  },
                  {
                    key: "intersects",
                    value: function (e, t) {
                      if (!t) {
                        var r = this.x < e.x ? e.x : this.x;
                        if ((this.right > e.right ? e.right : this.right) <= r)
                          return !1;
                        var n = this.y < e.y ? e.y : this.y;
                        return (
                          (this.bottom > e.bottom ? e.bottom : this.bottom) > n
                        );
                      }
                      var i = this.left,
                        a = this.right,
                        s = this.top,
                        o = this.bottom;
                      if (a <= i || o <= s) return !1;
                      var u = tempPoints$1[0].set(e.left, e.top),
                        l = tempPoints$1[1].set(e.left, e.bottom),
                        c = tempPoints$1[2].set(e.right, e.top),
                        h = tempPoints$1[3].set(e.right, e.bottom);
                      if (c.x <= u.x || l.y <= u.y) return !1;
                      var f = Math.sign(t.a * t.d - t.b * t.c);
                      if (0 === f) return !1;
                      if (
                        (t.apply(u, u),
                        t.apply(l, l),
                        t.apply(c, c),
                        t.apply(h, h),
                        Math.max(u.x, l.x, c.x, h.x) <= i ||
                          Math.min(u.x, l.x, c.x, h.x) >= a ||
                          Math.max(u.y, l.y, c.y, h.y) <= s ||
                          Math.min(u.y, l.y, c.y, h.y) >= o)
                      )
                        return !1;
                      var d = f * (l.y - u.y),
                        p = f * (u.x - l.x),
                        _ = d * i + p * s,
                        v = d * a + p * s,
                        m = d * i + p * o,
                        g = d * a + p * o;
                      if (
                        Math.max(_, v, m, g) <= d * u.x + p * u.y ||
                        Math.min(_, v, m, g) >= d * h.x + p * h.y
                      )
                        return !1;
                      var y = f * (u.y - c.y),
                        T = f * (c.x - u.x),
                        x = y * i + T * s,
                        E = y * a + T * s,
                        b = y * i + T * o,
                        S = y * a + T * o;
                      return !(
                        Math.max(x, E, b, S) <= y * u.x + T * u.y ||
                        Math.min(x, E, b, S) >= y * h.x + T * h.y
                      );
                    }
                  },
                  {
                    key: "pad",
                    value: function () {
                      var e =
                          arguments.length > 0 && void 0 !== arguments[0]
                            ? arguments[0]
                            : 0,
                        t =
                          arguments.length > 1 && void 0 !== arguments[1]
                            ? arguments[1]
                            : e;
                      return (
                        (this.x -= e),
                        (this.y -= t),
                        (this.width += 2 * e),
                        (this.height += 2 * t),
                        this
                      );
                    }
                  },
                  {
                    key: "fit",
                    value: function (e) {
                      var t = Math.max(this.x, e.x),
                        r = Math.min(this.x + this.width, e.x + e.width),
                        n = Math.max(this.y, e.y),
                        i = Math.min(this.y + this.height, e.y + e.height);
                      return (
                        (this.x = t),
                        (this.width = Math.max(r - t, 0)),
                        (this.y = n),
                        (this.height = Math.max(i - n, 0)),
                        this
                      );
                    }
                  },
                  {
                    key: "ceil",
                    value: function () {
                      var e =
                          arguments.length > 0 && void 0 !== arguments[0]
                            ? arguments[0]
                            : 1,
                        t =
                          arguments.length > 1 && void 0 !== arguments[1]
                            ? arguments[1]
                            : 0.001,
                        r = Math.ceil((this.x + this.width - t) * e) / e,
                        n = Math.ceil((this.y + this.height - t) * e) / e;
                      return (
                        (this.x = Math.floor((this.x + t) * e) / e),
                        (this.y = Math.floor((this.y + t) * e) / e),
                        (this.width = r - this.x),
                        (this.height = n - this.y),
                        this
                      );
                    }
                  },
                  {
                    key: "enlarge",
                    value: function (e) {
                      var t = Math.min(this.x, e.x),
                        r = Math.max(this.x + this.width, e.x + e.width),
                        n = Math.min(this.y, e.y),
                        i = Math.max(this.y + this.height, e.y + e.height);
                      return (
                        (this.x = t),
                        (this.width = r - t),
                        (this.y = n),
                        (this.height = i - n),
                        this
                      );
                    }
                  },
                  {
                    key: "toString",
                    value: function () {
                      return "[@pixi/math:Rectangle x="
                        .concat(this.x, " y=")
                        .concat(this.y, " width=")
                        .concat(this.width, " height=")
                        .concat(this.height, "]");
                    }
                  }
                ],
                [
                  {
                    key: "EMPTY",
                    get: function () {
                      return new e(0, 0, 0, 0);
                    }
                  }
                ]
              ),
              e
            );
          })(),
          Circle = (function () {
            function e() {
              var t =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : 0,
                r =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : 0,
                n =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : 0;
              _classCallCheck(this, e),
                (this.x = t),
                (this.y = r),
                (this.radius = n),
                (this.type = SHAPES.CIRC);
            }
            return (
              _createClass(e, [
                {
                  key: "clone",
                  value: function () {
                    return new e(this.x, this.y, this.radius);
                  }
                },
                {
                  key: "contains",
                  value: function (e, t) {
                    if (this.radius <= 0) return !1;
                    var r = this.radius * this.radius,
                      n = this.x - e,
                      i = this.y - t;
                    return (n *= n) + (i *= i) <= r;
                  }
                },
                {
                  key: "getBounds",
                  value: function () {
                    return new Rectangle(
                      this.x - this.radius,
                      this.y - this.radius,
                      2 * this.radius,
                      2 * this.radius
                    );
                  }
                },
                {
                  key: "toString",
                  value: function () {
                    return "[@pixi/math:Circle x="
                      .concat(this.x, " y=")
                      .concat(this.y, " radius=")
                      .concat(this.radius, "]");
                  }
                }
              ]),
              e
            );
          })(),
          Ellipse = (function () {
            function e() {
              var t =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : 0,
                r =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : 0,
                n =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : 0,
                i =
                  arguments.length > 3 && void 0 !== arguments[3]
                    ? arguments[3]
                    : 0;
              _classCallCheck(this, e),
                (this.x = t),
                (this.y = r),
                (this.width = n),
                (this.height = i),
                (this.type = SHAPES.ELIP);
            }
            return (
              _createClass(e, [
                {
                  key: "clone",
                  value: function () {
                    return new e(this.x, this.y, this.width, this.height);
                  }
                },
                {
                  key: "contains",
                  value: function (e, t) {
                    if (this.width <= 0 || this.height <= 0) return !1;
                    var r = (e - this.x) / this.width,
                      n = (t - this.y) / this.height;
                    return (r *= r) + (n *= n) <= 1;
                  }
                },
                {
                  key: "getBounds",
                  value: function () {
                    return new Rectangle(
                      this.x - this.width,
                      this.y - this.height,
                      this.width,
                      this.height
                    );
                  }
                },
                {
                  key: "toString",
                  value: function () {
                    return "[@pixi/math:Ellipse x="
                      .concat(this.x, " y=")
                      .concat(this.y, " width=")
                      .concat(this.width, " height=")
                      .concat(this.height, "]");
                  }
                }
              ]),
              e
            );
          })(),
          Polygon = (function () {
            function e() {
              _classCallCheck(this, e);
              for (
                var t = arguments.length, r = new Array(t), n = 0;
                n < t;
                n++
              )
                r[n] = arguments[n];
              var i = Array.isArray(r[0]) ? r[0] : r;
              if ("number" != typeof i[0]) {
                for (var a = [], s = 0, o = i.length; s < o; s++)
                  a.push(i[s].x, i[s].y);
                i = a;
              }
              (this.points = i),
                (this.type = SHAPES.POLY),
                (this.closeStroke = !0);
            }
            return (
              _createClass(e, [
                {
                  key: "clone",
                  value: function () {
                    var t = new e(this.points.slice());
                    return (t.closeStroke = this.closeStroke), t;
                  }
                },
                {
                  key: "contains",
                  value: function (e, t) {
                    for (
                      var r = !1, n = this.points.length / 2, i = 0, a = n - 1;
                      i < n;
                      a = i++
                    ) {
                      var s = this.points[2 * i],
                        o = this.points[2 * i + 1],
                        u = this.points[2 * a],
                        l = this.points[2 * a + 1];
                      o > t != l > t &&
                        e < ((t - o) / (l - o)) * (u - s) + s &&
                        (r = !r);
                    }
                    return r;
                  }
                },
                {
                  key: "toString",
                  value: function () {
                    return "[@pixi/math:PolygoncloseStroke="
                      .concat(this.closeStroke, "points=")
                      .concat(
                        this.points.reduce(function (e, t) {
                          return "".concat(e, ", ").concat(t);
                        }, ""),
                        "]"
                      );
                  }
                }
              ]),
              e
            );
          })(),
          RoundedRectangle = (function () {
            function e() {
              var t =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : 0,
                r =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : 0,
                n =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : 0,
                i =
                  arguments.length > 3 && void 0 !== arguments[3]
                    ? arguments[3]
                    : 0,
                a =
                  arguments.length > 4 && void 0 !== arguments[4]
                    ? arguments[4]
                    : 20;
              _classCallCheck(this, e),
                (this.x = t),
                (this.y = r),
                (this.width = n),
                (this.height = i),
                (this.radius = a),
                (this.type = SHAPES.RREC);
            }
            return (
              _createClass(e, [
                {
                  key: "clone",
                  value: function () {
                    return new e(
                      this.x,
                      this.y,
                      this.width,
                      this.height,
                      this.radius
                    );
                  }
                },
                {
                  key: "contains",
                  value: function (e, t) {
                    if (this.width <= 0 || this.height <= 0) return !1;
                    if (
                      e >= this.x &&
                      e <= this.x + this.width &&
                      t >= this.y &&
                      t <= this.y + this.height
                    ) {
                      var r = Math.max(
                        0,
                        Math.min(
                          this.radius,
                          Math.min(this.width, this.height) / 2
                        )
                      );
                      if (
                        (t >= this.y + r && t <= this.y + this.height - r) ||
                        (e >= this.x + r && e <= this.x + this.width - r)
                      )
                        return !0;
                      var n = e - (this.x + r),
                        i = t - (this.y + r),
                        a = r * r;
                      if (n * n + i * i <= a) return !0;
                      if ((n = e - (this.x + this.width - r)) * n + i * i <= a)
                        return !0;
                      if (n * n + (i = t - (this.y + this.height - r)) * i <= a)
                        return !0;
                      if ((n = e - (this.x + r)) * n + i * i <= a) return !0;
                    }
                    return !1;
                  }
                },
                {
                  key: "toString",
                  value: function () {
                    return "[@pixi/math:RoundedRectangle x="
                      .concat(this.x, " y=")
                      .concat(this.y, "width=")
                      .concat(this.width, " height=")
                      .concat(this.height, " radius=")
                      .concat(this.radius, "]");
                  }
                }
              ]),
              e
            );
          })(),
          Matrix = (function () {
            function e() {
              var t =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : 1,
                r =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : 0,
                n =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : 0,
                i =
                  arguments.length > 3 && void 0 !== arguments[3]
                    ? arguments[3]
                    : 1,
                a =
                  arguments.length > 4 && void 0 !== arguments[4]
                    ? arguments[4]
                    : 0,
                s =
                  arguments.length > 5 && void 0 !== arguments[5]
                    ? arguments[5]
                    : 0;
              _classCallCheck(this, e),
                (this.array = null),
                (this.a = t),
                (this.b = r),
                (this.c = n),
                (this.d = i),
                (this.tx = a),
                (this.ty = s);
            }
            return (
              _createClass(
                e,
                [
                  {
                    key: "fromArray",
                    value: function (e) {
                      (this.a = e[0]),
                        (this.b = e[1]),
                        (this.c = e[3]),
                        (this.d = e[4]),
                        (this.tx = e[2]),
                        (this.ty = e[5]);
                    }
                  },
                  {
                    key: "set",
                    value: function (e, t, r, n, i, a) {
                      return (
                        (this.a = e),
                        (this.b = t),
                        (this.c = r),
                        (this.d = n),
                        (this.tx = i),
                        (this.ty = a),
                        this
                      );
                    }
                  },
                  {
                    key: "toArray",
                    value: function (e, t) {
                      this.array || (this.array = new Float32Array(9));
                      var r = t || this.array;
                      return (
                        e
                          ? ((r[0] = this.a),
                            (r[1] = this.b),
                            (r[2] = 0),
                            (r[3] = this.c),
                            (r[4] = this.d),
                            (r[5] = 0),
                            (r[6] = this.tx),
                            (r[7] = this.ty),
                            (r[8] = 1))
                          : ((r[0] = this.a),
                            (r[1] = this.c),
                            (r[2] = this.tx),
                            (r[3] = this.b),
                            (r[4] = this.d),
                            (r[5] = this.ty),
                            (r[6] = 0),
                            (r[7] = 0),
                            (r[8] = 1)),
                        r
                      );
                    }
                  },
                  {
                    key: "apply",
                    value: function (e, t) {
                      t = t || new Point();
                      var r = e.x,
                        n = e.y;
                      return (
                        (t.x = this.a * r + this.c * n + this.tx),
                        (t.y = this.b * r + this.d * n + this.ty),
                        t
                      );
                    }
                  },
                  {
                    key: "applyInverse",
                    value: function (e, t) {
                      t = t || new Point();
                      var r = 1 / (this.a * this.d + this.c * -this.b),
                        n = e.x,
                        i = e.y;
                      return (
                        (t.x =
                          this.d * r * n +
                          -this.c * r * i +
                          (this.ty * this.c - this.tx * this.d) * r),
                        (t.y =
                          this.a * r * i +
                          -this.b * r * n +
                          (-this.ty * this.a + this.tx * this.b) * r),
                        t
                      );
                    }
                  },
                  {
                    key: "translate",
                    value: function (e, t) {
                      return (this.tx += e), (this.ty += t), this;
                    }
                  },
                  {
                    key: "scale",
                    value: function (e, t) {
                      return (
                        (this.a *= e),
                        (this.d *= t),
                        (this.c *= e),
                        (this.b *= t),
                        (this.tx *= e),
                        (this.ty *= t),
                        this
                      );
                    }
                  },
                  {
                    key: "rotate",
                    value: function (e) {
                      var t = Math.cos(e),
                        r = Math.sin(e),
                        n = this.a,
                        i = this.c,
                        a = this.tx;
                      return (
                        (this.a = n * t - this.b * r),
                        (this.b = n * r + this.b * t),
                        (this.c = i * t - this.d * r),
                        (this.d = i * r + this.d * t),
                        (this.tx = a * t - this.ty * r),
                        (this.ty = a * r + this.ty * t),
                        this
                      );
                    }
                  },
                  {
                    key: "append",
                    value: function (e) {
                      var t = this.a,
                        r = this.b,
                        n = this.c,
                        i = this.d;
                      return (
                        (this.a = e.a * t + e.b * n),
                        (this.b = e.a * r + e.b * i),
                        (this.c = e.c * t + e.d * n),
                        (this.d = e.c * r + e.d * i),
                        (this.tx = e.tx * t + e.ty * n + this.tx),
                        (this.ty = e.tx * r + e.ty * i + this.ty),
                        this
                      );
                    }
                  },
                  {
                    key: "setTransform",
                    value: function (e, t, r, n, i, a, s, o, u) {
                      return (
                        (this.a = Math.cos(s + u) * i),
                        (this.b = Math.sin(s + u) * i),
                        (this.c = -Math.sin(s - o) * a),
                        (this.d = Math.cos(s - o) * a),
                        (this.tx = e - (r * this.a + n * this.c)),
                        (this.ty = t - (r * this.b + n * this.d)),
                        this
                      );
                    }
                  },
                  {
                    key: "prepend",
                    value: function (e) {
                      var t = this.tx;
                      if (1 !== e.a || 0 !== e.b || 0 !== e.c || 1 !== e.d) {
                        var r = this.a,
                          n = this.c;
                        (this.a = r * e.a + this.b * e.c),
                          (this.b = r * e.b + this.b * e.d),
                          (this.c = n * e.a + this.d * e.c),
                          (this.d = n * e.b + this.d * e.d);
                      }
                      return (
                        (this.tx = t * e.a + this.ty * e.c + e.tx),
                        (this.ty = t * e.b + this.ty * e.d + e.ty),
                        this
                      );
                    }
                  },
                  {
                    key: "decompose",
                    value: function (e) {
                      var t = this.a,
                        r = this.b,
                        n = this.c,
                        i = this.d,
                        a = e.pivot,
                        s = -Math.atan2(-n, i),
                        o = Math.atan2(r, t),
                        u = Math.abs(s + o);
                      return (
                        u < 1e-5 || Math.abs(PI_2 - u) < 1e-5
                          ? ((e.rotation = o), (e.skew.x = e.skew.y = 0))
                          : ((e.rotation = 0), (e.skew.x = s), (e.skew.y = o)),
                        (e.scale.x = Math.sqrt(t * t + r * r)),
                        (e.scale.y = Math.sqrt(n * n + i * i)),
                        (e.position.x = this.tx + (a.x * t + a.y * n)),
                        (e.position.y = this.ty + (a.x * r + a.y * i)),
                        e
                      );
                    }
                  },
                  {
                    key: "invert",
                    value: function () {
                      var e = this.a,
                        t = this.b,
                        r = this.c,
                        n = this.d,
                        i = this.tx,
                        a = e * n - t * r;
                      return (
                        (this.a = n / a),
                        (this.b = -t / a),
                        (this.c = -r / a),
                        (this.d = e / a),
                        (this.tx = (r * this.ty - n * i) / a),
                        (this.ty = -(e * this.ty - t * i) / a),
                        this
                      );
                    }
                  },
                  {
                    key: "identity",
                    value: function () {
                      return (
                        (this.a = 1),
                        (this.b = 0),
                        (this.c = 0),
                        (this.d = 1),
                        (this.tx = 0),
                        (this.ty = 0),
                        this
                      );
                    }
                  },
                  {
                    key: "clone",
                    value: function () {
                      var t = new e();
                      return (
                        (t.a = this.a),
                        (t.b = this.b),
                        (t.c = this.c),
                        (t.d = this.d),
                        (t.tx = this.tx),
                        (t.ty = this.ty),
                        t
                      );
                    }
                  },
                  {
                    key: "copyTo",
                    value: function (e) {
                      return (
                        (e.a = this.a),
                        (e.b = this.b),
                        (e.c = this.c),
                        (e.d = this.d),
                        (e.tx = this.tx),
                        (e.ty = this.ty),
                        e
                      );
                    }
                  },
                  {
                    key: "copyFrom",
                    value: function (e) {
                      return (
                        (this.a = e.a),
                        (this.b = e.b),
                        (this.c = e.c),
                        (this.d = e.d),
                        (this.tx = e.tx),
                        (this.ty = e.ty),
                        this
                      );
                    }
                  },
                  {
                    key: "toString",
                    value: function () {
                      return "[@pixi/math:Matrix a="
                        .concat(this.a, " b=")
                        .concat(this.b, " c=")
                        .concat(this.c, " d=")
                        .concat(this.d, " tx=")
                        .concat(this.tx, " ty=")
                        .concat(this.ty, "]");
                    }
                  }
                ],
                [
                  {
                    key: "IDENTITY",
                    get: function () {
                      return new e();
                    }
                  },
                  {
                    key: "TEMP_MATRIX",
                    get: function () {
                      return new e();
                    }
                  }
                ]
              ),
              e
            );
          })(),
          ux = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1],
          uy = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1],
          vx = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1],
          vy = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1],
          rotationCayley = [],
          rotationMatrices = [],
          signum = Math.sign;
        function init() {
          for (var e = 0; e < 16; e++) {
            var t = [];
            rotationCayley.push(t);
            for (var r = 0; r < 16; r++)
              for (
                var n = signum(ux[e] * ux[r] + vx[e] * uy[r]),
                  i = signum(uy[e] * ux[r] + vy[e] * uy[r]),
                  a = signum(ux[e] * vx[r] + vx[e] * vy[r]),
                  s = signum(uy[e] * vx[r] + vy[e] * vy[r]),
                  o = 0;
                o < 16;
                o++
              )
                if (ux[o] === n && uy[o] === i && vx[o] === a && vy[o] === s) {
                  t.push(o);
                  break;
                }
          }
          for (var u = 0; u < 16; u++) {
            var l = new Matrix();
            l.set(ux[u], uy[u], vx[u], vy[u], 0, 0), rotationMatrices.push(l);
          }
        }
        init();
        var groupD8 = {
            E: 0,
            SE: 1,
            S: 2,
            SW: 3,
            W: 4,
            NW: 5,
            N: 6,
            NE: 7,
            MIRROR_VERTICAL: 8,
            MAIN_DIAGONAL: 10,
            MIRROR_HORIZONTAL: 12,
            REVERSE_DIAGONAL: 14,
            uX: function (e) {
              return ux[e];
            },
            uY: function (e) {
              return uy[e];
            },
            vX: function (e) {
              return vx[e];
            },
            vY: function (e) {
              return vy[e];
            },
            inv: function (e) {
              return 8 & e ? 15 & e : 7 & -e;
            },
            add: function (e, t) {
              return rotationCayley[e][t];
            },
            sub: function (e, t) {
              return rotationCayley[e][groupD8.inv(t)];
            },
            rotate180: function (e) {
              return 4 ^ e;
            },
            isVertical: function (e) {
              return 2 == (3 & e);
            },
            byDirection: function (e, t) {
              return 2 * Math.abs(e) <= Math.abs(t)
                ? t >= 0
                  ? groupD8.S
                  : groupD8.N
                : 2 * Math.abs(t) <= Math.abs(e)
                ? e > 0
                  ? groupD8.E
                  : groupD8.W
                : t > 0
                ? e > 0
                  ? groupD8.SE
                  : groupD8.SW
                : e > 0
                ? groupD8.NE
                : groupD8.NW;
            },
            matrixAppendRotationInv: function (e, t) {
              var r =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : 0,
                n =
                  arguments.length > 3 && void 0 !== arguments[3]
                    ? arguments[3]
                    : 0,
                i = rotationMatrices[groupD8.inv(t)];
              (i.tx = r), (i.ty = n), e.append(i);
            }
          },
          ObservablePoint = (function () {
            function e(t, r) {
              var n =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : 0,
                i =
                  arguments.length > 3 && void 0 !== arguments[3]
                    ? arguments[3]
                    : 0;
              _classCallCheck(this, e),
                (this._x = n),
                (this._y = i),
                (this.cb = t),
                (this.scope = r);
            }
            return (
              _createClass(e, [
                {
                  key: "clone",
                  value: function () {
                    return new e(
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : this.cb,
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : this.scope,
                      this._x,
                      this._y
                    );
                  }
                },
                {
                  key: "set",
                  value: function () {
                    var e =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : 0,
                      t =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : e;
                    return (
                      (this._x === e && this._y === t) ||
                        ((this._x = e),
                        (this._y = t),
                        this.cb.call(this.scope)),
                      this
                    );
                  }
                },
                {
                  key: "copyFrom",
                  value: function (e) {
                    return (
                      (this._x === e.x && this._y === e.y) ||
                        ((this._x = e.x),
                        (this._y = e.y),
                        this.cb.call(this.scope)),
                      this
                    );
                  }
                },
                {
                  key: "copyTo",
                  value: function (e) {
                    return e.set(this._x, this._y), e;
                  }
                },
                {
                  key: "equals",
                  value: function (e) {
                    return e.x === this._x && e.y === this._y;
                  }
                },
                {
                  key: "toString",
                  value: function () {
                    return "[@pixi/math:ObservablePoint x=".concat(
                      0,
                      " y=",
                      0,
                      " scope=",
                      this.scope,
                      "]"
                    );
                  }
                },
                {
                  key: "x",
                  get: function () {
                    return this._x;
                  },
                  set: function (e) {
                    this._x !== e && ((this._x = e), this.cb.call(this.scope));
                  }
                },
                {
                  key: "y",
                  get: function () {
                    return this._y;
                  },
                  set: function (e) {
                    this._y !== e && ((this._y = e), this.cb.call(this.scope));
                  }
                }
              ]),
              e
            );
          })(),
          _Transform = (function () {
            function e() {
              _classCallCheck(this, e),
                (this.worldTransform = new Matrix()),
                (this.localTransform = new Matrix()),
                (this.position = new ObservablePoint(
                  this.onChange,
                  this,
                  0,
                  0
                )),
                (this.scale = new ObservablePoint(this.onChange, this, 1, 1)),
                (this.pivot = new ObservablePoint(this.onChange, this, 0, 0)),
                (this.skew = new ObservablePoint(this.updateSkew, this, 0, 0)),
                (this._rotation = 0),
                (this._cx = 1),
                (this._sx = 0),
                (this._cy = 0),
                (this._sy = 1),
                (this._localID = 0),
                (this._currentLocalID = 0),
                (this._worldID = 0),
                (this._parentID = 0);
            }
            return (
              _createClass(e, [
                {
                  key: "onChange",
                  value: function () {
                    this._localID++;
                  }
                },
                {
                  key: "updateSkew",
                  value: function () {
                    (this._cx = Math.cos(this._rotation + this.skew.y)),
                      (this._sx = Math.sin(this._rotation + this.skew.y)),
                      (this._cy = -Math.sin(this._rotation - this.skew.x)),
                      (this._sy = Math.cos(this._rotation - this.skew.x)),
                      this._localID++;
                  }
                },
                {
                  key: "toString",
                  value: function () {
                    return "[@pixi/math:Transform position=("
                      .concat(this.position.x, ", ")
                      .concat(this.position.y, ") rotation=")
                      .concat(this.rotation, " scale=(")
                      .concat(this.scale.x, ", ")
                      .concat(this.scale.y, ") skew=(")
                      .concat(this.skew.x, ", ")
                      .concat(this.skew.y, ") ]");
                  }
                },
                {
                  key: "updateLocalTransform",
                  value: function () {
                    var e = this.localTransform;
                    this._localID !== this._currentLocalID &&
                      ((e.a = this._cx * this.scale.x),
                      (e.b = this._sx * this.scale.x),
                      (e.c = this._cy * this.scale.y),
                      (e.d = this._sy * this.scale.y),
                      (e.tx =
                        this.position.x -
                        (this.pivot.x * e.a + this.pivot.y * e.c)),
                      (e.ty =
                        this.position.y -
                        (this.pivot.x * e.b + this.pivot.y * e.d)),
                      (this._currentLocalID = this._localID),
                      (this._parentID = -1));
                  }
                },
                {
                  key: "updateTransform",
                  value: function (e) {
                    var t = this.localTransform;
                    if (
                      (this._localID !== this._currentLocalID &&
                        ((t.a = this._cx * this.scale.x),
                        (t.b = this._sx * this.scale.x),
                        (t.c = this._cy * this.scale.y),
                        (t.d = this._sy * this.scale.y),
                        (t.tx =
                          this.position.x -
                          (this.pivot.x * t.a + this.pivot.y * t.c)),
                        (t.ty =
                          this.position.y -
                          (this.pivot.x * t.b + this.pivot.y * t.d)),
                        (this._currentLocalID = this._localID),
                        (this._parentID = -1)),
                      this._parentID !== e._worldID)
                    ) {
                      var r = e.worldTransform,
                        n = this.worldTransform;
                      (n.a = t.a * r.a + t.b * r.c),
                        (n.b = t.a * r.b + t.b * r.d),
                        (n.c = t.c * r.a + t.d * r.c),
                        (n.d = t.c * r.b + t.d * r.d),
                        (n.tx = t.tx * r.a + t.ty * r.c + r.tx),
                        (n.ty = t.tx * r.b + t.ty * r.d + r.ty),
                        (this._parentID = e._worldID),
                        this._worldID++;
                    }
                  }
                },
                {
                  key: "setFromMatrix",
                  value: function (e) {
                    e.decompose(this), this._localID++;
                  }
                },
                {
                  key: "rotation",
                  get: function () {
                    return this._rotation;
                  },
                  set: function (e) {
                    this._rotation !== e &&
                      ((this._rotation = e), this.updateSkew());
                  }
                }
              ]),
              e
            );
          })(),
          Transform = _Transform;
        Transform.IDENTITY = new _Transform();
        var defaultFragment$2 =
            "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}",
          defaultVertex$3 =
            "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n";
        function compileShader(e, t, r) {
          var n = e.createShader(t);
          return e.shaderSource(n, r), e.compileShader(n), n;
        }
        function booleanArray(e) {
          for (var t = new Array(e), r = 0; r < t.length; r++) t[r] = !1;
          return t;
        }
        function defaultValue(e, t) {
          switch (e) {
            case "float":
            case "int":
            case "uint":
            case "sampler2D":
            case "sampler2DArray":
              return 0;
            case "vec2":
              return new Float32Array(2 * t);
            case "vec3":
              return new Float32Array(3 * t);
            case "vec4":
              return new Float32Array(4 * t);
            case "ivec2":
              return new Int32Array(2 * t);
            case "ivec3":
              return new Int32Array(3 * t);
            case "ivec4":
              return new Int32Array(4 * t);
            case "uvec2":
              return new Uint32Array(2 * t);
            case "uvec3":
              return new Uint32Array(3 * t);
            case "uvec4":
              return new Uint32Array(4 * t);
            case "bool":
              return !1;
            case "bvec2":
              return booleanArray(2 * t);
            case "bvec3":
              return booleanArray(3 * t);
            case "bvec4":
              return booleanArray(4 * t);
            case "mat2":
              return new Float32Array([1, 0, 0, 1]);
            case "mat3":
              return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
            case "mat4":
              return new Float32Array([
                1,
                0,
                0,
                0,
                0,
                1,
                0,
                0,
                0,
                0,
                1,
                0,
                0,
                0,
                0,
                1
              ]);
          }
          return null;
        }
        var uniformParsers = [
            {
              test: function (e) {
                return "float" === e.type && 1 === e.size && !e.isArray;
              },
              code: function (e) {
                return '\n            if(uv["'
                  .concat(e, '"] !== ud["')
                  .concat(e, '"].value)\n            {\n                ud["')
                  .concat(e, '"].value = uv["')
                  .concat(e, '"]\n                gl.uniform1f(ud["')
                  .concat(e, '"].location, uv["')
                  .concat(e, '"])\n            }\n            ');
              }
            },
            {
              test: function (e, t) {
                return !(
                  ("sampler2D" !== e.type &&
                    "samplerCube" !== e.type &&
                    "sampler2DArray" !== e.type) ||
                  1 !== e.size ||
                  e.isArray ||
                  (null != t && void 0 === t.castToBaseTexture)
                );
              },
              code: function (e) {
                return 't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'
                  .concat(e, '"], t);\n\n            if(ud["')
                  .concat(
                    e,
                    '"].value !== t)\n            {\n                ud["'
                  )
                  .concat(e, '"].value = t;\n                gl.uniform1i(ud["')
                  .concat(
                    e,
                    '"].location, t);\n; // eslint-disable-line max-len\n            }'
                  );
              }
            },
            {
              test: function (e, t) {
                return (
                  "mat3" === e.type &&
                  1 === e.size &&
                  !e.isArray &&
                  void 0 !== t.a
                );
              },
              code: function (e) {
                return '\n            gl.uniformMatrix3fv(ud["'
                  .concat(e, '"].location, false, uv["')
                  .concat(e, '"].toArray(true));\n            ');
              },
              codeUbo: function (e) {
                return "\n                var "
                  .concat(e, "_matrix = uv.")
                  .concat(
                    e,
                    ".toArray(true);\n\n                data[offset] = "
                  )
                  .concat(e, "_matrix[0];\n                data[offset+1] = ")
                  .concat(e, "_matrix[1];\n                data[offset+2] = ")
                  .concat(
                    e,
                    "_matrix[2];\n        \n                data[offset + 4] = "
                  )
                  .concat(e, "_matrix[3];\n                data[offset + 5] = ")
                  .concat(e, "_matrix[4];\n                data[offset + 6] = ")
                  .concat(
                    e,
                    "_matrix[5];\n        \n                data[offset + 8] = "
                  )
                  .concat(e, "_matrix[6];\n                data[offset + 9] = ")
                  .concat(
                    e,
                    "_matrix[7];\n                data[offset + 10] = "
                  )
                  .concat(e, "_matrix[8];\n            ");
              }
            },
            {
              test: function (e, t) {
                return (
                  "vec2" === e.type &&
                  1 === e.size &&
                  !e.isArray &&
                  void 0 !== t.x
                );
              },
              code: function (e) {
                return '\n                cv = ud["'
                  .concat(e, '"].value;\n                v = uv["')
                  .concat(
                    e,
                    '"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'
                  )
                  .concat(e, '"].location, v.x, v.y);\n                }');
              },
              codeUbo: function (e) {
                return "\n                v = uv.".concat(
                  e,
                  ";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "
                );
              }
            },
            {
              test: function (e) {
                return "vec2" === e.type && 1 === e.size && !e.isArray;
              },
              code: function (e) {
                return '\n                cv = ud["'
                  .concat(e, '"].value;\n                v = uv["')
                  .concat(
                    e,
                    '"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'
                  )
                  .concat(
                    e,
                    '"].location, v[0], v[1]);\n                }\n            '
                  );
              }
            },
            {
              test: function (e, t) {
                return (
                  "vec4" === e.type &&
                  1 === e.size &&
                  !e.isArray &&
                  void 0 !== t.width
                );
              },
              code: function (e) {
                return '\n                cv = ud["'
                  .concat(e, '"].value;\n                v = uv["')
                  .concat(
                    e,
                    '"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'
                  )
                  .concat(
                    e,
                    '"].location, v.x, v.y, v.width, v.height)\n                }'
                  );
              },
              codeUbo: function (e) {
                return "\n                    v = uv.".concat(
                  e,
                  ";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "
                );
              }
            },
            {
              test: function (e, t) {
                return (
                  "vec4" === e.type &&
                  1 === e.size &&
                  !e.isArray &&
                  void 0 !== t.red
                );
              },
              code: function (e) {
                return '\n                cv = ud["'
                  .concat(e, '"].value;\n                v = uv["')
                  .concat(
                    e,
                    '"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["'
                  )
                  .concat(
                    e,
                    '"].location, v.red, v.green, v.blue, v.alpha)\n                }'
                  );
              },
              codeUbo: function (e) {
                return "\n                    v = uv.".concat(
                  e,
                  ";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                "
                );
              }
            },
            {
              test: function (e, t) {
                return (
                  "vec3" === e.type &&
                  1 === e.size &&
                  !e.isArray &&
                  void 0 !== t.red
                );
              },
              code: function (e) {
                return '\n                cv = ud["'
                  .concat(e, '"].value;\n                v = uv["')
                  .concat(
                    e,
                    '"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["'
                  )
                  .concat(
                    e,
                    '"].location, v.red, v.green, v.blue)\n                }'
                  );
              },
              codeUbo: function (e) {
                return "\n                    v = uv.".concat(
                  e,
                  ";\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                "
                );
              }
            },
            {
              test: function (e) {
                return "vec4" === e.type && 1 === e.size && !e.isArray;
              },
              code: function (e) {
                return '\n                cv = ud["'
                  .concat(e, '"].value;\n                v = uv["')
                  .concat(
                    e,
                    '"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'
                  )
                  .concat(
                    e,
                    '"].location, v[0], v[1], v[2], v[3])\n                }'
                  );
              }
            }
          ],
          GLSL_TO_SINGLE_SETTERS_CACHED = {
            float:
              "\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",
            vec2:
              "\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",
            vec3:
              "\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",
            vec4:
              "\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",
            int:
              "\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",
            ivec2:
              "\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",
            ivec3:
              "\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",
            ivec4:
              "\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",
            uint:
              "\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",
            uvec2:
              "\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",
            uvec3:
              "\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",
            uvec4:
              "\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",
            bool:
              "\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",
            bvec2:
              "\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",
            bvec3:
              "\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",
            bvec4:
              "\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",
            mat2: "gl.uniformMatrix2fv(location, false, v)",
            mat3: "gl.uniformMatrix3fv(location, false, v)",
            mat4: "gl.uniformMatrix4fv(location, false, v)",
            sampler2D:
              "\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",
            samplerCube:
              "\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",
            sampler2DArray:
              "\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"
          },
          GLSL_TO_ARRAY_SETTERS = {
            float: "gl.uniform1fv(location, v)",
            vec2: "gl.uniform2fv(location, v)",
            vec3: "gl.uniform3fv(location, v)",
            vec4: "gl.uniform4fv(location, v)",
            mat4: "gl.uniformMatrix4fv(location, false, v)",
            mat3: "gl.uniformMatrix3fv(location, false, v)",
            mat2: "gl.uniformMatrix2fv(location, false, v)",
            int: "gl.uniform1iv(location, v)",
            ivec2: "gl.uniform2iv(location, v)",
            ivec3: "gl.uniform3iv(location, v)",
            ivec4: "gl.uniform4iv(location, v)",
            uint: "gl.uniform1uiv(location, v)",
            uvec2: "gl.uniform2uiv(location, v)",
            uvec3: "gl.uniform3uiv(location, v)",
            uvec4: "gl.uniform4uiv(location, v)",
            bool: "gl.uniform1iv(location, v)",
            bvec2: "gl.uniform2iv(location, v)",
            bvec3: "gl.uniform3iv(location, v)",
            bvec4: "gl.uniform4iv(location, v)",
            sampler2D: "gl.uniform1iv(location, v)",
            samplerCube: "gl.uniform1iv(location, v)",
            sampler2DArray: "gl.uniform1iv(location, v)"
          };
        function generateUniformsSync(e, t) {
          var r = [
            "\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "
          ];
          for (var n in e.uniforms) {
            var i = t[n];
            if (i) {
              for (
                var a = e.uniforms[n], s = !1, o = 0;
                o < uniformParsers.length;
                o++
              )
                if (uniformParsers[o].test(i, a)) {
                  r.push(uniformParsers[o].code(n, a)), (s = !0);
                  break;
                }
              if (!s) {
                var u = (1 !== i.size || i.isArray
                  ? GLSL_TO_ARRAY_SETTERS
                  : GLSL_TO_SINGLE_SETTERS_CACHED)[i.type].replace(
                  "location",
                  'ud["'.concat(n, '"].location')
                );
                r.push(
                  '\n            cu = ud["'
                    .concat(
                      n,
                      '"];\n            cv = cu.value;\n            v = uv["'
                    )
                    .concat(n, '"];\n            ')
                    .concat(u, ";")
                );
              }
            } else {
              var l;
              null !== (l = e.uniforms[n]) &&
                void 0 !== l &&
                l.group &&
                (e.uniforms[n].ubo
                  ? r.push(
                      "\n                        renderer.shader.syncUniformBufferGroup(uv."
                        .concat(n, ", '")
                        .concat(n, "');\n                    ")
                    )
                  : r.push(
                      "\n                        renderer.shader.syncUniformGroup(uv.".concat(
                        n,
                        ", syncData);\n                    "
                      )
                    ));
            }
          }
          return new Function("ud", "uv", "renderer", "syncData", r.join("\n"));
        }
        var unknownContext = {},
          context = unknownContext,
          maxFragmentPrecision;
        function getTestContext() {
          var e;
          if (
            context === unknownContext ||
            (null !== (e = context) && void 0 !== e && e.isContextLost())
          ) {
            var t,
              r = settings.ADAPTER.createCanvas();
            settings.PREFER_ENV >= ENV.WEBGL2 &&
              (t = r.getContext("webgl2", {})),
              t ||
                ((t =
                  r.getContext("webgl", {}) ||
                  r.getContext("experimental-webgl", {}))
                  ? t.getExtension("WEBGL_draw_buffers")
                  : (t = null)),
              (context = t);
          }
          return context;
        }
        function getMaxFragmentPrecision() {
          if (!maxFragmentPrecision) {
            maxFragmentPrecision = PRECISION.MEDIUM;
            var e = getTestContext();
            if (e && e.getShaderPrecisionFormat) {
              var t = e.getShaderPrecisionFormat(
                e.FRAGMENT_SHADER,
                e.HIGH_FLOAT
              );
              maxFragmentPrecision = t.precision
                ? PRECISION.HIGH
                : PRECISION.MEDIUM;
            }
          }
          return maxFragmentPrecision;
        }
        function logPrettyShaderError(e, t) {
          var r,
            n = e
              .getShaderSource(t)
              .split("\n")
              .map(function (e, t) {
                return "".concat(t, ": ").concat(e);
              }),
            i = e.getShaderInfoLog(t),
            a = i.split("\n"),
            s = {},
            o = a
              .map(function (e) {
                return parseFloat(e.replace(/^ERROR\: 0\:([\d]+)\:.*$/, "$1"));
              })
              .filter(function (e) {
                return !(!e || s[e]) && ((s[e] = !0), !0);
              }),
            u = [""];
          o.forEach(function (e) {
            (n[e - 1] = "%c".concat(n[e - 1], "%c")),
              u.push(
                "background: #FF0000; color:#FFFFFF; font-size: 10px",
                "font-size: 10px"
              );
          });
          var l = n.join("\n");
          (u[0] = l),
            console.error(i),
            console.groupCollapsed("click to view full shader code"),
            (r = console).warn.apply(r, u),
            console.groupEnd();
        }
        function logProgramError(e, t, r, n) {
          e.getProgramParameter(t, e.LINK_STATUS) ||
            (e.getShaderParameter(r, e.COMPILE_STATUS) ||
              logPrettyShaderError(e, r),
            e.getShaderParameter(n, e.COMPILE_STATUS) ||
              logPrettyShaderError(e, n),
            console.error("PixiJS Error: Could not initialize shader."),
            "" !== e.getProgramInfoLog(t) &&
              console.warn(
                "PixiJS Warning: gl.getProgramInfoLog()",
                e.getProgramInfoLog(t)
              ));
        }
        var GLSL_TO_SIZE = {
          float: 1,
          vec2: 2,
          vec3: 3,
          vec4: 4,
          int: 1,
          ivec2: 2,
          ivec3: 3,
          ivec4: 4,
          uint: 1,
          uvec2: 2,
          uvec3: 3,
          uvec4: 4,
          bool: 1,
          bvec2: 2,
          bvec3: 3,
          bvec4: 4,
          mat2: 4,
          mat3: 9,
          mat4: 16,
          sampler2D: 1
        };
        function mapSize(e) {
          return GLSL_TO_SIZE[e];
        }
        var GL_TABLE = null,
          GL_TO_GLSL_TYPES = {
            FLOAT: "float",
            FLOAT_VEC2: "vec2",
            FLOAT_VEC3: "vec3",
            FLOAT_VEC4: "vec4",
            INT: "int",
            INT_VEC2: "ivec2",
            INT_VEC3: "ivec3",
            INT_VEC4: "ivec4",
            UNSIGNED_INT: "uint",
            UNSIGNED_INT_VEC2: "uvec2",
            UNSIGNED_INT_VEC3: "uvec3",
            UNSIGNED_INT_VEC4: "uvec4",
            BOOL: "bool",
            BOOL_VEC2: "bvec2",
            BOOL_VEC3: "bvec3",
            BOOL_VEC4: "bvec4",
            FLOAT_MAT2: "mat2",
            FLOAT_MAT3: "mat3",
            FLOAT_MAT4: "mat4",
            SAMPLER_2D: "sampler2D",
            INT_SAMPLER_2D: "sampler2D",
            UNSIGNED_INT_SAMPLER_2D: "sampler2D",
            SAMPLER_CUBE: "samplerCube",
            INT_SAMPLER_CUBE: "samplerCube",
            UNSIGNED_INT_SAMPLER_CUBE: "samplerCube",
            SAMPLER_2D_ARRAY: "sampler2DArray",
            INT_SAMPLER_2D_ARRAY: "sampler2DArray",
            UNSIGNED_INT_SAMPLER_2D_ARRAY: "sampler2DArray"
          },
          unsafeEval;
        function mapType(e, t) {
          if (!GL_TABLE) {
            var r = Object.keys(GL_TO_GLSL_TYPES);
            GL_TABLE = {};
            for (var n = 0; n < r.length; ++n) {
              var i = r[n];
              GL_TABLE[e[i]] = GL_TO_GLSL_TYPES[i];
            }
          }
          return GL_TABLE[t];
        }
        function setPrecision(e, t, r) {
          if ("precision" !== e.substring(0, 9)) {
            var n = t;
            return (
              t === PRECISION.HIGH &&
                r !== PRECISION.HIGH &&
                (n = PRECISION.MEDIUM),
              "precision ".concat(n, " float;\n").concat(e)
            );
          }
          return r !== PRECISION.HIGH &&
            "precision highp" === e.substring(0, 15)
            ? e.replace("precision highp", "precision mediump")
            : e;
        }
        function unsafeEvalSupported() {
          if ("boolean" == typeof unsafeEval) return unsafeEval;
          try {
            var t = new Function(
              "param1",
              "param2",
              "param3",
              "return param1[param2] === param3;"
            );
            unsafeEval = !0 === t({ a: "b" }, "a", "b");
          } catch (e) {
            unsafeEval = !1;
          }
          return unsafeEval;
        }
        var UID$2 = 0,
          nameCache = {},
          _Program = (function () {
            function e(t, r) {
              var n =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : "pixi-shader",
                i =
                  arguments.length > 3 && void 0 !== arguments[3]
                    ? arguments[3]
                    : {};
              _classCallCheck(this, e),
                (this.extra = {}),
                (this.id = UID$2++),
                (this.vertexSrc = t || e.defaultVertexSrc),
                (this.fragmentSrc = r || e.defaultFragmentSrc),
                (this.vertexSrc = this.vertexSrc.trim()),
                (this.fragmentSrc = this.fragmentSrc.trim()),
                (this.extra = i),
                "#version" !== this.vertexSrc.substring(0, 8) &&
                  ((n = n.replace(/\s+/g, "-")),
                  nameCache[n]
                    ? (nameCache[n]++, (n += "-".concat(nameCache[n])))
                    : (nameCache[n] = 1),
                  (this.vertexSrc = "#define SHADER_NAME "
                    .concat(n, "\n")
                    .concat(this.vertexSrc)),
                  (this.fragmentSrc = "#define SHADER_NAME "
                    .concat(n, "\n")
                    .concat(this.fragmentSrc)),
                  (this.vertexSrc = setPrecision(
                    this.vertexSrc,
                    e.defaultVertexPrecision,
                    PRECISION.HIGH
                  )),
                  (this.fragmentSrc = setPrecision(
                    this.fragmentSrc,
                    e.defaultFragmentPrecision,
                    getMaxFragmentPrecision()
                  ))),
                (this.glPrograms = {}),
                (this.syncUniforms = null);
            }
            return (
              _createClass(e, null, [
                {
                  key: "defaultVertexSrc",
                  get: function () {
                    return defaultVertex$3;
                  }
                },
                {
                  key: "defaultFragmentSrc",
                  get: function () {
                    return defaultFragment$2;
                  }
                },
                {
                  key: "from",
                  value: function (t, r, n) {
                    var i = t + r,
                      a = ProgramCache[i];
                    return a || (ProgramCache[i] = a = new e(t, r, n)), a;
                  }
                }
              ]),
              e
            );
          })(),
          Program = _Program;
        (Program.defaultVertexPrecision = PRECISION.HIGH),
          (Program.defaultFragmentPrecision = isMobile.apple.device
            ? PRECISION.HIGH
            : PRECISION.MEDIUM);
        var UID$1 = 0,
          UniformGroup = (function () {
            function e(t, r, n) {
              _classCallCheck(this, e),
                (this.group = !0),
                (this.syncUniforms = {}),
                (this.dirtyId = 0),
                (this.id = UID$1++),
                (this.static = !!r),
                (this.ubo = !!n),
                t instanceof Buffer
                  ? ((this.buffer = t),
                    (this.buffer.type = BUFFER_TYPE.UNIFORM_BUFFER),
                    (this.autoManage = !1),
                    (this.ubo = !0))
                  : ((this.uniforms = t),
                    this.ubo &&
                      ((this.buffer = new Buffer(new Float32Array(1))),
                      (this.buffer.type = BUFFER_TYPE.UNIFORM_BUFFER),
                      (this.autoManage = !0)));
            }
            return (
              _createClass(
                e,
                [
                  {
                    key: "update",
                    value: function () {
                      this.dirtyId++,
                        !this.autoManage && this.buffer && this.buffer.update();
                    }
                  },
                  {
                    key: "add",
                    value: function (t, r, n) {
                      if (this.ubo)
                        throw new Error(
                          "[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them"
                        );
                      this.uniforms[t] = new e(r, n);
                    }
                  }
                ],
                [
                  {
                    key: "from",
                    value: function (t, r, n) {
                      return new e(t, r, n);
                    }
                  },
                  {
                    key: "uboFrom",
                    value: function (t, r) {
                      return new e(t, null == r || r, !0);
                    }
                  }
                ]
              ),
              e
            );
          })(),
          Shader = (function () {
            function e(t, r) {
              _classCallCheck(this, e),
                (this.uniformBindCount = 0),
                (this.program = t),
                (this.uniformGroup = r
                  ? r instanceof UniformGroup
                    ? r
                    : new UniformGroup(r)
                  : new UniformGroup({})),
                (this.disposeRunner = new Runner("disposeShader"));
            }
            return (
              _createClass(
                e,
                [
                  {
                    key: "checkUniformExists",
                    value: function (e, t) {
                      if (t.uniforms[e]) return !0;
                      for (var r in t.uniforms) {
                        var n = t.uniforms[r];
                        if (n.group && this.checkUniformExists(e, n)) return !0;
                      }
                      return !1;
                    }
                  },
                  {
                    key: "destroy",
                    value: function () {
                      (this.uniformGroup = null),
                        this.disposeRunner.emit(this),
                        this.disposeRunner.destroy();
                    }
                  },
                  {
                    key: "uniforms",
                    get: function () {
                      return this.uniformGroup.uniforms;
                    }
                  }
                ],
                [
                  {
                    key: "from",
                    value: function (t, r, n) {
                      return new e(Program.from(t, r), n);
                    }
                  }
                ]
              ),
              e
            );
          })(),
          BatchShaderGenerator = (function () {
            function e(t, r) {
              if (
                (_classCallCheck(this, e),
                (this.vertexSrc = t),
                (this.fragTemplate = r),
                (this.programCache = {}),
                (this.defaultGroupCache = {}),
                !r.includes("%count%"))
              )
                throw new Error('Fragment template must contain "%count%".');
              if (!r.includes("%forloop%"))
                throw new Error('Fragment template must contain "%forloop%".');
            }
            return (
              _createClass(e, [
                {
                  key: "generateShader",
                  value: function (e) {
                    if (!this.programCache[e]) {
                      for (var t = new Int32Array(e), r = 0; r < e; r++)
                        t[r] = r;
                      this.defaultGroupCache[e] = UniformGroup.from(
                        { uSamplers: t },
                        !0
                      );
                      var n = this.fragTemplate;
                      (n = (n = n.replace(/%count%/gi, "".concat(e))).replace(
                        /%forloop%/gi,
                        this.generateSampleSrc(e)
                      )),
                        (this.programCache[e] = new Program(this.vertexSrc, n));
                    }
                    var i = {
                      tint: new Float32Array([1, 1, 1, 1]),
                      translationMatrix: new Matrix(),
                      default: this.defaultGroupCache[e]
                    };
                    return new Shader(this.programCache[e], i);
                  }
                },
                {
                  key: "generateSampleSrc",
                  value: function (e) {
                    var t = "";
                    (t += "\n"), (t += "\n");
                    for (var r = 0; r < e; r++)
                      r > 0 && (t += "\nelse "),
                        r < e - 1 && (t += "if(vTextureId < ".concat(r, ".5)")),
                        (t += "\n{"),
                        (t += "\n\tcolor = texture2D(uSamplers[".concat(
                          r,
                          "], vTextureCoord);"
                        )),
                        (t += "\n}");
                    return (t += "\n"), (t += "\n");
                  }
                }
              ]),
              e
            );
          })(),
          BatchTextureArray = (function () {
            function e() {
              _classCallCheck(this, e),
                (this.elements = []),
                (this.ids = []),
                (this.count = 0);
            }
            return (
              _createClass(e, [
                {
                  key: "clear",
                  value: function () {
                    for (var e = 0; e < this.count; e++)
                      this.elements[e] = null;
                    this.count = 0;
                  }
                }
              ]),
              e
            );
          })();
        function canUploadSameBuffer() {
          return !isMobile.apple.device;
        }
        function maxRecommendedTextures(e) {
          var t = !0,
            r = settings.ADAPTER.getNavigator();
          if (isMobile.tablet || isMobile.phone) {
            if (isMobile.apple.device) {
              var n = r.userAgent.match(/OS (\d+)_(\d+)?/);
              if (n) parseInt(n[1], 10) < 11 && (t = !1);
            }
            if (isMobile.android.device) {
              var i = r.userAgent.match(/Android\s([0-9.]*)/);
              if (i) parseInt(i[1], 10) < 7 && (t = !1);
            }
          }
          return t ? e : 4;
        }
        var ObjectRenderer = (function () {
            function e(t) {
              _classCallCheck(this, e), (this.renderer = t);
            }
            return (
              _createClass(e, [
                { key: "flush", value: function () {} },
                {
                  key: "destroy",
                  value: function () {
                    this.renderer = null;
                  }
                },
                { key: "start", value: function () {} },
                {
                  key: "stop",
                  value: function () {
                    this.flush();
                  }
                },
                { key: "render", value: function (e) {} }
              ]),
              e
            );
          })(),
          defaultFragment$1 =
            "varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",
          defaultVertex$2 =
            "precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",
          _BatchRenderer = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e) {
              var n;
              return (
                _classCallCheck(this, r),
                (n = t.call(this, e)).setShaderGenerator(),
                (n.geometryClass = BatchGeometry),
                (n.vertexSize = 6),
                (n.state = State.for2d()),
                (n.size = 4 * r.defaultBatchSize),
                (n._vertexCount = 0),
                (n._indexCount = 0),
                (n._bufferedElements = []),
                (n._bufferedTextures = []),
                (n._bufferSize = 0),
                (n._shader = null),
                (n._packedGeometries = []),
                (n._packedGeometryPoolSize = 2),
                (n._flushId = 0),
                (n._aBuffers = {}),
                (n._iBuffers = {}),
                (n.maxTextures = 1),
                n.renderer.on(
                  "prerender",
                  n.onPrerender,
                  _assertThisInitialized2(n)
                ),
                e.runners.contextChange.add(_assertThisInitialized2(n)),
                (n._dcIndex = 0),
                (n._aIndex = 0),
                (n._iIndex = 0),
                (n._attributeBuffer = null),
                (n._indexBuffer = null),
                (n._tempBoundTextures = []),
                n
              );
            }
            return (
              _createClass(
                r,
                [
                  {
                    key: "MAX_TEXTURES",
                    get: function () {
                      return (
                        deprecation(
                          "7.1.0",
                          "BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"
                        ),
                        this.maxTextures
                      );
                    }
                  },
                  {
                    key: "setShaderGenerator",
                    value: function () {
                      var e =
                          arguments.length > 0 && void 0 !== arguments[0]
                            ? arguments[0]
                            : {},
                        t = e.vertex,
                        n = void 0 === t ? r.defaultVertexSrc : t,
                        i = e.fragment,
                        a = void 0 === i ? r.defaultFragmentTemplate : i;
                      this.shaderGenerator = new BatchShaderGenerator(n, a);
                    }
                  },
                  {
                    key: "contextChange",
                    value: function () {
                      var e = this.renderer.gl;
                      settings.PREFER_ENV === ENV.WEBGL_LEGACY
                        ? (this.maxTextures = 1)
                        : ((this.maxTextures = Math.min(
                            e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),
                            r.defaultMaxTextures
                          )),
                          (this.maxTextures = checkMaxIfStatementsInShader(
                            this.maxTextures,
                            e
                          ))),
                        (this._shader = this.shaderGenerator.generateShader(
                          this.maxTextures
                        ));
                      for (var t = 0; t < this._packedGeometryPoolSize; t++)
                        this._packedGeometries[t] = new this.geometryClass();
                      this.initFlushBuffers();
                    }
                  },
                  {
                    key: "initFlushBuffers",
                    value: function () {
                      for (
                        var e = r._drawCallPool,
                          t = r._textureArrayPool,
                          n = this.size / 4,
                          i = Math.floor(n / this.maxTextures) + 1;
                        e.length < n;

                      )
                        e.push(new BatchDrawCall());
                      for (; t.length < i; ) t.push(new BatchTextureArray());
                      for (var a = 0; a < this.maxTextures; a++)
                        this._tempBoundTextures[a] = null;
                    }
                  },
                  {
                    key: "onPrerender",
                    value: function () {
                      this._flushId = 0;
                    }
                  },
                  {
                    key: "render",
                    value: function (e) {
                      e._texture.valid &&
                        (this._vertexCount + e.vertexData.length / 2 >
                          this.size && this.flush(),
                        (this._vertexCount += e.vertexData.length / 2),
                        (this._indexCount += e.indices.length),
                        (this._bufferedTextures[this._bufferSize] =
                          e._texture.baseTexture),
                        (this._bufferedElements[this._bufferSize++] = e));
                    }
                  },
                  {
                    key: "buildTexturesAndDrawCalls",
                    value: function () {
                      var e = this._bufferedTextures,
                        t = this.maxTextures,
                        n = r._textureArrayPool,
                        i = this.renderer.batch,
                        a = this._tempBoundTextures,
                        s = this.renderer.textureGC.count,
                        o = ++BaseTexture._globalBatch,
                        u = 0,
                        l = n[0],
                        c = 0;
                      i.copyBoundTextures(a, t);
                      for (var h = 0; h < this._bufferSize; ++h) {
                        var f = e[h];
                        (e[h] = null),
                          f._batchEnabled !== o &&
                            (l.count >= t &&
                              (i.boundArray(l, a, o, t),
                              this.buildDrawCalls(l, c, h),
                              (c = h),
                              (l = n[++u]),
                              ++o),
                            (f._batchEnabled = o),
                            (f.touched = s),
                            (l.elements[l.count++] = f));
                      }
                      l.count > 0 &&
                        (i.boundArray(l, a, o, t),
                        this.buildDrawCalls(l, c, this._bufferSize),
                        ++u,
                        ++o);
                      for (var d = 0; d < a.length; d++) a[d] = null;
                      BaseTexture._globalBatch = o;
                    }
                  },
                  {
                    key: "buildDrawCalls",
                    value: function (e, t, n) {
                      var i = this._bufferedElements,
                        a = this._attributeBuffer,
                        s = this._indexBuffer,
                        o = this.vertexSize,
                        u = r._drawCallPool,
                        l = this._dcIndex,
                        c = this._aIndex,
                        h = this._iIndex,
                        f = u[l];
                      (f.start = this._iIndex), (f.texArray = e);
                      for (var d = t; d < n; ++d) {
                        var p = i[d],
                          _ = p._texture.baseTexture,
                          v =
                            premultiplyBlendMode[_.alphaMode ? 1 : 0][
                              p.blendMode
                            ];
                        (i[d] = null),
                          t < d &&
                            f.blend !== v &&
                            ((f.size = h - f.start),
                            (t = d),
                            ((f = u[++l]).texArray = e),
                            (f.start = h)),
                          this.packInterleavedGeometry(p, a, s, c, h),
                          (c += (p.vertexData.length / 2) * o),
                          (h += p.indices.length),
                          (f.blend = v);
                      }
                      t < n && ((f.size = h - f.start), ++l),
                        (this._dcIndex = l),
                        (this._aIndex = c),
                        (this._iIndex = h);
                    }
                  },
                  {
                    key: "bindAndClearTexArray",
                    value: function (e) {
                      for (
                        var t = this.renderer.texture, r = 0;
                        r < e.count;
                        r++
                      )
                        t.bind(e.elements[r], e.ids[r]), (e.elements[r] = null);
                      e.count = 0;
                    }
                  },
                  {
                    key: "updateGeometry",
                    value: function () {
                      var e = this._packedGeometries,
                        t = this._attributeBuffer,
                        n = this._indexBuffer;
                      r.canUploadSameBuffer
                        ? (e[this._flushId]._buffer.update(t.rawBinaryData),
                          e[this._flushId]._indexBuffer.update(n),
                          this.renderer.geometry.updateBuffers())
                        : (this._packedGeometryPoolSize <= this._flushId &&
                            (this._packedGeometryPoolSize++,
                            (e[this._flushId] = new this.geometryClass())),
                          e[this._flushId]._buffer.update(t.rawBinaryData),
                          e[this._flushId]._indexBuffer.update(n),
                          this.renderer.geometry.bind(e[this._flushId]),
                          this.renderer.geometry.updateBuffers(),
                          this._flushId++);
                    }
                  },
                  {
                    key: "drawBatches",
                    value: function () {
                      for (
                        var e = this._dcIndex,
                          t = this.renderer,
                          n = t.gl,
                          i = t.state,
                          a = r._drawCallPool,
                          s = null,
                          o = 0;
                        o < e;
                        o++
                      ) {
                        var u = a[o],
                          l = u.texArray,
                          c = u.type,
                          h = u.size,
                          f = u.start,
                          d = u.blend;
                        s !== l && ((s = l), this.bindAndClearTexArray(l)),
                          (this.state.blendMode = d),
                          i.set(this.state),
                          n.drawElements(c, h, n.UNSIGNED_SHORT, 2 * f);
                      }
                    }
                  },
                  {
                    key: "flush",
                    value: function () {
                      0 !== this._vertexCount &&
                        ((this._attributeBuffer = this.getAttributeBuffer(
                          this._vertexCount
                        )),
                        (this._indexBuffer = this.getIndexBuffer(
                          this._indexCount
                        )),
                        (this._aIndex = 0),
                        (this._iIndex = 0),
                        (this._dcIndex = 0),
                        this.buildTexturesAndDrawCalls(),
                        this.updateGeometry(),
                        this.drawBatches(),
                        (this._bufferSize = 0),
                        (this._vertexCount = 0),
                        (this._indexCount = 0));
                    }
                  },
                  {
                    key: "start",
                    value: function () {
                      this.renderer.state.set(this.state),
                        this.renderer.texture.ensureSamplerType(
                          this.maxTextures
                        ),
                        this.renderer.shader.bind(this._shader),
                        r.canUploadSameBuffer &&
                          this.renderer.geometry.bind(
                            this._packedGeometries[this._flushId]
                          );
                    }
                  },
                  {
                    key: "stop",
                    value: function () {
                      this.flush();
                    }
                  },
                  {
                    key: "destroy",
                    value: function () {
                      for (var e = 0; e < this._packedGeometryPoolSize; e++)
                        this._packedGeometries[e] &&
                          this._packedGeometries[e].destroy();
                      this.renderer.off("prerender", this.onPrerender, this),
                        (this._aBuffers = null),
                        (this._iBuffers = null),
                        (this._packedGeometries = null),
                        (this._attributeBuffer = null),
                        (this._indexBuffer = null),
                        this._shader &&
                          (this._shader.destroy(), (this._shader = null)),
                        _get3(
                          _getPrototypeOf(r.prototype),
                          "destroy",
                          this
                        ).call(this);
                    }
                  },
                  {
                    key: "getAttributeBuffer",
                    value: function (e) {
                      var t = nextPow2(Math.ceil(e / 8)),
                        r = log2(t),
                        n = 8 * t;
                      this._aBuffers.length <= r &&
                        (this._iBuffers.length = r + 1);
                      var i = this._aBuffers[n];
                      return (
                        i ||
                          (this._aBuffers[n] = i = new ViewableBuffer(
                            n * this.vertexSize * 4
                          )),
                        i
                      );
                    }
                  },
                  {
                    key: "getIndexBuffer",
                    value: function (e) {
                      var t = nextPow2(Math.ceil(e / 12)),
                        r = log2(t),
                        n = 12 * t;
                      this._iBuffers.length <= r &&
                        (this._iBuffers.length = r + 1);
                      var i = this._iBuffers[r];
                      return (
                        i || (this._iBuffers[r] = i = new Uint16Array(n)), i
                      );
                    }
                  },
                  {
                    key: "packInterleavedGeometry",
                    value: function (e, t, r, n, i) {
                      for (
                        var a = t.uint32View,
                          s = t.float32View,
                          o = n / this.vertexSize,
                          u = e.uvs,
                          l = e.indices,
                          c = e.vertexData,
                          h = e._texture.baseTexture._batchLocation,
                          f = Math.min(e.worldAlpha, 1),
                          d = Color.shared
                            .setValue(e._tintRGB)
                            .toPremultiplied(
                              f,
                              e._texture.baseTexture.alphaMode > 0
                            ),
                          p = 0;
                        p < c.length;
                        p += 2
                      )
                        (s[n++] = c[p]),
                          (s[n++] = c[p + 1]),
                          (s[n++] = u[p]),
                          (s[n++] = u[p + 1]),
                          (a[n++] = d),
                          (s[n++] = h);
                      for (var _ = 0; _ < l.length; _++) r[i++] = o + l[_];
                    }
                  }
                ],
                [
                  {
                    key: "defaultMaxTextures",
                    get: function () {
                      var e;
                      return (
                        (this._defaultMaxTextures =
                          null !== (e = this._defaultMaxTextures) &&
                          void 0 !== e
                            ? e
                            : maxRecommendedTextures(32)),
                        this._defaultMaxTextures
                      );
                    },
                    set: function (e) {
                      this._defaultMaxTextures = e;
                    }
                  },
                  {
                    key: "canUploadSameBuffer",
                    get: function () {
                      var e;
                      return (
                        (this._canUploadSameBuffer =
                          null !== (e = this._canUploadSameBuffer) &&
                          void 0 !== e
                            ? e
                            : canUploadSameBuffer()),
                        this._canUploadSameBuffer
                      );
                    },
                    set: function (e) {
                      this._canUploadSameBuffer = e;
                    }
                  },
                  {
                    key: "defaultVertexSrc",
                    get: function () {
                      return defaultVertex$2;
                    }
                  },
                  {
                    key: "defaultFragmentTemplate",
                    get: function () {
                      return defaultFragment$1;
                    }
                  }
                ]
              ),
              r
            );
          })(ObjectRenderer),
          BatchRenderer = _BatchRenderer;
        (BatchRenderer.defaultBatchSize = 4096),
          (BatchRenderer.extension = {
            name: "batch",
            type: ExtensionType.RendererPlugin
          }),
          (BatchRenderer._drawCallPool = []),
          (BatchRenderer._textureArrayPool = []),
          extensions$1.add(BatchRenderer);
        var defaultFragment =
            "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n",
          defaultVertex$1 =
            "attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",
          _Filter = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e, n, i) {
              var a;
              _classCallCheck(this, r);
              var s = Program.from(
                e || r.defaultVertexSrc,
                n || r.defaultFragmentSrc
              );
              return (
                ((a = t.call(this, s, i)).padding = 0),
                (a.resolution = r.defaultResolution),
                (a.multisample = r.defaultMultisample),
                (a.enabled = !0),
                (a.autoFit = !0),
                (a.state = new State()),
                a
              );
            }
            return (
              _createClass(
                r,
                [
                  {
                    key: "apply",
                    value: function (e, t, r, n, i) {
                      e.applyFilter(this, t, r, n);
                    }
                  },
                  {
                    key: "blendMode",
                    get: function () {
                      return this.state.blendMode;
                    },
                    set: function (e) {
                      this.state.blendMode = e;
                    }
                  },
                  {
                    key: "resolution",
                    get: function () {
                      return this._resolution;
                    },
                    set: function (e) {
                      this._resolution = e;
                    }
                  }
                ],
                [
                  {
                    key: "defaultVertexSrc",
                    get: function () {
                      return defaultVertex$1;
                    }
                  },
                  {
                    key: "defaultFragmentSrc",
                    get: function () {
                      return defaultFragment;
                    }
                  }
                ]
              ),
              r
            );
          })(Shader),
          Filter = _Filter;
        (Filter.defaultResolution = 1),
          (Filter.defaultMultisample = MSAA_QUALITY.NONE);
        var BackgroundSystem = (function () {
          function e() {
            _classCallCheck(this, e),
              (this.clearBeforeRender = !0),
              (this._backgroundColor = new Color(0)),
              (this.alpha = 1);
          }
          return (
            _createClass(e, [
              {
                key: "init",
                value: function (e) {
                  this.clearBeforeRender = e.clearBeforeRender;
                  var t = e.backgroundColor,
                    r = e.background,
                    n = e.backgroundAlpha,
                    i = null != r ? r : t;
                  void 0 !== i && (this.color = i), (this.alpha = n);
                }
              },
              {
                key: "color",
                get: function () {
                  return this._backgroundColor.value;
                },
                set: function (e) {
                  this._backgroundColor.setValue(e);
                }
              },
              {
                key: "alpha",
                get: function () {
                  return this._backgroundColor.alpha;
                },
                set: function (e) {
                  this._backgroundColor.setAlpha(e);
                }
              },
              {
                key: "backgroundColor",
                get: function () {
                  return this._backgroundColor;
                }
              },
              { key: "destroy", value: function () {} }
            ]),
            e
          );
        })();
        (BackgroundSystem.defaultOptions = {
          backgroundAlpha: 1,
          backgroundColor: 0,
          clearBeforeRender: !0
        }),
          (BackgroundSystem.extension = {
            type: [
              ExtensionType.RendererSystem,
              ExtensionType.CanvasRendererSystem
            ],
            name: "background"
          }),
          extensions$1.add(BackgroundSystem);
        var BatchSystem = (function () {
          function e(t) {
            _classCallCheck(this, e),
              (this.renderer = t),
              (this.emptyRenderer = new ObjectRenderer(t)),
              (this.currentRenderer = this.emptyRenderer);
          }
          return (
            _createClass(e, [
              {
                key: "setObjectRenderer",
                value: function (e) {
                  this.currentRenderer !== e &&
                    (this.currentRenderer.stop(),
                    (this.currentRenderer = e),
                    this.currentRenderer.start());
                }
              },
              {
                key: "flush",
                value: function () {
                  this.setObjectRenderer(this.emptyRenderer);
                }
              },
              {
                key: "reset",
                value: function () {
                  this.setObjectRenderer(this.emptyRenderer);
                }
              },
              {
                key: "copyBoundTextures",
                value: function (e, t) {
                  for (
                    var r = this.renderer.texture.boundTextures, n = t - 1;
                    n >= 0;
                    --n
                  )
                    (e[n] = r[n] || null), e[n] && (e[n]._batchLocation = n);
                }
              },
              {
                key: "boundArray",
                value: function (e, t, r, n) {
                  for (
                    var i = e.elements, a = e.ids, s = e.count, o = 0, u = 0;
                    u < s;
                    u++
                  ) {
                    var l = i[u],
                      c = l._batchLocation;
                    if (c >= 0 && c < n && t[c] === l) a[u] = c;
                    else
                      for (; o < n; ) {
                        var h = t[o];
                        if (
                          !h ||
                          h._batchEnabled !== r ||
                          h._batchLocation !== o
                        ) {
                          (a[u] = o), (l._batchLocation = o), (t[o] = l);
                          break;
                        }
                        o++;
                      }
                  }
                }
              },
              {
                key: "destroy",
                value: function () {
                  this.renderer = null;
                }
              }
            ]),
            e
          );
        })();
        (BatchSystem.extension = {
          type: ExtensionType.RendererSystem,
          name: "batch"
        }),
          extensions$1.add(BatchSystem);
        var CONTEXT_UID_COUNTER = 0,
          ContextSystem = (function () {
            function e(t) {
              _classCallCheck(this, e),
                (this.renderer = t),
                (this.webGLVersion = 1),
                (this.extensions = {}),
                (this.supports = { uint32Indices: !1 }),
                (this.handleContextLost = this.handleContextLost.bind(this)),
                (this.handleContextRestored = this.handleContextRestored.bind(
                  this
                ));
            }
            return (
              _createClass(e, [
                {
                  key: "isLost",
                  get: function () {
                    return !this.gl || this.gl.isContextLost();
                  }
                },
                {
                  key: "contextChange",
                  value: function (e) {
                    (this.gl = e),
                      (this.renderer.gl = e),
                      (this.renderer.CONTEXT_UID = CONTEXT_UID_COUNTER++);
                  }
                },
                {
                  key: "init",
                  value: function (e) {
                    if (e.context) this.initFromContext(e.context);
                    else {
                      var t = this.renderer.background.alpha < 1,
                        r = e.premultipliedAlpha;
                      (this.preserveDrawingBuffer = e.preserveDrawingBuffer),
                        (this.useContextAlpha = e.useContextAlpha),
                        (this.powerPreference = e.powerPreference),
                        this.initFromOptions({
                          alpha: t,
                          premultipliedAlpha: r,
                          antialias: e.antialias,
                          stencil: !0,
                          preserveDrawingBuffer: e.preserveDrawingBuffer,
                          powerPreference: e.powerPreference
                        });
                    }
                  }
                },
                {
                  key: "initFromContext",
                  value: function (e) {
                    (this.gl = e),
                      this.validateContext(e),
                      (this.renderer.gl = e),
                      (this.renderer.CONTEXT_UID = CONTEXT_UID_COUNTER++),
                      this.renderer.runners.contextChange.emit(e);
                    var t = this.renderer.view;
                    void 0 !== t.addEventListener &&
                      (t.addEventListener(
                        "webglcontextlost",
                        this.handleContextLost,
                        !1
                      ),
                      t.addEventListener(
                        "webglcontextrestored",
                        this.handleContextRestored,
                        !1
                      ));
                  }
                },
                {
                  key: "initFromOptions",
                  value: function (e) {
                    var t = this.createContext(this.renderer.view, e);
                    this.initFromContext(t);
                  }
                },
                {
                  key: "createContext",
                  value: function (e, t) {
                    var r;
                    if (
                      (settings.PREFER_ENV >= ENV.WEBGL2 &&
                        (r = e.getContext("webgl2", t)),
                      r)
                    )
                      this.webGLVersion = 2;
                    else if (
                      ((this.webGLVersion = 1),
                      !(r =
                        e.getContext("webgl", t) ||
                        e.getContext("experimental-webgl", t)))
                    )
                      throw new Error(
                        "This browser does not support WebGL. Try using the canvas renderer"
                      );
                    return (this.gl = r), this.getExtensions(), this.gl;
                  }
                },
                {
                  key: "getExtensions",
                  value: function () {
                    var e = this.gl,
                      t = {
                        loseContext: e.getExtension("WEBGL_lose_context"),
                        anisotropicFiltering: e.getExtension(
                          "EXT_texture_filter_anisotropic"
                        ),
                        floatTextureLinear: e.getExtension(
                          "OES_texture_float_linear"
                        ),
                        s3tc: e.getExtension("WEBGL_compressed_texture_s3tc"),
                        s3tc_sRGB: e.getExtension(
                          "WEBGL_compressed_texture_s3tc_srgb"
                        ),
                        etc: e.getExtension("WEBGL_compressed_texture_etc"),
                        etc1: e.getExtension("WEBGL_compressed_texture_etc1"),
                        pvrtc:
                          e.getExtension("WEBGL_compressed_texture_pvrtc") ||
                          e.getExtension(
                            "WEBKIT_WEBGL_compressed_texture_pvrtc"
                          ),
                        atc: e.getExtension("WEBGL_compressed_texture_atc"),
                        astc: e.getExtension("WEBGL_compressed_texture_astc")
                      };
                    1 === this.webGLVersion
                      ? Object.assign(this.extensions, t, {
                          drawBuffers: e.getExtension("WEBGL_draw_buffers"),
                          depthTexture: e.getExtension("WEBGL_depth_texture"),
                          vertexArrayObject:
                            e.getExtension("OES_vertex_array_object") ||
                            e.getExtension("MOZ_OES_vertex_array_object") ||
                            e.getExtension("WEBKIT_OES_vertex_array_object"),
                          uint32ElementIndex: e.getExtension(
                            "OES_element_index_uint"
                          ),
                          floatTexture: e.getExtension("OES_texture_float"),
                          floatTextureLinear: e.getExtension(
                            "OES_texture_float_linear"
                          ),
                          textureHalfFloat: e.getExtension(
                            "OES_texture_half_float"
                          ),
                          textureHalfFloatLinear: e.getExtension(
                            "OES_texture_half_float_linear"
                          )
                        })
                      : 2 === this.webGLVersion &&
                        Object.assign(this.extensions, t, {
                          colorBufferFloat: e.getExtension(
                            "EXT_color_buffer_float"
                          )
                        });
                  }
                },
                {
                  key: "handleContextLost",
                  value: function (e) {
                    var t = this;
                    e.preventDefault(),
                      setTimeout(function () {
                        t.gl.isContextLost() &&
                          t.extensions.loseContext &&
                          t.extensions.loseContext.restoreContext();
                      }, 0);
                  }
                },
                {
                  key: "handleContextRestored",
                  value: function () {
                    this.renderer.runners.contextChange.emit(this.gl);
                  }
                },
                {
                  key: "destroy",
                  value: function () {
                    var e = this.renderer.view;
                    (this.renderer = null),
                      void 0 !== e.removeEventListener &&
                        (e.removeEventListener(
                          "webglcontextlost",
                          this.handleContextLost
                        ),
                        e.removeEventListener(
                          "webglcontextrestored",
                          this.handleContextRestored
                        )),
                      this.gl.useProgram(null),
                      this.extensions.loseContext &&
                        this.extensions.loseContext.loseContext();
                  }
                },
                {
                  key: "postrender",
                  value: function () {
                    this.renderer.objectRenderer.renderingToScreen &&
                      this.gl.flush();
                  }
                },
                {
                  key: "validateContext",
                  value: function (e) {
                    var t = e.getContextAttributes(),
                      r =
                        "WebGL2RenderingContext" in globalThis &&
                        e instanceof globalThis.WebGL2RenderingContext;
                    r && (this.webGLVersion = 2),
                      t &&
                        !t.stencil &&
                        console.warn(
                          "Provided WebGL context does not have a stencil buffer, masks may not render correctly"
                        );
                    var n = r || !!e.getExtension("OES_element_index_uint");
                    (this.supports.uint32Indices = n),
                      n ||
                        console.warn(
                          "Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly"
                        );
                  }
                }
              ]),
              e
            );
          })();
        (ContextSystem.defaultOptions = {
          context: null,
          antialias: !1,
          premultipliedAlpha: !0,
          preserveDrawingBuffer: !1,
          powerPreference: "default"
        }),
          (ContextSystem.extension = {
            type: ExtensionType.RendererSystem,
            name: "context"
          }),
          extensions$1.add(ContextSystem);
        var DepthResource = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r() {
              return _classCallCheck(this, r), t.apply(this, arguments);
            }
            return (
              _createClass(r, [
                {
                  key: "upload",
                  value: function (e, t, r) {
                    var n = e.gl;
                    n.pixelStorei(
                      n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
                      t.alphaMode === ALPHA_MODES.UNPACK
                    );
                    var i = t.realWidth,
                      a = t.realHeight;
                    return (
                      r.width === i && r.height === a
                        ? n.texSubImage2D(
                            t.target,
                            0,
                            0,
                            0,
                            i,
                            a,
                            t.format,
                            r.type,
                            this.data
                          )
                        : ((r.width = i),
                          (r.height = a),
                          n.texImage2D(
                            t.target,
                            0,
                            r.internalFormat,
                            i,
                            a,
                            0,
                            t.format,
                            r.type,
                            this.data
                          )),
                      !0
                    );
                  }
                }
              ]),
              r
            );
          })(BufferResource),
          Framebuffer = (function () {
            function e(t, r) {
              _classCallCheck(this, e),
                (this.width = Math.round(t || 100)),
                (this.height = Math.round(r || 100)),
                (this.stencil = !1),
                (this.depth = !1),
                (this.dirtyId = 0),
                (this.dirtyFormat = 0),
                (this.dirtySize = 0),
                (this.depthTexture = null),
                (this.colorTextures = []),
                (this.glFramebuffers = {}),
                (this.disposeRunner = new Runner("disposeFramebuffer")),
                (this.multisample = MSAA_QUALITY.NONE);
            }
            return (
              _createClass(e, [
                {
                  key: "colorTexture",
                  get: function () {
                    return this.colorTextures[0];
                  }
                },
                {
                  key: "addColorTexture",
                  value: function () {
                    var e =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : 0,
                      t = arguments.length > 1 ? arguments[1] : void 0;
                    return (
                      (this.colorTextures[e] =
                        t ||
                        new BaseTexture(null, {
                          scaleMode: SCALE_MODES.NEAREST,
                          resolution: 1,
                          mipmap: MIPMAP_MODES.OFF,
                          width: this.width,
                          height: this.height
                        })),
                      this.dirtyId++,
                      this.dirtyFormat++,
                      this
                    );
                  }
                },
                {
                  key: "addDepthTexture",
                  value: function (e) {
                    return (
                      (this.depthTexture =
                        e ||
                        new BaseTexture(
                          new DepthResource(null, {
                            width: this.width,
                            height: this.height
                          }),
                          {
                            scaleMode: SCALE_MODES.NEAREST,
                            resolution: 1,
                            width: this.width,
                            height: this.height,
                            mipmap: MIPMAP_MODES.OFF,
                            format: FORMATS.DEPTH_COMPONENT,
                            type: TYPES.UNSIGNED_SHORT
                          }
                        )),
                      this.dirtyId++,
                      this.dirtyFormat++,
                      this
                    );
                  }
                },
                {
                  key: "enableDepth",
                  value: function () {
                    return (
                      (this.depth = !0),
                      this.dirtyId++,
                      this.dirtyFormat++,
                      this
                    );
                  }
                },
                {
                  key: "enableStencil",
                  value: function () {
                    return (
                      (this.stencil = !0),
                      this.dirtyId++,
                      this.dirtyFormat++,
                      this
                    );
                  }
                },
                {
                  key: "resize",
                  value: function (e, t) {
                    if (
                      ((e = Math.round(e)),
                      (t = Math.round(t)),
                      e !== this.width || t !== this.height)
                    ) {
                      (this.width = e),
                        (this.height = t),
                        this.dirtyId++,
                        this.dirtySize++;
                      for (var r = 0; r < this.colorTextures.length; r++) {
                        var n = this.colorTextures[r],
                          i = n.resolution;
                        n.setSize(e / i, t / i);
                      }
                      if (this.depthTexture) {
                        var a = this.depthTexture.resolution;
                        this.depthTexture.setSize(e / a, t / a);
                      }
                    }
                  }
                },
                {
                  key: "dispose",
                  value: function () {
                    this.disposeRunner.emit(this, !1);
                  }
                },
                {
                  key: "destroyDepthTexture",
                  value: function () {
                    this.depthTexture &&
                      (this.depthTexture.destroy(),
                      (this.depthTexture = null),
                      ++this.dirtyId,
                      ++this.dirtyFormat);
                  }
                }
              ]),
              e
            );
          })(),
          BaseRenderTexture = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r() {
              var e,
                n,
                i =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : {};
              (_classCallCheck(this, r), "number" == typeof i) &&
                (i = {
                  width: arguments[0],
                  height: arguments[1],
                  scaleMode: arguments[2],
                  resolution: arguments[3]
                });
              return (
                (i.width = i.width || 100),
                (i.height = i.height || 100),
                (null !== (e = i.multisample) && void 0 !== e) ||
                  (i.multisample = MSAA_QUALITY.NONE),
                ((n = t.call(this, null, i)).mipmap = MIPMAP_MODES.OFF),
                (n.valid = !0),
                (n._clear = new Color([0, 0, 0, 0])),
                (n.framebuffer = new Framebuffer(
                  n.realWidth,
                  n.realHeight
                ).addColorTexture(0, _assertThisInitialized2(n))),
                (n.framebuffer.multisample = i.multisample),
                (n.maskStack = []),
                (n.filterStack = [{}]),
                n
              );
            }
            return (
              _createClass(r, [
                {
                  key: "clearColor",
                  get: function () {
                    return this._clear.value;
                  },
                  set: function (e) {
                    this._clear.setValue(e);
                  }
                },
                {
                  key: "clear",
                  get: function () {
                    return this._clear;
                  }
                },
                {
                  key: "resize",
                  value: function (e, t) {
                    this.framebuffer.resize(
                      e * this.resolution,
                      t * this.resolution
                    ),
                      this.setRealSize(
                        this.framebuffer.width,
                        this.framebuffer.height
                      );
                  }
                },
                {
                  key: "dispose",
                  value: function () {
                    this.framebuffer.dispose(),
                      _get3(_getPrototypeOf(r.prototype), "dispose", this).call(
                        this
                      );
                  }
                },
                {
                  key: "destroy",
                  value: function () {
                    _get3(_getPrototypeOf(r.prototype), "destroy", this).call(
                      this
                    ),
                      this.framebuffer.destroyDepthTexture(),
                      (this.framebuffer = null);
                  }
                }
              ]),
              r
            );
          })(BaseTexture),
          BaseImageResource = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e) {
              var n;
              _classCallCheck(this, r);
              var i = e,
                a = i.naturalWidth || i.videoWidth || i.width,
                s = i.naturalHeight || i.videoHeight || i.height;
              return (
                ((n = t.call(this, a, s)).source = e), (n.noSubImage = !1), n
              );
            }
            return (
              _createClass(
                r,
                [
                  {
                    key: "upload",
                    value: function (e, t, r, n) {
                      var i = e.gl,
                        a = t.realWidth,
                        s = t.realHeight;
                      if (
                        ((n = n || this.source),
                        "undefined" != typeof HTMLImageElement &&
                          n instanceof HTMLImageElement)
                      ) {
                        if (!n.complete || 0 === n.naturalWidth) return !1;
                      } else if (
                        "undefined" != typeof HTMLVideoElement &&
                        n instanceof HTMLVideoElement &&
                        n.readyState <= 1 &&
                        0 === n.buffered.length
                      )
                        return !1;
                      return (
                        i.pixelStorei(
                          i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
                          t.alphaMode === ALPHA_MODES.UNPACK
                        ),
                        this.noSubImage ||
                        t.target !== i.TEXTURE_2D ||
                        r.width !== a ||
                        r.height !== s
                          ? ((r.width = a),
                            (r.height = s),
                            i.texImage2D(
                              t.target,
                              0,
                              r.internalFormat,
                              t.format,
                              r.type,
                              n
                            ))
                          : i.texSubImage2D(
                              i.TEXTURE_2D,
                              0,
                              0,
                              0,
                              t.format,
                              r.type,
                              n
                            ),
                        !0
                      );
                    }
                  },
                  {
                    key: "update",
                    value: function () {
                      if (!this.destroyed) {
                        var e = this.source,
                          t = e.naturalWidth || e.videoWidth || e.width,
                          n = e.naturalHeight || e.videoHeight || e.height;
                        this.resize(t, n),
                          _get3(
                            _getPrototypeOf(r.prototype),
                            "update",
                            this
                          ).call(this);
                      }
                    }
                  },
                  {
                    key: "dispose",
                    value: function () {
                      this.source = null;
                    }
                  }
                ],
                [
                  {
                    key: "crossOrigin",
                    value: function (e, t, r) {
                      void 0 !== r || t.startsWith("data:")
                        ? !1 !== r &&
                          (e.crossOrigin =
                            "string" == typeof r ? r : "anonymous")
                        : (e.crossOrigin = determineCrossOrigin(t));
                    }
                  }
                ]
              ),
              r
            );
          })(Resource),
          ImageResource = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e, n) {
              var i, a;
              if (
                (_classCallCheck(this, r), (n = n || {}), "string" == typeof e)
              ) {
                var s = new Image();
                BaseImageResource.crossOrigin(s, e, n.crossorigin),
                  (s.src = e),
                  (e = s);
              }
              return (
                (a = t.call(this, e)),
                !e.complete &&
                  a._width &&
                  a._height &&
                  ((a._width = 0), (a._height = 0)),
                (a.url = e.src),
                (a._process = null),
                (a.preserveBitmap = !1),
                (a.createBitmap =
                  (null !== (i = n.createBitmap) && void 0 !== i
                    ? i
                    : settings.CREATE_IMAGE_BITMAP) &&
                  !!globalThis.createImageBitmap),
                (a.alphaMode =
                  "number" == typeof n.alphaMode ? n.alphaMode : null),
                (a.bitmap = null),
                (a._load = null),
                !1 !== n.autoLoad && a.load(),
                a
              );
            }
            return (
              _createClass(
                r,
                [
                  {
                    key: "load",
                    value: function (e) {
                      var t = this;
                      return (
                        this._load ||
                          (void 0 !== e && (this.createBitmap = e),
                          (this._load = new Promise(function (e, r) {
                            var n = t.source;
                            t.url = n.src;
                            var i = function () {
                              t.destroyed ||
                                ((n.onload = null),
                                (n.onerror = null),
                                t.resize(n.width, n.height),
                                (t._load = null),
                                t.createBitmap ? e(t.process()) : e(t));
                            };
                            n.complete && n.src
                              ? i()
                              : ((n.onload = i),
                                (n.onerror = function (e) {
                                  r(e), t.onError.emit(e);
                                }));
                          }))),
                        this._load
                      );
                    }
                  },
                  {
                    key: "process",
                    value: function () {
                      var e = this,
                        t = this.source;
                      if (null !== this._process) return this._process;
                      if (null !== this.bitmap || !globalThis.createImageBitmap)
                        return Promise.resolve(this);
                      var r = globalThis.createImageBitmap,
                        n = !t.crossOrigin || "anonymous" === t.crossOrigin;
                      return (
                        (this._process = fetch(t.src, {
                          mode: n ? "cors" : "no-cors"
                        })
                          .then(function (e) {
                            return e.blob();
                          })
                          .then(function (n) {
                            return r(n, 0, 0, t.width, t.height, {
                              premultiplyAlpha:
                                null === e.alphaMode ||
                                e.alphaMode === ALPHA_MODES.UNPACK
                                  ? "premultiply"
                                  : "none"
                            });
                          })
                          .then(function (t) {
                            return e.destroyed
                              ? Promise.reject()
                              : ((e.bitmap = t),
                                e.update(),
                                (e._process = null),
                                Promise.resolve(e));
                          })),
                        this._process
                      );
                    }
                  },
                  {
                    key: "upload",
                    value: function (e, t, n) {
                      if (
                        ("number" == typeof this.alphaMode &&
                          (t.alphaMode = this.alphaMode),
                        !this.createBitmap)
                      )
                        return _get3(
                          _getPrototypeOf(r.prototype),
                          "upload",
                          this
                        ).call(this, e, t, n);
                      if (!this.bitmap && (this.process(), !this.bitmap))
                        return !1;
                      if (
                        (_get3(
                          _getPrototypeOf(r.prototype),
                          "upload",
                          this
                        ).call(this, e, t, n, this.bitmap),
                        !this.preserveBitmap)
                      ) {
                        var i = !0,
                          a = t._glTextures;
                        for (var s in a) {
                          var o = a[s];
                          if (o !== n && o.dirtyId !== t.dirtyId) {
                            i = !1;
                            break;
                          }
                        }
                        i &&
                          (this.bitmap.close && this.bitmap.close(),
                          (this.bitmap = null));
                      }
                      return !0;
                    }
                  },
                  {
                    key: "dispose",
                    value: function () {
                      (this.source.onload = null),
                        (this.source.onerror = null),
                        _get3(
                          _getPrototypeOf(r.prototype),
                          "dispose",
                          this
                        ).call(this),
                        this.bitmap &&
                          (this.bitmap.close(), (this.bitmap = null)),
                        (this._process = null),
                        (this._load = null);
                    }
                  }
                ],
                [
                  {
                    key: "test",
                    value: function (e) {
                      return (
                        "undefined" != typeof HTMLImageElement &&
                        ("string" == typeof e || e instanceof HTMLImageElement)
                      );
                    }
                  }
                ]
              ),
              r
            );
          })(BaseImageResource),
          TextureUvs = (function () {
            function e() {
              _classCallCheck(this, e),
                (this.x0 = 0),
                (this.y0 = 0),
                (this.x1 = 1),
                (this.y1 = 0),
                (this.x2 = 1),
                (this.y2 = 1),
                (this.x3 = 0),
                (this.y3 = 1),
                (this.uvsFloat32 = new Float32Array(8));
            }
            return (
              _createClass(e, [
                {
                  key: "set",
                  value: function (e, t, r) {
                    var n = t.width,
                      i = t.height;
                    if (r) {
                      var a = e.width / 2 / n,
                        s = e.height / 2 / i,
                        o = e.x / n + a,
                        u = e.y / i + s;
                      (r = groupD8.add(r, groupD8.NW)),
                        (this.x0 = o + a * groupD8.uX(r)),
                        (this.y0 = u + s * groupD8.uY(r)),
                        (r = groupD8.add(r, 2)),
                        (this.x1 = o + a * groupD8.uX(r)),
                        (this.y1 = u + s * groupD8.uY(r)),
                        (r = groupD8.add(r, 2)),
                        (this.x2 = o + a * groupD8.uX(r)),
                        (this.y2 = u + s * groupD8.uY(r)),
                        (r = groupD8.add(r, 2)),
                        (this.x3 = o + a * groupD8.uX(r)),
                        (this.y3 = u + s * groupD8.uY(r));
                    } else
                      (this.x0 = e.x / n),
                        (this.y0 = e.y / i),
                        (this.x1 = (e.x + e.width) / n),
                        (this.y1 = e.y / i),
                        (this.x2 = (e.x + e.width) / n),
                        (this.y2 = (e.y + e.height) / i),
                        (this.x3 = e.x / n),
                        (this.y3 = (e.y + e.height) / i);
                    (this.uvsFloat32[0] = this.x0),
                      (this.uvsFloat32[1] = this.y0),
                      (this.uvsFloat32[2] = this.x1),
                      (this.uvsFloat32[3] = this.y1),
                      (this.uvsFloat32[4] = this.x2),
                      (this.uvsFloat32[5] = this.y2),
                      (this.uvsFloat32[6] = this.x3),
                      (this.uvsFloat32[7] = this.y3);
                  }
                },
                {
                  key: "toString",
                  value: function () {
                    return "[@pixi/core:TextureUvs x0="
                      .concat(this.x0, " y0=")
                      .concat(this.y0, " x1=")
                      .concat(this.x1, " y1=")
                      .concat(this.y1, " x2=")
                      .concat(this.x2, " y2=")
                      .concat(this.y2, " x3=")
                      .concat(this.x3, " y3=")
                      .concat(this.y3, "]");
                  }
                }
              ]),
              e
            );
          })(),
          DEFAULT_UVS = new TextureUvs();
        function removeAllHandlers(e) {
          (e.destroy = function () {}),
            (e.on = function () {}),
            (e.once = function () {}),
            (e.emit = function () {});
        }
        var Texture = (function (e) {
          _inherits(r, e);
          var t = _createSuper(r);
          function r(e, n, i, a, s, o, u) {
            var l;
            if (
              (_classCallCheck(this, r),
              ((l = t.call(this)).noFrame = !1),
              n || ((l.noFrame = !0), (n = new Rectangle(0, 0, 1, 1))),
              e instanceof r && (e = e.baseTexture),
              (l.baseTexture = e),
              (l._frame = n),
              (l.trim = a),
              (l.valid = !1),
              (l._uvs = DEFAULT_UVS),
              (l.uvMatrix = null),
              (l.orig = i || n),
              (l._rotate = Number(s || 0)),
              !0 === s)
            )
              l._rotate = 2;
            else if (l._rotate % 2 != 0)
              throw new Error(
                "attempt to use diamond-shaped UVs. If you are sure, set rotation manually"
              );
            return (
              (l.defaultAnchor = o ? new Point(o.x, o.y) : new Point(0, 0)),
              (l.defaultBorders = u),
              (l._updateID = 0),
              (l.textureCacheIds = []),
              e.valid
                ? l.noFrame
                  ? e.valid && l.onBaseTextureUpdated(e)
                  : (l.frame = n)
                : e.once(
                    "loaded",
                    l.onBaseTextureUpdated,
                    _assertThisInitialized2(l)
                  ),
              l.noFrame &&
                e.on(
                  "update",
                  l.onBaseTextureUpdated,
                  _assertThisInitialized2(l)
                ),
              l
            );
          }
          return (
            _createClass(
              r,
              [
                {
                  key: "update",
                  value: function () {
                    this.baseTexture.resource &&
                      this.baseTexture.resource.update();
                  }
                },
                {
                  key: "onBaseTextureUpdated",
                  value: function (e) {
                    if (this.noFrame) {
                      if (!this.baseTexture.valid) return;
                      (this._frame.width = e.width),
                        (this._frame.height = e.height),
                        (this.valid = !0),
                        this.updateUvs();
                    } else this.frame = this._frame;
                    this.emit("update", this);
                  }
                },
                {
                  key: "destroy",
                  value: function (e) {
                    if (this.baseTexture) {
                      if (e) {
                        var t = this.baseTexture.resource;
                        null != t &&
                          t.url &&
                          TextureCache[t.url] &&
                          r.removeFromCache(t.url),
                          this.baseTexture.destroy();
                      }
                      this.baseTexture.off(
                        "loaded",
                        this.onBaseTextureUpdated,
                        this
                      ),
                        this.baseTexture.off(
                          "update",
                          this.onBaseTextureUpdated,
                          this
                        ),
                        (this.baseTexture = null);
                    }
                    (this._frame = null),
                      (this._uvs = null),
                      (this.trim = null),
                      (this.orig = null),
                      (this.valid = !1),
                      r.removeFromCache(this),
                      (this.textureCacheIds = null);
                  }
                },
                {
                  key: "clone",
                  value: function () {
                    var e,
                      t = this._frame.clone(),
                      n = this._frame === this.orig ? t : this.orig.clone(),
                      i = new r(
                        this.baseTexture,
                        !this.noFrame && t,
                        n,
                        null === (e = this.trim) || void 0 === e
                          ? void 0
                          : e.clone(),
                        this.rotate,
                        this.defaultAnchor,
                        this.defaultBorders
                      );
                    return this.noFrame && (i._frame = t), i;
                  }
                },
                {
                  key: "updateUvs",
                  value: function () {
                    this._uvs === DEFAULT_UVS && (this._uvs = new TextureUvs()),
                      this._uvs.set(this._frame, this.baseTexture, this.rotate),
                      this._updateID++;
                  }
                },
                {
                  key: "resolution",
                  get: function () {
                    return this.baseTexture.resolution;
                  }
                },
                {
                  key: "frame",
                  get: function () {
                    return this._frame;
                  },
                  set: function (e) {
                    (this._frame = e), (this.noFrame = !1);
                    var t = e.x,
                      r = e.y,
                      n = e.width,
                      i = e.height,
                      a = t + n > this.baseTexture.width,
                      s = r + i > this.baseTexture.height;
                    if (a || s) {
                      var o = a && s ? "and" : "or",
                        u = "X: "
                          .concat(t, " + ")
                          .concat(n, " = ")
                          .concat(t + n, " > ")
                          .concat(this.baseTexture.width),
                        l = "Y: "
                          .concat(r, " + ")
                          .concat(i, " = ")
                          .concat(r + i, " > ")
                          .concat(this.baseTexture.height);
                      throw new Error(
                        "Texture Error: frame does not fit inside the base Texture dimensions: "
                          .concat(u, " ")
                          .concat(o, " ")
                          .concat(l)
                      );
                    }
                    (this.valid = n && i && this.baseTexture.valid),
                      this.trim || this.rotate || (this.orig = e),
                      this.valid && this.updateUvs();
                  }
                },
                {
                  key: "rotate",
                  get: function () {
                    return this._rotate;
                  },
                  set: function (e) {
                    (this._rotate = e), this.valid && this.updateUvs();
                  }
                },
                {
                  key: "width",
                  get: function () {
                    return this.orig.width;
                  }
                },
                {
                  key: "height",
                  get: function () {
                    return this.orig.height;
                  }
                },
                {
                  key: "castToBaseTexture",
                  value: function () {
                    return this.baseTexture;
                  }
                }
              ],
              [
                {
                  key: "from",
                  value: function (e) {
                    var t =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : {},
                      n =
                        arguments.length > 2 && void 0 !== arguments[2]
                          ? arguments[2]
                          : settings.STRICT_TEXTURE_CACHE,
                      i = "string" == typeof e,
                      a = null;
                    if (i) a = e;
                    else if (e instanceof BaseTexture) {
                      if (!e.cacheId) {
                        var s =
                          (null == t ? void 0 : t.pixiIdPrefix) || "pixiid";
                        (e.cacheId = "".concat(s, "-").concat(uid())),
                          BaseTexture.addToCache(e, e.cacheId);
                      }
                      a = e.cacheId;
                    } else {
                      if (!e._pixiId) {
                        var o =
                          (null == t ? void 0 : t.pixiIdPrefix) || "pixiid";
                        e._pixiId = "".concat(o, "_").concat(uid());
                      }
                      a = e._pixiId;
                    }
                    var u = TextureCache[a];
                    if (i && n && !u)
                      throw new Error(
                        'The cacheId "'.concat(
                          a,
                          '" does not exist in TextureCache.'
                        )
                      );
                    return (
                      u || e instanceof BaseTexture
                        ? !u &&
                          e instanceof BaseTexture &&
                          ((u = new r(e)), r.addToCache(u, a))
                        : (t.resolution ||
                            (t.resolution = getResolutionOfUrl(e)),
                          ((u = new r(
                            new BaseTexture(e, t)
                          )).baseTexture.cacheId = a),
                          BaseTexture.addToCache(u.baseTexture, a),
                          r.addToCache(u, a)),
                      u
                    );
                  }
                },
                {
                  key: "fromURL",
                  value: function (e, t) {
                    var n = Object.assign(
                        { autoLoad: !1 },
                        null == t ? void 0 : t.resourceOptions
                      ),
                      i = r.from(
                        e,
                        Object.assign({ resourceOptions: n }, t),
                        !1
                      ),
                      a = i.baseTexture.resource;
                    return i.baseTexture.valid
                      ? Promise.resolve(i)
                      : a.load().then(function () {
                          return Promise.resolve(i);
                        });
                  }
                },
                {
                  key: "fromBuffer",
                  value: function (e, t, n, i) {
                    return new r(BaseTexture.fromBuffer(e, t, n, i));
                  }
                },
                {
                  key: "fromLoader",
                  value: function (e, t, n, i) {
                    var a = new BaseTexture(
                        e,
                        Object.assign(
                          {
                            scaleMode: BaseTexture.defaultOptions.scaleMode,
                            resolution: getResolutionOfUrl(t)
                          },
                          i
                        )
                      ),
                      s = a.resource;
                    s instanceof ImageResource && (s.url = t);
                    var o = new r(a);
                    return (
                      n || (n = t),
                      BaseTexture.addToCache(o.baseTexture, n),
                      r.addToCache(o, n),
                      n !== t &&
                        (BaseTexture.addToCache(o.baseTexture, t),
                        r.addToCache(o, t)),
                      o.baseTexture.valid
                        ? Promise.resolve(o)
                        : new Promise(function (e) {
                            o.baseTexture.once("loaded", function () {
                              return e(o);
                            });
                          })
                    );
                  }
                },
                {
                  key: "addToCache",
                  value: function (e, t) {
                    t &&
                      (e.textureCacheIds.includes(t) ||
                        e.textureCacheIds.push(t),
                      TextureCache[t] &&
                        TextureCache[t] !== e &&
                        console.warn(
                          "Texture added to the cache with an id [".concat(
                            t,
                            "] that already had an entry"
                          )
                        ),
                      (TextureCache[t] = e));
                  }
                },
                {
                  key: "removeFromCache",
                  value: function (e) {
                    if ("string" == typeof e) {
                      var t = TextureCache[e];
                      if (t) {
                        var r = t.textureCacheIds.indexOf(e);
                        return (
                          r > -1 && t.textureCacheIds.splice(r, 1),
                          delete TextureCache[e],
                          t
                        );
                      }
                    } else if (null != e && e.textureCacheIds) {
                      for (var n = 0; n < e.textureCacheIds.length; ++n)
                        TextureCache[e.textureCacheIds[n]] === e &&
                          delete TextureCache[e.textureCacheIds[n]];
                      return (e.textureCacheIds.length = 0), e;
                    }
                    return null;
                  }
                },
                {
                  key: "EMPTY",
                  get: function () {
                    return (
                      r._EMPTY ||
                        ((r._EMPTY = new r(new BaseTexture())),
                        removeAllHandlers(r._EMPTY),
                        removeAllHandlers(r._EMPTY.baseTexture)),
                      r._EMPTY
                    );
                  }
                },
                {
                  key: "WHITE",
                  get: function () {
                    if (!r._WHITE) {
                      var e = settings.ADAPTER.createCanvas(16, 16),
                        t = e.getContext("2d");
                      (e.width = 16),
                        (e.height = 16),
                        (t.fillStyle = "white"),
                        t.fillRect(0, 0, 16, 16),
                        (r._WHITE = new r(BaseTexture.from(e))),
                        removeAllHandlers(r._WHITE),
                        removeAllHandlers(r._WHITE.baseTexture);
                    }
                    return r._WHITE;
                  }
                }
              ]
            ),
            r
          );
        })(EventEmitter);
        exports("k", Texture);
        var RenderTexture = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e, n) {
              var i;
              return (
                _classCallCheck(this, r),
                ((i = t.call(this, e, n)).valid = !0),
                (i.filterFrame = null),
                (i.filterPoolKey = null),
                i.updateUvs(),
                i
              );
            }
            return (
              _createClass(
                r,
                [
                  {
                    key: "framebuffer",
                    get: function () {
                      return this.baseTexture.framebuffer;
                    }
                  },
                  {
                    key: "multisample",
                    get: function () {
                      return this.framebuffer.multisample;
                    },
                    set: function (e) {
                      this.framebuffer.multisample = e;
                    }
                  },
                  {
                    key: "resize",
                    value: function (e, t) {
                      var r =
                          !(arguments.length > 2 && void 0 !== arguments[2]) ||
                          arguments[2],
                        n = this.baseTexture.resolution,
                        i = Math.round(e * n) / n,
                        a = Math.round(t * n) / n;
                      (this.valid = i > 0 && a > 0),
                        (this._frame.width = this.orig.width = i),
                        (this._frame.height = this.orig.height = a),
                        r && this.baseTexture.resize(i, a),
                        this.updateUvs();
                    }
                  },
                  {
                    key: "setResolution",
                    value: function (e) {
                      var t = this.baseTexture;
                      t.resolution !== e &&
                        (t.setResolution(e),
                        this.resize(t.width, t.height, !1));
                    }
                  }
                ],
                [
                  {
                    key: "create",
                    value: function (e) {
                      return new r(new BaseRenderTexture(e));
                    }
                  }
                ]
              ),
              r
            );
          })(Texture),
          RenderTexturePool = (function () {
            function e(t) {
              _classCallCheck(this, e),
                (this.texturePool = {}),
                (this.textureOptions = t || {}),
                (this.enableFullScreen = !1),
                (this._pixelsWidth = 0),
                (this._pixelsHeight = 0);
            }
            return (
              _createClass(e, [
                {
                  key: "createTexture",
                  value: function (e, t) {
                    var r =
                        arguments.length > 2 && void 0 !== arguments[2]
                          ? arguments[2]
                          : MSAA_QUALITY.NONE,
                      n = new BaseRenderTexture(
                        Object.assign(
                          {
                            width: e,
                            height: t,
                            resolution: 1,
                            multisample: r
                          },
                          this.textureOptions
                        )
                      );
                    return new RenderTexture(n);
                  }
                },
                {
                  key: "getOptimalTexture",
                  value: function (e, t) {
                    var r,
                      n =
                        arguments.length > 2 && void 0 !== arguments[2]
                          ? arguments[2]
                          : 1,
                      i =
                        arguments.length > 3 && void 0 !== arguments[3]
                          ? arguments[3]
                          : MSAA_QUALITY.NONE;
                    (e = Math.ceil(e * n - 1e-6)),
                      (t = Math.ceil(t * n - 1e-6)),
                      this.enableFullScreen &&
                      e === this._pixelsWidth &&
                      t === this._pixelsHeight
                        ? (r = i > 1 ? -i : -1)
                        : ((r =
                            (((65535 & (e = nextPow2(e))) << 16) |
                              (65535 & (t = nextPow2(t)))) >>>
                            0),
                          i > 1 && (r += 4294967296 * i)),
                      this.texturePool[r] || (this.texturePool[r] = []);
                    var a = this.texturePool[r].pop();
                    return (
                      a || (a = this.createTexture(e, t, i)),
                      (a.filterPoolKey = r),
                      a.setResolution(n),
                      a
                    );
                  }
                },
                {
                  key: "getFilterTexture",
                  value: function (e, t, r) {
                    var n = this.getOptimalTexture(
                      e.width,
                      e.height,
                      t || e.resolution,
                      r || MSAA_QUALITY.NONE
                    );
                    return (n.filterFrame = e.filterFrame), n;
                  }
                },
                {
                  key: "returnTexture",
                  value: function (e) {
                    var t = e.filterPoolKey;
                    (e.filterFrame = null), this.texturePool[t].push(e);
                  }
                },
                {
                  key: "returnFilterTexture",
                  value: function (e) {
                    this.returnTexture(e);
                  }
                },
                {
                  key: "clear",
                  value: function (e) {
                    if ((e = !1 !== e))
                      for (var t in this.texturePool) {
                        var r = this.texturePool[t];
                        if (r)
                          for (var n = 0; n < r.length; n++) r[n].destroy(!0);
                      }
                    this.texturePool = {};
                  }
                },
                {
                  key: "setScreenSize",
                  value: function (e) {
                    if (
                      e.width !== this._pixelsWidth ||
                      e.height !== this._pixelsHeight
                    ) {
                      for (var t in ((this.enableFullScreen =
                        e.width > 0 && e.height > 0),
                      this.texturePool))
                        if (Number(t) < 0) {
                          var r = this.texturePool[t];
                          if (r)
                            for (var n = 0; n < r.length; n++) r[n].destroy(!0);
                          this.texturePool[t] = [];
                        }
                      (this._pixelsWidth = e.width),
                        (this._pixelsHeight = e.height);
                    }
                  }
                }
              ]),
              e
            );
          })();
        RenderTexturePool.SCREEN_KEY = -1;
        var Quad = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r() {
              var e;
              return (
                _classCallCheck(this, r),
                (e = t.call(this))
                  .addAttribute(
                    "aVertexPosition",
                    new Float32Array([0, 0, 1, 0, 1, 1, 0, 1])
                  )
                  .addIndex([0, 1, 3, 2]),
                e
              );
            }
            return _createClass(r);
          })(Geometry),
          QuadUv = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r() {
              var e;
              return (
                _classCallCheck(this, r),
                ((e = t.call(this)).vertices = new Float32Array([
                  -1,
                  -1,
                  1,
                  -1,
                  1,
                  1,
                  -1,
                  1
                ])),
                (e.uvs = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1])),
                (e.vertexBuffer = new Buffer(e.vertices)),
                (e.uvBuffer = new Buffer(e.uvs)),
                e
                  .addAttribute("aVertexPosition", e.vertexBuffer)
                  .addAttribute("aTextureCoord", e.uvBuffer)
                  .addIndex([0, 1, 2, 0, 2, 3]),
                e
              );
            }
            return (
              _createClass(r, [
                {
                  key: "map",
                  value: function (e, t) {
                    var r = 0,
                      n = 0;
                    return (
                      (this.uvs[0] = r),
                      (this.uvs[1] = n),
                      (this.uvs[2] = r + t.width / e.width),
                      (this.uvs[3] = n),
                      (this.uvs[4] = r + t.width / e.width),
                      (this.uvs[5] = n + t.height / e.height),
                      (this.uvs[6] = r),
                      (this.uvs[7] = n + t.height / e.height),
                      (r = t.x),
                      (n = t.y),
                      (this.vertices[0] = r),
                      (this.vertices[1] = n),
                      (this.vertices[2] = r + t.width),
                      (this.vertices[3] = n),
                      (this.vertices[4] = r + t.width),
                      (this.vertices[5] = n + t.height),
                      (this.vertices[6] = r),
                      (this.vertices[7] = n + t.height),
                      this.invalidate(),
                      this
                    );
                  }
                },
                {
                  key: "invalidate",
                  value: function () {
                    return (
                      this.vertexBuffer._updateID++,
                      this.uvBuffer._updateID++,
                      this
                    );
                  }
                }
              ]),
              r
            );
          })(Geometry),
          FilterState = (function () {
            function e() {
              _classCallCheck(this, e),
                (this.renderTexture = null),
                (this.target = null),
                (this.legacy = !1),
                (this.resolution = 1),
                (this.multisample = MSAA_QUALITY.NONE),
                (this.sourceFrame = new Rectangle()),
                (this.destinationFrame = new Rectangle()),
                (this.bindingSourceFrame = new Rectangle()),
                (this.bindingDestinationFrame = new Rectangle()),
                (this.filters = []),
                (this.transform = null);
            }
            return (
              _createClass(e, [
                {
                  key: "clear",
                  value: function () {
                    (this.target = null),
                      (this.filters = null),
                      (this.renderTexture = null);
                  }
                }
              ]),
              e
            );
          })(),
          tempPoints = [new Point(), new Point(), new Point(), new Point()],
          tempMatrix$2 = new Matrix(),
          FilterSystem = (function () {
            function e(t) {
              _classCallCheck(this, e),
                (this.renderer = t),
                (this.defaultFilterStack = [{}]),
                (this.texturePool = new RenderTexturePool()),
                (this.statePool = []),
                (this.quad = new Quad()),
                (this.quadUv = new QuadUv()),
                (this.tempRect = new Rectangle()),
                (this.activeState = {}),
                (this.globalUniforms = new UniformGroup(
                  {
                    outputFrame: new Rectangle(),
                    inputSize: new Float32Array(4),
                    inputPixel: new Float32Array(4),
                    inputClamp: new Float32Array(4),
                    resolution: 1,
                    filterArea: new Float32Array(4),
                    filterClamp: new Float32Array(4)
                  },
                  !0
                )),
                (this.forceClear = !1),
                (this.useMaxPadding = !1);
            }
            return (
              _createClass(e, [
                {
                  key: "init",
                  value: function () {
                    this.texturePool.setScreenSize(this.renderer.view);
                  }
                },
                {
                  key: "push",
                  value: function (e, t) {
                    for (
                      var r,
                        n = this.renderer,
                        i = this.defaultFilterStack,
                        a = this.statePool.pop() || new FilterState(),
                        s = this.renderer.renderTexture,
                        o = t[0].resolution,
                        u = t[0].multisample,
                        l = t[0].padding,
                        c = t[0].autoFit,
                        h = null === (r = t[0].legacy) || void 0 === r || r,
                        f = 1;
                      f < t.length;
                      f++
                    ) {
                      var d,
                        p = t[f];
                      (o = Math.min(o, p.resolution)),
                        (u = Math.min(u, p.multisample)),
                        (l = this.useMaxPadding
                          ? Math.max(l, p.padding)
                          : l + p.padding),
                        (c = c && p.autoFit),
                        (h = h || null === (d = p.legacy) || void 0 === d || d);
                    }
                    1 === i.length &&
                      (this.defaultFilterStack[0].renderTexture = s.current),
                      i.push(a),
                      (a.resolution = o),
                      (a.multisample = u),
                      (a.legacy = h),
                      (a.target = e),
                      a.sourceFrame.copyFrom(e.filterArea || e.getBounds(!0)),
                      a.sourceFrame.pad(l);
                    var _ = this.tempRect.copyFrom(s.sourceFrame);
                    n.projection.transform &&
                      this.transformAABB(
                        tempMatrix$2.copyFrom(n.projection.transform).invert(),
                        _
                      ),
                      c
                        ? (a.sourceFrame.fit(_),
                          (a.sourceFrame.width <= 0 ||
                            a.sourceFrame.height <= 0) &&
                            ((a.sourceFrame.width = 0),
                            (a.sourceFrame.height = 0)))
                        : a.sourceFrame.intersects(_) ||
                          ((a.sourceFrame.width = 0),
                          (a.sourceFrame.height = 0)),
                      this.roundFrame(
                        a.sourceFrame,
                        s.current ? s.current.resolution : n.resolution,
                        s.sourceFrame,
                        s.destinationFrame,
                        n.projection.transform
                      ),
                      (a.renderTexture = this.getOptimalFilterTexture(
                        a.sourceFrame.width,
                        a.sourceFrame.height,
                        o,
                        u
                      )),
                      (a.filters = t),
                      (a.destinationFrame.width = a.renderTexture.width),
                      (a.destinationFrame.height = a.renderTexture.height);
                    var v = this.tempRect;
                    (v.x = 0),
                      (v.y = 0),
                      (v.width = a.sourceFrame.width),
                      (v.height = a.sourceFrame.height),
                      (a.renderTexture.filterFrame = a.sourceFrame),
                      a.bindingSourceFrame.copyFrom(s.sourceFrame),
                      a.bindingDestinationFrame.copyFrom(s.destinationFrame),
                      (a.transform = n.projection.transform),
                      (n.projection.transform = null),
                      s.bind(a.renderTexture, a.sourceFrame, v),
                      n.framebuffer.clear(0, 0, 0, 0);
                  }
                },
                {
                  key: "pop",
                  value: function () {
                    var e = this.defaultFilterStack,
                      t = e.pop(),
                      r = t.filters;
                    this.activeState = t;
                    var n = this.globalUniforms.uniforms;
                    (n.outputFrame = t.sourceFrame),
                      (n.resolution = t.resolution);
                    var i = n.inputSize,
                      a = n.inputPixel,
                      s = n.inputClamp;
                    if (
                      ((i[0] = t.destinationFrame.width),
                      (i[1] = t.destinationFrame.height),
                      (i[2] = 1 / i[0]),
                      (i[3] = 1 / i[1]),
                      (a[0] = Math.round(i[0] * t.resolution)),
                      (a[1] = Math.round(i[1] * t.resolution)),
                      (a[2] = 1 / a[0]),
                      (a[3] = 1 / a[1]),
                      (s[0] = 0.5 * a[2]),
                      (s[1] = 0.5 * a[3]),
                      (s[2] = t.sourceFrame.width * i[2] - 0.5 * a[2]),
                      (s[3] = t.sourceFrame.height * i[3] - 0.5 * a[3]),
                      t.legacy)
                    ) {
                      var o = n.filterArea;
                      (o[0] = t.destinationFrame.width),
                        (o[1] = t.destinationFrame.height),
                        (o[2] = t.sourceFrame.x),
                        (o[3] = t.sourceFrame.y),
                        (n.filterClamp = n.inputClamp);
                    }
                    this.globalUniforms.update();
                    var u = e[e.length - 1];
                    if ((this.renderer.framebuffer.blit(), 1 === r.length))
                      r[0].apply(
                        this,
                        t.renderTexture,
                        u.renderTexture,
                        CLEAR_MODES.BLEND,
                        t
                      ),
                        this.returnFilterTexture(t.renderTexture);
                    else {
                      var l = t.renderTexture,
                        c = this.getOptimalFilterTexture(
                          l.width,
                          l.height,
                          t.resolution
                        );
                      c.filterFrame = l.filterFrame;
                      var h = 0;
                      for (h = 0; h < r.length - 1; ++h) {
                        1 === h &&
                          t.multisample > 1 &&
                          ((c = this.getOptimalFilterTexture(
                            l.width,
                            l.height,
                            t.resolution
                          )).filterFrame = l.filterFrame),
                          r[h].apply(this, l, c, CLEAR_MODES.CLEAR, t);
                        var f = l;
                        (l = c), (c = f);
                      }
                      r[h].apply(
                        this,
                        l,
                        u.renderTexture,
                        CLEAR_MODES.BLEND,
                        t
                      ),
                        h > 1 &&
                          t.multisample > 1 &&
                          this.returnFilterTexture(t.renderTexture),
                        this.returnFilterTexture(l),
                        this.returnFilterTexture(c);
                    }
                    t.clear(), this.statePool.push(t);
                  }
                },
                {
                  key: "bindAndClear",
                  value: function (e) {
                    var t =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : CLEAR_MODES.CLEAR,
                      r = this.renderer,
                      n = r.renderTexture,
                      i = r.state;
                    if (
                      (e ===
                      this.defaultFilterStack[
                        this.defaultFilterStack.length - 1
                      ].renderTexture
                        ? (this.renderer.projection.transform = this.activeState.transform)
                        : (this.renderer.projection.transform = null),
                      null != e && e.filterFrame)
                    ) {
                      var a = this.tempRect;
                      (a.x = 0),
                        (a.y = 0),
                        (a.width = e.filterFrame.width),
                        (a.height = e.filterFrame.height),
                        n.bind(e, e.filterFrame, a);
                    } else
                      e !==
                      this.defaultFilterStack[
                        this.defaultFilterStack.length - 1
                      ].renderTexture
                        ? n.bind(e)
                        : this.renderer.renderTexture.bind(
                            e,
                            this.activeState.bindingSourceFrame,
                            this.activeState.bindingDestinationFrame
                          );
                    var s = 1 & i.stateId || this.forceClear;
                    (t === CLEAR_MODES.CLEAR ||
                      (t === CLEAR_MODES.BLIT && s)) &&
                      this.renderer.framebuffer.clear(0, 0, 0, 0);
                  }
                },
                {
                  key: "applyFilter",
                  value: function (e, t, r, n) {
                    var i = this.renderer;
                    i.state.set(e.state),
                      this.bindAndClear(r, n),
                      (e.uniforms.uSampler = t),
                      (e.uniforms.filterGlobals = this.globalUniforms),
                      i.shader.bind(e),
                      (e.legacy = !!e.program.attributeData.aTextureCoord),
                      e.legacy
                        ? (this.quadUv.map(t._frame, t.filterFrame),
                          i.geometry.bind(this.quadUv),
                          i.geometry.draw(DRAW_MODES.TRIANGLES))
                        : (i.geometry.bind(this.quad),
                          i.geometry.draw(DRAW_MODES.TRIANGLE_STRIP));
                  }
                },
                {
                  key: "calculateSpriteMatrix",
                  value: function (e, t) {
                    var r = this.activeState,
                      n = r.sourceFrame,
                      i = r.destinationFrame,
                      a = t._texture.orig,
                      s = e.set(i.width, 0, 0, i.height, n.x, n.y),
                      o = t.worldTransform.copyTo(Matrix.TEMP_MATRIX);
                    return (
                      o.invert(),
                      s.prepend(o),
                      s.scale(1 / a.width, 1 / a.height),
                      s.translate(t.anchor.x, t.anchor.y),
                      s
                    );
                  }
                },
                {
                  key: "destroy",
                  value: function () {
                    (this.renderer = null), this.texturePool.clear(!1);
                  }
                },
                {
                  key: "getOptimalFilterTexture",
                  value: function (e, t) {
                    var r =
                        arguments.length > 2 && void 0 !== arguments[2]
                          ? arguments[2]
                          : 1,
                      n =
                        arguments.length > 3 && void 0 !== arguments[3]
                          ? arguments[3]
                          : MSAA_QUALITY.NONE;
                    return this.texturePool.getOptimalTexture(e, t, r, n);
                  }
                },
                {
                  key: "getFilterTexture",
                  value: function (e, t, r) {
                    if ("number" == typeof e) {
                      var n = e;
                      (e = t), (t = n);
                    }
                    e = e || this.activeState.renderTexture;
                    var i = this.texturePool.getOptimalTexture(
                      e.width,
                      e.height,
                      t || e.resolution,
                      r || MSAA_QUALITY.NONE
                    );
                    return (i.filterFrame = e.filterFrame), i;
                  }
                },
                {
                  key: "returnFilterTexture",
                  value: function (e) {
                    this.texturePool.returnTexture(e);
                  }
                },
                {
                  key: "emptyPool",
                  value: function () {
                    this.texturePool.clear(!0);
                  }
                },
                {
                  key: "resize",
                  value: function () {
                    this.texturePool.setScreenSize(this.renderer.view);
                  }
                },
                {
                  key: "transformAABB",
                  value: function (e, t) {
                    var r = tempPoints[0],
                      n = tempPoints[1],
                      i = tempPoints[2],
                      a = tempPoints[3];
                    r.set(t.left, t.top),
                      n.set(t.left, t.bottom),
                      i.set(t.right, t.top),
                      a.set(t.right, t.bottom),
                      e.apply(r, r),
                      e.apply(n, n),
                      e.apply(i, i),
                      e.apply(a, a);
                    var s = Math.min(r.x, n.x, i.x, a.x),
                      o = Math.min(r.y, n.y, i.y, a.y),
                      u = Math.max(r.x, n.x, i.x, a.x),
                      l = Math.max(r.y, n.y, i.y, a.y);
                    (t.x = s), (t.y = o), (t.width = u - s), (t.height = l - o);
                  }
                },
                {
                  key: "roundFrame",
                  value: function (e, t, r, n, i) {
                    if (
                      !(
                        e.width <= 0 ||
                        e.height <= 0 ||
                        r.width <= 0 ||
                        r.height <= 0
                      )
                    ) {
                      if (i) {
                        var a = i,
                          s = a.a,
                          o = a.b,
                          u = a.c,
                          l = a.d;
                        if (
                          (Math.abs(o) > 1e-4 || Math.abs(u) > 1e-4) &&
                          (Math.abs(s) > 1e-4 || Math.abs(l) > 1e-4)
                        )
                          return;
                      }
                      (i = i
                        ? tempMatrix$2.copyFrom(i)
                        : tempMatrix$2.identity())
                        .translate(-r.x, -r.y)
                        .scale(n.width / r.width, n.height / r.height)
                        .translate(n.x, n.y),
                        this.transformAABB(i, e),
                        e.ceil(t),
                        this.transformAABB(i.invert(), e);
                    }
                  }
                }
              ]),
              e
            );
          })();
        (FilterSystem.extension = {
          type: ExtensionType.RendererSystem,
          name: "filter"
        }),
          extensions$1.add(FilterSystem);
        var GLFramebuffer = _createClass(function e(t) {
            _classCallCheck(this, e),
              (this.framebuffer = t),
              (this.stencil = null),
              (this.dirtyId = -1),
              (this.dirtyFormat = -1),
              (this.dirtySize = -1),
              (this.multisample = MSAA_QUALITY.NONE),
              (this.msaaBuffer = null),
              (this.blitFramebuffer = null),
              (this.mipLevel = 0);
          }),
          tempRectangle = new Rectangle(),
          FramebufferSystem = (function () {
            function e(t) {
              _classCallCheck(this, e),
                (this.renderer = t),
                (this.managedFramebuffers = []),
                (this.unknownFramebuffer = new Framebuffer(10, 10)),
                (this.msaaSamples = null);
            }
            return (
              _createClass(e, [
                {
                  key: "contextChange",
                  value: function () {
                    this.disposeAll(!0);
                    var e = (this.gl = this.renderer.gl);
                    if (
                      ((this.CONTEXT_UID = this.renderer.CONTEXT_UID),
                      (this.current = this.unknownFramebuffer),
                      (this.viewport = new Rectangle()),
                      (this.hasMRT = !0),
                      (this.writeDepthTexture = !0),
                      1 === this.renderer.context.webGLVersion)
                    ) {
                      var t = this.renderer.context.extensions.drawBuffers,
                        r = this.renderer.context.extensions.depthTexture;
                      settings.PREFER_ENV === ENV.WEBGL_LEGACY &&
                        ((t = null), (r = null)),
                        t
                          ? (e.drawBuffers = function (e) {
                              return t.drawBuffersWEBGL(e);
                            })
                          : ((this.hasMRT = !1),
                            (e.drawBuffers = function () {})),
                        r || (this.writeDepthTexture = !1);
                    } else
                      this.msaaSamples = e.getInternalformatParameter(
                        e.RENDERBUFFER,
                        e.RGBA8,
                        e.SAMPLES
                      );
                  }
                },
                {
                  key: "bind",
                  value: function (e, t) {
                    var r =
                        arguments.length > 2 && void 0 !== arguments[2]
                          ? arguments[2]
                          : 0,
                      n = this.gl;
                    if (e) {
                      var i =
                        e.glFramebuffers[this.CONTEXT_UID] ||
                        this.initFramebuffer(e);
                      this.current !== e &&
                        ((this.current = e),
                        n.bindFramebuffer(n.FRAMEBUFFER, i.framebuffer)),
                        i.mipLevel !== r &&
                          (e.dirtyId++, e.dirtyFormat++, (i.mipLevel = r)),
                        i.dirtyId !== e.dirtyId &&
                          ((i.dirtyId = e.dirtyId),
                          i.dirtyFormat !== e.dirtyFormat
                            ? ((i.dirtyFormat = e.dirtyFormat),
                              (i.dirtySize = e.dirtySize),
                              this.updateFramebuffer(e, r))
                            : i.dirtySize !== e.dirtySize &&
                              ((i.dirtySize = e.dirtySize),
                              this.resizeFramebuffer(e)));
                      for (var a = 0; a < e.colorTextures.length; a++) {
                        var s = e.colorTextures[a];
                        this.renderer.texture.unbind(s.parentTextureArray || s);
                      }
                      if (
                        (e.depthTexture &&
                          this.renderer.texture.unbind(e.depthTexture),
                        t)
                      ) {
                        var o = t.width >> r,
                          u = t.height >> r,
                          l = o / t.width;
                        this.setViewport(t.x * l, t.y * l, o, u);
                      } else {
                        var c = e.width >> r,
                          h = e.height >> r;
                        this.setViewport(0, 0, c, h);
                      }
                    } else
                      this.current &&
                        ((this.current = null),
                        n.bindFramebuffer(n.FRAMEBUFFER, null)),
                        t
                          ? this.setViewport(t.x, t.y, t.width, t.height)
                          : this.setViewport(
                              0,
                              0,
                              this.renderer.width,
                              this.renderer.height
                            );
                  }
                },
                {
                  key: "setViewport",
                  value: function (e, t, r, n) {
                    var i = this.viewport;
                    (e = Math.round(e)),
                      (t = Math.round(t)),
                      (r = Math.round(r)),
                      (n = Math.round(n)),
                      (i.width === r &&
                        i.height === n &&
                        i.x === e &&
                        i.y === t) ||
                        ((i.x = e),
                        (i.y = t),
                        (i.width = r),
                        (i.height = n),
                        this.gl.viewport(e, t, r, n));
                  }
                },
                {
                  key: "size",
                  get: function () {
                    return this.current
                      ? {
                          x: 0,
                          y: 0,
                          width: this.current.width,
                          height: this.current.height
                        }
                      : {
                          x: 0,
                          y: 0,
                          width: this.renderer.width,
                          height: this.renderer.height
                        };
                  }
                },
                {
                  key: "clear",
                  value: function (e, t, r, n) {
                    var i =
                        arguments.length > 4 && void 0 !== arguments[4]
                          ? arguments[4]
                          : BUFFER_BITS.COLOR | BUFFER_BITS.DEPTH,
                      a = this.gl;
                    a.clearColor(e, t, r, n), a.clear(i);
                  }
                },
                {
                  key: "initFramebuffer",
                  value: function (e) {
                    var t = this.gl,
                      r = new GLFramebuffer(t.createFramebuffer());
                    return (
                      (r.multisample = this.detectSamples(e.multisample)),
                      (e.glFramebuffers[this.CONTEXT_UID] = r),
                      this.managedFramebuffers.push(e),
                      e.disposeRunner.add(this),
                      r
                    );
                  }
                },
                {
                  key: "resizeFramebuffer",
                  value: function (e) {
                    var t = this.gl,
                      r = e.glFramebuffers[this.CONTEXT_UID];
                    r.stencil &&
                      (t.bindRenderbuffer(t.RENDERBUFFER, r.stencil),
                      r.msaaBuffer
                        ? t.renderbufferStorageMultisample(
                            t.RENDERBUFFER,
                            r.multisample,
                            t.DEPTH24_STENCIL8,
                            e.width,
                            e.height
                          )
                        : t.renderbufferStorage(
                            t.RENDERBUFFER,
                            t.DEPTH_STENCIL,
                            e.width,
                            e.height
                          ));
                    var n = e.colorTextures,
                      i = n.length;
                    t.drawBuffers || (i = Math.min(i, 1));
                    for (var a = 0; a < i; a++) {
                      var s = n[a],
                        o = s.parentTextureArray || s;
                      this.renderer.texture.bind(o, 0),
                        0 === a &&
                          r.msaaBuffer &&
                          (t.bindRenderbuffer(t.RENDERBUFFER, r.msaaBuffer),
                          t.renderbufferStorageMultisample(
                            t.RENDERBUFFER,
                            r.multisample,
                            o._glTextures[this.CONTEXT_UID].internalFormat,
                            e.width,
                            e.height
                          ));
                    }
                    e.depthTexture &&
                      this.writeDepthTexture &&
                      this.renderer.texture.bind(e.depthTexture, 0);
                  }
                },
                {
                  key: "updateFramebuffer",
                  value: function (e, t) {
                    var r = this.gl,
                      n = e.glFramebuffers[this.CONTEXT_UID],
                      i = e.colorTextures,
                      a = i.length;
                    r.drawBuffers || (a = Math.min(a, 1)),
                      n.multisample > 1 && this.canMultisampleFramebuffer(e)
                        ? (n.msaaBuffer =
                            n.msaaBuffer || r.createRenderbuffer())
                        : n.msaaBuffer &&
                          (r.deleteRenderbuffer(n.msaaBuffer),
                          (n.msaaBuffer = null),
                          n.blitFramebuffer &&
                            (n.blitFramebuffer.dispose(),
                            (n.blitFramebuffer = null)));
                    for (var s = [], o = 0; o < a; o++) {
                      var u = i[o],
                        l = u.parentTextureArray || u;
                      this.renderer.texture.bind(l, 0),
                        0 === o && n.msaaBuffer
                          ? (r.bindRenderbuffer(r.RENDERBUFFER, n.msaaBuffer),
                            r.renderbufferStorageMultisample(
                              r.RENDERBUFFER,
                              n.multisample,
                              l._glTextures[this.CONTEXT_UID].internalFormat,
                              e.width,
                              e.height
                            ),
                            r.framebufferRenderbuffer(
                              r.FRAMEBUFFER,
                              r.COLOR_ATTACHMENT0,
                              r.RENDERBUFFER,
                              n.msaaBuffer
                            ))
                          : (r.framebufferTexture2D(
                              r.FRAMEBUFFER,
                              r.COLOR_ATTACHMENT0 + o,
                              u.target,
                              l._glTextures[this.CONTEXT_UID].texture,
                              t
                            ),
                            s.push(r.COLOR_ATTACHMENT0 + o));
                    }
                    if (
                      (s.length > 1 && r.drawBuffers(s), e.depthTexture) &&
                      this.writeDepthTexture
                    ) {
                      var c = e.depthTexture;
                      this.renderer.texture.bind(c, 0),
                        r.framebufferTexture2D(
                          r.FRAMEBUFFER,
                          r.DEPTH_ATTACHMENT,
                          r.TEXTURE_2D,
                          c._glTextures[this.CONTEXT_UID].texture,
                          t
                        );
                    }
                    (!e.stencil && !e.depth) ||
                    (e.depthTexture && this.writeDepthTexture)
                      ? n.stencil &&
                        (r.deleteRenderbuffer(n.stencil), (n.stencil = null))
                      : ((n.stencil = n.stencil || r.createRenderbuffer()),
                        r.bindRenderbuffer(r.RENDERBUFFER, n.stencil),
                        n.msaaBuffer
                          ? r.renderbufferStorageMultisample(
                              r.RENDERBUFFER,
                              n.multisample,
                              r.DEPTH24_STENCIL8,
                              e.width,
                              e.height
                            )
                          : r.renderbufferStorage(
                              r.RENDERBUFFER,
                              r.DEPTH_STENCIL,
                              e.width,
                              e.height
                            ),
                        r.framebufferRenderbuffer(
                          r.FRAMEBUFFER,
                          r.DEPTH_STENCIL_ATTACHMENT,
                          r.RENDERBUFFER,
                          n.stencil
                        ));
                  }
                },
                {
                  key: "canMultisampleFramebuffer",
                  value: function (e) {
                    return (
                      1 !== this.renderer.context.webGLVersion &&
                      e.colorTextures.length <= 1 &&
                      !e.depthTexture
                    );
                  }
                },
                {
                  key: "detectSamples",
                  value: function (e) {
                    var t = this.msaaSamples,
                      r = MSAA_QUALITY.NONE;
                    if (e <= 1 || null === t) return r;
                    for (var n = 0; n < t.length; n++)
                      if (t[n] <= e) {
                        r = t[n];
                        break;
                      }
                    return 1 === r && (r = MSAA_QUALITY.NONE), r;
                  }
                },
                {
                  key: "blit",
                  value: function (e, t, r) {
                    var n = this.current,
                      i = this.renderer,
                      a = this.gl,
                      s = this.CONTEXT_UID;
                    if (2 === i.context.webGLVersion && n) {
                      var o = n.glFramebuffers[s];
                      if (o) {
                        if (!e) {
                          if (!o.msaaBuffer) return;
                          var u = n.colorTextures[0];
                          if (!u) return;
                          o.blitFramebuffer ||
                            ((o.blitFramebuffer = new Framebuffer(
                              n.width,
                              n.height
                            )),
                            o.blitFramebuffer.addColorTexture(0, u)),
                            (e = o.blitFramebuffer).colorTextures[0] !== u &&
                              ((e.colorTextures[0] = u),
                              e.dirtyId++,
                              e.dirtyFormat++),
                            (e.width === n.width && e.height === n.height) ||
                              ((e.width = n.width),
                              (e.height = n.height),
                              e.dirtyId++,
                              e.dirtySize++);
                        }
                        t ||
                          (((t = tempRectangle).width = n.width),
                          (t.height = n.height)),
                          r || (r = t);
                        var l = t.width === r.width && t.height === r.height;
                        this.bind(e),
                          a.bindFramebuffer(a.READ_FRAMEBUFFER, o.framebuffer),
                          a.blitFramebuffer(
                            t.left,
                            t.top,
                            t.right,
                            t.bottom,
                            r.left,
                            r.top,
                            r.right,
                            r.bottom,
                            a.COLOR_BUFFER_BIT,
                            l ? a.NEAREST : a.LINEAR
                          ),
                          a.bindFramebuffer(
                            a.READ_FRAMEBUFFER,
                            e.glFramebuffers[this.CONTEXT_UID].framebuffer
                          );
                      }
                    }
                  }
                },
                {
                  key: "disposeFramebuffer",
                  value: function (e, t) {
                    var r = e.glFramebuffers[this.CONTEXT_UID],
                      n = this.gl;
                    if (r) {
                      delete e.glFramebuffers[this.CONTEXT_UID];
                      var i = this.managedFramebuffers.indexOf(e);
                      i >= 0 && this.managedFramebuffers.splice(i, 1),
                        e.disposeRunner.remove(this),
                        t ||
                          (n.deleteFramebuffer(r.framebuffer),
                          r.msaaBuffer && n.deleteRenderbuffer(r.msaaBuffer),
                          r.stencil && n.deleteRenderbuffer(r.stencil)),
                        r.blitFramebuffer &&
                          this.disposeFramebuffer(r.blitFramebuffer, t);
                    }
                  }
                },
                {
                  key: "disposeAll",
                  value: function (e) {
                    var t = this.managedFramebuffers;
                    this.managedFramebuffers = [];
                    for (var r = 0; r < t.length; r++)
                      this.disposeFramebuffer(t[r], e);
                  }
                },
                {
                  key: "forceStencil",
                  value: function () {
                    var e = this.current;
                    if (e) {
                      var t = e.glFramebuffers[this.CONTEXT_UID];
                      if (t && !t.stencil) {
                        e.stencil = !0;
                        var r = e.width,
                          n = e.height,
                          i = this.gl,
                          a = i.createRenderbuffer();
                        i.bindRenderbuffer(i.RENDERBUFFER, a),
                          t.msaaBuffer
                            ? i.renderbufferStorageMultisample(
                                i.RENDERBUFFER,
                                t.multisample,
                                i.DEPTH24_STENCIL8,
                                r,
                                n
                              )
                            : i.renderbufferStorage(
                                i.RENDERBUFFER,
                                i.DEPTH_STENCIL,
                                r,
                                n
                              ),
                          (t.stencil = a),
                          i.framebufferRenderbuffer(
                            i.FRAMEBUFFER,
                            i.DEPTH_STENCIL_ATTACHMENT,
                            i.RENDERBUFFER,
                            a
                          );
                      }
                    }
                  }
                },
                {
                  key: "reset",
                  value: function () {
                    (this.current = this.unknownFramebuffer),
                      (this.viewport = new Rectangle());
                  }
                },
                {
                  key: "destroy",
                  value: function () {
                    this.renderer = null;
                  }
                }
              ]),
              e
            );
          })();
        (FramebufferSystem.extension = {
          type: ExtensionType.RendererSystem,
          name: "framebuffer"
        }),
          extensions$1.add(FramebufferSystem);
        var byteSizeMap = { 5126: 4, 5123: 2, 5121: 1 },
          GeometrySystem = (function () {
            function e(t) {
              _classCallCheck(this, e),
                (this.renderer = t),
                (this._activeGeometry = null),
                (this._activeVao = null),
                (this.hasVao = !0),
                (this.hasInstance = !0),
                (this.canUseUInt32ElementIndex = !1),
                (this.managedGeometries = {});
            }
            return (
              _createClass(e, [
                {
                  key: "contextChange",
                  value: function () {
                    this.disposeAll(!0);
                    var e = (this.gl = this.renderer.gl),
                      t = this.renderer.context;
                    if (
                      ((this.CONTEXT_UID = this.renderer.CONTEXT_UID),
                      2 !== t.webGLVersion)
                    ) {
                      var r = this.renderer.context.extensions
                        .vertexArrayObject;
                      settings.PREFER_ENV === ENV.WEBGL_LEGACY && (r = null),
                        r
                          ? ((e.createVertexArray = function () {
                              return r.createVertexArrayOES();
                            }),
                            (e.bindVertexArray = function (e) {
                              return r.bindVertexArrayOES(e);
                            }),
                            (e.deleteVertexArray = function (e) {
                              return r.deleteVertexArrayOES(e);
                            }))
                          : ((this.hasVao = !1),
                            (e.createVertexArray = function () {
                              return null;
                            }),
                            (e.bindVertexArray = function () {
                              return null;
                            }),
                            (e.deleteVertexArray = function () {
                              return null;
                            }));
                    }
                    if (2 !== t.webGLVersion) {
                      var n = e.getExtension("ANGLE_instanced_arrays");
                      n
                        ? ((e.vertexAttribDivisor = function (e, t) {
                            return n.vertexAttribDivisorANGLE(e, t);
                          }),
                          (e.drawElementsInstanced = function (e, t, r, i, a) {
                            return n.drawElementsInstancedANGLE(e, t, r, i, a);
                          }),
                          (e.drawArraysInstanced = function (e, t, r, i) {
                            return n.drawArraysInstancedANGLE(e, t, r, i);
                          }))
                        : (this.hasInstance = !1);
                    }
                    this.canUseUInt32ElementIndex =
                      2 === t.webGLVersion || !!t.extensions.uint32ElementIndex;
                  }
                },
                {
                  key: "bind",
                  value: function (e, t) {
                    t = t || this.renderer.shader.shader;
                    var r = this.gl,
                      n = e.glVertexArrayObjects[this.CONTEXT_UID],
                      i = !1;
                    n ||
                      ((this.managedGeometries[e.id] = e),
                      e.disposeRunner.add(this),
                      (e.glVertexArrayObjects[this.CONTEXT_UID] = n = {}),
                      (i = !0));
                    var a = n[t.program.id] || this.initGeometryVao(e, t, i);
                    (this._activeGeometry = e),
                      this._activeVao !== a &&
                        ((this._activeVao = a),
                        this.hasVao
                          ? r.bindVertexArray(a)
                          : this.activateVao(e, t.program)),
                      this.updateBuffers();
                  }
                },
                {
                  key: "reset",
                  value: function () {
                    this.unbind();
                  }
                },
                {
                  key: "updateBuffers",
                  value: function () {
                    for (
                      var e = this._activeGeometry,
                        t = this.renderer.buffer,
                        r = 0;
                      r < e.buffers.length;
                      r++
                    ) {
                      var n = e.buffers[r];
                      t.update(n);
                    }
                  }
                },
                {
                  key: "checkCompatibility",
                  value: function (e, t) {
                    var r = e.attributes,
                      n = t.attributeData;
                    for (var i in n)
                      if (!r[i])
                        throw new Error(
                          'shader and geometry incompatible, geometry missing the "'.concat(
                            i,
                            '" attribute'
                          )
                        );
                  }
                },
                {
                  key: "getSignature",
                  value: function (e, t) {
                    var r = e.attributes,
                      n = t.attributeData,
                      i = ["g", e.id];
                    for (var a in r) n[a] && i.push(a, n[a].location);
                    return i.join("-");
                  }
                },
                {
                  key: "initGeometryVao",
                  value: function (e, t) {
                    var r =
                        !(arguments.length > 2 && void 0 !== arguments[2]) ||
                        arguments[2],
                      n = this.gl,
                      i = this.CONTEXT_UID,
                      a = this.renderer.buffer,
                      s = t.program;
                    s.glPrograms[i] || this.renderer.shader.generateProgram(t),
                      this.checkCompatibility(e, s);
                    var o = this.getSignature(e, s),
                      u = e.glVertexArrayObjects[this.CONTEXT_UID],
                      l = u[o];
                    if (l) return (u[s.id] = l), l;
                    var c = e.buffers,
                      h = e.attributes,
                      f = {},
                      d = {};
                    for (var p in c) (f[p] = 0), (d[p] = 0);
                    for (var _ in h)
                      !h[_].size && s.attributeData[_]
                        ? (h[_].size = s.attributeData[_].size)
                        : h[_].size ||
                          console.warn(
                            "PIXI Geometry attribute '".concat(
                              _,
                              "' size cannot be determined (likely the bound shader does not have the attribute)"
                            )
                          ),
                        (f[h[_].buffer] += h[_].size * byteSizeMap[h[_].type]);
                    for (var v in h) {
                      var m = h[v],
                        g = m.size;
                      void 0 === m.stride &&
                        (f[m.buffer] === g * byteSizeMap[m.type]
                          ? (m.stride = 0)
                          : (m.stride = f[m.buffer])),
                        void 0 === m.start &&
                          ((m.start = d[m.buffer]),
                          (d[m.buffer] += g * byteSizeMap[m.type]));
                    }
                    (l = n.createVertexArray()), n.bindVertexArray(l);
                    for (var y = 0; y < c.length; y++) {
                      var T = c[y];
                      a.bind(T), r && T._glBuffers[i].refCount++;
                    }
                    return (
                      this.activateVao(e, s),
                      (u[s.id] = l),
                      (u[o] = l),
                      n.bindVertexArray(null),
                      a.unbind(BUFFER_TYPE.ARRAY_BUFFER),
                      l
                    );
                  }
                },
                {
                  key: "disposeGeometry",
                  value: function (e, t) {
                    var r;
                    if (this.managedGeometries[e.id]) {
                      delete this.managedGeometries[e.id];
                      var n = e.glVertexArrayObjects[this.CONTEXT_UID],
                        i = this.gl,
                        a = e.buffers,
                        s =
                          null === (r = this.renderer) || void 0 === r
                            ? void 0
                            : r.buffer;
                      if ((e.disposeRunner.remove(this), n)) {
                        if (s)
                          for (var o = 0; o < a.length; o++) {
                            var u = a[o]._glBuffers[this.CONTEXT_UID];
                            u &&
                              (u.refCount--,
                              0 !== u.refCount || t || s.dispose(a[o], t));
                          }
                        if (!t)
                          for (var l in n)
                            if ("g" === l[0]) {
                              var c = n[l];
                              this._activeVao === c && this.unbind(),
                                i.deleteVertexArray(c);
                            }
                        delete e.glVertexArrayObjects[this.CONTEXT_UID];
                      }
                    }
                  }
                },
                {
                  key: "disposeAll",
                  value: function (e) {
                    for (
                      var t = Object.keys(this.managedGeometries), r = 0;
                      r < t.length;
                      r++
                    )
                      this.disposeGeometry(this.managedGeometries[t[r]], e);
                  }
                },
                {
                  key: "activateVao",
                  value: function (e, t) {
                    var r = this.gl,
                      n = this.CONTEXT_UID,
                      i = this.renderer.buffer,
                      a = e.buffers,
                      s = e.attributes;
                    e.indexBuffer && i.bind(e.indexBuffer);
                    var o = null;
                    for (var u in s) {
                      var l = s[u],
                        c = a[l.buffer],
                        h = c._glBuffers[n];
                      if (t.attributeData[u]) {
                        o !== h && (i.bind(c), (o = h));
                        var f = t.attributeData[u].location;
                        if (
                          (r.enableVertexAttribArray(f),
                          r.vertexAttribPointer(
                            f,
                            l.size,
                            l.type || r.FLOAT,
                            l.normalized,
                            l.stride,
                            l.start
                          ),
                          l.instance)
                        ) {
                          if (!this.hasInstance)
                            throw new Error(
                              "geometry error, GPU Instancing is not supported on this device"
                            );
                          r.vertexAttribDivisor(f, l.divisor);
                        }
                      }
                    }
                  }
                },
                {
                  key: "draw",
                  value: function (e, t, r, n) {
                    var i = this.gl,
                      a = this._activeGeometry;
                    if (a.indexBuffer) {
                      var s = a.indexBuffer.data.BYTES_PER_ELEMENT,
                        o = 2 === s ? i.UNSIGNED_SHORT : i.UNSIGNED_INT;
                      2 === s || (4 === s && this.canUseUInt32ElementIndex)
                        ? a.instanced
                          ? i.drawElementsInstanced(
                              e,
                              t || a.indexBuffer.data.length,
                              o,
                              (r || 0) * s,
                              n || 1
                            )
                          : i.drawElements(
                              e,
                              t || a.indexBuffer.data.length,
                              o,
                              (r || 0) * s
                            )
                        : console.warn("unsupported index buffer type: uint32");
                    } else
                      a.instanced
                        ? i.drawArraysInstanced(e, r, t || a.getSize(), n || 1)
                        : i.drawArrays(e, r, t || a.getSize());
                    return this;
                  }
                },
                {
                  key: "unbind",
                  value: function () {
                    this.gl.bindVertexArray(null),
                      (this._activeVao = null),
                      (this._activeGeometry = null);
                  }
                },
                {
                  key: "destroy",
                  value: function () {
                    this.renderer = null;
                  }
                }
              ]),
              e
            );
          })();
        (GeometrySystem.extension = {
          type: ExtensionType.RendererSystem,
          name: "geometry"
        }),
          extensions$1.add(GeometrySystem);
        var tempMat$1 = new Matrix(),
          TextureMatrix = (function () {
            function e(t, r) {
              _classCallCheck(this, e),
                (this._texture = t),
                (this.mapCoord = new Matrix()),
                (this.uClampFrame = new Float32Array(4)),
                (this.uClampOffset = new Float32Array(2)),
                (this._textureID = -1),
                (this._updateID = 0),
                (this.clampOffset = 0),
                (this.clampMargin = void 0 === r ? 0.5 : r),
                (this.isSimple = !1);
            }
            return (
              _createClass(e, [
                {
                  key: "texture",
                  get: function () {
                    return this._texture;
                  },
                  set: function (e) {
                    (this._texture = e), (this._textureID = -1);
                  }
                },
                {
                  key: "multiplyUvs",
                  value: function (e, t) {
                    void 0 === t && (t = e);
                    for (var r = this.mapCoord, n = 0; n < e.length; n += 2) {
                      var i = e[n],
                        a = e[n + 1];
                      (t[n] = i * r.a + a * r.c + r.tx),
                        (t[n + 1] = i * r.b + a * r.d + r.ty);
                    }
                    return t;
                  }
                },
                {
                  key: "update",
                  value: function (e) {
                    var t = this._texture;
                    if (!t || !t.valid) return !1;
                    if (!e && this._textureID === t._updateID) return !1;
                    (this._textureID = t._updateID), this._updateID++;
                    var r = t._uvs;
                    this.mapCoord.set(
                      r.x1 - r.x0,
                      r.y1 - r.y0,
                      r.x3 - r.x0,
                      r.y3 - r.y0,
                      r.x0,
                      r.y0
                    );
                    var n = t.orig,
                      i = t.trim;
                    i &&
                      (tempMat$1.set(
                        n.width / i.width,
                        0,
                        0,
                        n.height / i.height,
                        -i.x / i.width,
                        -i.y / i.height
                      ),
                      this.mapCoord.append(tempMat$1));
                    var a = t.baseTexture,
                      s = this.uClampFrame,
                      o = this.clampMargin / a.resolution,
                      u = this.clampOffset;
                    return (
                      (s[0] = (t._frame.x + o + u) / a.width),
                      (s[1] = (t._frame.y + o + u) / a.height),
                      (s[2] = (t._frame.x + t._frame.width - o + u) / a.width),
                      (s[3] =
                        (t._frame.y + t._frame.height - o + u) / a.height),
                      (this.uClampOffset[0] = u / a.realWidth),
                      (this.uClampOffset[1] = u / a.realHeight),
                      (this.isSimple =
                        t._frame.width === a.width &&
                        t._frame.height === a.height &&
                        0 === t.rotate),
                      !0
                    );
                  }
                }
              ]),
              e
            );
          })(),
          fragment$7 =
            "varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",
          vertex$4 =
            "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",
          SpriteMaskFilter = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e, n, i) {
              var a;
              _classCallCheck(this, r);
              var s = null;
              return (
                "string" != typeof e &&
                  void 0 === n &&
                  void 0 === i &&
                  ((s = e), (e = void 0), (n = void 0), (i = void 0)),
                ((a = t.call(
                  this,
                  e || vertex$4,
                  n || fragment$7,
                  i
                )).maskSprite = s),
                (a.maskMatrix = new Matrix()),
                a
              );
            }
            return (
              _createClass(r, [
                {
                  key: "maskSprite",
                  get: function () {
                    return this._maskSprite;
                  },
                  set: function (e) {
                    (this._maskSprite = e),
                      this._maskSprite && (this._maskSprite.renderable = !1);
                  }
                },
                {
                  key: "apply",
                  value: function (e, t, r, n) {
                    var i = this._maskSprite,
                      a = i._texture;
                    a.valid &&
                      (a.uvMatrix || (a.uvMatrix = new TextureMatrix(a, 0)),
                      a.uvMatrix.update(),
                      (this.uniforms.npmAlpha = a.baseTexture.alphaMode
                        ? 0
                        : 1),
                      (this.uniforms.mask = a),
                      (this.uniforms.otherMatrix = e
                        .calculateSpriteMatrix(this.maskMatrix, i)
                        .prepend(a.uvMatrix.mapCoord)),
                      (this.uniforms.alpha = i.worldAlpha),
                      (this.uniforms.maskClamp = a.uvMatrix.uClampFrame),
                      e.applyFilter(this, t, r, n));
                  }
                }
              ]),
              r
            );
          })(Filter),
          MaskData = (function () {
            function e() {
              var t =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : null;
              _classCallCheck(this, e),
                (this.type = MASK_TYPES.NONE),
                (this.autoDetect = !0),
                (this.maskObject = t || null),
                (this.pooled = !1),
                (this.isMaskData = !0),
                (this.resolution = null),
                (this.multisample = Filter.defaultMultisample),
                (this.enabled = !0),
                (this.colorMask = 15),
                (this._filters = null),
                (this._stencilCounter = 0),
                (this._scissorCounter = 0),
                (this._scissorRect = null),
                (this._scissorRectLocal = null),
                (this._colorMask = 15),
                (this._target = null);
            }
            return (
              _createClass(e, [
                {
                  key: "filter",
                  get: function () {
                    return this._filters ? this._filters[0] : null;
                  },
                  set: function (e) {
                    e
                      ? this._filters
                        ? (this._filters[0] = e)
                        : (this._filters = [e])
                      : (this._filters = null);
                  }
                },
                {
                  key: "reset",
                  value: function () {
                    this.pooled &&
                      ((this.maskObject = null),
                      (this.type = MASK_TYPES.NONE),
                      (this.autoDetect = !0)),
                      (this._target = null),
                      (this._scissorRectLocal = null);
                  }
                },
                {
                  key: "copyCountersOrReset",
                  value: function (e) {
                    e
                      ? ((this._stencilCounter = e._stencilCounter),
                        (this._scissorCounter = e._scissorCounter),
                        (this._scissorRect = e._scissorRect))
                      : ((this._stencilCounter = 0),
                        (this._scissorCounter = 0),
                        (this._scissorRect = null));
                  }
                }
              ]),
              e
            );
          })(),
          MaskSystem = (function () {
            function e(t) {
              _classCallCheck(this, e),
                (this.renderer = t),
                (this.enableScissor = !0),
                (this.alphaMaskPool = []),
                (this.maskDataPool = []),
                (this.maskStack = []),
                (this.alphaMaskIndex = 0);
            }
            return (
              _createClass(e, [
                {
                  key: "setMaskStack",
                  value: function (e) {
                    (this.maskStack = e),
                      this.renderer.scissor.setMaskStack(e),
                      this.renderer.stencil.setMaskStack(e);
                  }
                },
                {
                  key: "push",
                  value: function (e, t) {
                    var r = t;
                    if (!r.isMaskData) {
                      var n = this.maskDataPool.pop() || new MaskData();
                      (n.pooled = !0), (n.maskObject = t), (r = n);
                    }
                    var i =
                      0 !== this.maskStack.length
                        ? this.maskStack[this.maskStack.length - 1]
                        : null;
                    if (
                      (r.copyCountersOrReset(i),
                      (r._colorMask = i ? i._colorMask : 15),
                      r.autoDetect && this.detect(r),
                      (r._target = e),
                      r.type !== MASK_TYPES.SPRITE && this.maskStack.push(r),
                      r.enabled)
                    )
                      switch (r.type) {
                        case MASK_TYPES.SCISSOR:
                          this.renderer.scissor.push(r);
                          break;
                        case MASK_TYPES.STENCIL:
                          this.renderer.stencil.push(r);
                          break;
                        case MASK_TYPES.SPRITE:
                          r.copyCountersOrReset(null), this.pushSpriteMask(r);
                          break;
                        case MASK_TYPES.COLOR:
                          this.pushColorMask(r);
                      }
                    r.type === MASK_TYPES.SPRITE && this.maskStack.push(r);
                  }
                },
                {
                  key: "pop",
                  value: function (e) {
                    var t = this.maskStack.pop();
                    if (t && t._target === e) {
                      if (t.enabled)
                        switch (t.type) {
                          case MASK_TYPES.SCISSOR:
                            this.renderer.scissor.pop(t);
                            break;
                          case MASK_TYPES.STENCIL:
                            this.renderer.stencil.pop(t.maskObject);
                            break;
                          case MASK_TYPES.SPRITE:
                            this.popSpriteMask(t);
                            break;
                          case MASK_TYPES.COLOR:
                            this.popColorMask(t);
                        }
                      if (
                        (t.reset(),
                        t.pooled && this.maskDataPool.push(t),
                        0 !== this.maskStack.length)
                      ) {
                        var r = this.maskStack[this.maskStack.length - 1];
                        r.type === MASK_TYPES.SPRITE &&
                          r._filters &&
                          (r._filters[0].maskSprite = r.maskObject);
                      }
                    }
                  }
                },
                {
                  key: "detect",
                  value: function (e) {
                    var t = e.maskObject;
                    t
                      ? t.isSprite
                        ? (e.type = MASK_TYPES.SPRITE)
                        : this.enableScissor &&
                          this.renderer.scissor.testScissor(e)
                        ? (e.type = MASK_TYPES.SCISSOR)
                        : (e.type = MASK_TYPES.STENCIL)
                      : (e.type = MASK_TYPES.COLOR);
                  }
                },
                {
                  key: "pushSpriteMask",
                  value: function (e) {
                    var t = e.maskObject,
                      r = e._target,
                      n = e._filters;
                    n ||
                      (n = this.alphaMaskPool[this.alphaMaskIndex]) ||
                      (n = this.alphaMaskPool[this.alphaMaskIndex] = [
                        new SpriteMaskFilter()
                      ]);
                    var i,
                      a,
                      s = this.renderer,
                      o = s.renderTexture;
                    if (o.current) {
                      var u,
                        l = o.current;
                      (i = e.resolution || l.resolution),
                        (a =
                          null !== (u = e.multisample) && void 0 !== u
                            ? u
                            : l.multisample);
                    } else {
                      var c;
                      (i = e.resolution || s.resolution),
                        (a =
                          null !== (c = e.multisample) && void 0 !== c
                            ? c
                            : s.multisample);
                    }
                    (n[0].resolution = i),
                      (n[0].multisample = a),
                      (n[0].maskSprite = t);
                    var h = r.filterArea;
                    (r.filterArea = t.getBounds(!0)),
                      s.filter.push(r, n),
                      (r.filterArea = h),
                      e._filters || this.alphaMaskIndex++;
                  }
                },
                {
                  key: "popSpriteMask",
                  value: function (e) {
                    this.renderer.filter.pop(),
                      e._filters
                        ? (e._filters[0].maskSprite = null)
                        : (this.alphaMaskIndex--,
                          (this.alphaMaskPool[
                            this.alphaMaskIndex
                          ][0].maskSprite = null));
                  }
                },
                {
                  key: "pushColorMask",
                  value: function (e) {
                    var t = e._colorMask,
                      r = (e._colorMask = t & e.colorMask);
                    r !== t &&
                      this.renderer.gl.colorMask(
                        0 != (1 & r),
                        0 != (2 & r),
                        0 != (4 & r),
                        0 != (8 & r)
                      );
                  }
                },
                {
                  key: "popColorMask",
                  value: function (e) {
                    var t = e._colorMask,
                      r =
                        this.maskStack.length > 0
                          ? this.maskStack[this.maskStack.length - 1]._colorMask
                          : 15;
                    r !== t &&
                      this.renderer.gl.colorMask(
                        0 != (1 & r),
                        0 != (2 & r),
                        0 != (4 & r),
                        0 != (8 & r)
                      );
                  }
                },
                {
                  key: "destroy",
                  value: function () {
                    this.renderer = null;
                  }
                }
              ]),
              e
            );
          })();
        (MaskSystem.extension = {
          type: ExtensionType.RendererSystem,
          name: "mask"
        }),
          extensions$1.add(MaskSystem);
        var AbstractMaskSystem = (function () {
            function e(t) {
              _classCallCheck(this, e),
                (this.renderer = t),
                (this.maskStack = []),
                (this.glConst = 0);
            }
            return (
              _createClass(e, [
                {
                  key: "getStackLength",
                  value: function () {
                    return this.maskStack.length;
                  }
                },
                {
                  key: "setMaskStack",
                  value: function (e) {
                    var t = this.renderer.gl,
                      r = this.getStackLength();
                    this.maskStack = e;
                    var n = this.getStackLength();
                    n !== r &&
                      (0 === n
                        ? t.disable(this.glConst)
                        : (t.enable(this.glConst), this._useCurrent()));
                  }
                },
                { key: "_useCurrent", value: function () {} },
                {
                  key: "destroy",
                  value: function () {
                    (this.renderer = null), (this.maskStack = null);
                  }
                }
              ]),
              e
            );
          })(),
          tempMatrix$1 = new Matrix(),
          rectPool = [],
          _ScissorSystem = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e) {
              var n;
              return (
                _classCallCheck(this, r),
                ((n = t.call(
                  this,
                  e
                )).glConst = settings.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST),
                n
              );
            }
            return (
              _createClass(
                r,
                [
                  {
                    key: "getStackLength",
                    value: function () {
                      var e = this.maskStack[this.maskStack.length - 1];
                      return e ? e._scissorCounter : 0;
                    }
                  },
                  {
                    key: "calcScissorRect",
                    value: function (e) {
                      var t;
                      if (!e._scissorRectLocal) {
                        var r = e._scissorRect,
                          n = e.maskObject,
                          i = this.renderer,
                          a = i.renderTexture,
                          s = n.getBounds(
                            !0,
                            null !== (t = rectPool.pop()) && void 0 !== t
                              ? t
                              : new Rectangle()
                          );
                        this.roundFrameToPixels(
                          s,
                          a.current ? a.current.resolution : i.resolution,
                          a.sourceFrame,
                          a.destinationFrame,
                          i.projection.transform
                        ),
                          r && s.fit(r),
                          (e._scissorRectLocal = s);
                      }
                    }
                  },
                  {
                    key: "testScissor",
                    value: function (e) {
                      var t = e.maskObject;
                      if (!t.isFastRect || !t.isFastRect()) return !1;
                      if (r.isMatrixRotated(t.worldTransform)) return !1;
                      if (r.isMatrixRotated(this.renderer.projection.transform))
                        return !1;
                      this.calcScissorRect(e);
                      var n = e._scissorRectLocal;
                      return n.width > 0 && n.height > 0;
                    }
                  },
                  {
                    key: "roundFrameToPixels",
                    value: function (e, t, n, i, a) {
                      r.isMatrixRotated(a) ||
                        ((a = a
                          ? tempMatrix$1.copyFrom(a)
                          : tempMatrix$1.identity())
                          .translate(-n.x, -n.y)
                          .scale(i.width / n.width, i.height / n.height)
                          .translate(i.x, i.y),
                        this.renderer.filter.transformAABB(a, e),
                        e.fit(i),
                        (e.x = Math.round(e.x * t)),
                        (e.y = Math.round(e.y * t)),
                        (e.width = Math.round(e.width * t)),
                        (e.height = Math.round(e.height * t)));
                    }
                  },
                  {
                    key: "push",
                    value: function (e) {
                      e._scissorRectLocal || this.calcScissorRect(e);
                      var t = this.renderer.gl;
                      e._scissorRect || t.enable(t.SCISSOR_TEST),
                        e._scissorCounter++,
                        (e._scissorRect = e._scissorRectLocal),
                        this._useCurrent();
                    }
                  },
                  {
                    key: "pop",
                    value: function (e) {
                      var t = this.renderer.gl;
                      e && rectPool.push(e._scissorRectLocal),
                        this.getStackLength() > 0
                          ? this._useCurrent()
                          : t.disable(t.SCISSOR_TEST);
                    }
                  },
                  {
                    key: "_useCurrent",
                    value: function () {
                      var e,
                        t = this.maskStack[this.maskStack.length - 1]
                          ._scissorRect;
                      (e = this.renderer.renderTexture.current
                        ? t.y
                        : this.renderer.height - t.height - t.y),
                        this.renderer.gl.scissor(t.x, e, t.width, t.height);
                    }
                  }
                ],
                [
                  {
                    key: "isMatrixRotated",
                    value: function (e) {
                      if (!e) return !1;
                      var t = e.a,
                        r = e.b,
                        n = e.c,
                        i = e.d;
                      return (
                        (Math.abs(r) > 1e-4 || Math.abs(n) > 1e-4) &&
                        (Math.abs(t) > 1e-4 || Math.abs(i) > 1e-4)
                      );
                    }
                  }
                ]
              ),
              r
            );
          })(AbstractMaskSystem),
          ScissorSystem = _ScissorSystem;
        (ScissorSystem.extension = {
          type: ExtensionType.RendererSystem,
          name: "scissor"
        }),
          extensions$1.add(ScissorSystem);
        var StencilSystem = (function (e) {
          _inherits(r, e);
          var t = _createSuper(r);
          function r(e) {
            var n;
            return (
              _classCallCheck(this, r),
              ((n = t.call(
                this,
                e
              )).glConst = settings.ADAPTER.getWebGLRenderingContext().STENCIL_TEST),
              n
            );
          }
          return (
            _createClass(r, [
              {
                key: "getStackLength",
                value: function () {
                  var e = this.maskStack[this.maskStack.length - 1];
                  return e ? e._stencilCounter : 0;
                }
              },
              {
                key: "push",
                value: function (e) {
                  var t = e.maskObject,
                    r = this.renderer.gl,
                    n = e._stencilCounter;
                  0 === n &&
                    (this.renderer.framebuffer.forceStencil(),
                    r.clearStencil(0),
                    r.clear(r.STENCIL_BUFFER_BIT),
                    r.enable(r.STENCIL_TEST)),
                    e._stencilCounter++;
                  var i = e._colorMask;
                  0 !== i && ((e._colorMask = 0), r.colorMask(!1, !1, !1, !1)),
                    r.stencilFunc(r.EQUAL, n, 4294967295),
                    r.stencilOp(r.KEEP, r.KEEP, r.INCR),
                    (t.renderable = !0),
                    t.render(this.renderer),
                    this.renderer.batch.flush(),
                    (t.renderable = !1),
                    0 !== i &&
                      ((e._colorMask = i),
                      r.colorMask(
                        0 != (1 & i),
                        0 != (2 & i),
                        0 != (4 & i),
                        0 != (8 & i)
                      )),
                    this._useCurrent();
                }
              },
              {
                key: "pop",
                value: function (e) {
                  var t = this.renderer.gl;
                  if (0 === this.getStackLength()) t.disable(t.STENCIL_TEST);
                  else {
                    var r =
                        0 !== this.maskStack.length
                          ? this.maskStack[this.maskStack.length - 1]
                          : null,
                      n = r ? r._colorMask : 15;
                    0 !== n &&
                      ((r._colorMask = 0), t.colorMask(!1, !1, !1, !1)),
                      t.stencilOp(t.KEEP, t.KEEP, t.DECR),
                      (e.renderable = !0),
                      e.render(this.renderer),
                      this.renderer.batch.flush(),
                      (e.renderable = !1),
                      0 !== n &&
                        ((r._colorMask = n),
                        t.colorMask(
                          0 != (1 & n),
                          0 != (2 & n),
                          0 != (4 & n),
                          0 != (8 & n)
                        )),
                      this._useCurrent();
                  }
                }
              },
              {
                key: "_useCurrent",
                value: function () {
                  var e = this.renderer.gl;
                  e.stencilFunc(e.EQUAL, this.getStackLength(), 4294967295),
                    e.stencilOp(e.KEEP, e.KEEP, e.KEEP);
                }
              }
            ]),
            r
          );
        })(AbstractMaskSystem);
        (StencilSystem.extension = {
          type: ExtensionType.RendererSystem,
          name: "stencil"
        }),
          extensions$1.add(StencilSystem);
        var PluginSystem = (function () {
          function e(t) {
            _classCallCheck(this, e),
              (this.renderer = t),
              (this.plugins = {}),
              Object.defineProperties(this.plugins, {
                extract: {
                  enumerable: !1,
                  get: function () {
                    return (
                      deprecation(
                        "7.0.0",
                        "renderer.plugins.extract has moved to renderer.extract"
                      ),
                      t.extract
                    );
                  }
                },
                prepare: {
                  enumerable: !1,
                  get: function () {
                    return (
                      deprecation(
                        "7.0.0",
                        "renderer.plugins.prepare has moved to renderer.prepare"
                      ),
                      t.prepare
                    );
                  }
                },
                interaction: {
                  enumerable: !1,
                  get: function () {
                    return (
                      deprecation(
                        "7.0.0",
                        "renderer.plugins.interaction has been deprecated, use renderer.events"
                      ),
                      t.events
                    );
                  }
                }
              });
          }
          return (
            _createClass(e, [
              {
                key: "init",
                value: function () {
                  var e = this.rendererPlugins;
                  for (var t in e) this.plugins[t] = new e[t](this.renderer);
                }
              },
              {
                key: "destroy",
                value: function () {
                  for (var e in this.plugins)
                    this.plugins[e].destroy(), (this.plugins[e] = null);
                }
              }
            ]),
            e
          );
        })();
        (PluginSystem.extension = {
          type: [
            ExtensionType.RendererSystem,
            ExtensionType.CanvasRendererSystem
          ],
          name: "_plugin"
        }),
          extensions$1.add(PluginSystem);
        var ProjectionSystem = (function () {
          function e(t) {
            _classCallCheck(this, e),
              (this.renderer = t),
              (this.destinationFrame = null),
              (this.sourceFrame = null),
              (this.defaultFrame = null),
              (this.projectionMatrix = new Matrix()),
              (this.transform = null);
          }
          return (
            _createClass(e, [
              {
                key: "update",
                value: function (e, t, r, n) {
                  (this.destinationFrame =
                    e || this.destinationFrame || this.defaultFrame),
                    (this.sourceFrame = t || this.sourceFrame || e),
                    this.calculateProjection(
                      this.destinationFrame,
                      this.sourceFrame,
                      r,
                      n
                    ),
                    this.transform &&
                      this.projectionMatrix.append(this.transform);
                  var i = this.renderer;
                  (i.globalUniforms.uniforms.projectionMatrix = this.projectionMatrix),
                    i.globalUniforms.update(),
                    i.shader.shader &&
                      i.shader.syncUniformGroup(
                        i.shader.shader.uniforms.globals
                      );
                }
              },
              {
                key: "calculateProjection",
                value: function (e, t, r, n) {
                  var i = this.projectionMatrix,
                    a = n ? -1 : 1;
                  i.identity(),
                    (i.a = (1 / t.width) * 2),
                    (i.d = a * ((1 / t.height) * 2)),
                    (i.tx = -1 - t.x * i.a),
                    (i.ty = -a - t.y * i.d);
                }
              },
              { key: "setTransform", value: function (e) {} },
              {
                key: "destroy",
                value: function () {
                  this.renderer = null;
                }
              }
            ]),
            e
          );
        })();
        (ProjectionSystem.extension = {
          type: ExtensionType.RendererSystem,
          name: "projection"
        }),
          extensions$1.add(ProjectionSystem);
        var tempTransform = new Transform(),
          GenerateTextureSystem = (function () {
            function e(t) {
              _classCallCheck(this, e),
                (this.renderer = t),
                (this._tempMatrix = new Matrix());
            }
            return (
              _createClass(e, [
                {
                  key: "generateTexture",
                  value: function (e, t) {
                    var r = t || {},
                      n = r.region,
                      i = _objectWithoutProperties(r, _excluded),
                      a = n || e.getLocalBounds(null, !0);
                    0 === a.width && (a.width = 1),
                      0 === a.height && (a.height = 1);
                    var s = RenderTexture.create(
                      _objectSpread({ width: a.width, height: a.height }, i)
                    );
                    (this._tempMatrix.tx = -a.x), (this._tempMatrix.ty = -a.y);
                    var o = e.transform;
                    return (
                      (e.transform = tempTransform),
                      this.renderer.render(e, {
                        renderTexture: s,
                        transform: this._tempMatrix,
                        skipUpdateTransform: !!e.parent,
                        blit: !0
                      }),
                      (e.transform = o),
                      s
                    );
                  }
                },
                { key: "destroy", value: function () {} }
              ]),
              e
            );
          })();
        (GenerateTextureSystem.extension = {
          type: [
            ExtensionType.RendererSystem,
            ExtensionType.CanvasRendererSystem
          ],
          name: "textureGenerator"
        }),
          extensions$1.add(GenerateTextureSystem);
        var tempRect = new Rectangle(),
          tempRect2 = new Rectangle(),
          RenderTextureSystem = (function () {
            function e(t) {
              _classCallCheck(this, e),
                (this.renderer = t),
                (this.defaultMaskStack = []),
                (this.current = null),
                (this.sourceFrame = new Rectangle()),
                (this.destinationFrame = new Rectangle()),
                (this.viewportFrame = new Rectangle());
            }
            return (
              _createClass(e, [
                {
                  key: "contextChange",
                  value: function () {
                    var e,
                      t =
                        null === (e = this.renderer) || void 0 === e
                          ? void 0
                          : e.gl.getContextAttributes();
                    this._rendererPremultipliedAlpha = !!(
                      t &&
                      t.alpha &&
                      t.premultipliedAlpha
                    );
                  }
                },
                {
                  key: "bind",
                  value: function () {
                    var e,
                      t,
                      r,
                      n =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : null,
                      i = arguments.length > 1 ? arguments[1] : void 0,
                      a = arguments.length > 2 ? arguments[2] : void 0,
                      s = this.renderer;
                    (this.current = n),
                      n
                        ? ((r = (e = n.baseTexture).resolution),
                          i ||
                            ((tempRect.width = n.frame.width),
                            (tempRect.height = n.frame.height),
                            (i = tempRect)),
                          a ||
                            ((tempRect2.x = n.frame.x),
                            (tempRect2.y = n.frame.y),
                            (tempRect2.width = i.width),
                            (tempRect2.height = i.height),
                            (a = tempRect2)),
                          (t = e.framebuffer))
                        : ((r = s.resolution),
                          i ||
                            ((tempRect.width = s._view.screen.width),
                            (tempRect.height = s._view.screen.height),
                            (i = tempRect)),
                          a ||
                            (((a = tempRect).width = i.width),
                            (a.height = i.height)));
                    var o = this.viewportFrame;
                    (o.x = a.x * r),
                      (o.y = a.y * r),
                      (o.width = a.width * r),
                      (o.height = a.height * r),
                      n || (o.y = s.view.height - (o.y + o.height)),
                      o.ceil(),
                      this.renderer.framebuffer.bind(t, o),
                      this.renderer.projection.update(a, i, r, !t),
                      n
                        ? this.renderer.mask.setMaskStack(e.maskStack)
                        : this.renderer.mask.setMaskStack(
                            this.defaultMaskStack
                          ),
                      this.sourceFrame.copyFrom(i),
                      this.destinationFrame.copyFrom(a);
                  }
                },
                {
                  key: "clear",
                  value: function (e, t) {
                    var r = this.current
                        ? this.current.baseTexture.clear
                        : this.renderer.background.backgroundColor,
                      n = Color.shared.setValue(e || r);
                    ((this.current && this.current.baseTexture.alphaMode > 0) ||
                      (!this.current && this._rendererPremultipliedAlpha)) &&
                      n.premultiply(n.alpha);
                    var i = this.destinationFrame,
                      a = this.current
                        ? this.current.baseTexture
                        : this.renderer._view.screen,
                      s = i.width !== a.width || i.height !== a.height;
                    if (s) {
                      var o = this.viewportFrame,
                        u = o.x,
                        l = o.y,
                        c = o.width,
                        h = o.height;
                      (u = Math.round(u)),
                        (l = Math.round(l)),
                        (c = Math.round(c)),
                        (h = Math.round(h)),
                        this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),
                        this.renderer.gl.scissor(u, l, c, h);
                    }
                    this.renderer.framebuffer.clear(
                      n.red,
                      n.green,
                      n.blue,
                      n.alpha,
                      t
                    ),
                      s && this.renderer.scissor.pop();
                  }
                },
                {
                  key: "resize",
                  value: function () {
                    this.bind(null);
                  }
                },
                {
                  key: "reset",
                  value: function () {
                    this.bind(null);
                  }
                },
                {
                  key: "destroy",
                  value: function () {
                    this.renderer = null;
                  }
                }
              ]),
              e
            );
          })();
        (RenderTextureSystem.extension = {
          type: ExtensionType.RendererSystem,
          name: "renderTexture"
        }),
          extensions$1.add(RenderTextureSystem);
        var GLProgram = (function () {
          function e(t, r) {
            _classCallCheck(this, e),
              (this.program = t),
              (this.uniformData = r),
              (this.uniformGroups = {}),
              (this.uniformDirtyGroups = {}),
              (this.uniformBufferBindings = {});
          }
          return (
            _createClass(e, [
              {
                key: "destroy",
                value: function () {
                  (this.uniformData = null),
                    (this.uniformGroups = null),
                    (this.uniformDirtyGroups = null),
                    (this.uniformBufferBindings = null),
                    (this.program = null);
                }
              }
            ]),
            e
          );
        })();
        function getAttributeData(e, t) {
          for (
            var r = {},
              n = t.getProgramParameter(e, t.ACTIVE_ATTRIBUTES),
              i = 0;
            i < n;
            i++
          ) {
            var a = t.getActiveAttrib(e, i);
            if (!a.name.startsWith("gl_")) {
              var s = mapType(t, a.type),
                o = {
                  type: s,
                  name: a.name,
                  size: mapSize(s),
                  location: t.getAttribLocation(e, a.name)
                };
              r[a.name] = o;
            }
          }
          return r;
        }
        function getUniformData(e, t) {
          for (
            var r = {}, n = t.getProgramParameter(e, t.ACTIVE_UNIFORMS), i = 0;
            i < n;
            i++
          ) {
            var a = t.getActiveUniform(e, i),
              s = a.name.replace(/\[.*?\]$/, ""),
              o = !!a.name.match(/\[.*?\]$/),
              u = mapType(t, a.type);
            r[s] = {
              name: s,
              index: i,
              type: u,
              size: a.size,
              isArray: o,
              value: defaultValue(u, a.size)
            };
          }
          return r;
        }
        function _generateProgram(e, t) {
          var r,
            n = compileShader(e, e.VERTEX_SHADER, t.vertexSrc),
            i = compileShader(e, e.FRAGMENT_SHADER, t.fragmentSrc),
            a = e.createProgram();
          e.attachShader(a, n), e.attachShader(a, i);
          var s =
            null === (r = t.extra) || void 0 === r
              ? void 0
              : r.transformFeedbackVaryings;
          if (
            (s &&
              ("function" != typeof e.transformFeedbackVaryings
                ? console.warn(
                    "TransformFeedback is not supported but TransformFeedbackVaryings are given."
                  )
                : e.transformFeedbackVaryings(
                    a,
                    s.names,
                    "separate" === s.bufferMode
                      ? e.SEPARATE_ATTRIBS
                      : e.INTERLEAVED_ATTRIBS
                  )),
            e.linkProgram(a),
            e.getProgramParameter(a, e.LINK_STATUS) ||
              logProgramError(e, a, n, i),
            (t.attributeData = getAttributeData(a, e)),
            (t.uniformData = getUniformData(a, e)),
            !/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc))
          ) {
            var o = Object.keys(t.attributeData);
            o.sort(function (e, t) {
              return e > t ? 1 : -1;
            });
            for (var u = 0; u < o.length; u++)
              (t.attributeData[o[u]].location = u),
                e.bindAttribLocation(a, u, o[u]);
            e.linkProgram(a);
          }
          e.deleteShader(n), e.deleteShader(i);
          var l = {};
          for (var c in t.uniformData) {
            var h = t.uniformData[c];
            l[c] = {
              location: e.getUniformLocation(a, c),
              value: defaultValue(h.type, h.size)
            };
          }
          return new GLProgram(a, l);
        }
        function uboUpdate(e, t, r, n, i) {
          r.buffer.update(i);
        }
        var UBO_TO_SINGLE_SETTERS = {
            float: "\n        data[offset] = v;\n    ",
            vec2:
              "\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",
            vec3:
              "\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",
            vec4:
              "\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",
            mat2:
              "\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",
            mat3:
              "\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",
            mat4:
              "\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "
          },
          GLSL_TO_STD40_SIZE = {
            float: 4,
            vec2: 8,
            vec3: 12,
            vec4: 16,
            int: 4,
            ivec2: 8,
            ivec3: 12,
            ivec4: 16,
            uint: 4,
            uvec2: 8,
            uvec3: 12,
            uvec4: 16,
            bool: 4,
            bvec2: 8,
            bvec3: 12,
            bvec4: 16,
            mat2: 32,
            mat3: 48,
            mat4: 64
          };
        function createUBOElements(e) {
          for (
            var t = e.map(function (e) {
                return { data: e, offset: 0, dataLen: 0, dirty: 0 };
              }),
              r = 0,
              n = 0,
              i = 0,
              a = 0;
            a < t.length;
            a++
          ) {
            var s = t[a];
            if (
              ((r = GLSL_TO_STD40_SIZE[s.data.type]),
              s.data.size > 1 && (r = Math.max(r, 16) * s.data.size),
              (s.dataLen = r),
              n % r != 0 && n < 16)
            ) {
              var o = (n % r) % 16;
              (n += o), (i += o);
            }
            n + r > 16
              ? ((i = 16 * Math.ceil(i / 16)),
                (s.offset = i),
                (i += r),
                (n = r))
              : ((s.offset = i), (n += r), (i += r));
          }
          return { uboElements: t, size: (i = 16 * Math.ceil(i / 16)) };
        }
        function getUBOData(e, t) {
          var r = [];
          for (var n in e) t[n] && r.push(t[n]);
          return (
            r.sort(function (e, t) {
              return e.index - t.index;
            }),
            r
          );
        }
        function generateUniformBufferSync(e, t) {
          if (!e.autoManage) return { size: 0, syncFunc: uboUpdate };
          for (
            var r = createUBOElements(getUBOData(e.uniforms, t)),
              n = r.uboElements,
              i = r.size,
              a = [
                "\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "
              ],
              s = 0;
            s < n.length;
            s++
          ) {
            for (
              var o = n[s],
                u = e.uniforms[o.data.name],
                l = o.data.name,
                c = !1,
                h = 0;
              h < uniformParsers.length;
              h++
            ) {
              var f = uniformParsers[h];
              if (f.codeUbo && f.test(o.data, u)) {
                a.push(
                  "offset = ".concat(o.offset / 4, ";"),
                  uniformParsers[h].codeUbo(o.data.name, u)
                ),
                  (c = !0);
                break;
              }
            }
            if (!c)
              if (o.data.size > 1) {
                var d = mapSize(o.data.type),
                  p = Math.max(GLSL_TO_STD40_SIZE[o.data.type] / 16, 1),
                  _ = d / p,
                  v = (4 - (_ % 4)) % 4;
                a.push(
                  "\n                cv = ud."
                    .concat(l, ".value;\n                v = uv.")
                    .concat(l, ";\n                offset = ")
                    .concat(
                      o.offset / 4,
                      ";\n\n                t = 0;\n\n                for(var i=0; i < "
                    )
                    .concat(
                      o.data.size * p,
                      "; i++)\n                {\n                    for(var j = 0; j < "
                    )
                    .concat(
                      _,
                      "; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "
                    )
                    .concat(v, ";\n                }\n\n                ")
                );
              } else {
                var m = UBO_TO_SINGLE_SETTERS[o.data.type];
                a.push(
                  "\n                cv = ud."
                    .concat(l, ".value;\n                v = uv.")
                    .concat(l, ";\n                offset = ")
                    .concat(o.offset / 4, ";\n                ")
                    .concat(m, ";\n                ")
                );
              }
          }
          return (
            a.push("\n       renderer.buffer.update(buffer);\n    "),
            {
              size: i,
              syncFunc: new Function(
                "ud",
                "uv",
                "renderer",
                "syncData",
                "buffer",
                a.join("\n")
              )
            }
          );
        }
        var UID = 0,
          defaultSyncData = { textureCount: 0, uboCount: 0 },
          ShaderSystem = (function () {
            function e(t) {
              _classCallCheck(this, e),
                (this.destroyed = !1),
                (this.renderer = t),
                this.systemCheck(),
                (this.gl = null),
                (this.shader = null),
                (this.program = null),
                (this.cache = {}),
                (this._uboCache = {}),
                (this.id = UID++);
            }
            return (
              _createClass(e, [
                {
                  key: "systemCheck",
                  value: function () {
                    if (!unsafeEvalSupported())
                      throw new Error(
                        "Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support."
                      );
                  }
                },
                {
                  key: "contextChange",
                  value: function (e) {
                    (this.gl = e), this.reset();
                  }
                },
                {
                  key: "bind",
                  value: function (e, t) {
                    e.disposeRunner.add(this),
                      (e.uniforms.globals = this.renderer.globalUniforms);
                    var r = e.program,
                      n =
                        r.glPrograms[this.renderer.CONTEXT_UID] ||
                        this.generateProgram(e);
                    return (
                      (this.shader = e),
                      this.program !== r &&
                        ((this.program = r), this.gl.useProgram(n.program)),
                      t ||
                        ((defaultSyncData.textureCount = 0),
                        (defaultSyncData.uboCount = 0),
                        this.syncUniformGroup(e.uniformGroup, defaultSyncData)),
                      n
                    );
                  }
                },
                {
                  key: "setUniforms",
                  value: function (e) {
                    var t = this.shader.program,
                      r = t.glPrograms[this.renderer.CONTEXT_UID];
                    t.syncUniforms(r.uniformData, e, this.renderer);
                  }
                },
                {
                  key: "syncUniformGroup",
                  value: function (e, t) {
                    var r = this.getGlProgram();
                    (e.static && e.dirtyId === r.uniformDirtyGroups[e.id]) ||
                      ((r.uniformDirtyGroups[e.id] = e.dirtyId),
                      this.syncUniforms(e, r, t));
                  }
                },
                {
                  key: "syncUniforms",
                  value: function (e, t, r) {
                    (
                      e.syncUniforms[this.shader.program.id] ||
                      this.createSyncGroups(e)
                    )(t.uniformData, e.uniforms, this.renderer, r);
                  }
                },
                {
                  key: "createSyncGroups",
                  value: function (e) {
                    var t = this.getSignature(
                      e,
                      this.shader.program.uniformData,
                      "u"
                    );
                    return (
                      this.cache[t] ||
                        (this.cache[t] = generateUniformsSync(
                          e,
                          this.shader.program.uniformData
                        )),
                      (e.syncUniforms[this.shader.program.id] = this.cache[t]),
                      e.syncUniforms[this.shader.program.id]
                    );
                  }
                },
                {
                  key: "syncUniformBufferGroup",
                  value: function (e, t) {
                    var r = this.getGlProgram();
                    if (
                      !e.static ||
                      0 !== e.dirtyId ||
                      !r.uniformGroups[e.id]
                    ) {
                      e.dirtyId = 0;
                      var n =
                        r.uniformGroups[e.id] ||
                        this.createSyncBufferGroup(e, r, t);
                      e.buffer.update(),
                        n(
                          r.uniformData,
                          e.uniforms,
                          this.renderer,
                          defaultSyncData,
                          e.buffer
                        );
                    }
                    this.renderer.buffer.bindBufferBase(
                      e.buffer,
                      r.uniformBufferBindings[t]
                    );
                  }
                },
                {
                  key: "createSyncBufferGroup",
                  value: function (e, t, r) {
                    var n = this.renderer.gl;
                    this.renderer.buffer.bind(e.buffer);
                    var i = this.gl.getUniformBlockIndex(t.program, r);
                    (t.uniformBufferBindings[r] = this.shader.uniformBindCount),
                      n.uniformBlockBinding(
                        t.program,
                        i,
                        this.shader.uniformBindCount
                      ),
                      this.shader.uniformBindCount++;
                    var a = this.getSignature(
                        e,
                        this.shader.program.uniformData,
                        "ubo"
                      ),
                      s = this._uboCache[a];
                    if (
                      (s ||
                        (s = this._uboCache[a] = generateUniformBufferSync(
                          e,
                          this.shader.program.uniformData
                        )),
                      e.autoManage)
                    ) {
                      var o = new Float32Array(s.size / 4);
                      e.buffer.update(o);
                    }
                    return (
                      (t.uniformGroups[e.id] = s.syncFunc),
                      t.uniformGroups[e.id]
                    );
                  }
                },
                {
                  key: "getSignature",
                  value: function (e, t, r) {
                    var n = e.uniforms,
                      i = ["".concat(r, "-")];
                    for (var a in n) i.push(a), t[a] && i.push(t[a].type);
                    return i.join("-");
                  }
                },
                {
                  key: "getGlProgram",
                  value: function () {
                    return this.shader
                      ? this.shader.program.glPrograms[
                          this.renderer.CONTEXT_UID
                        ]
                      : null;
                  }
                },
                {
                  key: "generateProgram",
                  value: function (e) {
                    var t = this.gl,
                      r = e.program,
                      n = _generateProgram(t, r);
                    return (r.glPrograms[this.renderer.CONTEXT_UID] = n), n;
                  }
                },
                {
                  key: "reset",
                  value: function () {
                    (this.program = null), (this.shader = null);
                  }
                },
                {
                  key: "disposeShader",
                  value: function (e) {
                    this.shader === e && (this.shader = null);
                  }
                },
                {
                  key: "destroy",
                  value: function () {
                    (this.renderer = null), (this.destroyed = !0);
                  }
                }
              ]),
              e
            );
          })();
        (ShaderSystem.extension = {
          type: ExtensionType.RendererSystem,
          name: "shader"
        }),
          extensions$1.add(ShaderSystem);
        var StartupSystem = (function () {
          function e(t) {
            _classCallCheck(this, e), (this.renderer = t);
          }
          return (
            _createClass(e, [
              {
                key: "run",
                value: function (e) {
                  var t = this.renderer;
                  t.runners.init.emit(t.options),
                    e.hello &&
                      console.log(
                        "PixiJS ".concat(
                          "7.2.4",
                          " - ",
                          t.rendererLogId,
                          " - https://pixijs.com"
                        )
                      ),
                    t.resize(t.screen.width, t.screen.height);
                }
              },
              { key: "destroy", value: function () {} }
            ]),
            e
          );
        })();
        function mapWebGLBlendModesToPixi(e) {
          var t =
            arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
          return (
            (t[BLEND_MODES.NORMAL] = [e.ONE, e.ONE_MINUS_SRC_ALPHA]),
            (t[BLEND_MODES.ADD] = [e.ONE, e.ONE]),
            (t[BLEND_MODES.MULTIPLY] = [
              e.DST_COLOR,
              e.ONE_MINUS_SRC_ALPHA,
              e.ONE,
              e.ONE_MINUS_SRC_ALPHA
            ]),
            (t[BLEND_MODES.SCREEN] = [
              e.ONE,
              e.ONE_MINUS_SRC_COLOR,
              e.ONE,
              e.ONE_MINUS_SRC_ALPHA
            ]),
            (t[BLEND_MODES.OVERLAY] = [e.ONE, e.ONE_MINUS_SRC_ALPHA]),
            (t[BLEND_MODES.DARKEN] = [e.ONE, e.ONE_MINUS_SRC_ALPHA]),
            (t[BLEND_MODES.LIGHTEN] = [e.ONE, e.ONE_MINUS_SRC_ALPHA]),
            (t[BLEND_MODES.COLOR_DODGE] = [e.ONE, e.ONE_MINUS_SRC_ALPHA]),
            (t[BLEND_MODES.COLOR_BURN] = [e.ONE, e.ONE_MINUS_SRC_ALPHA]),
            (t[BLEND_MODES.HARD_LIGHT] = [e.ONE, e.ONE_MINUS_SRC_ALPHA]),
            (t[BLEND_MODES.SOFT_LIGHT] = [e.ONE, e.ONE_MINUS_SRC_ALPHA]),
            (t[BLEND_MODES.DIFFERENCE] = [e.ONE, e.ONE_MINUS_SRC_ALPHA]),
            (t[BLEND_MODES.EXCLUSION] = [e.ONE, e.ONE_MINUS_SRC_ALPHA]),
            (t[BLEND_MODES.HUE] = [e.ONE, e.ONE_MINUS_SRC_ALPHA]),
            (t[BLEND_MODES.SATURATION] = [e.ONE, e.ONE_MINUS_SRC_ALPHA]),
            (t[BLEND_MODES.COLOR] = [e.ONE, e.ONE_MINUS_SRC_ALPHA]),
            (t[BLEND_MODES.LUMINOSITY] = [e.ONE, e.ONE_MINUS_SRC_ALPHA]),
            (t[BLEND_MODES.NONE] = [0, 0]),
            (t[BLEND_MODES.NORMAL_NPM] = [
              e.SRC_ALPHA,
              e.ONE_MINUS_SRC_ALPHA,
              e.ONE,
              e.ONE_MINUS_SRC_ALPHA
            ]),
            (t[BLEND_MODES.ADD_NPM] = [e.SRC_ALPHA, e.ONE, e.ONE, e.ONE]),
            (t[BLEND_MODES.SCREEN_NPM] = [
              e.SRC_ALPHA,
              e.ONE_MINUS_SRC_COLOR,
              e.ONE,
              e.ONE_MINUS_SRC_ALPHA
            ]),
            (t[BLEND_MODES.SRC_IN] = [e.DST_ALPHA, e.ZERO]),
            (t[BLEND_MODES.SRC_OUT] = [e.ONE_MINUS_DST_ALPHA, e.ZERO]),
            (t[BLEND_MODES.SRC_ATOP] = [e.DST_ALPHA, e.ONE_MINUS_SRC_ALPHA]),
            (t[BLEND_MODES.DST_OVER] = [e.ONE_MINUS_DST_ALPHA, e.ONE]),
            (t[BLEND_MODES.DST_IN] = [e.ZERO, e.SRC_ALPHA]),
            (t[BLEND_MODES.DST_OUT] = [e.ZERO, e.ONE_MINUS_SRC_ALPHA]),
            (t[BLEND_MODES.DST_ATOP] = [e.ONE_MINUS_DST_ALPHA, e.SRC_ALPHA]),
            (t[BLEND_MODES.XOR] = [
              e.ONE_MINUS_DST_ALPHA,
              e.ONE_MINUS_SRC_ALPHA
            ]),
            (t[BLEND_MODES.SUBTRACT] = [
              e.ONE,
              e.ONE,
              e.ONE,
              e.ONE,
              e.FUNC_REVERSE_SUBTRACT,
              e.FUNC_ADD
            ]),
            t
          );
        }
        (StartupSystem.defaultOptions = { hello: !1 }),
          (StartupSystem.extension = {
            type: [
              ExtensionType.RendererSystem,
              ExtensionType.CanvasRendererSystem
            ],
            name: "startup"
          }),
          extensions$1.add(StartupSystem);
        var BLEND = 0,
          OFFSET = 1,
          CULLING = 2,
          DEPTH_TEST = 3,
          WINDING = 4,
          DEPTH_MASK = 5,
          _StateSystem = (function () {
            function e() {
              _classCallCheck(this, e),
                (this.gl = null),
                (this.stateId = 0),
                (this.polygonOffset = 0),
                (this.blendMode = BLEND_MODES.NONE),
                (this._blendEq = !1),
                (this.map = []),
                (this.map[BLEND] = this.setBlend),
                (this.map[OFFSET] = this.setOffset),
                (this.map[CULLING] = this.setCullFace),
                (this.map[DEPTH_TEST] = this.setDepthTest),
                (this.map[WINDING] = this.setFrontFace),
                (this.map[DEPTH_MASK] = this.setDepthMask),
                (this.checks = []),
                (this.defaultState = new State()),
                (this.defaultState.blend = !0);
            }
            return (
              _createClass(
                e,
                [
                  {
                    key: "contextChange",
                    value: function (e) {
                      (this.gl = e),
                        (this.blendModes = mapWebGLBlendModesToPixi(e)),
                        this.set(this.defaultState),
                        this.reset();
                    }
                  },
                  {
                    key: "set",
                    value: function (e) {
                      if (
                        ((e = e || this.defaultState), this.stateId !== e.data)
                      ) {
                        for (var t = this.stateId ^ e.data, r = 0; t; )
                          1 & t &&
                            this.map[r].call(this, !!(e.data & (1 << r))),
                            (t >>= 1),
                            r++;
                        this.stateId = e.data;
                      }
                      for (var n = 0; n < this.checks.length; n++)
                        this.checks[n](this, e);
                    }
                  },
                  {
                    key: "forceState",
                    value: function (e) {
                      e = e || this.defaultState;
                      for (var t = 0; t < this.map.length; t++)
                        this.map[t].call(this, !!(e.data & (1 << t)));
                      for (var r = 0; r < this.checks.length; r++)
                        this.checks[r](this, e);
                      this.stateId = e.data;
                    }
                  },
                  {
                    key: "setBlend",
                    value: function (t) {
                      this.updateCheck(e.checkBlendMode, t),
                        this.gl[t ? "enable" : "disable"](this.gl.BLEND);
                    }
                  },
                  {
                    key: "setOffset",
                    value: function (t) {
                      this.updateCheck(e.checkPolygonOffset, t),
                        this.gl[t ? "enable" : "disable"](
                          this.gl.POLYGON_OFFSET_FILL
                        );
                    }
                  },
                  {
                    key: "setDepthTest",
                    value: function (e) {
                      this.gl[e ? "enable" : "disable"](this.gl.DEPTH_TEST);
                    }
                  },
                  {
                    key: "setDepthMask",
                    value: function (e) {
                      this.gl.depthMask(e);
                    }
                  },
                  {
                    key: "setCullFace",
                    value: function (e) {
                      this.gl[e ? "enable" : "disable"](this.gl.CULL_FACE);
                    }
                  },
                  {
                    key: "setFrontFace",
                    value: function (e) {
                      this.gl.frontFace(this.gl[e ? "CW" : "CCW"]);
                    }
                  },
                  {
                    key: "setBlendMode",
                    value: function (e) {
                      if (e !== this.blendMode) {
                        this.blendMode = e;
                        var t = this.blendModes[e],
                          r = this.gl;
                        2 === t.length
                          ? r.blendFunc(t[0], t[1])
                          : r.blendFuncSeparate(t[0], t[1], t[2], t[3]),
                          6 === t.length
                            ? ((this._blendEq = !0),
                              r.blendEquationSeparate(t[4], t[5]))
                            : this._blendEq &&
                              ((this._blendEq = !1),
                              r.blendEquationSeparate(r.FUNC_ADD, r.FUNC_ADD));
                      }
                    }
                  },
                  {
                    key: "setPolygonOffset",
                    value: function (e, t) {
                      this.gl.polygonOffset(e, t);
                    }
                  },
                  {
                    key: "reset",
                    value: function () {
                      this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, !1),
                        this.forceState(this.defaultState),
                        (this._blendEq = !0),
                        (this.blendMode = -1),
                        this.setBlendMode(0);
                    }
                  },
                  {
                    key: "updateCheck",
                    value: function (e, t) {
                      var r = this.checks.indexOf(e);
                      t && -1 === r
                        ? this.checks.push(e)
                        : t || -1 === r || this.checks.splice(r, 1);
                    }
                  },
                  {
                    key: "destroy",
                    value: function () {
                      this.gl = null;
                    }
                  }
                ],
                [
                  {
                    key: "checkBlendMode",
                    value: function (e, t) {
                      e.setBlendMode(t.blendMode);
                    }
                  },
                  {
                    key: "checkPolygonOffset",
                    value: function (e, t) {
                      e.setPolygonOffset(1, t.polygonOffset);
                    }
                  }
                ]
              ),
              e
            );
          })(),
          StateSystem = _StateSystem;
        (StateSystem.extension = {
          type: ExtensionType.RendererSystem,
          name: "state"
        }),
          extensions$1.add(StateSystem);
        var SystemManager = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r() {
              var e;
              return (
                _classCallCheck(this, r),
                ((e = t.apply(this, arguments)).runners = {}),
                (e._systemsHash = {}),
                e
              );
            }
            return (
              _createClass(r, [
                {
                  key: "setup",
                  value: function (e) {
                    var t;
                    this.addRunners.apply(this, _toConsumableArray(e.runners));
                    var r,
                      n = (null !== (t = e.priority) && void 0 !== t
                        ? t
                        : []
                      ).filter(function (t) {
                        return e.systems[t];
                      }),
                      i = _createForOfIteratorHelper(
                        [].concat(
                          _toConsumableArray(n),
                          _toConsumableArray(
                            Object.keys(e.systems).filter(function (e) {
                              return !n.includes(e);
                            })
                          )
                        )
                      );
                    try {
                      for (i.s(); !(r = i.n()).done; ) {
                        var a = r.value;
                        this.addSystem(e.systems[a], a);
                      }
                    } catch (s) {
                      i.e(s);
                    } finally {
                      i.f();
                    }
                  }
                },
                {
                  key: "addRunners",
                  value: function () {
                    for (
                      var e = this,
                        t = arguments.length,
                        r = new Array(t),
                        n = 0;
                      n < t;
                      n++
                    )
                      r[n] = arguments[n];
                    r.forEach(function (t) {
                      e.runners[t] = new Runner(t);
                    });
                  }
                },
                {
                  key: "addSystem",
                  value: function (e, t) {
                    var r = new e(this);
                    if (this[t])
                      throw new Error(
                        'Whoops! The name "'.concat(t, '" is already in use')
                      );
                    for (var n in ((this[t] = r),
                    (this._systemsHash[t] = r),
                    this.runners))
                      this.runners[n].add(r);
                    return this;
                  }
                },
                {
                  key: "emitWithCustomOptions",
                  value: function (e, t) {
                    var r = this,
                      n = Object.keys(this._systemsHash);
                    e.items.forEach(function (i) {
                      var a = n.find(function (e) {
                        return r._systemsHash[e] === i;
                      });
                      i[e.name](t[a]);
                    });
                  }
                },
                {
                  key: "destroy",
                  value: function () {
                    Object.values(this.runners).forEach(function (e) {
                      e.destroy();
                    }),
                      (this._systemsHash = {});
                  }
                }
              ]),
              r
            );
          })(EventEmitter),
          _TextureGCSystem = (function () {
            function e(t) {
              _classCallCheck(this, e),
                (this.renderer = t),
                (this.count = 0),
                (this.checkCount = 0),
                (this.maxIdle = e.defaultMaxIdle),
                (this.checkCountMax = e.defaultCheckCountMax),
                (this.mode = e.defaultMode);
            }
            return (
              _createClass(e, [
                {
                  key: "postrender",
                  value: function () {
                    this.renderer.objectRenderer.renderingToScreen &&
                      (this.count++,
                      this.mode !== GC_MODES.MANUAL &&
                        (this.checkCount++,
                        this.checkCount > this.checkCountMax &&
                          ((this.checkCount = 0), this.run())));
                  }
                },
                {
                  key: "run",
                  value: function () {
                    for (
                      var e = this.renderer.texture,
                        t = e.managedTextures,
                        r = !1,
                        n = 0;
                      n < t.length;
                      n++
                    ) {
                      var i = t[n];
                      !i.framebuffer &&
                        this.count - i.touched > this.maxIdle &&
                        (e.destroyTexture(i, !0), (t[n] = null), (r = !0));
                    }
                    if (r) {
                      for (var a = 0, s = 0; s < t.length; s++)
                        null !== t[s] && (t[a++] = t[s]);
                      t.length = a;
                    }
                  }
                },
                {
                  key: "unload",
                  value: function (e) {
                    var t = this.renderer.texture,
                      r = e._texture;
                    r && !r.framebuffer && t.destroyTexture(r);
                    for (var n = e.children.length - 1; n >= 0; n--)
                      this.unload(e.children[n]);
                  }
                },
                {
                  key: "destroy",
                  value: function () {
                    this.renderer = null;
                  }
                }
              ]),
              e
            );
          })(),
          TextureGCSystem = _TextureGCSystem;
        (TextureGCSystem.defaultMode = GC_MODES.AUTO),
          (TextureGCSystem.defaultMaxIdle = 3600),
          (TextureGCSystem.defaultCheckCountMax = 600),
          (TextureGCSystem.extension = {
            type: ExtensionType.RendererSystem,
            name: "textureGC"
          }),
          extensions$1.add(TextureGCSystem);
        var GLTexture = _createClass(function e(t) {
          _classCallCheck(this, e),
            (this.texture = t),
            (this.width = -1),
            (this.height = -1),
            (this.dirtyId = -1),
            (this.dirtyStyleId = -1),
            (this.mipmap = !1),
            (this.wrapMode = 33071),
            (this.type = TYPES.UNSIGNED_BYTE),
            (this.internalFormat = FORMATS.RGBA),
            (this.samplerType = 0);
        });
        function mapTypeAndFormatToInternalFormat(e) {
          var t, r, n, i, a, s, o, u, l, c, h, f, d;
          "WebGL2RenderingContext" in globalThis &&
          e instanceof globalThis.WebGL2RenderingContext
            ? (_defineProperty(
                (h = {}),
                TYPES.UNSIGNED_BYTE,
                (_defineProperty((r = {}), FORMATS.RGBA, e.RGBA8),
                _defineProperty(r, FORMATS.RGB, e.RGB8),
                _defineProperty(r, FORMATS.RG, e.RG8),
                _defineProperty(r, FORMATS.RED, e.R8),
                _defineProperty(r, FORMATS.RGBA_INTEGER, e.RGBA8UI),
                _defineProperty(r, FORMATS.RGB_INTEGER, e.RGB8UI),
                _defineProperty(r, FORMATS.RG_INTEGER, e.RG8UI),
                _defineProperty(r, FORMATS.RED_INTEGER, e.R8UI),
                _defineProperty(r, FORMATS.ALPHA, e.ALPHA),
                _defineProperty(r, FORMATS.LUMINANCE, e.LUMINANCE),
                _defineProperty(r, FORMATS.LUMINANCE_ALPHA, e.LUMINANCE_ALPHA),
                r)
              ),
              _defineProperty(
                h,
                TYPES.BYTE,
                (_defineProperty((n = {}), FORMATS.RGBA, e.RGBA8_SNORM),
                _defineProperty(n, FORMATS.RGB, e.RGB8_SNORM),
                _defineProperty(n, FORMATS.RG, e.RG8_SNORM),
                _defineProperty(n, FORMATS.RED, e.R8_SNORM),
                _defineProperty(n, FORMATS.RGBA_INTEGER, e.RGBA8I),
                _defineProperty(n, FORMATS.RGB_INTEGER, e.RGB8I),
                _defineProperty(n, FORMATS.RG_INTEGER, e.RG8I),
                _defineProperty(n, FORMATS.RED_INTEGER, e.R8I),
                n)
              ),
              _defineProperty(
                h,
                TYPES.UNSIGNED_SHORT,
                (_defineProperty((i = {}), FORMATS.RGBA_INTEGER, e.RGBA16UI),
                _defineProperty(i, FORMATS.RGB_INTEGER, e.RGB16UI),
                _defineProperty(i, FORMATS.RG_INTEGER, e.RG16UI),
                _defineProperty(i, FORMATS.RED_INTEGER, e.R16UI),
                _defineProperty(
                  i,
                  FORMATS.DEPTH_COMPONENT,
                  e.DEPTH_COMPONENT16
                ),
                i)
              ),
              _defineProperty(
                h,
                TYPES.SHORT,
                (_defineProperty((a = {}), FORMATS.RGBA_INTEGER, e.RGBA16I),
                _defineProperty(a, FORMATS.RGB_INTEGER, e.RGB16I),
                _defineProperty(a, FORMATS.RG_INTEGER, e.RG16I),
                _defineProperty(a, FORMATS.RED_INTEGER, e.R16I),
                a)
              ),
              _defineProperty(
                h,
                TYPES.UNSIGNED_INT,
                (_defineProperty((s = {}), FORMATS.RGBA_INTEGER, e.RGBA32UI),
                _defineProperty(s, FORMATS.RGB_INTEGER, e.RGB32UI),
                _defineProperty(s, FORMATS.RG_INTEGER, e.RG32UI),
                _defineProperty(s, FORMATS.RED_INTEGER, e.R32UI),
                _defineProperty(
                  s,
                  FORMATS.DEPTH_COMPONENT,
                  e.DEPTH_COMPONENT24
                ),
                s)
              ),
              _defineProperty(
                h,
                TYPES.INT,
                (_defineProperty((o = {}), FORMATS.RGBA_INTEGER, e.RGBA32I),
                _defineProperty(o, FORMATS.RGB_INTEGER, e.RGB32I),
                _defineProperty(o, FORMATS.RG_INTEGER, e.RG32I),
                _defineProperty(o, FORMATS.RED_INTEGER, e.R32I),
                o)
              ),
              _defineProperty(
                h,
                TYPES.FLOAT,
                (_defineProperty((u = {}), FORMATS.RGBA, e.RGBA32F),
                _defineProperty(u, FORMATS.RGB, e.RGB32F),
                _defineProperty(u, FORMATS.RG, e.RG32F),
                _defineProperty(u, FORMATS.RED, e.R32F),
                _defineProperty(
                  u,
                  FORMATS.DEPTH_COMPONENT,
                  e.DEPTH_COMPONENT32F
                ),
                u)
              ),
              _defineProperty(
                h,
                TYPES.HALF_FLOAT,
                (_defineProperty((l = {}), FORMATS.RGBA, e.RGBA16F),
                _defineProperty(l, FORMATS.RGB, e.RGB16F),
                _defineProperty(l, FORMATS.RG, e.RG16F),
                _defineProperty(l, FORMATS.RED, e.R16F),
                l)
              ),
              _defineProperty(
                h,
                TYPES.UNSIGNED_SHORT_5_6_5,
                _defineProperty({}, FORMATS.RGB, e.RGB565)
              ),
              _defineProperty(
                h,
                TYPES.UNSIGNED_SHORT_4_4_4_4,
                _defineProperty({}, FORMATS.RGBA, e.RGBA4)
              ),
              _defineProperty(
                h,
                TYPES.UNSIGNED_SHORT_5_5_5_1,
                _defineProperty({}, FORMATS.RGBA, e.RGB5_A1)
              ),
              _defineProperty(
                h,
                TYPES.UNSIGNED_INT_2_10_10_10_REV,
                (_defineProperty((c = {}), FORMATS.RGBA, e.RGB10_A2),
                _defineProperty(c, FORMATS.RGBA_INTEGER, e.RGB10_A2UI),
                c)
              ),
              _defineProperty(
                h,
                TYPES.UNSIGNED_INT_10F_11F_11F_REV,
                _defineProperty({}, FORMATS.RGB, e.R11F_G11F_B10F)
              ),
              _defineProperty(
                h,
                TYPES.UNSIGNED_INT_5_9_9_9_REV,
                _defineProperty({}, FORMATS.RGB, e.RGB9_E5)
              ),
              _defineProperty(
                h,
                TYPES.UNSIGNED_INT_24_8,
                _defineProperty({}, FORMATS.DEPTH_STENCIL, e.DEPTH24_STENCIL8)
              ),
              _defineProperty(
                h,
                TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV,
                _defineProperty({}, FORMATS.DEPTH_STENCIL, e.DEPTH32F_STENCIL8)
              ),
              (t = h))
            : (_defineProperty(
                (d = {}),
                TYPES.UNSIGNED_BYTE,
                (_defineProperty((f = {}), FORMATS.RGBA, e.RGBA),
                _defineProperty(f, FORMATS.RGB, e.RGB),
                _defineProperty(f, FORMATS.ALPHA, e.ALPHA),
                _defineProperty(f, FORMATS.LUMINANCE, e.LUMINANCE),
                _defineProperty(f, FORMATS.LUMINANCE_ALPHA, e.LUMINANCE_ALPHA),
                f)
              ),
              _defineProperty(
                d,
                TYPES.UNSIGNED_SHORT_5_6_5,
                _defineProperty({}, FORMATS.RGB, e.RGB)
              ),
              _defineProperty(
                d,
                TYPES.UNSIGNED_SHORT_4_4_4_4,
                _defineProperty({}, FORMATS.RGBA, e.RGBA)
              ),
              _defineProperty(
                d,
                TYPES.UNSIGNED_SHORT_5_5_5_1,
                _defineProperty({}, FORMATS.RGBA, e.RGBA)
              ),
              (t = d));
          return t;
        }
        var TextureSystem = (function () {
          function e(t) {
            _classCallCheck(this, e),
              (this.renderer = t),
              (this.boundTextures = []),
              (this.currentLocation = -1),
              (this.managedTextures = []),
              (this._unknownBoundTextures = !1),
              (this.unknownTexture = new BaseTexture()),
              (this.hasIntegerTextures = !1);
          }
          return (
            _createClass(e, [
              {
                key: "contextChange",
                value: function () {
                  var e = (this.gl = this.renderer.gl);
                  (this.CONTEXT_UID = this.renderer.CONTEXT_UID),
                    (this.webGLVersion = this.renderer.context.webGLVersion),
                    (this.internalFormats = mapTypeAndFormatToInternalFormat(
                      e
                    ));
                  var t = e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);
                  this.boundTextures.length = t;
                  for (var r = 0; r < t; r++) this.boundTextures[r] = null;
                  this.emptyTextures = {};
                  var n = new GLTexture(e.createTexture());
                  e.bindTexture(e.TEXTURE_2D, n.texture),
                    e.texImage2D(
                      e.TEXTURE_2D,
                      0,
                      e.RGBA,
                      1,
                      1,
                      0,
                      e.RGBA,
                      e.UNSIGNED_BYTE,
                      new Uint8Array(4)
                    ),
                    (this.emptyTextures[e.TEXTURE_2D] = n),
                    (this.emptyTextures[e.TEXTURE_CUBE_MAP] = new GLTexture(
                      e.createTexture()
                    )),
                    e.bindTexture(
                      e.TEXTURE_CUBE_MAP,
                      this.emptyTextures[e.TEXTURE_CUBE_MAP].texture
                    );
                  for (var i = 0; i < 6; i++)
                    e.texImage2D(
                      e.TEXTURE_CUBE_MAP_POSITIVE_X + i,
                      0,
                      e.RGBA,
                      1,
                      1,
                      0,
                      e.RGBA,
                      e.UNSIGNED_BYTE,
                      null
                    );
                  e.texParameteri(
                    e.TEXTURE_CUBE_MAP,
                    e.TEXTURE_MAG_FILTER,
                    e.LINEAR
                  ),
                    e.texParameteri(
                      e.TEXTURE_CUBE_MAP,
                      e.TEXTURE_MIN_FILTER,
                      e.LINEAR
                    );
                  for (var a = 0; a < this.boundTextures.length; a++)
                    this.bind(null, a);
                }
              },
              {
                key: "bind",
                value: function (e) {
                  var t,
                    r,
                    n =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : 0,
                    i = this.gl;
                  if (
                    null !==
                      (r = e =
                        null === (t = e) || void 0 === t
                          ? void 0
                          : t.castToBaseTexture()) &&
                    void 0 !== r &&
                    r.valid &&
                    !e.parentTextureArray
                  ) {
                    e.touched = this.renderer.textureGC.count;
                    var a =
                      e._glTextures[this.CONTEXT_UID] || this.initTexture(e);
                    this.boundTextures[n] !== e &&
                      (this.currentLocation !== n &&
                        ((this.currentLocation = n),
                        i.activeTexture(i.TEXTURE0 + n)),
                      i.bindTexture(e.target, a.texture)),
                      a.dirtyId !== e.dirtyId
                        ? (this.currentLocation !== n &&
                            ((this.currentLocation = n),
                            i.activeTexture(i.TEXTURE0 + n)),
                          this.updateTexture(e))
                        : a.dirtyStyleId !== e.dirtyStyleId &&
                          this.updateTextureStyle(e),
                      (this.boundTextures[n] = e);
                  } else
                    this.currentLocation !== n &&
                      ((this.currentLocation = n),
                      i.activeTexture(i.TEXTURE0 + n)),
                      i.bindTexture(
                        i.TEXTURE_2D,
                        this.emptyTextures[i.TEXTURE_2D].texture
                      ),
                      (this.boundTextures[n] = null);
                }
              },
              {
                key: "reset",
                value: function () {
                  (this._unknownBoundTextures = !0),
                    (this.hasIntegerTextures = !1),
                    (this.currentLocation = -1);
                  for (var e = 0; e < this.boundTextures.length; e++)
                    this.boundTextures[e] = this.unknownTexture;
                }
              },
              {
                key: "unbind",
                value: function (e) {
                  var t = this.gl,
                    r = this.boundTextures;
                  if (this._unknownBoundTextures) {
                    this._unknownBoundTextures = !1;
                    for (var n = 0; n < r.length; n++)
                      r[n] === this.unknownTexture && this.bind(null, n);
                  }
                  for (var i = 0; i < r.length; i++)
                    r[i] === e &&
                      (this.currentLocation !== i &&
                        (t.activeTexture(t.TEXTURE0 + i),
                        (this.currentLocation = i)),
                      t.bindTexture(
                        e.target,
                        this.emptyTextures[e.target].texture
                      ),
                      (r[i] = null));
                }
              },
              {
                key: "ensureSamplerType",
                value: function (e) {
                  var t = this.boundTextures,
                    r = this.hasIntegerTextures,
                    n = this.CONTEXT_UID;
                  if (r)
                    for (var i = e - 1; i >= 0; --i) {
                      var a = t[i];
                      if (a)
                        a._glTextures[n].samplerType !== SAMPLER_TYPES.FLOAT &&
                          this.renderer.texture.unbind(a);
                    }
                }
              },
              {
                key: "initTexture",
                value: function (e) {
                  var t = new GLTexture(this.gl.createTexture());
                  return (
                    (t.dirtyId = -1),
                    (e._glTextures[this.CONTEXT_UID] = t),
                    this.managedTextures.push(e),
                    e.on("dispose", this.destroyTexture, this),
                    t
                  );
                }
              },
              {
                key: "initTextureType",
                value: function (e, t) {
                  var r, n;
                  (t.internalFormat =
                    null !==
                      (r =
                        null === (n = this.internalFormats[e.type]) ||
                        void 0 === n
                          ? void 0
                          : n[e.format]) && void 0 !== r
                      ? r
                      : e.format),
                    2 === this.webGLVersion && e.type === TYPES.HALF_FLOAT
                      ? (t.type = this.gl.HALF_FLOAT)
                      : (t.type = e.type);
                }
              },
              {
                key: "updateTexture",
                value: function (e) {
                  var t,
                    r = e._glTextures[this.CONTEXT_UID];
                  if (r) {
                    var n = this.renderer;
                    if (
                      (this.initTextureType(e, r),
                      null !== (t = e.resource) &&
                        void 0 !== t &&
                        t.upload(n, e, r))
                    )
                      r.samplerType !== SAMPLER_TYPES.FLOAT &&
                        (this.hasIntegerTextures = !0);
                    else {
                      var i = e.realWidth,
                        a = e.realHeight,
                        s = n.gl;
                      (r.width !== i || r.height !== a || r.dirtyId < 0) &&
                        ((r.width = i),
                        (r.height = a),
                        s.texImage2D(
                          e.target,
                          0,
                          r.internalFormat,
                          i,
                          a,
                          0,
                          e.format,
                          r.type,
                          null
                        ));
                    }
                    e.dirtyStyleId !== r.dirtyStyleId &&
                      this.updateTextureStyle(e),
                      (r.dirtyId = e.dirtyId);
                  }
                }
              },
              {
                key: "destroyTexture",
                value: function (e, t) {
                  var r = this.gl;
                  if (
                    (e = e.castToBaseTexture())._glTextures[this.CONTEXT_UID] &&
                    (this.unbind(e),
                    r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),
                    e.off("dispose", this.destroyTexture, this),
                    delete e._glTextures[this.CONTEXT_UID],
                    !t)
                  ) {
                    var n = this.managedTextures.indexOf(e);
                    -1 !== n && removeItems(this.managedTextures, n, 1);
                  }
                }
              },
              {
                key: "updateTextureStyle",
                value: function (e) {
                  var t,
                    r = e._glTextures[this.CONTEXT_UID];
                  r &&
                    ((e.mipmap !== MIPMAP_MODES.POW2 &&
                      2 === this.webGLVersion) ||
                    e.isPowerOfTwo
                      ? (r.mipmap = e.mipmap >= 1)
                      : (r.mipmap = !1),
                    2 === this.webGLVersion || e.isPowerOfTwo
                      ? (r.wrapMode = e.wrapMode)
                      : (r.wrapMode = WRAP_MODES.CLAMP),
                    (null !== (t = e.resource) &&
                      void 0 !== t &&
                      t.style(this.renderer, e, r)) ||
                      this.setStyle(e, r),
                    (r.dirtyStyleId = e.dirtyStyleId));
                }
              },
              {
                key: "setStyle",
                value: function (e, t) {
                  var r = this.gl;
                  if (
                    (t.mipmap &&
                      e.mipmap !== MIPMAP_MODES.ON_MANUAL &&
                      r.generateMipmap(e.target),
                    r.texParameteri(e.target, r.TEXTURE_WRAP_S, t.wrapMode),
                    r.texParameteri(e.target, r.TEXTURE_WRAP_T, t.wrapMode),
                    t.mipmap)
                  ) {
                    r.texParameteri(
                      e.target,
                      r.TEXTURE_MIN_FILTER,
                      e.scaleMode === SCALE_MODES.LINEAR
                        ? r.LINEAR_MIPMAP_LINEAR
                        : r.NEAREST_MIPMAP_NEAREST
                    );
                    var n = this.renderer.context.extensions
                      .anisotropicFiltering;
                    if (
                      n &&
                      e.anisotropicLevel > 0 &&
                      e.scaleMode === SCALE_MODES.LINEAR
                    ) {
                      var i = Math.min(
                        e.anisotropicLevel,
                        r.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)
                      );
                      r.texParameterf(
                        e.target,
                        n.TEXTURE_MAX_ANISOTROPY_EXT,
                        i
                      );
                    }
                  } else
                    r.texParameteri(
                      e.target,
                      r.TEXTURE_MIN_FILTER,
                      e.scaleMode === SCALE_MODES.LINEAR ? r.LINEAR : r.NEAREST
                    );
                  r.texParameteri(
                    e.target,
                    r.TEXTURE_MAG_FILTER,
                    e.scaleMode === SCALE_MODES.LINEAR ? r.LINEAR : r.NEAREST
                  );
                }
              },
              {
                key: "destroy",
                value: function () {
                  this.renderer = null;
                }
              }
            ]),
            e
          );
        })();
        (TextureSystem.extension = {
          type: ExtensionType.RendererSystem,
          name: "texture"
        }),
          extensions$1.add(TextureSystem);
        var TransformFeedbackSystem = (function () {
          function e(t) {
            _classCallCheck(this, e), (this.renderer = t);
          }
          return (
            _createClass(e, [
              {
                key: "contextChange",
                value: function () {
                  (this.gl = this.renderer.gl),
                    (this.CONTEXT_UID = this.renderer.CONTEXT_UID);
                }
              },
              {
                key: "bind",
                value: function (e) {
                  var t = this.gl,
                    r = this.CONTEXT_UID,
                    n =
                      e._glTransformFeedbacks[r] ||
                      this.createGLTransformFeedback(e);
                  t.bindTransformFeedback(t.TRANSFORM_FEEDBACK, n);
                }
              },
              {
                key: "unbind",
                value: function () {
                  var e = this.gl;
                  e.bindTransformFeedback(e.TRANSFORM_FEEDBACK, null);
                }
              },
              {
                key: "beginTransformFeedback",
                value: function (e, t) {
                  var r = this.gl,
                    n = this.renderer;
                  t && n.shader.bind(t), r.beginTransformFeedback(e);
                }
              },
              {
                key: "endTransformFeedback",
                value: function () {
                  this.gl.endTransformFeedback();
                }
              },
              {
                key: "createGLTransformFeedback",
                value: function (e) {
                  var t = this.gl,
                    r = this.renderer,
                    n = this.CONTEXT_UID,
                    i = t.createTransformFeedback();
                  (e._glTransformFeedbacks[n] = i),
                    t.bindTransformFeedback(t.TRANSFORM_FEEDBACK, i);
                  for (var a = 0; a < e.buffers.length; a++) {
                    var s = e.buffers[a];
                    s &&
                      (r.buffer.update(s),
                      s._glBuffers[n].refCount++,
                      t.bindBufferBase(
                        t.TRANSFORM_FEEDBACK_BUFFER,
                        a,
                        s._glBuffers[n].buffer || null
                      ));
                  }
                  return (
                    t.bindTransformFeedback(t.TRANSFORM_FEEDBACK, null),
                    e.disposeRunner.add(this),
                    i
                  );
                }
              },
              {
                key: "disposeTransformFeedback",
                value: function (e, t) {
                  var r = e._glTransformFeedbacks[this.CONTEXT_UID],
                    n = this.gl;
                  e.disposeRunner.remove(this);
                  var i = this.renderer.buffer;
                  if (i)
                    for (var a = 0; a < e.buffers.length; a++) {
                      var s = e.buffers[a];
                      if (s) {
                        var o = s._glBuffers[this.CONTEXT_UID];
                        o &&
                          (o.refCount--,
                          0 !== o.refCount || t || i.dispose(s, t));
                      }
                    }
                  r &&
                    (t || n.deleteTransformFeedback(r),
                    delete e._glTransformFeedbacks[this.CONTEXT_UID]);
                }
              },
              {
                key: "destroy",
                value: function () {
                  this.renderer = null;
                }
              }
            ]),
            e
          );
        })();
        (TransformFeedbackSystem.extension = {
          type: ExtensionType.RendererSystem,
          name: "transformFeedback"
        }),
          extensions$1.add(TransformFeedbackSystem);
        var ViewSystem = (function () {
          function e(t) {
            _classCallCheck(this, e), (this.renderer = t);
          }
          return (
            _createClass(e, [
              {
                key: "init",
                value: function (e) {
                  (this.screen = new Rectangle(0, 0, e.width, e.height)),
                    (this.element = e.view || settings.ADAPTER.createCanvas()),
                    (this.resolution = e.resolution || settings.RESOLUTION),
                    (this.autoDensity = !!e.autoDensity);
                }
              },
              {
                key: "resizeView",
                value: function (e, t) {
                  (this.element.width = Math.round(e * this.resolution)),
                    (this.element.height = Math.round(t * this.resolution));
                  var r = this.element.width / this.resolution,
                    n = this.element.height / this.resolution;
                  (this.screen.width = r),
                    (this.screen.height = n),
                    this.autoDensity &&
                      ((this.element.style.width = "".concat(r, "px")),
                      (this.element.style.height = "".concat(n, "px"))),
                    this.renderer.emit("resize", r, n),
                    this.renderer.runners.resize.emit(
                      this.screen.width,
                      this.screen.height
                    );
                }
              },
              {
                key: "destroy",
                value: function (e) {
                  var t;
                  e &&
                    (null === (t = this.element.parentNode) ||
                      void 0 === t ||
                      t.removeChild(this.element));
                  (this.renderer = null),
                    (this.element = null),
                    (this.screen = null);
                }
              }
            ]),
            e
          );
        })();
        (ViewSystem.defaultOptions = {
          width: 800,
          height: 600,
          resolution: settings.RESOLUTION,
          autoDensity: !1
        }),
          (ViewSystem.extension = {
            type: [
              ExtensionType.RendererSystem,
              ExtensionType.CanvasRendererSystem
            ],
            name: "_view"
          }),
          extensions$1.add(ViewSystem),
          (settings.PREFER_ENV = ENV.WEBGL2),
          (settings.STRICT_TEXTURE_CACHE = !1),
          (settings.RENDER_OPTIONS = _objectSpread(
            _objectSpread(
              _objectSpread(
                _objectSpread({}, ContextSystem.defaultOptions),
                BackgroundSystem.defaultOptions
              ),
              ViewSystem.defaultOptions
            ),
            StartupSystem.defaultOptions
          )),
          Object.defineProperties(settings, {
            WRAP_MODE: {
              get: function () {
                return BaseTexture.defaultOptions.wrapMode;
              },
              set: function (e) {
                deprecation(
                  "7.1.0",
                  "settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"
                ),
                  (BaseTexture.defaultOptions.wrapMode = e);
              }
            },
            SCALE_MODE: {
              get: function () {
                return BaseTexture.defaultOptions.scaleMode;
              },
              set: function (e) {
                deprecation(
                  "7.1.0",
                  "settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"
                ),
                  (BaseTexture.defaultOptions.scaleMode = e);
              }
            },
            MIPMAP_TEXTURES: {
              get: function () {
                return BaseTexture.defaultOptions.mipmap;
              },
              set: function (e) {
                deprecation(
                  "7.1.0",
                  "settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"
                ),
                  (BaseTexture.defaultOptions.mipmap = e);
              }
            },
            ANISOTROPIC_LEVEL: {
              get: function () {
                return BaseTexture.defaultOptions.anisotropicLevel;
              },
              set: function (e) {
                deprecation(
                  "7.1.0",
                  "settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"
                ),
                  (BaseTexture.defaultOptions.anisotropicLevel = e);
              }
            },
            FILTER_RESOLUTION: {
              get: function () {
                return (
                  deprecation(
                    "7.1.0",
                    "settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"
                  ),
                  Filter.defaultResolution
                );
              },
              set: function (e) {
                Filter.defaultResolution = e;
              }
            },
            FILTER_MULTISAMPLE: {
              get: function () {
                return (
                  deprecation(
                    "7.1.0",
                    "settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"
                  ),
                  Filter.defaultMultisample
                );
              },
              set: function (e) {
                Filter.defaultMultisample = e;
              }
            },
            SPRITE_MAX_TEXTURES: {
              get: function () {
                return BatchRenderer.defaultMaxTextures;
              },
              set: function (e) {
                deprecation(
                  "7.1.0",
                  "settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"
                ),
                  (BatchRenderer.defaultMaxTextures = e);
              }
            },
            SPRITE_BATCH_SIZE: {
              get: function () {
                return BatchRenderer.defaultBatchSize;
              },
              set: function (e) {
                deprecation(
                  "7.1.0",
                  "settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"
                ),
                  (BatchRenderer.defaultBatchSize = e);
              }
            },
            CAN_UPLOAD_SAME_BUFFER: {
              get: function () {
                return BatchRenderer.canUploadSameBuffer;
              },
              set: function (e) {
                deprecation(
                  "7.1.0",
                  "settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"
                ),
                  (BatchRenderer.canUploadSameBuffer = e);
              }
            },
            GC_MODE: {
              get: function () {
                return TextureGCSystem.defaultMode;
              },
              set: function (e) {
                deprecation(
                  "7.1.0",
                  "settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"
                ),
                  (TextureGCSystem.defaultMode = e);
              }
            },
            GC_MAX_IDLE: {
              get: function () {
                return TextureGCSystem.defaultMaxIdle;
              },
              set: function (e) {
                deprecation(
                  "7.1.0",
                  "settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"
                ),
                  (TextureGCSystem.defaultMaxIdle = e);
              }
            },
            GC_MAX_CHECK_COUNT: {
              get: function () {
                return TextureGCSystem.defaultCheckCountMax;
              },
              set: function (e) {
                deprecation(
                  "7.1.0",
                  "settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"
                ),
                  (TextureGCSystem.defaultCheckCountMax = e);
              }
            },
            PRECISION_VERTEX: {
              get: function () {
                return Program.defaultVertexPrecision;
              },
              set: function (e) {
                deprecation(
                  "7.1.0",
                  "settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"
                ),
                  (Program.defaultVertexPrecision = e);
              }
            },
            PRECISION_FRAGMENT: {
              get: function () {
                return Program.defaultFragmentPrecision;
              },
              set: function (e) {
                deprecation(
                  "7.1.0",
                  "settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"
                ),
                  (Program.defaultFragmentPrecision = e);
              }
            }
          });
        var UPDATE_PRIORITY = (function (e) {
            return (
              (e[(e.INTERACTION = 50)] = "INTERACTION"),
              (e[(e.HIGH = 25)] = "HIGH"),
              (e[(e.NORMAL = 0)] = "NORMAL"),
              (e[(e.LOW = -25)] = "LOW"),
              (e[(e.UTILITY = -50)] = "UTILITY"),
              e
            );
          })(UPDATE_PRIORITY || {}),
          TickerListener = (function () {
            function e(t) {
              var r =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : null,
                n =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : 0,
                i =
                  arguments.length > 3 &&
                  void 0 !== arguments[3] &&
                  arguments[3];
              _classCallCheck(this, e),
                (this.next = null),
                (this.previous = null),
                (this._destroyed = !1),
                (this.fn = t),
                (this.context = r),
                (this.priority = n),
                (this.once = i);
            }
            return (
              _createClass(e, [
                {
                  key: "match",
                  value: function (e) {
                    var t =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : null;
                    return this.fn === e && this.context === t;
                  }
                },
                {
                  key: "emit",
                  value: function (e) {
                    this.fn &&
                      (this.context
                        ? this.fn.call(this.context, e)
                        : this.fn(e));
                    var t = this.next;
                    return (
                      this.once && this.destroy(!0),
                      this._destroyed && (this.next = null),
                      t
                    );
                  }
                },
                {
                  key: "connect",
                  value: function (e) {
                    (this.previous = e),
                      e.next && (e.next.previous = this),
                      (this.next = e.next),
                      (e.next = this);
                  }
                },
                {
                  key: "destroy",
                  value: function () {
                    var e =
                      arguments.length > 0 &&
                      void 0 !== arguments[0] &&
                      arguments[0];
                    (this._destroyed = !0),
                      (this.fn = null),
                      (this.context = null),
                      this.previous && (this.previous.next = this.next),
                      this.next && (this.next.previous = this.previous);
                    var t = this.next;
                    return (
                      (this.next = e ? null : t), (this.previous = null), t
                    );
                  }
                }
              ]),
              e
            );
          })(),
          _Ticker = (function () {
            function e() {
              var t = this;
              _classCallCheck(this, e),
                (this.autoStart = !1),
                (this.deltaTime = 1),
                (this.lastTime = -1),
                (this.speed = 1),
                (this.started = !1),
                (this._requestId = null),
                (this._maxElapsedMS = 100),
                (this._minElapsedMS = 0),
                (this._protected = !1),
                (this._lastFrame = -1),
                (this._head = new TickerListener(null, null, 1 / 0)),
                (this.deltaMS = 1 / e.targetFPMS),
                (this.elapsedMS = 1 / e.targetFPMS),
                (this._tick = function (e) {
                  (t._requestId = null),
                    t.started &&
                      (t.update(e),
                      t.started &&
                        null === t._requestId &&
                        t._head.next &&
                        (t._requestId = requestAnimationFrame(t._tick)));
                });
            }
            return (
              _createClass(
                e,
                [
                  {
                    key: "_requestIfNeeded",
                    value: function () {
                      null === this._requestId &&
                        this._head.next &&
                        ((this.lastTime = performance.now()),
                        (this._lastFrame = this.lastTime),
                        (this._requestId = requestAnimationFrame(this._tick)));
                    }
                  },
                  {
                    key: "_cancelIfNeeded",
                    value: function () {
                      null !== this._requestId &&
                        (cancelAnimationFrame(this._requestId),
                        (this._requestId = null));
                    }
                  },
                  {
                    key: "_startIfPossible",
                    value: function () {
                      this.started
                        ? this._requestIfNeeded()
                        : this.autoStart && this.start();
                    }
                  },
                  {
                    key: "add",
                    value: function (e, t) {
                      var r =
                        arguments.length > 2 && void 0 !== arguments[2]
                          ? arguments[2]
                          : UPDATE_PRIORITY.NORMAL;
                      return this._addListener(new TickerListener(e, t, r));
                    }
                  },
                  {
                    key: "addOnce",
                    value: function (e, t) {
                      var r =
                        arguments.length > 2 && void 0 !== arguments[2]
                          ? arguments[2]
                          : UPDATE_PRIORITY.NORMAL;
                      return this._addListener(new TickerListener(e, t, r, !0));
                    }
                  },
                  {
                    key: "_addListener",
                    value: function (e) {
                      var t = this._head.next,
                        r = this._head;
                      if (t) {
                        for (; t; ) {
                          if (e.priority > t.priority) {
                            e.connect(r);
                            break;
                          }
                          (r = t), (t = t.next);
                        }
                        e.previous || e.connect(r);
                      } else e.connect(r);
                      return this._startIfPossible(), this;
                    }
                  },
                  {
                    key: "remove",
                    value: function (e, t) {
                      for (var r = this._head.next; r; )
                        r = r.match(e, t) ? r.destroy() : r.next;
                      return this._head.next || this._cancelIfNeeded(), this;
                    }
                  },
                  {
                    key: "count",
                    get: function () {
                      if (!this._head) return 0;
                      for (var e = 0, t = this._head; (t = t.next); ) e++;
                      return e;
                    }
                  },
                  {
                    key: "start",
                    value: function () {
                      this.started ||
                        ((this.started = !0), this._requestIfNeeded());
                    }
                  },
                  {
                    key: "stop",
                    value: function () {
                      this.started &&
                        ((this.started = !1), this._cancelIfNeeded());
                    }
                  },
                  {
                    key: "destroy",
                    value: function () {
                      if (!this._protected) {
                        this.stop();
                        for (var e = this._head.next; e; ) e = e.destroy(!0);
                        this._head.destroy(), (this._head = null);
                      }
                    }
                  },
                  {
                    key: "update",
                    value: function () {
                      var t,
                        r =
                          arguments.length > 0 && void 0 !== arguments[0]
                            ? arguments[0]
                            : performance.now();
                      if (r > this.lastTime) {
                        if (
                          ((t = this.elapsedMS = r - this.lastTime) >
                            this._maxElapsedMS && (t = this._maxElapsedMS),
                          (t *= this.speed),
                          this._minElapsedMS)
                        ) {
                          var n = (r - this._lastFrame) | 0;
                          if (n < this._minElapsedMS) return;
                          this._lastFrame = r - (n % this._minElapsedMS);
                        }
                        (this.deltaMS = t),
                          (this.deltaTime = this.deltaMS * e.targetFPMS);
                        for (var i = this._head, a = i.next; a; )
                          a = a.emit(this.deltaTime);
                        i.next || this._cancelIfNeeded();
                      } else this.deltaTime = this.deltaMS = this.elapsedMS = 0;
                      this.lastTime = r;
                    }
                  },
                  {
                    key: "FPS",
                    get: function () {
                      return 1e3 / this.elapsedMS;
                    }
                  },
                  {
                    key: "minFPS",
                    get: function () {
                      return 1e3 / this._maxElapsedMS;
                    },
                    set: function (t) {
                      var r = Math.min(this.maxFPS, t),
                        n = Math.min(Math.max(0, r) / 1e3, e.targetFPMS);
                      this._maxElapsedMS = 1 / n;
                    }
                  },
                  {
                    key: "maxFPS",
                    get: function () {
                      return this._minElapsedMS
                        ? Math.round(1e3 / this._minElapsedMS)
                        : 0;
                    },
                    set: function (e) {
                      if (0 === e) this._minElapsedMS = 0;
                      else {
                        var t = Math.max(this.minFPS, e);
                        this._minElapsedMS = 1 / (t / 1e3);
                      }
                    }
                  }
                ],
                [
                  {
                    key: "shared",
                    get: function () {
                      if (!e._shared) {
                        var t = (e._shared = new e());
                        (t.autoStart = !0), (t._protected = !0);
                      }
                      return e._shared;
                    }
                  },
                  {
                    key: "system",
                    get: function () {
                      if (!e._system) {
                        var t = (e._system = new e());
                        (t.autoStart = !0), (t._protected = !0);
                      }
                      return e._system;
                    }
                  }
                ]
              ),
              e
            );
          })(),
          Ticker = _Ticker;
        (Ticker.targetFPMS = 0.06),
          Object.defineProperties(settings, {
            TARGET_FPMS: {
              get: function () {
                return Ticker.targetFPMS;
              },
              set: function (e) {
                deprecation(
                  "7.1.0",
                  "settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"
                ),
                  (Ticker.targetFPMS = e);
              }
            }
          });
        var TickerPlugin = (function () {
          function e() {
            _classCallCheck(this, e);
          }
          return (
            _createClass(e, null, [
              {
                key: "init",
                value: function (e) {
                  var t = this;
                  (e = Object.assign({ autoStart: !0, sharedTicker: !1 }, e)),
                    Object.defineProperty(this, "ticker", {
                      set: function (e) {
                        this._ticker && this._ticker.remove(this.render, this),
                          (this._ticker = e),
                          e && e.add(this.render, this, UPDATE_PRIORITY.LOW);
                      },
                      get: function () {
                        return this._ticker;
                      }
                    }),
                    (this.stop = function () {
                      t._ticker.stop();
                    }),
                    (this.start = function () {
                      t._ticker.start();
                    }),
                    (this._ticker = null),
                    (this.ticker = e.sharedTicker
                      ? Ticker.shared
                      : new Ticker()),
                    e.autoStart && this.start();
                }
              },
              {
                key: "destroy",
                value: function () {
                  if (this._ticker) {
                    var e = this._ticker;
                    (this.ticker = null), e.destroy();
                  }
                }
              }
            ]),
            e
          );
        })();
        (TickerPlugin.extension = ExtensionType.Application),
          extensions$1.add(TickerPlugin);
        var renderers = [];
        function autoDetectRenderer(e) {
          for (var t = 0, r = renderers; t < r.length; t++) {
            var n = r[t];
            if (n.test(e)) return new n(e);
          }
          throw new Error("Unable to auto-detect a suitable renderer.");
        }
        extensions$1.handleByList(ExtensionType.Renderer, renderers);
        var $defaultVertex =
            "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",
          $defaultFilterVertex =
            "attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",
          defaultVertex = $defaultVertex,
          defaultFilterVertex = $defaultFilterVertex,
          MultisampleSystem = (function () {
            function e(t) {
              _classCallCheck(this, e), (this.renderer = t);
            }
            return (
              _createClass(e, [
                {
                  key: "contextChange",
                  value: function (e) {
                    var t;
                    if (1 === this.renderer.context.webGLVersion) {
                      var r = e.getParameter(e.FRAMEBUFFER_BINDING);
                      e.bindFramebuffer(e.FRAMEBUFFER, null),
                        (t = e.getParameter(e.SAMPLES)),
                        e.bindFramebuffer(e.FRAMEBUFFER, r);
                    } else {
                      var n = e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);
                      e.bindFramebuffer(e.DRAW_FRAMEBUFFER, null),
                        (t = e.getParameter(e.SAMPLES)),
                        e.bindFramebuffer(e.DRAW_FRAMEBUFFER, n);
                    }
                    t >= MSAA_QUALITY.HIGH
                      ? (this.multisample = MSAA_QUALITY.HIGH)
                      : t >= MSAA_QUALITY.MEDIUM
                      ? (this.multisample = MSAA_QUALITY.MEDIUM)
                      : t >= MSAA_QUALITY.LOW
                      ? (this.multisample = MSAA_QUALITY.LOW)
                      : (this.multisample = MSAA_QUALITY.NONE);
                  }
                },
                { key: "destroy", value: function () {} }
              ]),
              e
            );
          })();
        (MultisampleSystem.extension = {
          type: ExtensionType.RendererSystem,
          name: "_multisample"
        }),
          extensions$1.add(MultisampleSystem);
        var GLBuffer = _createClass(function e(t) {
            _classCallCheck(this, e),
              (this.buffer = t || null),
              (this.updateID = -1),
              (this.byteLength = -1),
              (this.refCount = 0);
          }),
          BufferSystem = (function () {
            function e(t) {
              _classCallCheck(this, e),
                (this.renderer = t),
                (this.managedBuffers = {}),
                (this.boundBufferBases = {});
            }
            return (
              _createClass(e, [
                {
                  key: "destroy",
                  value: function () {
                    this.renderer = null;
                  }
                },
                {
                  key: "contextChange",
                  value: function () {
                    this.disposeAll(!0),
                      (this.gl = this.renderer.gl),
                      (this.CONTEXT_UID = this.renderer.CONTEXT_UID);
                  }
                },
                {
                  key: "bind",
                  value: function (e) {
                    var t = this.gl,
                      r = this.CONTEXT_UID,
                      n = e._glBuffers[r] || this.createGLBuffer(e);
                    t.bindBuffer(e.type, n.buffer);
                  }
                },
                {
                  key: "unbind",
                  value: function (e) {
                    this.gl.bindBuffer(e, null);
                  }
                },
                {
                  key: "bindBufferBase",
                  value: function (e, t) {
                    var r = this.gl,
                      n = this.CONTEXT_UID;
                    if (this.boundBufferBases[t] !== e) {
                      var i = e._glBuffers[n] || this.createGLBuffer(e);
                      (this.boundBufferBases[t] = e),
                        r.bindBufferBase(r.UNIFORM_BUFFER, t, i.buffer);
                    }
                  }
                },
                {
                  key: "bindBufferRange",
                  value: function (e, t, r) {
                    var n = this.gl,
                      i = this.CONTEXT_UID;
                    r = r || 0;
                    var a = e._glBuffers[i] || this.createGLBuffer(e);
                    n.bindBufferRange(
                      n.UNIFORM_BUFFER,
                      t || 0,
                      a.buffer,
                      256 * r,
                      256
                    );
                  }
                },
                {
                  key: "update",
                  value: function (e) {
                    var t = this.gl,
                      r = this.CONTEXT_UID,
                      n = e._glBuffers[r] || this.createGLBuffer(e);
                    if (e._updateID !== n.updateID)
                      if (
                        ((n.updateID = e._updateID),
                        t.bindBuffer(e.type, n.buffer),
                        n.byteLength >= e.data.byteLength)
                      )
                        t.bufferSubData(e.type, 0, e.data);
                      else {
                        var i = e.static ? t.STATIC_DRAW : t.DYNAMIC_DRAW;
                        (n.byteLength = e.data.byteLength),
                          t.bufferData(e.type, e.data, i);
                      }
                  }
                },
                {
                  key: "dispose",
                  value: function (e, t) {
                    if (this.managedBuffers[e.id]) {
                      delete this.managedBuffers[e.id];
                      var r = e._glBuffers[this.CONTEXT_UID],
                        n = this.gl;
                      e.disposeRunner.remove(this),
                        r &&
                          (t || n.deleteBuffer(r.buffer),
                          delete e._glBuffers[this.CONTEXT_UID]);
                    }
                  }
                },
                {
                  key: "disposeAll",
                  value: function (e) {
                    for (
                      var t = Object.keys(this.managedBuffers), r = 0;
                      r < t.length;
                      r++
                    )
                      this.dispose(this.managedBuffers[t[r]], e);
                  }
                },
                {
                  key: "createGLBuffer",
                  value: function (e) {
                    var t = this.CONTEXT_UID,
                      r = this.gl;
                    return (
                      (e._glBuffers[t] = new GLBuffer(r.createBuffer())),
                      (this.managedBuffers[e.id] = e),
                      e.disposeRunner.add(this),
                      e._glBuffers[t]
                    );
                  }
                }
              ]),
              e
            );
          })();
        (BufferSystem.extension = {
          type: ExtensionType.RendererSystem,
          name: "buffer"
        }),
          extensions$1.add(BufferSystem);
        var ObjectRendererSystem = (function () {
          function e(t) {
            _classCallCheck(this, e), (this.renderer = t);
          }
          return (
            _createClass(e, [
              {
                key: "render",
                value: function (e, t) {
                  var r,
                    n,
                    i,
                    a,
                    s,
                    o = this.renderer;
                  if (
                    (t &&
                      ((n = t.renderTexture),
                      (i = t.clear),
                      (a = t.transform),
                      (s = t.skipUpdateTransform)),
                    (this.renderingToScreen = !n),
                    o.runners.prerender.emit(),
                    o.emit("prerender"),
                    (o.projection.transform = a),
                    !o.context.isLost)
                  ) {
                    if ((n || (this.lastObjectRendered = e), !s)) {
                      var u = e.enableTempParent();
                      e.updateTransform(), e.disableTempParent(u);
                    }
                    o.renderTexture.bind(n),
                      o.batch.currentRenderer.start(),
                      (null !== (r = i) && void 0 !== r
                        ? r
                        : o.background.clearBeforeRender) &&
                        o.renderTexture.clear(),
                      e.render(o),
                      o.batch.currentRenderer.flush(),
                      n &&
                        (t.blit && o.framebuffer.blit(),
                        n.baseTexture.update()),
                      o.runners.postrender.emit(),
                      (o.projection.transform = null),
                      o.emit("postrender");
                  }
                }
              },
              {
                key: "destroy",
                value: function () {
                  (this.renderer = null), (this.lastObjectRendered = null);
                }
              }
            ]),
            e
          );
        })();
        (ObjectRendererSystem.extension = {
          type: ExtensionType.RendererSystem,
          name: "objectRenderer"
        }),
          extensions$1.add(ObjectRendererSystem);
        var _Renderer = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e) {
              var n;
              _classCallCheck(this, r),
                ((n = t.call(this)).type = RENDERER_TYPE.WEBGL),
                (e = Object.assign({}, settings.RENDER_OPTIONS, e)),
                (n.gl = null),
                (n.CONTEXT_UID = 0),
                (n.globalUniforms = new UniformGroup(
                  { projectionMatrix: new Matrix() },
                  !0
                ));
              var i = {
                runners: [
                  "init",
                  "destroy",
                  "contextChange",
                  "resolutionChange",
                  "reset",
                  "update",
                  "postrender",
                  "prerender",
                  "resize"
                ],
                systems: r.__systems,
                priority: [
                  "_view",
                  "textureGenerator",
                  "background",
                  "_plugin",
                  "startup",
                  "context",
                  "state",
                  "texture",
                  "buffer",
                  "geometry",
                  "framebuffer",
                  "transformFeedback",
                  "mask",
                  "scissor",
                  "stencil",
                  "projection",
                  "textureGC",
                  "filter",
                  "renderTexture",
                  "batch",
                  "objectRenderer",
                  "_multisample"
                ]
              };
              return (
                n.setup(i),
                "useContextAlpha" in e &&
                  (deprecation(
                    "7.0.0",
                    "options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"
                  ),
                  (e.premultipliedAlpha =
                    e.useContextAlpha && "notMultiplied" !== e.useContextAlpha),
                  (e.backgroundAlpha =
                    !1 === e.useContextAlpha ? 1 : e.backgroundAlpha)),
                (n._plugin.rendererPlugins = r.__plugins),
                (n.options = e),
                n.startup.run(n.options),
                n
              );
            }
            return (
              _createClass(
                r,
                [
                  {
                    key: "render",
                    value: function (e, t) {
                      this.objectRenderer.render(e, t);
                    }
                  },
                  {
                    key: "resize",
                    value: function (e, t) {
                      this._view.resizeView(e, t);
                    }
                  },
                  {
                    key: "reset",
                    value: function () {
                      return this.runners.reset.emit(), this;
                    }
                  },
                  {
                    key: "clear",
                    value: function () {
                      this.renderTexture.bind(), this.renderTexture.clear();
                    }
                  },
                  {
                    key: "destroy",
                    value: function () {
                      var e =
                        arguments.length > 0 &&
                        void 0 !== arguments[0] &&
                        arguments[0];
                      this.runners.destroy.items.reverse(),
                        this.emitWithCustomOptions(this.runners.destroy, {
                          _view: e
                        }),
                        _get3(
                          _getPrototypeOf(r.prototype),
                          "destroy",
                          this
                        ).call(this);
                    }
                  },
                  {
                    key: "plugins",
                    get: function () {
                      return this._plugin.plugins;
                    }
                  },
                  {
                    key: "multisample",
                    get: function () {
                      return this._multisample.multisample;
                    }
                  },
                  {
                    key: "width",
                    get: function () {
                      return this._view.element.width;
                    }
                  },
                  {
                    key: "height",
                    get: function () {
                      return this._view.element.height;
                    }
                  },
                  {
                    key: "resolution",
                    get: function () {
                      return this._view.resolution;
                    },
                    set: function (e) {
                      (this._view.resolution = e),
                        this.runners.resolutionChange.emit(e);
                    }
                  },
                  {
                    key: "autoDensity",
                    get: function () {
                      return this._view.autoDensity;
                    }
                  },
                  {
                    key: "view",
                    get: function () {
                      return this._view.element;
                    }
                  },
                  {
                    key: "screen",
                    get: function () {
                      return this._view.screen;
                    }
                  },
                  {
                    key: "lastObjectRendered",
                    get: function () {
                      return this.objectRenderer.lastObjectRendered;
                    }
                  },
                  {
                    key: "renderingToScreen",
                    get: function () {
                      return this.objectRenderer.renderingToScreen;
                    }
                  },
                  {
                    key: "rendererLogId",
                    get: function () {
                      return "WebGL ".concat(this.context.webGLVersion);
                    }
                  },
                  {
                    key: "clearBeforeRender",
                    get: function () {
                      return (
                        deprecation(
                          "7.0.0",
                          "renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."
                        ),
                        this.background.clearBeforeRender
                      );
                    }
                  },
                  {
                    key: "useContextAlpha",
                    get: function () {
                      return (
                        deprecation(
                          "7.0.0",
                          "renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."
                        ),
                        this.context.useContextAlpha
                      );
                    }
                  },
                  {
                    key: "preserveDrawingBuffer",
                    get: function () {
                      return (
                        deprecation(
                          "7.0.0",
                          "renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"
                        ),
                        this.context.preserveDrawingBuffer
                      );
                    }
                  },
                  {
                    key: "backgroundColor",
                    get: function () {
                      return (
                        deprecation(
                          "7.0.0",
                          "renderer.backgroundColor has been deprecated, use renderer.background.color instead."
                        ),
                        this.background.color
                      );
                    },
                    set: function (e) {
                      deprecation(
                        "7.0.0",
                        "renderer.backgroundColor has been deprecated, use renderer.background.color instead."
                      ),
                        (this.background.color = e);
                    }
                  },
                  {
                    key: "backgroundAlpha",
                    get: function () {
                      return (
                        deprecation(
                          "7.0.0",
                          "renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."
                        ),
                        this.background.alpha
                      );
                    },
                    set: function (e) {
                      deprecation(
                        "7.0.0",
                        "renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."
                      ),
                        (this.background.alpha = e);
                    }
                  },
                  {
                    key: "powerPreference",
                    get: function () {
                      return (
                        deprecation(
                          "7.0.0",
                          "renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"
                        ),
                        this.context.powerPreference
                      );
                    }
                  },
                  {
                    key: "generateTexture",
                    value: function (e, t) {
                      return this.textureGenerator.generateTexture(e, t);
                    }
                  }
                ],
                [
                  {
                    key: "test",
                    value: function (e) {
                      return (
                        (null == e || !e.forceCanvas) && isWebGLSupported()
                      );
                    }
                  }
                ]
              ),
              r
            );
          })(SystemManager),
          Renderer = _Renderer;
        (Renderer.extension = { type: ExtensionType.Renderer, priority: 1 }),
          (Renderer.__plugins = {}),
          (Renderer.__systems = {}),
          extensions$1.handleByMap(
            ExtensionType.RendererPlugin,
            Renderer.__plugins
          ),
          extensions$1.handleByMap(
            ExtensionType.RendererSystem,
            Renderer.__systems
          ),
          extensions$1.add(Renderer);
        var AbstractMultiResource = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e, n) {
              var i;
              _classCallCheck(this, r);
              var a = n || {},
                s = a.width,
                o = a.height;
              ((i = t.call(this, s, o)).items = []), (i.itemDirtyIds = []);
              for (var u = 0; u < e; u++) {
                var l = new BaseTexture();
                i.items.push(l), i.itemDirtyIds.push(-2);
              }
              return (
                (i.length = e), (i._load = null), (i.baseTexture = null), i
              );
            }
            return (
              _createClass(r, [
                {
                  key: "initFromArray",
                  value: function (e, t) {
                    for (var r = 0; r < this.length; r++)
                      e[r] &&
                        (e[r].castToBaseTexture
                          ? this.addBaseTextureAt(e[r].castToBaseTexture(), r)
                          : e[r] instanceof Resource
                          ? this.addResourceAt(e[r], r)
                          : this.addResourceAt(autoDetectResource(e[r], t), r));
                  }
                },
                {
                  key: "dispose",
                  value: function () {
                    for (var e = 0, t = this.length; e < t; e++)
                      this.items[e].destroy();
                    (this.items = null),
                      (this.itemDirtyIds = null),
                      (this._load = null);
                  }
                },
                {
                  key: "addResourceAt",
                  value: function (e, t) {
                    if (!this.items[t])
                      throw new Error("Index ".concat(t, " is out of bounds"));
                    return (
                      e.valid && !this.valid && this.resize(e.width, e.height),
                      this.items[t].setResource(e),
                      this
                    );
                  }
                },
                {
                  key: "bind",
                  value: function (e) {
                    if (null !== this.baseTexture)
                      throw new Error(
                        "Only one base texture per TextureArray is allowed"
                      );
                    _get3(_getPrototypeOf(r.prototype), "bind", this).call(
                      this,
                      e
                    );
                    for (var t = 0; t < this.length; t++)
                      (this.items[t].parentTextureArray = e),
                        this.items[t].on("update", e.update, e);
                  }
                },
                {
                  key: "unbind",
                  value: function (e) {
                    _get3(_getPrototypeOf(r.prototype), "unbind", this).call(
                      this,
                      e
                    );
                    for (var t = 0; t < this.length; t++)
                      (this.items[t].parentTextureArray = null),
                        this.items[t].off("update", e.update, e);
                  }
                },
                {
                  key: "load",
                  value: function () {
                    var e = this;
                    if (this._load) return this._load;
                    var t = this.items
                      .map(function (e) {
                        return e.resource;
                      })
                      .filter(function (e) {
                        return e;
                      })
                      .map(function (e) {
                        return e.load();
                      });
                    return (
                      (this._load = Promise.all(t).then(function () {
                        var t = e.items[0],
                          r = t.realWidth,
                          n = t.realHeight;
                        return e.resize(r, n), Promise.resolve(e);
                      })),
                      this._load
                    );
                  }
                }
              ]),
              r
            );
          })(Resource),
          ArrayResource = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e, n) {
              var i;
              _classCallCheck(this, r);
              var a,
                s,
                o = n || {},
                u = o.width,
                l = o.height;
              return (
                Array.isArray(e) ? ((a = e), (s = e.length)) : (s = e),
                (i = t.call(this, s, { width: u, height: l })),
                a && i.initFromArray(a, n),
                i
              );
            }
            return (
              _createClass(r, [
                {
                  key: "addBaseTextureAt",
                  value: function (e, t) {
                    if (!e.resource)
                      throw new Error(
                        "ArrayResource does not support RenderTexture"
                      );
                    return this.addResourceAt(e.resource, t), this;
                  }
                },
                {
                  key: "bind",
                  value: function (e) {
                    _get3(_getPrototypeOf(r.prototype), "bind", this).call(
                      this,
                      e
                    ),
                      (e.target = TARGETS.TEXTURE_2D_ARRAY);
                  }
                },
                {
                  key: "upload",
                  value: function (e, t, r) {
                    var n = this.length,
                      i = this.itemDirtyIds,
                      a = this.items,
                      s = e.gl;
                    r.dirtyId < 0 &&
                      s.texImage3D(
                        s.TEXTURE_2D_ARRAY,
                        0,
                        r.internalFormat,
                        this._width,
                        this._height,
                        n,
                        0,
                        t.format,
                        r.type,
                        null
                      );
                    for (var o = 0; o < n; o++) {
                      var u = a[o];
                      i[o] < u.dirtyId &&
                        ((i[o] = u.dirtyId),
                        u.valid &&
                          s.texSubImage3D(
                            s.TEXTURE_2D_ARRAY,
                            0,
                            0,
                            0,
                            o,
                            u.resource.width,
                            u.resource.height,
                            1,
                            t.format,
                            r.type,
                            u.resource.source
                          ));
                    }
                    return !0;
                  }
                }
              ]),
              r
            );
          })(AbstractMultiResource),
          CanvasResource = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e) {
              return _classCallCheck(this, r), t.call(this, e);
            }
            return (
              _createClass(r, null, [
                {
                  key: "test",
                  value: function (e) {
                    var t = globalThis.OffscreenCanvas;
                    return (
                      !!(t && e instanceof t) ||
                      (globalThis.HTMLCanvasElement &&
                        e instanceof HTMLCanvasElement)
                    );
                  }
                }
              ]),
              r
            );
          })(BaseImageResource),
          _CubeResource = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e, n) {
              var i;
              _classCallCheck(this, r);
              var a = n || {},
                s = a.width,
                o = a.height,
                u = a.autoLoad,
                l = a.linkBaseTexture;
              if (e && e.length !== r.SIDES)
                throw new Error(
                  "Invalid length. Got ".concat(e.length, ", expected 6")
                );
              i = t.call(this, 6, { width: s, height: o });
              for (var c = 0; c < r.SIDES; c++)
                i.items[c].target = TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X + c;
              return (
                (i.linkBaseTexture = !1 !== l),
                e && i.initFromArray(e, n),
                !1 !== u && i.load(),
                i
              );
            }
            return (
              _createClass(
                r,
                [
                  {
                    key: "bind",
                    value: function (e) {
                      _get3(_getPrototypeOf(r.prototype), "bind", this).call(
                        this,
                        e
                      ),
                        (e.target = TARGETS.TEXTURE_CUBE_MAP);
                    }
                  },
                  {
                    key: "addBaseTextureAt",
                    value: function (e, t, r) {
                      if (
                        (void 0 === r && (r = this.linkBaseTexture),
                        !this.items[t])
                      )
                        throw new Error(
                          "Index ".concat(t, " is out of bounds")
                        );
                      if (
                        !this.linkBaseTexture ||
                        e.parentTextureArray ||
                        Object.keys(e._glTextures).length > 0
                      ) {
                        if (!e.resource)
                          throw new Error(
                            "CubeResource does not support copying of renderTexture."
                          );
                        this.addResourceAt(e.resource, t);
                      } else
                        (e.target = TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X + t),
                          (e.parentTextureArray = this.baseTexture),
                          (this.items[t] = e);
                      return (
                        e.valid &&
                          !this.valid &&
                          this.resize(e.realWidth, e.realHeight),
                        (this.items[t] = e),
                        this
                      );
                    }
                  },
                  {
                    key: "upload",
                    value: function (e, t, n) {
                      for (var i = this.itemDirtyIds, a = 0; a < r.SIDES; a++) {
                        var s = this.items[a];
                        (i[a] < s.dirtyId || n.dirtyId < t.dirtyId) &&
                          (s.valid && s.resource
                            ? (s.resource.upload(e, s, n), (i[a] = s.dirtyId))
                            : i[a] < -1 &&
                              (e.gl.texImage2D(
                                s.target,
                                0,
                                n.internalFormat,
                                t.realWidth,
                                t.realHeight,
                                0,
                                t.format,
                                n.type,
                                null
                              ),
                              (i[a] = -1)));
                      }
                      return !0;
                    }
                  }
                ],
                [
                  {
                    key: "test",
                    value: function (e) {
                      return Array.isArray(e) && e.length === r.SIDES;
                    }
                  }
                ]
              ),
              r
            );
          })(AbstractMultiResource),
          CubeResource = _CubeResource;
        CubeResource.SIDES = 6;
        var ImageBitmapResource = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e, n) {
              var i, a, s, o;
              return (
                _classCallCheck(this, r),
                (n = n || {}),
                "string" == typeof e
                  ? ((s = r.EMPTY), (o = e))
                  : ((s = e), (o = null)),
                ((a = t.call(this, s)).url = o),
                (a.crossOrigin =
                  null === (i = n.crossOrigin) || void 0 === i || i),
                (a.alphaMode =
                  "number" == typeof n.alphaMode ? n.alphaMode : null),
                (a._load = null),
                !1 !== n.autoLoad && a.load(),
                a
              );
            }
            return (
              _createClass(
                r,
                [
                  {
                    key: "load",
                    value: function () {
                      var e = this;
                      return (
                        this._load ||
                          (this._load = new Promise(
                            (function () {
                              var t = _asyncToGenerator(
                                _regeneratorRuntime().mark(function t(r, n) {
                                  var i, a, s;
                                  return _regeneratorRuntime().wrap(
                                    function (t) {
                                      for (;;)
                                        switch ((t.prev = t.next)) {
                                          case 0:
                                            if (null !== e.url) {
                                              t.next = 3;
                                              break;
                                            }
                                            return r(e), t.abrupt("return");
                                          case 3:
                                            return (
                                              (t.prev = 3),
                                              (t.next = 6),
                                              settings.ADAPTER.fetch(e.url, {
                                                mode: e.crossOrigin
                                                  ? "cors"
                                                  : "no-cors"
                                              })
                                            );
                                          case 6:
                                            if (((i = t.sent), !e.destroyed)) {
                                              t.next = 9;
                                              break;
                                            }
                                            return t.abrupt("return");
                                          case 9:
                                            return (t.next = 11), i.blob();
                                          case 11:
                                            if (((a = t.sent), !e.destroyed)) {
                                              t.next = 14;
                                              break;
                                            }
                                            return t.abrupt("return");
                                          case 14:
                                            return (
                                              (t.next = 16),
                                              createImageBitmap(a, {
                                                premultiplyAlpha:
                                                  null === e.alphaMode ||
                                                  e.alphaMode ===
                                                    ALPHA_MODES.UNPACK
                                                    ? "premultiply"
                                                    : "none"
                                              })
                                            );
                                          case 16:
                                            if (((s = t.sent), !e.destroyed)) {
                                              t.next = 19;
                                              break;
                                            }
                                            return t.abrupt("return");
                                          case 19:
                                            (e.source = s),
                                              e.update(),
                                              r(e),
                                              (t.next = 30);
                                            break;
                                          case 24:
                                            if (
                                              ((t.prev = 24),
                                              (t.t0 = t.catch(3)),
                                              !e.destroyed)
                                            ) {
                                              t.next = 28;
                                              break;
                                            }
                                            return t.abrupt("return");
                                          case 28:
                                            n(t.t0), e.onError.emit(t.t0);
                                          case 30:
                                          case "end":
                                            return t.stop();
                                        }
                                    },
                                    t,
                                    null,
                                    [[3, 24]]
                                  );
                                })
                              );
                              return function (e, r) {
                                return t.apply(this, arguments);
                              };
                            })()
                          )),
                        this._load
                      );
                    }
                  },
                  {
                    key: "upload",
                    value: function (e, t, n) {
                      return this.source instanceof ImageBitmap
                        ? ("number" == typeof this.alphaMode &&
                            (t.alphaMode = this.alphaMode),
                          _get3(
                            _getPrototypeOf(r.prototype),
                            "upload",
                            this
                          ).call(this, e, t, n))
                        : (this.load(), !1);
                    }
                  },
                  {
                    key: "dispose",
                    value: function () {
                      this.source instanceof ImageBitmap && this.source.close(),
                        _get3(
                          _getPrototypeOf(r.prototype),
                          "dispose",
                          this
                        ).call(this),
                        (this._load = null);
                    }
                  }
                ],
                [
                  {
                    key: "test",
                    value: function (e) {
                      return (
                        !!globalThis.createImageBitmap &&
                        "undefined" != typeof ImageBitmap &&
                        ("string" == typeof e || e instanceof ImageBitmap)
                      );
                    }
                  },
                  {
                    key: "EMPTY",
                    get: function () {
                      var e;
                      return (
                        (r._EMPTY =
                          null !== (e = r._EMPTY) && void 0 !== e
                            ? e
                            : settings.ADAPTER.createCanvas(0, 0)),
                        r._EMPTY
                      );
                    }
                  }
                ]
              ),
              r
            );
          })(BaseImageResource),
          _SVGResource = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e, n) {
              var i;
              return (
                _classCallCheck(this, r),
                (n = n || {}),
                ((i = t.call(
                  this,
                  settings.ADAPTER.createCanvas()
                ))._width = 0),
                (i._height = 0),
                (i.svg = e),
                (i.scale = n.scale || 1),
                (i._overrideWidth = n.width),
                (i._overrideHeight = n.height),
                (i._resolve = null),
                (i._crossorigin = n.crossorigin),
                (i._load = null),
                !1 !== n.autoLoad && i.load(),
                i
              );
            }
            return (
              _createClass(
                r,
                [
                  {
                    key: "load",
                    value: function () {
                      var e = this;
                      return (
                        this._load ||
                          (this._load = new Promise(function (t) {
                            if (
                              ((e._resolve = function () {
                                e.resize(e.source.width, e.source.height), t(e);
                              }),
                              r.SVG_XML.test(e.svg.trim()))
                            ) {
                              if (!btoa)
                                throw new Error(
                                  "Your browser doesn't support base64 conversions."
                                );
                              e.svg = "data:image/svg+xml;base64,".concat(
                                btoa(unescape(encodeURIComponent(e.svg)))
                              );
                            }
                            e._loadSvg();
                          })),
                        this._load
                      );
                    }
                  },
                  {
                    key: "_loadSvg",
                    value: function () {
                      var e = this,
                        t = new Image();
                      BaseImageResource.crossOrigin(
                        t,
                        this.svg,
                        this._crossorigin
                      ),
                        (t.src = this.svg),
                        (t.onerror = function (r) {
                          e._resolve && ((t.onerror = null), e.onError.emit(r));
                        }),
                        (t.onload = function () {
                          if (e._resolve) {
                            var r = t.width,
                              n = t.height;
                            if (!r || !n)
                              throw new Error(
                                "The SVG image must have width and height defined (in pixels), canvas API needs them."
                              );
                            var i = r * e.scale,
                              a = n * e.scale;
                            (e._overrideWidth || e._overrideHeight) &&
                              ((i =
                                e._overrideWidth ||
                                (e._overrideHeight / n) * r),
                              (a =
                                e._overrideHeight ||
                                (e._overrideWidth / r) * n)),
                              (i = Math.round(i)),
                              (a = Math.round(a));
                            var s = e.source;
                            (s.width = i),
                              (s.height = a),
                              (s._pixiId = "canvas_".concat(uid())),
                              s
                                .getContext("2d")
                                .drawImage(t, 0, 0, r, n, 0, 0, i, a),
                              e._resolve(),
                              (e._resolve = null);
                          }
                        });
                    }
                  },
                  {
                    key: "dispose",
                    value: function () {
                      _get3(_getPrototypeOf(r.prototype), "dispose", this).call(
                        this
                      ),
                        (this._resolve = null),
                        (this._crossorigin = null);
                    }
                  }
                ],
                [
                  {
                    key: "getSize",
                    value: function (e) {
                      var t = r.SVG_SIZE.exec(e),
                        n = {};
                      return (
                        t &&
                          ((n[t[1]] = Math.round(parseFloat(t[3]))),
                          (n[t[5]] = Math.round(parseFloat(t[7])))),
                        n
                      );
                    }
                  },
                  {
                    key: "test",
                    value: function (e, t) {
                      return (
                        "svg" === t ||
                        ("string" == typeof e &&
                          e.startsWith("data:image/svg+xml")) ||
                        ("string" == typeof e && r.SVG_XML.test(e))
                      );
                    }
                  }
                ]
              ),
              r
            );
          })(BaseImageResource),
          SVGResource = _SVGResource;
        (SVGResource.SVG_XML = /^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m),
          (SVGResource.SVG_SIZE = /<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i);
        var _VideoResource = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e, n) {
              var i;
              if (
                (_classCallCheck(this, r),
                (n = n || {}),
                !(e instanceof HTMLVideoElement))
              ) {
                var a = document.createElement("video");
                a.setAttribute("preload", "auto"),
                  a.setAttribute("webkit-playsinline", ""),
                  a.setAttribute("playsinline", ""),
                  "string" == typeof e && (e = [e]);
                var s = e[0].src || e[0];
                BaseImageResource.crossOrigin(a, s, n.crossorigin);
                for (var o = 0; o < e.length; ++o) {
                  var u = document.createElement("source"),
                    l = e[o],
                    c = l.src,
                    h = l.mime,
                    f = (c = c || e[o]).split("?").shift().toLowerCase(),
                    d = f.slice(f.lastIndexOf(".") + 1);
                  (h = h || r.MIME_TYPES[d] || "video/".concat(d)),
                    (u.src = c),
                    (u.type = h),
                    a.appendChild(u);
                }
                e = a;
              }
              return (
                ((i = t.call(this, e)).noSubImage = !0),
                (i._autoUpdate = !0),
                (i._isConnectedToTicker = !1),
                (i._updateFPS = n.updateFPS || 0),
                (i._msToNextUpdate = 0),
                (i.autoPlay = !1 !== n.autoPlay),
                (i._load = null),
                (i._resolve = null),
                (i._onCanPlay = i._onCanPlay.bind(_assertThisInitialized2(i))),
                (i._onError = i._onError.bind(_assertThisInitialized2(i))),
                !1 !== n.autoLoad && i.load(),
                i
              );
            }
            return (
              _createClass(
                r,
                [
                  {
                    key: "update",
                    value: function () {
                      if (!this.destroyed) {
                        var e =
                          Ticker.shared.elapsedMS * this.source.playbackRate;
                        (this._msToNextUpdate = Math.floor(
                          this._msToNextUpdate - e
                        )),
                          (!this._updateFPS || this._msToNextUpdate <= 0) &&
                            (_get3(
                              _getPrototypeOf(r.prototype),
                              "update",
                              this
                            ).call(this),
                            (this._msToNextUpdate = this._updateFPS
                              ? Math.floor(1e3 / this._updateFPS)
                              : 0));
                      }
                    }
                  },
                  {
                    key: "load",
                    value: function () {
                      var e = this;
                      if (this._load) return this._load;
                      var t = this.source;
                      return (
                        (t.readyState === t.HAVE_ENOUGH_DATA ||
                          t.readyState === t.HAVE_FUTURE_DATA) &&
                          t.width &&
                          t.height &&
                          (t.complete = !0),
                        t.addEventListener(
                          "play",
                          this._onPlayStart.bind(this)
                        ),
                        t.addEventListener(
                          "pause",
                          this._onPlayStop.bind(this)
                        ),
                        this._isSourceReady()
                          ? this._onCanPlay()
                          : (t.addEventListener("canplay", this._onCanPlay),
                            t.addEventListener(
                              "canplaythrough",
                              this._onCanPlay
                            ),
                            t.addEventListener("error", this._onError, !0)),
                        (this._load = new Promise(function (r) {
                          e.valid ? r(e) : ((e._resolve = r), t.load());
                        })),
                        this._load
                      );
                    }
                  },
                  {
                    key: "_onError",
                    value: function (e) {
                      this.source.removeEventListener(
                        "error",
                        this._onError,
                        !0
                      ),
                        this.onError.emit(e);
                    }
                  },
                  {
                    key: "_isSourcePlaying",
                    value: function () {
                      var e = this.source;
                      return !e.paused && !e.ended && this._isSourceReady();
                    }
                  },
                  {
                    key: "_isSourceReady",
                    value: function () {
                      return this.source.readyState > 2;
                    }
                  },
                  {
                    key: "_onPlayStart",
                    value: function () {
                      this.valid || this._onCanPlay(),
                        this.autoUpdate &&
                          !this._isConnectedToTicker &&
                          (Ticker.shared.add(this.update, this),
                          (this._isConnectedToTicker = !0));
                    }
                  },
                  {
                    key: "_onPlayStop",
                    value: function () {
                      this._isConnectedToTicker &&
                        (Ticker.shared.remove(this.update, this),
                        (this._isConnectedToTicker = !1));
                    }
                  },
                  {
                    key: "_onCanPlay",
                    value: function () {
                      var e = this.source;
                      e.removeEventListener("canplay", this._onCanPlay),
                        e.removeEventListener(
                          "canplaythrough",
                          this._onCanPlay
                        );
                      var t = this.valid;
                      this.resize(e.videoWidth, e.videoHeight),
                        !t &&
                          this._resolve &&
                          (this._resolve(this), (this._resolve = null)),
                        this._isSourcePlaying()
                          ? this._onPlayStart()
                          : this.autoPlay && e.play();
                    }
                  },
                  {
                    key: "dispose",
                    value: function () {
                      this._isConnectedToTicker &&
                        (Ticker.shared.remove(this.update, this),
                        (this._isConnectedToTicker = !1));
                      var e = this.source;
                      e &&
                        (e.removeEventListener("error", this._onError, !0),
                        e.pause(),
                        (e.src = ""),
                        e.load()),
                        _get3(
                          _getPrototypeOf(r.prototype),
                          "dispose",
                          this
                        ).call(this);
                    }
                  },
                  {
                    key: "autoUpdate",
                    get: function () {
                      return this._autoUpdate;
                    },
                    set: function (e) {
                      e !== this._autoUpdate &&
                        ((this._autoUpdate = e),
                        !this._autoUpdate && this._isConnectedToTicker
                          ? (Ticker.shared.remove(this.update, this),
                            (this._isConnectedToTicker = !1))
                          : this._autoUpdate &&
                            !this._isConnectedToTicker &&
                            this._isSourcePlaying() &&
                            (Ticker.shared.add(this.update, this),
                            (this._isConnectedToTicker = !0)));
                    }
                  },
                  {
                    key: "updateFPS",
                    get: function () {
                      return this._updateFPS;
                    },
                    set: function (e) {
                      e !== this._updateFPS && (this._updateFPS = e);
                    }
                  }
                ],
                [
                  {
                    key: "test",
                    value: function (e, t) {
                      return (
                        (globalThis.HTMLVideoElement &&
                          e instanceof HTMLVideoElement) ||
                        r.TYPES.includes(t)
                      );
                    }
                  }
                ]
              ),
              r
            );
          })(BaseImageResource),
          VideoResource = _VideoResource;
        (VideoResource.TYPES = [
          "mp4",
          "m4v",
          "webm",
          "ogg",
          "ogv",
          "h264",
          "avi",
          "mov"
        ]),
          (VideoResource.MIME_TYPES = {
            ogv: "video/ogg",
            mov: "video/quicktime",
            m4v: "video/mp4"
          }),
          INSTALLED.push(
            ImageBitmapResource,
            ImageResource,
            CanvasResource,
            VideoResource,
            SVGResource,
            BufferResource,
            CubeResource,
            ArrayResource
          );
        var Bounds = (function () {
            function e() {
              _classCallCheck(this, e),
                (this.minX = 1 / 0),
                (this.minY = 1 / 0),
                (this.maxX = -1 / 0),
                (this.maxY = -1 / 0),
                (this.rect = null),
                (this.updateID = -1);
            }
            return (
              _createClass(e, [
                {
                  key: "isEmpty",
                  value: function () {
                    return this.minX > this.maxX || this.minY > this.maxY;
                  }
                },
                {
                  key: "clear",
                  value: function () {
                    (this.minX = 1 / 0),
                      (this.minY = 1 / 0),
                      (this.maxX = -1 / 0),
                      (this.maxY = -1 / 0);
                  }
                },
                {
                  key: "getRectangle",
                  value: function (e) {
                    return this.minX > this.maxX || this.minY > this.maxY
                      ? Rectangle.EMPTY
                      : (((e = e || new Rectangle(0, 0, 1, 1)).x = this.minX),
                        (e.y = this.minY),
                        (e.width = this.maxX - this.minX),
                        (e.height = this.maxY - this.minY),
                        e);
                  }
                },
                {
                  key: "addPoint",
                  value: function (e) {
                    (this.minX = Math.min(this.minX, e.x)),
                      (this.maxX = Math.max(this.maxX, e.x)),
                      (this.minY = Math.min(this.minY, e.y)),
                      (this.maxY = Math.max(this.maxY, e.y));
                  }
                },
                {
                  key: "addPointMatrix",
                  value: function (e, t) {
                    var r = e.a,
                      n = e.b,
                      i = e.c,
                      a = e.d,
                      s = e.tx,
                      o = e.ty,
                      u = r * t.x + i * t.y + s,
                      l = n * t.x + a * t.y + o;
                    (this.minX = Math.min(this.minX, u)),
                      (this.maxX = Math.max(this.maxX, u)),
                      (this.minY = Math.min(this.minY, l)),
                      (this.maxY = Math.max(this.maxY, l));
                  }
                },
                {
                  key: "addQuad",
                  value: function (e) {
                    var t = this.minX,
                      r = this.minY,
                      n = this.maxX,
                      i = this.maxY,
                      a = e[0],
                      s = e[1];
                    (t = a < t ? a : t),
                      (r = s < r ? s : r),
                      (n = a > n ? a : n),
                      (i = s > i ? s : i),
                      (t = (a = e[2]) < t ? a : t),
                      (r = (s = e[3]) < r ? s : r),
                      (n = a > n ? a : n),
                      (i = s > i ? s : i),
                      (t = (a = e[4]) < t ? a : t),
                      (r = (s = e[5]) < r ? s : r),
                      (n = a > n ? a : n),
                      (i = s > i ? s : i),
                      (t = (a = e[6]) < t ? a : t),
                      (r = (s = e[7]) < r ? s : r),
                      (n = a > n ? a : n),
                      (i = s > i ? s : i),
                      (this.minX = t),
                      (this.minY = r),
                      (this.maxX = n),
                      (this.maxY = i);
                  }
                },
                {
                  key: "addFrame",
                  value: function (e, t, r, n, i) {
                    this.addFrameMatrix(e.worldTransform, t, r, n, i);
                  }
                },
                {
                  key: "addFrameMatrix",
                  value: function (e, t, r, n, i) {
                    var a = e.a,
                      s = e.b,
                      o = e.c,
                      u = e.d,
                      l = e.tx,
                      c = e.ty,
                      h = this.minX,
                      f = this.minY,
                      d = this.maxX,
                      p = this.maxY,
                      _ = a * t + o * r + l,
                      v = s * t + u * r + c;
                    (h = _ < h ? _ : h),
                      (f = v < f ? v : f),
                      (d = _ > d ? _ : d),
                      (p = v > p ? v : p),
                      (h = (_ = a * n + o * r + l) < h ? _ : h),
                      (f = (v = s * n + u * r + c) < f ? v : f),
                      (d = _ > d ? _ : d),
                      (p = v > p ? v : p),
                      (h = (_ = a * t + o * i + l) < h ? _ : h),
                      (f = (v = s * t + u * i + c) < f ? v : f),
                      (d = _ > d ? _ : d),
                      (p = v > p ? v : p),
                      (h = (_ = a * n + o * i + l) < h ? _ : h),
                      (f = (v = s * n + u * i + c) < f ? v : f),
                      (d = _ > d ? _ : d),
                      (p = v > p ? v : p),
                      (this.minX = h),
                      (this.minY = f),
                      (this.maxX = d),
                      (this.maxY = p);
                  }
                },
                {
                  key: "addVertexData",
                  value: function (e, t, r) {
                    for (
                      var n = this.minX,
                        i = this.minY,
                        a = this.maxX,
                        s = this.maxY,
                        o = t;
                      o < r;
                      o += 2
                    ) {
                      var u = e[o],
                        l = e[o + 1];
                      (n = u < n ? u : n),
                        (i = l < i ? l : i),
                        (a = u > a ? u : a),
                        (s = l > s ? l : s);
                    }
                    (this.minX = n),
                      (this.minY = i),
                      (this.maxX = a),
                      (this.maxY = s);
                  }
                },
                {
                  key: "addVertices",
                  value: function (e, t, r, n) {
                    this.addVerticesMatrix(e.worldTransform, t, r, n);
                  }
                },
                {
                  key: "addVerticesMatrix",
                  value: function (e, t, r, n) {
                    for (
                      var i =
                          arguments.length > 4 && void 0 !== arguments[4]
                            ? arguments[4]
                            : 0,
                        a =
                          arguments.length > 5 && void 0 !== arguments[5]
                            ? arguments[5]
                            : i,
                        s = e.a,
                        o = e.b,
                        u = e.c,
                        l = e.d,
                        c = e.tx,
                        h = e.ty,
                        f = this.minX,
                        d = this.minY,
                        p = this.maxX,
                        _ = this.maxY,
                        v = r;
                      v < n;
                      v += 2
                    ) {
                      var m = t[v],
                        g = t[v + 1],
                        y = s * m + u * g + c,
                        T = l * g + o * m + h;
                      (f = Math.min(f, y - i)),
                        (p = Math.max(p, y + i)),
                        (d = Math.min(d, T - a)),
                        (_ = Math.max(_, T + a));
                    }
                    (this.minX = f),
                      (this.minY = d),
                      (this.maxX = p),
                      (this.maxY = _);
                  }
                },
                {
                  key: "addBounds",
                  value: function (e) {
                    var t = this.minX,
                      r = this.minY,
                      n = this.maxX,
                      i = this.maxY;
                    (this.minX = e.minX < t ? e.minX : t),
                      (this.minY = e.minY < r ? e.minY : r),
                      (this.maxX = e.maxX > n ? e.maxX : n),
                      (this.maxY = e.maxY > i ? e.maxY : i);
                  }
                },
                {
                  key: "addBoundsMask",
                  value: function (e, t) {
                    var r = e.minX > t.minX ? e.minX : t.minX,
                      n = e.minY > t.minY ? e.minY : t.minY,
                      i = e.maxX < t.maxX ? e.maxX : t.maxX,
                      a = e.maxY < t.maxY ? e.maxY : t.maxY;
                    if (r <= i && n <= a) {
                      var s = this.minX,
                        o = this.minY,
                        u = this.maxX,
                        l = this.maxY;
                      (this.minX = r < s ? r : s),
                        (this.minY = n < o ? n : o),
                        (this.maxX = i > u ? i : u),
                        (this.maxY = a > l ? a : l);
                    }
                  }
                },
                {
                  key: "addBoundsMatrix",
                  value: function (e, t) {
                    this.addFrameMatrix(t, e.minX, e.minY, e.maxX, e.maxY);
                  }
                },
                {
                  key: "addBoundsArea",
                  value: function (e, t) {
                    var r = e.minX > t.x ? e.minX : t.x,
                      n = e.minY > t.y ? e.minY : t.y,
                      i = e.maxX < t.x + t.width ? e.maxX : t.x + t.width,
                      a = e.maxY < t.y + t.height ? e.maxY : t.y + t.height;
                    if (r <= i && n <= a) {
                      var s = this.minX,
                        o = this.minY,
                        u = this.maxX,
                        l = this.maxY;
                      (this.minX = r < s ? r : s),
                        (this.minY = n < o ? n : o),
                        (this.maxX = i > u ? i : u),
                        (this.maxY = a > l ? a : l);
                    }
                  }
                },
                {
                  key: "pad",
                  value: function () {
                    var e =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : 0,
                      t =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : e;
                    this.isEmpty() ||
                      ((this.minX -= e),
                      (this.maxX += e),
                      (this.minY -= t),
                      (this.maxY += t));
                  }
                },
                {
                  key: "addFramePad",
                  value: function (e, t, r, n, i, a) {
                    (e -= i),
                      (t -= a),
                      (r += i),
                      (n += a),
                      (this.minX = this.minX < e ? this.minX : e),
                      (this.maxX = this.maxX > r ? this.maxX : r),
                      (this.minY = this.minY < t ? this.minY : t),
                      (this.maxY = this.maxY > n ? this.maxY : n);
                  }
                }
              ]),
              e
            );
          })(),
          DisplayObject = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r() {
              var e;
              return (
                _classCallCheck(this, r),
                ((e = t.call(this)).tempDisplayObjectParent = null),
                (e.transform = new Transform()),
                (e.alpha = 1),
                (e.visible = !0),
                (e.renderable = !0),
                (e.cullable = !1),
                (e.cullArea = null),
                (e.parent = null),
                (e.worldAlpha = 1),
                (e._lastSortedIndex = 0),
                (e._zIndex = 0),
                (e.filterArea = null),
                (e.filters = null),
                (e._enabledFilters = null),
                (e._bounds = new Bounds()),
                (e._localBounds = null),
                (e._boundsID = 0),
                (e._boundsRect = null),
                (e._localBoundsRect = null),
                (e._mask = null),
                (e._maskRefCount = 0),
                (e._destroyed = !1),
                (e.isSprite = !1),
                (e.isMask = !1),
                e
              );
            }
            return (
              _createClass(
                r,
                [
                  {
                    key: "destroyed",
                    get: function () {
                      return this._destroyed;
                    }
                  },
                  {
                    key: "_recursivePostUpdateTransform",
                    value: function () {
                      this.parent
                        ? (this.parent._recursivePostUpdateTransform(),
                          this.transform.updateTransform(this.parent.transform))
                        : this.transform.updateTransform(
                            this._tempDisplayObjectParent.transform
                          );
                    }
                  },
                  {
                    key: "updateTransform",
                    value: function () {
                      this._boundsID++,
                        this.transform.updateTransform(this.parent.transform),
                        (this.worldAlpha = this.alpha * this.parent.worldAlpha);
                    }
                  },
                  {
                    key: "getBounds",
                    value: function (e, t) {
                      return (
                        e ||
                          (this.parent
                            ? (this._recursivePostUpdateTransform(),
                              this.updateTransform())
                            : ((this.parent = this._tempDisplayObjectParent),
                              this.updateTransform(),
                              (this.parent = null))),
                        this._bounds.updateID !== this._boundsID &&
                          (this.calculateBounds(),
                          (this._bounds.updateID = this._boundsID)),
                        t ||
                          (this._boundsRect ||
                            (this._boundsRect = new Rectangle()),
                          (t = this._boundsRect)),
                        this._bounds.getRectangle(t)
                      );
                    }
                  },
                  {
                    key: "getLocalBounds",
                    value: function (e) {
                      e ||
                        (this._localBoundsRect ||
                          (this._localBoundsRect = new Rectangle()),
                        (e = this._localBoundsRect)),
                        this._localBounds || (this._localBounds = new Bounds());
                      var t = this.transform,
                        r = this.parent;
                      (this.parent = null),
                        (this.transform = this._tempDisplayObjectParent.transform);
                      var n = this._bounds,
                        i = this._boundsID;
                      this._bounds = this._localBounds;
                      var a = this.getBounds(!1, e);
                      return (
                        (this.parent = r),
                        (this.transform = t),
                        (this._bounds = n),
                        (this._bounds.updateID += this._boundsID - i),
                        a
                      );
                    }
                  },
                  {
                    key: "toGlobal",
                    value: function (e, t) {
                      return (
                        (arguments.length > 2 &&
                          void 0 !== arguments[2] &&
                          arguments[2]) ||
                          (this._recursivePostUpdateTransform(),
                          this.parent
                            ? this.displayObjectUpdateTransform()
                            : ((this.parent = this._tempDisplayObjectParent),
                              this.displayObjectUpdateTransform(),
                              (this.parent = null))),
                        this.worldTransform.apply(e, t)
                      );
                    }
                  },
                  {
                    key: "toLocal",
                    value: function (e, t, r, n) {
                      return (
                        t && (e = t.toGlobal(e, r, n)),
                        n ||
                          (this._recursivePostUpdateTransform(),
                          this.parent
                            ? this.displayObjectUpdateTransform()
                            : ((this.parent = this._tempDisplayObjectParent),
                              this.displayObjectUpdateTransform(),
                              (this.parent = null))),
                        this.worldTransform.applyInverse(e, r)
                      );
                    }
                  },
                  {
                    key: "setParent",
                    value: function (e) {
                      if (!e || !e.addChild)
                        throw new Error(
                          "setParent: Argument must be a Container"
                        );
                      return e.addChild(this), e;
                    }
                  },
                  {
                    key: "removeFromParent",
                    value: function () {
                      var e;
                      null === (e = this.parent) ||
                        void 0 === e ||
                        e.removeChild(this);
                    }
                  },
                  {
                    key: "setTransform",
                    value: function () {
                      var e =
                          arguments.length > 0 && void 0 !== arguments[0]
                            ? arguments[0]
                            : 0,
                        t =
                          arguments.length > 1 && void 0 !== arguments[1]
                            ? arguments[1]
                            : 0,
                        r =
                          arguments.length > 2 && void 0 !== arguments[2]
                            ? arguments[2]
                            : 1,
                        n =
                          arguments.length > 3 && void 0 !== arguments[3]
                            ? arguments[3]
                            : 1,
                        i =
                          arguments.length > 4 && void 0 !== arguments[4]
                            ? arguments[4]
                            : 0,
                        a =
                          arguments.length > 5 && void 0 !== arguments[5]
                            ? arguments[5]
                            : 0,
                        s =
                          arguments.length > 6 && void 0 !== arguments[6]
                            ? arguments[6]
                            : 0,
                        o =
                          arguments.length > 7 && void 0 !== arguments[7]
                            ? arguments[7]
                            : 0,
                        u =
                          arguments.length > 8 && void 0 !== arguments[8]
                            ? arguments[8]
                            : 0;
                      return (
                        (this.position.x = e),
                        (this.position.y = t),
                        (this.scale.x = r || 1),
                        (this.scale.y = n || 1),
                        (this.rotation = i),
                        (this.skew.x = a),
                        (this.skew.y = s),
                        (this.pivot.x = o),
                        (this.pivot.y = u),
                        this
                      );
                    }
                  },
                  {
                    key: "destroy",
                    value: function (e) {
                      this.removeFromParent(),
                        (this._destroyed = !0),
                        (this.transform = null),
                        (this.parent = null),
                        (this._bounds = null),
                        (this.mask = null),
                        (this.cullArea = null),
                        (this.filters = null),
                        (this.filterArea = null),
                        (this.hitArea = null),
                        (this.eventMode = "auto"),
                        (this.interactiveChildren = !1),
                        this.emit("destroyed"),
                        this.removeAllListeners();
                    }
                  },
                  {
                    key: "_tempDisplayObjectParent",
                    get: function () {
                      return (
                        null === this.tempDisplayObjectParent &&
                          (this.tempDisplayObjectParent = new TemporaryDisplayObject()),
                        this.tempDisplayObjectParent
                      );
                    }
                  },
                  {
                    key: "enableTempParent",
                    value: function () {
                      var e = this.parent;
                      return (this.parent = this._tempDisplayObjectParent), e;
                    }
                  },
                  {
                    key: "disableTempParent",
                    value: function (e) {
                      this.parent = e;
                    }
                  },
                  {
                    key: "x",
                    get: function () {
                      return this.position.x;
                    },
                    set: function (e) {
                      this.transform.position.x = e;
                    }
                  },
                  {
                    key: "y",
                    get: function () {
                      return this.position.y;
                    },
                    set: function (e) {
                      this.transform.position.y = e;
                    }
                  },
                  {
                    key: "worldTransform",
                    get: function () {
                      return this.transform.worldTransform;
                    }
                  },
                  {
                    key: "localTransform",
                    get: function () {
                      return this.transform.localTransform;
                    }
                  },
                  {
                    key: "position",
                    get: function () {
                      return this.transform.position;
                    },
                    set: function (e) {
                      this.transform.position.copyFrom(e);
                    }
                  },
                  {
                    key: "scale",
                    get: function () {
                      return this.transform.scale;
                    },
                    set: function (e) {
                      this.transform.scale.copyFrom(e);
                    }
                  },
                  {
                    key: "pivot",
                    get: function () {
                      return this.transform.pivot;
                    },
                    set: function (e) {
                      this.transform.pivot.copyFrom(e);
                    }
                  },
                  {
                    key: "skew",
                    get: function () {
                      return this.transform.skew;
                    },
                    set: function (e) {
                      this.transform.skew.copyFrom(e);
                    }
                  },
                  {
                    key: "rotation",
                    get: function () {
                      return this.transform.rotation;
                    },
                    set: function (e) {
                      this.transform.rotation = e;
                    }
                  },
                  {
                    key: "angle",
                    get: function () {
                      return this.transform.rotation * RAD_TO_DEG;
                    },
                    set: function (e) {
                      this.transform.rotation = e * DEG_TO_RAD;
                    }
                  },
                  {
                    key: "zIndex",
                    get: function () {
                      return this._zIndex;
                    },
                    set: function (e) {
                      (this._zIndex = e),
                        this.parent && (this.parent.sortDirty = !0);
                    }
                  },
                  {
                    key: "worldVisible",
                    get: function () {
                      var e = this;
                      do {
                        if (!e.visible) return !1;
                        e = e.parent;
                      } while (e);
                      return !0;
                    }
                  },
                  {
                    key: "mask",
                    get: function () {
                      return this._mask;
                    },
                    set: function (e) {
                      if (this._mask !== e) {
                        if (this._mask) {
                          var t = this._mask.isMaskData
                            ? this._mask.maskObject
                            : this._mask;
                          t &&
                            (t._maskRefCount--,
                            0 === t._maskRefCount &&
                              ((t.renderable = !0), (t.isMask = !1)));
                        }
                        if (((this._mask = e), this._mask)) {
                          var r = this._mask.isMaskData
                            ? this._mask.maskObject
                            : this._mask;
                          r &&
                            (0 === r._maskRefCount &&
                              ((r.renderable = !1), (r.isMask = !0)),
                            r._maskRefCount++);
                        }
                      }
                    }
                  }
                ],
                [
                  {
                    key: "mixin",
                    value: function (e) {
                      for (var t = Object.keys(e), n = 0; n < t.length; ++n) {
                        var i = t[n];
                        Object.defineProperty(
                          r.prototype,
                          i,
                          Object.getOwnPropertyDescriptor(e, i)
                        );
                      }
                    }
                  }
                ]
              ),
              r
            );
          })(EventEmitter),
          TemporaryDisplayObject = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r() {
              var e;
              return (
                _classCallCheck(this, r),
                ((e = t.apply(this, arguments)).sortDirty = null),
                e
              );
            }
            return _createClass(r);
          })(DisplayObject);
        DisplayObject.prototype.displayObjectUpdateTransform =
          DisplayObject.prototype.updateTransform;
        var tempMatrix = new Matrix();
        function _sortChildren(e, t) {
          return e.zIndex === t.zIndex
            ? e._lastSortedIndex - t._lastSortedIndex
            : e.zIndex - t.zIndex;
        }
        var _Container = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r() {
              var e;
              return (
                _classCallCheck(this, r),
                ((e = t.call(this)).children = []),
                (e.sortableChildren = r.defaultSortableChildren),
                (e.sortDirty = !1),
                e
              );
            }
            return (
              _createClass(r, [
                { key: "onChildrenChange", value: function (e) {} },
                {
                  key: "addChild",
                  value: function () {
                    if (arguments.length > 1)
                      for (var e = 0; e < arguments.length; e++)
                        this.addChild(
                          e < 0 || arguments.length <= e ? void 0 : arguments[e]
                        );
                    else {
                      var t = arguments.length <= 0 ? void 0 : arguments[0];
                      t.parent && t.parent.removeChild(t),
                        (t.parent = this),
                        (this.sortDirty = !0),
                        (t.transform._parentID = -1),
                        this.children.push(t),
                        this._boundsID++,
                        this.onChildrenChange(this.children.length - 1),
                        this.emit(
                          "childAdded",
                          t,
                          this,
                          this.children.length - 1
                        ),
                        t.emit("added", this);
                    }
                    return arguments.length <= 0 ? void 0 : arguments[0];
                  }
                },
                {
                  key: "addChildAt",
                  value: function (e, t) {
                    if (t < 0 || t > this.children.length)
                      throw new Error(
                        ""
                          .concat(e, "addChildAt: The index ")
                          .concat(t, " supplied is out of bounds ")
                          .concat(this.children.length)
                      );
                    return (
                      e.parent && e.parent.removeChild(e),
                      (e.parent = this),
                      (this.sortDirty = !0),
                      (e.transform._parentID = -1),
                      this.children.splice(t, 0, e),
                      this._boundsID++,
                      this.onChildrenChange(t),
                      e.emit("added", this),
                      this.emit("childAdded", e, this, t),
                      e
                    );
                  }
                },
                {
                  key: "swapChildren",
                  value: function (e, t) {
                    if (e !== t) {
                      var r = this.getChildIndex(e),
                        n = this.getChildIndex(t);
                      (this.children[r] = t),
                        (this.children[n] = e),
                        this.onChildrenChange(r < n ? r : n);
                    }
                  }
                },
                {
                  key: "getChildIndex",
                  value: function (e) {
                    var t = this.children.indexOf(e);
                    if (-1 === t)
                      throw new Error(
                        "The supplied DisplayObject must be a child of the caller"
                      );
                    return t;
                  }
                },
                {
                  key: "setChildIndex",
                  value: function (e, t) {
                    if (t < 0 || t >= this.children.length)
                      throw new Error(
                        "The index "
                          .concat(t, " supplied is out of bounds ")
                          .concat(this.children.length)
                      );
                    var r = this.getChildIndex(e);
                    removeItems(this.children, r, 1),
                      this.children.splice(t, 0, e),
                      this.onChildrenChange(t);
                  }
                },
                {
                  key: "getChildAt",
                  value: function (e) {
                    if (e < 0 || e >= this.children.length)
                      throw new Error(
                        "getChildAt: Index (".concat(e, ") does not exist.")
                      );
                    return this.children[e];
                  }
                },
                {
                  key: "removeChild",
                  value: function () {
                    if (arguments.length > 1)
                      for (var e = 0; e < arguments.length; e++)
                        this.removeChild(
                          e < 0 || arguments.length <= e ? void 0 : arguments[e]
                        );
                    else {
                      var t = arguments.length <= 0 ? void 0 : arguments[0],
                        r = this.children.indexOf(t);
                      if (-1 === r) return null;
                      (t.parent = null),
                        (t.transform._parentID = -1),
                        removeItems(this.children, r, 1),
                        this._boundsID++,
                        this.onChildrenChange(r),
                        t.emit("removed", this),
                        this.emit("childRemoved", t, this, r);
                    }
                    return arguments.length <= 0 ? void 0 : arguments[0];
                  }
                },
                {
                  key: "removeChildAt",
                  value: function (e) {
                    var t = this.getChildAt(e);
                    return (
                      (t.parent = null),
                      (t.transform._parentID = -1),
                      removeItems(this.children, e, 1),
                      this._boundsID++,
                      this.onChildrenChange(e),
                      t.emit("removed", this),
                      this.emit("childRemoved", t, this, e),
                      t
                    );
                  }
                },
                {
                  key: "removeChildren",
                  value: function () {
                    var e,
                      t =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : 0,
                      r =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : this.children.length,
                      n = t,
                      i = r - n;
                    if (i > 0 && i <= r) {
                      e = this.children.splice(n, i);
                      for (var a = 0; a < e.length; ++a)
                        (e[a].parent = null),
                          e[a].transform && (e[a].transform._parentID = -1);
                      this._boundsID++, this.onChildrenChange(t);
                      for (var s = 0; s < e.length; ++s)
                        e[s].emit("removed", this),
                          this.emit("childRemoved", e[s], this, s);
                      return e;
                    }
                    if (0 === i && 0 === this.children.length) return [];
                    throw new RangeError(
                      "removeChildren: numeric values are outside the acceptable range."
                    );
                  }
                },
                {
                  key: "sortChildren",
                  value: function () {
                    for (
                      var e = !1, t = 0, r = this.children.length;
                      t < r;
                      ++t
                    ) {
                      var n = this.children[t];
                      (n._lastSortedIndex = t), e || 0 === n.zIndex || (e = !0);
                    }
                    e &&
                      this.children.length > 1 &&
                      this.children.sort(_sortChildren),
                      (this.sortDirty = !1);
                  }
                },
                {
                  key: "updateTransform",
                  value: function () {
                    this.sortableChildren &&
                      this.sortDirty &&
                      this.sortChildren(),
                      this._boundsID++,
                      this.transform.updateTransform(this.parent.transform),
                      (this.worldAlpha = this.alpha * this.parent.worldAlpha);
                    for (var e = 0, t = this.children.length; e < t; ++e) {
                      var r = this.children[e];
                      r.visible && r.updateTransform();
                    }
                  }
                },
                {
                  key: "calculateBounds",
                  value: function () {
                    this._bounds.clear(), this._calculateBounds();
                    for (var e = 0; e < this.children.length; e++) {
                      var t = this.children[e];
                      if (t.visible && t.renderable)
                        if ((t.calculateBounds(), t._mask)) {
                          var r = t._mask.isMaskData
                            ? t._mask.maskObject
                            : t._mask;
                          r
                            ? (r.calculateBounds(),
                              this._bounds.addBoundsMask(t._bounds, r._bounds))
                            : this._bounds.addBounds(t._bounds);
                        } else
                          t.filterArea
                            ? this._bounds.addBoundsArea(
                                t._bounds,
                                t.filterArea
                              )
                            : this._bounds.addBounds(t._bounds);
                    }
                    this._bounds.updateID = this._boundsID;
                  }
                },
                {
                  key: "getLocalBounds",
                  value: function (e) {
                    var t =
                        arguments.length > 1 &&
                        void 0 !== arguments[1] &&
                        arguments[1],
                      n = _get3(
                        _getPrototypeOf(r.prototype),
                        "getLocalBounds",
                        this
                      ).call(this, e);
                    if (!t)
                      for (var i = 0, a = this.children.length; i < a; ++i) {
                        var s = this.children[i];
                        s.visible && s.updateTransform();
                      }
                    return n;
                  }
                },
                { key: "_calculateBounds", value: function () {} },
                {
                  key: "_renderWithCulling",
                  value: function (e) {
                    var t = e.renderTexture.sourceFrame;
                    if (t.width > 0 && t.height > 0) {
                      var n, i;
                      this.cullArea
                        ? ((n = this.cullArea), (i = this.worldTransform))
                        : this._render !== r.prototype._render &&
                          (n = this.getBounds(!0));
                      var a = e.projection.transform;
                      if (
                        (a &&
                          (i
                            ? (i = tempMatrix.copyFrom(i)).prepend(a)
                            : (i = a)),
                        n && t.intersects(n, i))
                      )
                        this._render(e);
                      else if (this.cullArea) return;
                      for (var s = 0, o = this.children.length; s < o; ++s) {
                        var u = this.children[s],
                          l = u.cullable;
                        (u.cullable = l || !this.cullArea),
                          u.render(e),
                          (u.cullable = l);
                      }
                    }
                  }
                },
                {
                  key: "render",
                  value: function (e) {
                    var t;
                    if (
                      this.visible &&
                      !(this.worldAlpha <= 0) &&
                      this.renderable
                    )
                      if (
                        this._mask ||
                        (null !== (t = this.filters) &&
                          void 0 !== t &&
                          t.length)
                      )
                        this.renderAdvanced(e);
                      else if (this.cullable) this._renderWithCulling(e);
                      else {
                        this._render(e);
                        for (var r = 0, n = this.children.length; r < n; ++r)
                          this.children[r].render(e);
                      }
                  }
                },
                {
                  key: "renderAdvanced",
                  value: function (e) {
                    var t,
                      r,
                      n,
                      i = this.filters,
                      a = this._mask;
                    if (i) {
                      this._enabledFilters || (this._enabledFilters = []),
                        (this._enabledFilters.length = 0);
                      for (var s = 0; s < i.length; s++)
                        i[s].enabled && this._enabledFilters.push(i[s]);
                    }
                    var o =
                      (i &&
                        (null === (t = this._enabledFilters) || void 0 === t
                          ? void 0
                          : t.length)) ||
                      (a &&
                        (!a.isMaskData ||
                          (a.enabled &&
                            (a.autoDetect || a.type !== MASK_TYPES.NONE))));
                    if (
                      (o && e.batch.flush(),
                      i &&
                        null !== (r = this._enabledFilters) &&
                        void 0 !== r &&
                        r.length &&
                        e.filter.push(this, this._enabledFilters),
                      a && e.mask.push(this, this._mask),
                      this.cullable)
                    )
                      this._renderWithCulling(e);
                    else {
                      this._render(e);
                      for (var u = 0, l = this.children.length; u < l; ++u)
                        this.children[u].render(e);
                    }
                    o && e.batch.flush(),
                      a && e.mask.pop(this),
                      i &&
                        null !== (n = this._enabledFilters) &&
                        void 0 !== n &&
                        n.length &&
                        e.filter.pop();
                  }
                },
                { key: "_render", value: function (e) {} },
                {
                  key: "destroy",
                  value: function (e) {
                    _get3(_getPrototypeOf(r.prototype), "destroy", this).call(
                      this
                    ),
                      (this.sortDirty = !1);
                    var t =
                        "boolean" == typeof e
                          ? e
                          : null == e
                          ? void 0
                          : e.children,
                      n = this.removeChildren(0, this.children.length);
                    if (t) for (var i = 0; i < n.length; ++i) n[i].destroy(e);
                  }
                },
                {
                  key: "width",
                  get: function () {
                    return this.scale.x * this.getLocalBounds().width;
                  },
                  set: function (e) {
                    var t = this.getLocalBounds().width;
                    (this.scale.x = 0 !== t ? e / t : 1), (this._width = e);
                  }
                },
                {
                  key: "height",
                  get: function () {
                    return this.scale.y * this.getLocalBounds().height;
                  },
                  set: function (e) {
                    var t = this.getLocalBounds().height;
                    (this.scale.y = 0 !== t ? e / t : 1), (this._height = e);
                  }
                }
              ]),
              r
            );
          })(DisplayObject),
          Container = exports("C", _Container);
        (Container.defaultSortableChildren = !1),
          (Container.prototype.containerUpdateTransform =
            Container.prototype.updateTransform),
          Object.defineProperties(settings, {
            SORTABLE_CHILDREN: {
              get: function () {
                return Container.defaultSortableChildren;
              },
              set: function (e) {
                deprecation(
                  "7.1.0",
                  "settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"
                ),
                  (Container.defaultSortableChildren = e);
              }
            }
          });
        var tempPoint$1 = new Point(),
          indices = new Uint16Array([0, 1, 2, 0, 2, 3]),
          Sprite = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e) {
              var n;
              return (
                _classCallCheck(this, r),
                ((n = t.call(this))._anchor = new ObservablePoint(
                  n._onAnchorUpdate,
                  _assertThisInitialized2(n),
                  e ? e.defaultAnchor.x : 0,
                  e ? e.defaultAnchor.y : 0
                )),
                (n._texture = null),
                (n._width = 0),
                (n._height = 0),
                (n._tintColor = new Color(16777215)),
                (n._tintRGB = null),
                (n.tint = 16777215),
                (n.blendMode = BLEND_MODES.NORMAL),
                (n._cachedTint = 16777215),
                (n.uvs = null),
                (n.texture = e || Texture.EMPTY),
                (n.vertexData = new Float32Array(8)),
                (n.vertexTrimmedData = null),
                (n._transformID = -1),
                (n._textureID = -1),
                (n._transformTrimmedID = -1),
                (n._textureTrimmedID = -1),
                (n.indices = indices),
                (n.pluginName = "batch"),
                (n.isSprite = !0),
                (n._roundPixels = settings.ROUND_PIXELS),
                n
              );
            }
            return (
              _createClass(
                r,
                [
                  {
                    key: "_onTextureUpdate",
                    value: function () {
                      (this._textureID = -1),
                        (this._textureTrimmedID = -1),
                        (this._cachedTint = 16777215),
                        this._width &&
                          (this.scale.x =
                            (sign(this.scale.x) * this._width) /
                            this._texture.orig.width),
                        this._height &&
                          (this.scale.y =
                            (sign(this.scale.y) * this._height) /
                            this._texture.orig.height);
                    }
                  },
                  {
                    key: "_onAnchorUpdate",
                    value: function () {
                      (this._transformID = -1), (this._transformTrimmedID = -1);
                    }
                  },
                  {
                    key: "calculateVertices",
                    value: function () {
                      var e = this._texture;
                      if (
                        this._transformID !== this.transform._worldID ||
                        this._textureID !== e._updateID
                      ) {
                        this._textureID !== e._updateID &&
                          (this.uvs = this._texture._uvs.uvsFloat32),
                          (this._transformID = this.transform._worldID),
                          (this._textureID = e._updateID);
                        var t = this.transform.worldTransform,
                          r = t.a,
                          n = t.b,
                          i = t.c,
                          a = t.d,
                          s = t.tx,
                          o = t.ty,
                          u = this.vertexData,
                          l = e.trim,
                          c = e.orig,
                          h = this._anchor,
                          f = 0,
                          d = 0,
                          p = 0,
                          _ = 0;
                        if (
                          (l
                            ? ((f = (d = l.x - h._x * c.width) + l.width),
                              (p = (_ = l.y - h._y * c.height) + l.height))
                            : ((f = (d = -h._x * c.width) + c.width),
                              (p = (_ = -h._y * c.height) + c.height)),
                          (u[0] = r * d + i * _ + s),
                          (u[1] = a * _ + n * d + o),
                          (u[2] = r * f + i * _ + s),
                          (u[3] = a * _ + n * f + o),
                          (u[4] = r * f + i * p + s),
                          (u[5] = a * p + n * f + o),
                          (u[6] = r * d + i * p + s),
                          (u[7] = a * p + n * d + o),
                          this._roundPixels)
                        )
                          for (
                            var v = settings.RESOLUTION, m = 0;
                            m < u.length;
                            ++m
                          )
                            u[m] = Math.round(u[m] * v) / v;
                      }
                    }
                  },
                  {
                    key: "calculateTrimmedVertices",
                    value: function () {
                      if (this.vertexTrimmedData) {
                        if (
                          this._transformTrimmedID ===
                            this.transform._worldID &&
                          this._textureTrimmedID === this._texture._updateID
                        )
                          return;
                      } else this.vertexTrimmedData = new Float32Array(8);
                      (this._transformTrimmedID = this.transform._worldID),
                        (this._textureTrimmedID = this._texture._updateID);
                      var e = this._texture,
                        t = this.vertexTrimmedData,
                        r = e.orig,
                        n = this._anchor,
                        i = this.transform.worldTransform,
                        a = i.a,
                        s = i.b,
                        o = i.c,
                        u = i.d,
                        l = i.tx,
                        c = i.ty,
                        h = -n._x * r.width,
                        f = h + r.width,
                        d = -n._y * r.height,
                        p = d + r.height;
                      (t[0] = a * h + o * d + l),
                        (t[1] = u * d + s * h + c),
                        (t[2] = a * f + o * d + l),
                        (t[3] = u * d + s * f + c),
                        (t[4] = a * f + o * p + l),
                        (t[5] = u * p + s * f + c),
                        (t[6] = a * h + o * p + l),
                        (t[7] = u * p + s * h + c);
                    }
                  },
                  {
                    key: "_render",
                    value: function (e) {
                      this.calculateVertices(),
                        e.batch.setObjectRenderer(e.plugins[this.pluginName]),
                        e.plugins[this.pluginName].render(this);
                    }
                  },
                  {
                    key: "_calculateBounds",
                    value: function () {
                      var e = this._texture.trim,
                        t = this._texture.orig;
                      !e || (e.width === t.width && e.height === t.height)
                        ? (this.calculateVertices(),
                          this._bounds.addQuad(this.vertexData))
                        : (this.calculateTrimmedVertices(),
                          this._bounds.addQuad(this.vertexTrimmedData));
                    }
                  },
                  {
                    key: "getLocalBounds",
                    value: function (e) {
                      return 0 === this.children.length
                        ? (this._localBounds ||
                            (this._localBounds = new Bounds()),
                          (this._localBounds.minX =
                            this._texture.orig.width * -this._anchor._x),
                          (this._localBounds.minY =
                            this._texture.orig.height * -this._anchor._y),
                          (this._localBounds.maxX =
                            this._texture.orig.width * (1 - this._anchor._x)),
                          (this._localBounds.maxY =
                            this._texture.orig.height * (1 - this._anchor._y)),
                          e ||
                            (this._localBoundsRect ||
                              (this._localBoundsRect = new Rectangle()),
                            (e = this._localBoundsRect)),
                          this._localBounds.getRectangle(e))
                        : _get3(
                            _getPrototypeOf(r.prototype),
                            "getLocalBounds",
                            this
                          ).call(this, e);
                    }
                  },
                  {
                    key: "containsPoint",
                    value: function (e) {
                      this.worldTransform.applyInverse(e, tempPoint$1);
                      var t = this._texture.orig.width,
                        r = this._texture.orig.height,
                        n = -t * this.anchor.x,
                        i = 0;
                      return (
                        tempPoint$1.x >= n &&
                        tempPoint$1.x < n + t &&
                        ((i = -r * this.anchor.y),
                        tempPoint$1.y >= i && tempPoint$1.y < i + r)
                      );
                    }
                  },
                  {
                    key: "destroy",
                    value: function (e) {
                      if (
                        (_get3(
                          _getPrototypeOf(r.prototype),
                          "destroy",
                          this
                        ).call(this, e),
                        this._texture.off(
                          "update",
                          this._onTextureUpdate,
                          this
                        ),
                        (this._anchor = null),
                        "boolean" == typeof e
                          ? e
                          : null == e
                          ? void 0
                          : e.texture)
                      ) {
                        var t =
                          "boolean" == typeof e
                            ? e
                            : null == e
                            ? void 0
                            : e.baseTexture;
                        this._texture.destroy(!!t);
                      }
                      this._texture = null;
                    }
                  },
                  {
                    key: "roundPixels",
                    get: function () {
                      return this._roundPixels;
                    },
                    set: function (e) {
                      this._roundPixels !== e && (this._transformID = -1),
                        (this._roundPixels = e);
                    }
                  },
                  {
                    key: "width",
                    get: function () {
                      return Math.abs(this.scale.x) * this._texture.orig.width;
                    },
                    set: function (e) {
                      var t = sign(this.scale.x) || 1;
                      (this.scale.x = (t * e) / this._texture.orig.width),
                        (this._width = e);
                    }
                  },
                  {
                    key: "height",
                    get: function () {
                      return Math.abs(this.scale.y) * this._texture.orig.height;
                    },
                    set: function (e) {
                      var t = sign(this.scale.y) || 1;
                      (this.scale.y = (t * e) / this._texture.orig.height),
                        (this._height = e);
                    }
                  },
                  {
                    key: "anchor",
                    get: function () {
                      return this._anchor;
                    },
                    set: function (e) {
                      this._anchor.copyFrom(e);
                    }
                  },
                  {
                    key: "tint",
                    get: function () {
                      return this._tintColor.value;
                    },
                    set: function (e) {
                      this._tintColor.setValue(e),
                        (this._tintRGB = this._tintColor.toLittleEndianNumber());
                    }
                  },
                  {
                    key: "tintValue",
                    get: function () {
                      return this._tintColor.toNumber();
                    }
                  },
                  {
                    key: "texture",
                    get: function () {
                      return this._texture;
                    },
                    set: function (e) {
                      this._texture !== e &&
                        (this._texture &&
                          this._texture.off(
                            "update",
                            this._onTextureUpdate,
                            this
                          ),
                        (this._texture = e || Texture.EMPTY),
                        (this._cachedTint = 16777215),
                        (this._textureID = -1),
                        (this._textureTrimmedID = -1),
                        e &&
                          (e.baseTexture.valid
                            ? this._onTextureUpdate()
                            : e.once("update", this._onTextureUpdate, this)));
                    }
                  }
                ],
                [
                  {
                    key: "from",
                    value: function (e, t) {
                      return new r(
                        e instanceof Texture ? e : Texture.from(e, t)
                      );
                    }
                  }
                ]
              ),
              r
            );
          })(Container);
        exports("S", Sprite);
        var _tempMatrix = new Matrix();
        (DisplayObject.prototype._cacheAsBitmap = !1),
          (DisplayObject.prototype._cacheData = null),
          (DisplayObject.prototype._cacheAsBitmapResolution = null),
          (DisplayObject.prototype._cacheAsBitmapMultisample = null);
        var CacheData = _createClass(function e() {
          _classCallCheck(this, e),
            (this.textureCacheId = null),
            (this.originalRender = null),
            (this.originalRenderCanvas = null),
            (this.originalCalculateBounds = null),
            (this.originalGetLocalBounds = null),
            (this.originalUpdateTransform = null),
            (this.originalDestroy = null),
            (this.originalMask = null),
            (this.originalFilterArea = null),
            (this.originalContainsPoint = null),
            (this.sprite = null);
        });
        Object.defineProperties(DisplayObject.prototype, {
          cacheAsBitmapResolution: {
            get: function () {
              return this._cacheAsBitmapResolution;
            },
            set: function (e) {
              e !== this._cacheAsBitmapResolution &&
                ((this._cacheAsBitmapResolution = e),
                this.cacheAsBitmap &&
                  ((this.cacheAsBitmap = !1), (this.cacheAsBitmap = !0)));
            }
          },
          cacheAsBitmapMultisample: {
            get: function () {
              return this._cacheAsBitmapMultisample;
            },
            set: function (e) {
              e !== this._cacheAsBitmapMultisample &&
                ((this._cacheAsBitmapMultisample = e),
                this.cacheAsBitmap &&
                  ((this.cacheAsBitmap = !1), (this.cacheAsBitmap = !0)));
            }
          },
          cacheAsBitmap: {
            get: function () {
              return this._cacheAsBitmap;
            },
            set: function (e) {
              var t;
              this._cacheAsBitmap !== e &&
                ((this._cacheAsBitmap = e),
                e
                  ? (this._cacheData || (this._cacheData = new CacheData()),
                    ((t = this._cacheData).originalRender = this.render),
                    (t.originalRenderCanvas = this.renderCanvas),
                    (t.originalUpdateTransform = this.updateTransform),
                    (t.originalCalculateBounds = this.calculateBounds),
                    (t.originalGetLocalBounds = this.getLocalBounds),
                    (t.originalDestroy = this.destroy),
                    (t.originalContainsPoint = this.containsPoint),
                    (t.originalMask = this._mask),
                    (t.originalFilterArea = this.filterArea),
                    (this.render = this._renderCached),
                    (this.renderCanvas = this._renderCachedCanvas),
                    (this.destroy = this._cacheAsBitmapDestroy))
                  : ((t = this._cacheData).sprite &&
                      this._destroyCachedDisplayObject(),
                    (this.render = t.originalRender),
                    (this.renderCanvas = t.originalRenderCanvas),
                    (this.calculateBounds = t.originalCalculateBounds),
                    (this.getLocalBounds = t.originalGetLocalBounds),
                    (this.destroy = t.originalDestroy),
                    (this.updateTransform = t.originalUpdateTransform),
                    (this.containsPoint = t.originalContainsPoint),
                    (this._mask = t.originalMask),
                    (this.filterArea = t.originalFilterArea)));
            }
          }
        }),
          (DisplayObject.prototype._renderCached = function (e) {
            !this.visible ||
              this.worldAlpha <= 0 ||
              !this.renderable ||
              (this._initCachedDisplayObject(e),
              (this._cacheData.sprite.transform._worldID = this.transform._worldID),
              (this._cacheData.sprite.worldAlpha = this.worldAlpha),
              this._cacheData.sprite._render(e));
          }),
          (DisplayObject.prototype._initCachedDisplayObject = function (e) {
            var t, r, n;
            if (null === (t = this._cacheData) || void 0 === t || !t.sprite) {
              var i = this.alpha;
              (this.alpha = 1), e.batch.flush();
              var a = this.getLocalBounds(null, !0).clone();
              if (null !== (r = this.filters) && void 0 !== r && r.length) {
                var s = this.filters[0].padding;
                a.pad(s);
              }
              a.ceil(settings.RESOLUTION);
              var o = e.renderTexture.current,
                u = e.renderTexture.sourceFrame.clone(),
                l = e.renderTexture.destinationFrame.clone(),
                c = e.projection.transform,
                h = RenderTexture.create({
                  width: a.width,
                  height: a.height,
                  resolution: this.cacheAsBitmapResolution || e.resolution,
                  multisample:
                    null !== (n = this.cacheAsBitmapMultisample) && void 0 !== n
                      ? n
                      : e.multisample
                }),
                f = "cacheAsBitmap_".concat(uid());
              (this._cacheData.textureCacheId = f),
                BaseTexture.addToCache(h.baseTexture, f),
                Texture.addToCache(h, f);
              var d = this.transform.localTransform
                .copyTo(_tempMatrix)
                .invert()
                .translate(-a.x, -a.y);
              (this.render = this._cacheData.originalRender),
                e.render(this, {
                  renderTexture: h,
                  clear: !0,
                  transform: d,
                  skipUpdateTransform: !1
                }),
                e.framebuffer.blit(),
                (e.projection.transform = c),
                e.renderTexture.bind(o, u, l),
                (this.render = this._renderCached),
                (this.updateTransform = this.displayObjectUpdateTransform),
                (this.calculateBounds = this._calculateCachedBounds),
                (this.getLocalBounds = this._getCachedLocalBounds),
                (this._mask = null),
                (this.filterArea = null),
                (this.alpha = i);
              var p = new Sprite(h);
              (p.transform.worldTransform = this.transform.worldTransform),
                (p.anchor.x = -a.x / a.width),
                (p.anchor.y = -a.y / a.height),
                (p.alpha = i),
                (p._bounds = this._bounds),
                (this._cacheData.sprite = p),
                (this.transform._parentID = -1),
                this.parent
                  ? this.updateTransform()
                  : (this.enableTempParent(),
                    this.updateTransform(),
                    this.disableTempParent(null)),
                (this.containsPoint = p.containsPoint.bind(p));
            }
          }),
          (DisplayObject.prototype._renderCachedCanvas = function (e) {
            !this.visible ||
              this.worldAlpha <= 0 ||
              !this.renderable ||
              (this._initCachedDisplayObjectCanvas(e),
              (this._cacheData.sprite.worldAlpha = this.worldAlpha),
              this._cacheData.sprite._renderCanvas(e));
          }),
          (DisplayObject.prototype._initCachedDisplayObjectCanvas = function (
            e
          ) {
            var t;
            if (null === (t = this._cacheData) || void 0 === t || !t.sprite) {
              var r = this.getLocalBounds(null, !0),
                n = this.alpha;
              this.alpha = 1;
              var i = e.canvasContext.activeContext,
                a = e._projTransform;
              r.ceil(settings.RESOLUTION);
              var s = RenderTexture.create({
                  width: r.width,
                  height: r.height
                }),
                o = "cacheAsBitmap_".concat(uid());
              (this._cacheData.textureCacheId = o),
                BaseTexture.addToCache(s.baseTexture, o),
                Texture.addToCache(s, o);
              var u = _tempMatrix;
              this.transform.localTransform.copyTo(u),
                u.invert(),
                (u.tx -= r.x),
                (u.ty -= r.y),
                (this.renderCanvas = this._cacheData.originalRenderCanvas),
                e.render(this, {
                  renderTexture: s,
                  clear: !0,
                  transform: u,
                  skipUpdateTransform: !1
                }),
                (e.canvasContext.activeContext = i),
                (e._projTransform = a),
                (this.renderCanvas = this._renderCachedCanvas),
                (this.updateTransform = this.displayObjectUpdateTransform),
                (this.calculateBounds = this._calculateCachedBounds),
                (this.getLocalBounds = this._getCachedLocalBounds),
                (this._mask = null),
                (this.filterArea = null),
                (this.alpha = n);
              var l = new Sprite(s);
              (l.transform.worldTransform = this.transform.worldTransform),
                (l.anchor.x = -r.x / r.width),
                (l.anchor.y = -r.y / r.height),
                (l.alpha = n),
                (l._bounds = this._bounds),
                (this._cacheData.sprite = l),
                (this.transform._parentID = -1),
                this.parent
                  ? this.updateTransform()
                  : ((this.parent = e._tempDisplayObjectParent),
                    this.updateTransform(),
                    (this.parent = null)),
                (this.containsPoint = l.containsPoint.bind(l));
            }
          }),
          (DisplayObject.prototype._calculateCachedBounds = function () {
            this._bounds.clear(),
              (this._cacheData.sprite.transform._worldID = this.transform._worldID),
              this._cacheData.sprite._calculateBounds(),
              (this._bounds.updateID = this._boundsID);
          }),
          (DisplayObject.prototype._getCachedLocalBounds = function () {
            return this._cacheData.sprite.getLocalBounds(null);
          }),
          (DisplayObject.prototype._destroyCachedDisplayObject = function () {
            this._cacheData.sprite._texture.destroy(!0),
              (this._cacheData.sprite = null),
              BaseTexture.removeFromCache(this._cacheData.textureCacheId),
              Texture.removeFromCache(this._cacheData.textureCacheId),
              (this._cacheData.textureCacheId = null);
          }),
          (DisplayObject.prototype._cacheAsBitmapDestroy = function (e) {
            (this.cacheAsBitmap = !1), this.destroy(e);
          }),
          (DisplayObject.prototype.name = null),
          (Container.prototype.getChildByName = function (e, t) {
            for (var r = 0, n = this.children.length; r < n; r++)
              if (this.children[r].name === e) return this.children[r];
            if (t)
              for (var i = 0, a = this.children.length; i < a; i++) {
                var s = this.children[i];
                if (s.getChildByName) {
                  var o = s.getChildByName(e, !0);
                  if (o) return o;
                }
              }
            return null;
          }),
          (DisplayObject.prototype.getGlobalPosition = function () {
            var e =
                arguments.length > 0 && void 0 !== arguments[0]
                  ? arguments[0]
                  : new Point(),
              t =
                arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
            return (
              this.parent
                ? this.parent.toGlobal(this.position, e, t)
                : ((e.x = this.position.x), (e.y = this.position.y)),
              e
            );
          });
        var fragment$6 =
            "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",
          AlphaFilter = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r() {
              var e,
                n =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : 1;
              return (
                _classCallCheck(this, r),
                ((e = t.call(this, defaultVertex, fragment$6, {
                  uAlpha: 1
                })).alpha = n),
                e
              );
            }
            return (
              _createClass(r, [
                {
                  key: "alpha",
                  get: function () {
                    return this.uniforms.uAlpha;
                  },
                  set: function (e) {
                    this.uniforms.uAlpha = e;
                  }
                }
              ]),
              r
            );
          })(Filter),
          GAUSSIAN_VALUES = {
            5: [0.153388, 0.221461, 0.250301],
            7: [0.071303, 0.131514, 0.189879, 0.214607],
            9: [0.028532, 0.067234, 0.124009, 0.179044, 0.20236],
            11: [0.0093, 0.028002, 0.065984, 0.121703, 0.175713, 0.198596],
            13: [
              0.002406,
              0.009255,
              0.027867,
              0.065666,
              0.121117,
              0.174868,
              0.197641
            ],
            15: [
              489e-6,
              0.002403,
              0.009246,
              0.02784,
              0.065602,
              0.120999,
              0.174697,
              0.197448
            ]
          },
          fragTemplate = [
            "varying vec2 vBlurTexCoords[%size%];",
            "uniform sampler2D uSampler;",
            "void main(void)",
            "{",
            "    gl_FragColor = vec4(0.0);",
            "    %blur%",
            "}"
          ].join("\n");
        function generateBlurFragSource(e) {
          for (
            var t,
              r = GAUSSIAN_VALUES[e],
              n = r.length,
              i = fragTemplate,
              a = "",
              s = 0;
            s < e;
            s++
          ) {
            var o = "gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace(
              "%index%",
              s.toString()
            );
            (t = s),
              s >= n && (t = e - s - 1),
              (a += o = o.replace("%value%", r[t].toString())),
              (a += "\n");
          }
          return (i = (i = i.replace("%blur%", a)).replace(
            "%size%",
            e.toString()
          ));
        }
        var vertTemplate =
          "\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";
        function generateBlurVertSource(e, t) {
          var r,
            n = Math.ceil(e / 2),
            i = vertTemplate,
            a = "";
          r = t
            ? "vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);"
            : "vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";
          for (var s = 0; s < e; s++) {
            var o = r.replace("%index%", s.toString());
            (a += o = o.replace("%sampleIndex%", "".concat(s - (n - 1), ".0"))),
              (a += "\n");
          }
          return (i = (i = i.replace("%blur%", a)).replace(
            "%size%",
            e.toString()
          ));
        }
        var BlurFilterPass = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e) {
              var n,
                i =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : 8,
                a =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : 4,
                s =
                  arguments.length > 3 && void 0 !== arguments[3]
                    ? arguments[3]
                    : Filter.defaultResolution,
                o =
                  arguments.length > 4 && void 0 !== arguments[4]
                    ? arguments[4]
                    : 5;
              _classCallCheck(this, r);
              var u = generateBlurVertSource(o, e),
                l = generateBlurFragSource(o);
              return (
                ((n = t.call(this, u, l)).horizontal = e),
                (n.resolution = s),
                (n._quality = 0),
                (n.quality = a),
                (n.blur = i),
                n
              );
            }
            return (
              _createClass(r, [
                {
                  key: "apply",
                  value: function (e, t, r, n) {
                    if (
                      (r
                        ? this.horizontal
                          ? (this.uniforms.strength =
                              (1 / r.width) * (r.width / t.width))
                          : (this.uniforms.strength =
                              (1 / r.height) * (r.height / t.height))
                        : this.horizontal
                        ? (this.uniforms.strength =
                            (1 / e.renderer.width) *
                            (e.renderer.width / t.width))
                        : (this.uniforms.strength =
                            (1 / e.renderer.height) *
                            (e.renderer.height / t.height)),
                      (this.uniforms.strength *= this.strength),
                      (this.uniforms.strength /= this.passes),
                      1 === this.passes)
                    )
                      e.applyFilter(this, t, r, n);
                    else {
                      var i = e.getFilterTexture(),
                        a = e.renderer,
                        s = t,
                        o = i;
                      (this.state.blend = !1),
                        e.applyFilter(this, s, o, CLEAR_MODES.CLEAR);
                      for (var u = 1; u < this.passes - 1; u++) {
                        e.bindAndClear(s, CLEAR_MODES.BLIT),
                          (this.uniforms.uSampler = o);
                        var l = o;
                        (o = s),
                          (s = l),
                          a.shader.bind(this),
                          a.geometry.draw(5);
                      }
                      (this.state.blend = !0),
                        e.applyFilter(this, o, r, n),
                        e.returnFilterTexture(i);
                    }
                  }
                },
                {
                  key: "blur",
                  get: function () {
                    return this.strength;
                  },
                  set: function (e) {
                    (this.padding = 1 + 2 * Math.abs(e)), (this.strength = e);
                  }
                },
                {
                  key: "quality",
                  get: function () {
                    return this._quality;
                  },
                  set: function (e) {
                    (this._quality = e), (this.passes = e);
                  }
                }
              ]),
              r
            );
          })(Filter),
          BlurFilter = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r() {
              var e,
                n =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : 8,
                i =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : 4,
                a =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : Filter.defaultResolution,
                s =
                  arguments.length > 3 && void 0 !== arguments[3]
                    ? arguments[3]
                    : 5;
              return (
                _classCallCheck(this, r),
                ((e = t.call(this))._repeatEdgePixels = !1),
                (e.blurXFilter = new BlurFilterPass(!0, n, i, a, s)),
                (e.blurYFilter = new BlurFilterPass(!1, n, i, a, s)),
                (e.resolution = a),
                (e.quality = i),
                (e.blur = n),
                (e.repeatEdgePixels = !1),
                e
              );
            }
            return (
              _createClass(r, [
                {
                  key: "apply",
                  value: function (e, t, r, n) {
                    var i = Math.abs(this.blurXFilter.strength),
                      a = Math.abs(this.blurYFilter.strength);
                    if (i && a) {
                      var s = e.getFilterTexture();
                      this.blurXFilter.apply(e, t, s, CLEAR_MODES.CLEAR),
                        this.blurYFilter.apply(e, s, r, n),
                        e.returnFilterTexture(s);
                    } else
                      a
                        ? this.blurYFilter.apply(e, t, r, n)
                        : this.blurXFilter.apply(e, t, r, n);
                  }
                },
                {
                  key: "updatePadding",
                  value: function () {
                    this._repeatEdgePixels
                      ? (this.padding = 0)
                      : (this.padding =
                          2 *
                          Math.max(
                            Math.abs(this.blurXFilter.strength),
                            Math.abs(this.blurYFilter.strength)
                          ));
                  }
                },
                {
                  key: "blur",
                  get: function () {
                    return this.blurXFilter.blur;
                  },
                  set: function (e) {
                    (this.blurXFilter.blur = this.blurYFilter.blur = e),
                      this.updatePadding();
                  }
                },
                {
                  key: "quality",
                  get: function () {
                    return this.blurXFilter.quality;
                  },
                  set: function (e) {
                    this.blurXFilter.quality = this.blurYFilter.quality = e;
                  }
                },
                {
                  key: "blurX",
                  get: function () {
                    return this.blurXFilter.blur;
                  },
                  set: function (e) {
                    (this.blurXFilter.blur = e), this.updatePadding();
                  }
                },
                {
                  key: "blurY",
                  get: function () {
                    return this.blurYFilter.blur;
                  },
                  set: function (e) {
                    (this.blurYFilter.blur = e), this.updatePadding();
                  }
                },
                {
                  key: "blendMode",
                  get: function () {
                    return this.blurYFilter.blendMode;
                  },
                  set: function (e) {
                    this.blurYFilter.blendMode = e;
                  }
                },
                {
                  key: "repeatEdgePixels",
                  get: function () {
                    return this._repeatEdgePixels;
                  },
                  set: function (e) {
                    (this._repeatEdgePixels = e), this.updatePadding();
                  }
                }
              ]),
              r
            );
          })(Filter),
          fragment$5 =
            "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",
          ColorMatrixFilter = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r() {
              var e;
              _classCallCheck(this, r);
              var n = {
                m: new Float32Array([
                  1,
                  0,
                  0,
                  0,
                  0,
                  0,
                  1,
                  0,
                  0,
                  0,
                  0,
                  0,
                  1,
                  0,
                  0,
                  0,
                  0,
                  0,
                  1,
                  0
                ]),
                uAlpha: 1
              };
              return (
                ((e = t.call(
                  this,
                  defaultFilterVertex,
                  fragment$5,
                  n
                )).alpha = 1),
                e
              );
            }
            return (
              _createClass(r, [
                {
                  key: "_loadMatrix",
                  value: function (e) {
                    var t = e;
                    arguments.length > 1 &&
                      void 0 !== arguments[1] &&
                      arguments[1] &&
                      (this._multiply(t, this.uniforms.m, e),
                      (t = this._colorMatrix(t))),
                      (this.uniforms.m = t);
                  }
                },
                {
                  key: "_multiply",
                  value: function (e, t, r) {
                    return (
                      (e[0] =
                        t[0] * r[0] +
                        t[1] * r[5] +
                        t[2] * r[10] +
                        t[3] * r[15]),
                      (e[1] =
                        t[0] * r[1] +
                        t[1] * r[6] +
                        t[2] * r[11] +
                        t[3] * r[16]),
                      (e[2] =
                        t[0] * r[2] +
                        t[1] * r[7] +
                        t[2] * r[12] +
                        t[3] * r[17]),
                      (e[3] =
                        t[0] * r[3] +
                        t[1] * r[8] +
                        t[2] * r[13] +
                        t[3] * r[18]),
                      (e[4] =
                        t[0] * r[4] +
                        t[1] * r[9] +
                        t[2] * r[14] +
                        t[3] * r[19] +
                        t[4]),
                      (e[5] =
                        t[5] * r[0] +
                        t[6] * r[5] +
                        t[7] * r[10] +
                        t[8] * r[15]),
                      (e[6] =
                        t[5] * r[1] +
                        t[6] * r[6] +
                        t[7] * r[11] +
                        t[8] * r[16]),
                      (e[7] =
                        t[5] * r[2] +
                        t[6] * r[7] +
                        t[7] * r[12] +
                        t[8] * r[17]),
                      (e[8] =
                        t[5] * r[3] +
                        t[6] * r[8] +
                        t[7] * r[13] +
                        t[8] * r[18]),
                      (e[9] =
                        t[5] * r[4] +
                        t[6] * r[9] +
                        t[7] * r[14] +
                        t[8] * r[19] +
                        t[9]),
                      (e[10] =
                        t[10] * r[0] +
                        t[11] * r[5] +
                        t[12] * r[10] +
                        t[13] * r[15]),
                      (e[11] =
                        t[10] * r[1] +
                        t[11] * r[6] +
                        t[12] * r[11] +
                        t[13] * r[16]),
                      (e[12] =
                        t[10] * r[2] +
                        t[11] * r[7] +
                        t[12] * r[12] +
                        t[13] * r[17]),
                      (e[13] =
                        t[10] * r[3] +
                        t[11] * r[8] +
                        t[12] * r[13] +
                        t[13] * r[18]),
                      (e[14] =
                        t[10] * r[4] +
                        t[11] * r[9] +
                        t[12] * r[14] +
                        t[13] * r[19] +
                        t[14]),
                      (e[15] =
                        t[15] * r[0] +
                        t[16] * r[5] +
                        t[17] * r[10] +
                        t[18] * r[15]),
                      (e[16] =
                        t[15] * r[1] +
                        t[16] * r[6] +
                        t[17] * r[11] +
                        t[18] * r[16]),
                      (e[17] =
                        t[15] * r[2] +
                        t[16] * r[7] +
                        t[17] * r[12] +
                        t[18] * r[17]),
                      (e[18] =
                        t[15] * r[3] +
                        t[16] * r[8] +
                        t[17] * r[13] +
                        t[18] * r[18]),
                      (e[19] =
                        t[15] * r[4] +
                        t[16] * r[9] +
                        t[17] * r[14] +
                        t[18] * r[19] +
                        t[19]),
                      e
                    );
                  }
                },
                {
                  key: "_colorMatrix",
                  value: function (e) {
                    var t = new Float32Array(e);
                    return (
                      (t[4] /= 255),
                      (t[9] /= 255),
                      (t[14] /= 255),
                      (t[19] /= 255),
                      t
                    );
                  }
                },
                {
                  key: "brightness",
                  value: function (e, t) {
                    var r = [
                      e,
                      0,
                      0,
                      0,
                      0,
                      0,
                      e,
                      0,
                      0,
                      0,
                      0,
                      0,
                      e,
                      0,
                      0,
                      0,
                      0,
                      0,
                      1,
                      0
                    ];
                    this._loadMatrix(r, t);
                  }
                },
                {
                  key: "tint",
                  value: function (e, t) {
                    var r = _slicedToArray(
                        Color.shared.setValue(e).toArray(),
                        3
                      ),
                      n = [
                        r[0],
                        0,
                        0,
                        0,
                        0,
                        0,
                        r[1],
                        0,
                        0,
                        0,
                        0,
                        0,
                        r[2],
                        0,
                        0,
                        0,
                        0,
                        0,
                        1,
                        0
                      ];
                    this._loadMatrix(n, t);
                  }
                },
                {
                  key: "greyscale",
                  value: function (e, t) {
                    var r = [
                      e,
                      e,
                      e,
                      0,
                      0,
                      e,
                      e,
                      e,
                      0,
                      0,
                      e,
                      e,
                      e,
                      0,
                      0,
                      0,
                      0,
                      0,
                      1,
                      0
                    ];
                    this._loadMatrix(r, t);
                  }
                },
                {
                  key: "blackAndWhite",
                  value: function (e) {
                    this._loadMatrix(
                      [
                        0.3,
                        0.6,
                        0.1,
                        0,
                        0,
                        0.3,
                        0.6,
                        0.1,
                        0,
                        0,
                        0.3,
                        0.6,
                        0.1,
                        0,
                        0,
                        0,
                        0,
                        0,
                        1,
                        0
                      ],
                      e
                    );
                  }
                },
                {
                  key: "hue",
                  value: function (e, t) {
                    e = ((e || 0) / 180) * Math.PI;
                    var r = Math.cos(e),
                      n = Math.sin(e),
                      i = 1 / 3,
                      a = (0, Math.sqrt)(i),
                      s = [
                        r + (1 - r) * i,
                        i * (1 - r) - a * n,
                        i * (1 - r) + a * n,
                        0,
                        0,
                        i * (1 - r) + a * n,
                        r + i * (1 - r),
                        i * (1 - r) - a * n,
                        0,
                        0,
                        i * (1 - r) - a * n,
                        i * (1 - r) + a * n,
                        r + i * (1 - r),
                        0,
                        0,
                        0,
                        0,
                        0,
                        1,
                        0
                      ];
                    this._loadMatrix(s, t);
                  }
                },
                {
                  key: "contrast",
                  value: function (e, t) {
                    var r = (e || 0) + 1,
                      n = -0.5 * (r - 1),
                      i = [
                        r,
                        0,
                        0,
                        0,
                        n,
                        0,
                        r,
                        0,
                        0,
                        n,
                        0,
                        0,
                        r,
                        0,
                        n,
                        0,
                        0,
                        0,
                        1,
                        0
                      ];
                    this._loadMatrix(i, t);
                  }
                },
                {
                  key: "saturate",
                  value: function () {
                    var e = arguments.length > 1 ? arguments[1] : void 0,
                      t =
                        (2 *
                          (arguments.length > 0 && void 0 !== arguments[0]
                            ? arguments[0]
                            : 0)) /
                          3 +
                        1,
                      r = -0.5 * (t - 1),
                      n = [
                        t,
                        r,
                        r,
                        0,
                        0,
                        r,
                        t,
                        r,
                        0,
                        0,
                        r,
                        r,
                        t,
                        0,
                        0,
                        0,
                        0,
                        0,
                        1,
                        0
                      ];
                    this._loadMatrix(n, e);
                  }
                },
                {
                  key: "desaturate",
                  value: function () {
                    this.saturate(-1);
                  }
                },
                {
                  key: "negative",
                  value: function (e) {
                    this._loadMatrix(
                      [
                        -1,
                        0,
                        0,
                        1,
                        0,
                        0,
                        -1,
                        0,
                        1,
                        0,
                        0,
                        0,
                        -1,
                        1,
                        0,
                        0,
                        0,
                        0,
                        1,
                        0
                      ],
                      e
                    );
                  }
                },
                {
                  key: "sepia",
                  value: function (e) {
                    this._loadMatrix(
                      [
                        0.393,
                        0.7689999,
                        0.18899999,
                        0,
                        0,
                        0.349,
                        0.6859999,
                        0.16799999,
                        0,
                        0,
                        0.272,
                        0.5339999,
                        0.13099999,
                        0,
                        0,
                        0,
                        0,
                        0,
                        1,
                        0
                      ],
                      e
                    );
                  }
                },
                {
                  key: "technicolor",
                  value: function (e) {
                    this._loadMatrix(
                      [
                        1.9125277891456083,
                        -0.8545344976951645,
                        -0.09155508482755585,
                        0,
                        11.793603434377337,
                        -0.3087833385928097,
                        1.7658908555458428,
                        -0.10601743074722245,
                        0,
                        -70.35205161461398,
                        -0.231103377548616,
                        -0.7501899197440212,
                        1.847597816108189,
                        0,
                        30.950940869491138,
                        0,
                        0,
                        0,
                        1,
                        0
                      ],
                      e
                    );
                  }
                },
                {
                  key: "polaroid",
                  value: function (e) {
                    this._loadMatrix(
                      [
                        1.438,
                        -0.062,
                        -0.062,
                        0,
                        0,
                        -0.122,
                        1.378,
                        -0.122,
                        0,
                        0,
                        -0.016,
                        -0.016,
                        1.483,
                        0,
                        0,
                        0,
                        0,
                        0,
                        1,
                        0
                      ],
                      e
                    );
                  }
                },
                {
                  key: "toBGR",
                  value: function (e) {
                    this._loadMatrix(
                      [
                        0,
                        0,
                        1,
                        0,
                        0,
                        0,
                        1,
                        0,
                        0,
                        0,
                        1,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        0,
                        1,
                        0
                      ],
                      e
                    );
                  }
                },
                {
                  key: "kodachrome",
                  value: function (e) {
                    this._loadMatrix(
                      [
                        1.1285582396593525,
                        -0.3967382283601348,
                        -0.03992559172921793,
                        0,
                        63.72958762196502,
                        -0.16404339962244616,
                        1.0835251566291304,
                        -0.05498805115633132,
                        0,
                        24.732407896706203,
                        -0.16786010706155763,
                        -0.5603416277695248,
                        1.6014850761964943,
                        0,
                        35.62982807460946,
                        0,
                        0,
                        0,
                        1,
                        0
                      ],
                      e
                    );
                  }
                },
                {
                  key: "browni",
                  value: function (e) {
                    this._loadMatrix(
                      [
                        0.5997023498159715,
                        0.34553243048391263,
                        -0.2708298674538042,
                        0,
                        47.43192855600873,
                        -0.037703249837783157,
                        0.8609577587992641,
                        0.15059552388459913,
                        0,
                        -36.96841498319127,
                        0.24113635128153335,
                        -0.07441037908422492,
                        0.44972182064877153,
                        0,
                        -7.562075277591283,
                        0,
                        0,
                        0,
                        1,
                        0
                      ],
                      e
                    );
                  }
                },
                {
                  key: "vintage",
                  value: function (e) {
                    this._loadMatrix(
                      [
                        0.6279345635605994,
                        0.3202183420819367,
                        -0.03965408211312453,
                        0,
                        9.651285835294123,
                        0.02578397704808868,
                        0.6441188644374771,
                        0.03259127616149294,
                        0,
                        7.462829176470591,
                        0.0466055556782719,
                        -0.0851232987247891,
                        0.5241648018700465,
                        0,
                        5.159190588235296,
                        0,
                        0,
                        0,
                        1,
                        0
                      ],
                      e
                    );
                  }
                },
                {
                  key: "colorTone",
                  value: function (e, t, r, n, i) {
                    (e = e || 0.2),
                      (t = t || 0.15),
                      (r = r || 16770432),
                      (n = n || 3375104);
                    var a = Color.shared,
                      s = _slicedToArray(a.setValue(r).toArray(), 3),
                      o = s[0],
                      u = s[1],
                      l = s[2],
                      c = _slicedToArray(a.setValue(n).toArray(), 3),
                      h = c[0],
                      f = c[1],
                      d = c[2],
                      p = [
                        0.3,
                        0.59,
                        0.11,
                        0,
                        0,
                        o,
                        u,
                        l,
                        e,
                        0,
                        h,
                        f,
                        d,
                        t,
                        0,
                        o - h,
                        u - f,
                        l - d,
                        0,
                        0
                      ];
                    this._loadMatrix(p, i);
                  }
                },
                {
                  key: "night",
                  value: function (e, t) {
                    var r = [
                      -2 * (e = e || 0.1),
                      -e,
                      0,
                      0,
                      0,
                      -e,
                      0,
                      e,
                      0,
                      0,
                      0,
                      e,
                      2 * e,
                      0,
                      0,
                      0,
                      0,
                      0,
                      1,
                      0
                    ];
                    this._loadMatrix(r, t);
                  }
                },
                {
                  key: "predator",
                  value: function (e, t) {
                    var r = [
                      11.224130630493164 * e,
                      -4.794486999511719 * e,
                      -2.8746118545532227 * e,
                      0 * e,
                      0.40342438220977783 * e,
                      -3.6330697536468506 * e,
                      9.193157196044922 * e,
                      -2.951810836791992 * e,
                      0 * e,
                      -1.316135048866272 * e,
                      -3.2184197902679443 * e,
                      -4.2375030517578125 * e,
                      7.476448059082031 * e,
                      0 * e,
                      0.8044459223747253 * e,
                      0,
                      0,
                      0,
                      1,
                      0
                    ];
                    this._loadMatrix(r, t);
                  }
                },
                {
                  key: "lsd",
                  value: function (e) {
                    this._loadMatrix(
                      [
                        2,
                        -0.4,
                        0.5,
                        0,
                        0,
                        -0.5,
                        2,
                        -0.4,
                        0,
                        0,
                        -0.4,
                        -0.5,
                        3,
                        0,
                        0,
                        0,
                        0,
                        0,
                        1,
                        0
                      ],
                      e
                    );
                  }
                },
                {
                  key: "reset",
                  value: function () {
                    this._loadMatrix(
                      [
                        1,
                        0,
                        0,
                        0,
                        0,
                        0,
                        1,
                        0,
                        0,
                        0,
                        0,
                        0,
                        1,
                        0,
                        0,
                        0,
                        0,
                        0,
                        1,
                        0
                      ],
                      !1
                    );
                  }
                },
                {
                  key: "matrix",
                  get: function () {
                    return this.uniforms.m;
                  },
                  set: function (e) {
                    this.uniforms.m = e;
                  }
                },
                {
                  key: "alpha",
                  get: function () {
                    return this.uniforms.uAlpha;
                  },
                  set: function (e) {
                    this.uniforms.uAlpha = e;
                  }
                }
              ]),
              r
            );
          })(Filter);
        ColorMatrixFilter.prototype.grayscale =
          ColorMatrixFilter.prototype.greyscale;
        var fragment$4 =
            "varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",
          vertex$3 =
            "attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n",
          DisplacementFilter = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e, n) {
              var i;
              _classCallCheck(this, r);
              var a = new Matrix();
              return (
                (e.renderable = !1),
                ((i = t.call(this, vertex$3, fragment$4, {
                  mapSampler: e._texture,
                  filterMatrix: a,
                  scale: { x: 1, y: 1 },
                  rotation: new Float32Array([1, 0, 0, 1])
                })).maskSprite = e),
                (i.maskMatrix = a),
                null == n && (n = 20),
                (i.scale = new Point(n, n)),
                i
              );
            }
            return (
              _createClass(r, [
                {
                  key: "apply",
                  value: function (e, t, r, n) {
                    (this.uniforms.filterMatrix = e.calculateSpriteMatrix(
                      this.maskMatrix,
                      this.maskSprite
                    )),
                      (this.uniforms.scale.x = this.scale.x),
                      (this.uniforms.scale.y = this.scale.y);
                    var i = this.maskSprite.worldTransform,
                      a = Math.sqrt(i.a * i.a + i.b * i.b),
                      s = Math.sqrt(i.c * i.c + i.d * i.d);
                    0 !== a &&
                      0 !== s &&
                      ((this.uniforms.rotation[0] = i.a / a),
                      (this.uniforms.rotation[1] = i.b / a),
                      (this.uniforms.rotation[2] = i.c / s),
                      (this.uniforms.rotation[3] = i.d / s)),
                      e.applyFilter(this, t, r, n);
                  }
                },
                {
                  key: "map",
                  get: function () {
                    return this.uniforms.mapSampler;
                  },
                  set: function (e) {
                    this.uniforms.mapSampler = e;
                  }
                }
              ]),
              r
            );
          })(Filter),
          fragment$3 =
            'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n',
          vertex$2 =
            "\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",
          FXAAFilter = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r() {
              return (
                _classCallCheck(this, r), t.call(this, vertex$2, fragment$3)
              );
            }
            return _createClass(r);
          })(Filter),
          fragment$2 =
            "precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",
          NoiseFilter = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r() {
              var e,
                n =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : 0.5,
                i =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : Math.random();
              return (
                _classCallCheck(this, r),
                ((e = t.call(this, defaultFilterVertex, fragment$2, {
                  uNoise: 0,
                  uSeed: 0
                })).noise = n),
                (e.seed = i),
                e
              );
            }
            return (
              _createClass(r, [
                {
                  key: "noise",
                  get: function () {
                    return this.uniforms.uNoise;
                  },
                  set: function (e) {
                    this.uniforms.uNoise = e;
                  }
                },
                {
                  key: "seed",
                  get: function () {
                    return this.uniforms.uSeed;
                  },
                  set: function (e) {
                    this.uniforms.uSeed = e;
                  }
                }
              ]),
              r
            );
          })(Filter),
          filters = {
            AlphaFilter: AlphaFilter,
            BlurFilter: BlurFilter,
            BlurFilterPass: BlurFilterPass,
            ColorMatrixFilter: ColorMatrixFilter,
            DisplacementFilter: DisplacementFilter,
            FXAAFilter: FXAAFilter,
            NoiseFilter: NoiseFilter
          };
        Object.entries(filters).forEach(function (e) {
          var t = _slicedToArray(e, 2),
            r = t[0],
            n = t[1];
          Object.defineProperty(filters, r, {
            get: function () {
              return (
                deprecation(
                  "7.1.0",
                  "filters.".concat(r, " has moved to ").concat(r)
                ),
                n
              );
            }
          });
        });
        var EventsTickerClass = (function () {
            function e() {
              _classCallCheck(this, e),
                (this.interactionFrequency = 10),
                (this._deltaTime = 0),
                (this._didMove = !1),
                (this.tickerAdded = !1),
                (this._pauseUpdate = !0);
            }
            return (
              _createClass(e, [
                {
                  key: "init",
                  value: function (e) {
                    this.removeTickerListener(),
                      (this.events = e),
                      (this.interactionFrequency = 10),
                      (this._deltaTime = 0),
                      (this._didMove = !1),
                      (this.tickerAdded = !1),
                      (this._pauseUpdate = !0);
                  }
                },
                {
                  key: "pauseUpdate",
                  get: function () {
                    return this._pauseUpdate;
                  },
                  set: function (e) {
                    this._pauseUpdate = e;
                  }
                },
                {
                  key: "addTickerListener",
                  value: function () {
                    !this.tickerAdded &&
                      this.domElement &&
                      (Ticker.system.add(
                        this.tickerUpdate,
                        this,
                        UPDATE_PRIORITY.INTERACTION
                      ),
                      (this.tickerAdded = !0));
                  }
                },
                {
                  key: "removeTickerListener",
                  value: function () {
                    this.tickerAdded &&
                      (Ticker.system.remove(this.tickerUpdate, this),
                      (this.tickerAdded = !1));
                  }
                },
                {
                  key: "pointerMoved",
                  value: function () {
                    this._didMove = !0;
                  }
                },
                {
                  key: "update",
                  value: function () {
                    if (this.domElement && !this._pauseUpdate)
                      if (this._didMove) this._didMove = !1;
                      else {
                        var e = this.events.rootPointerEvent;
                        (this.events.supportsTouchEvents &&
                          "touch" === e.pointerType) ||
                          globalThis.document.dispatchEvent(
                            new PointerEvent("pointermove", {
                              clientX: e.clientX,
                              clientY: e.clientY
                            })
                          );
                      }
                  }
                },
                {
                  key: "tickerUpdate",
                  value: function (e) {
                    (this._deltaTime += e),
                      this._deltaTime < this.interactionFrequency ||
                        ((this._deltaTime = 0), this.update());
                  }
                }
              ]),
              e
            );
          })(),
          EventsTicker = new EventsTickerClass(),
          FederatedEvent = (function () {
            function e(t) {
              _classCallCheck(this, e),
                (this.bubbles = !0),
                (this.cancelBubble = !0),
                (this.cancelable = !1),
                (this.composed = !1),
                (this.defaultPrevented = !1),
                (this.eventPhase = e.prototype.NONE),
                (this.propagationStopped = !1),
                (this.propagationImmediatelyStopped = !1),
                (this.layer = new Point()),
                (this.page = new Point()),
                (this.NONE = 0),
                (this.CAPTURING_PHASE = 1),
                (this.AT_TARGET = 2),
                (this.BUBBLING_PHASE = 3),
                (this.manager = t);
            }
            return (
              _createClass(e, [
                {
                  key: "layerX",
                  get: function () {
                    return this.layer.x;
                  }
                },
                {
                  key: "layerY",
                  get: function () {
                    return this.layer.y;
                  }
                },
                {
                  key: "pageX",
                  get: function () {
                    return this.page.x;
                  }
                },
                {
                  key: "pageY",
                  get: function () {
                    return this.page.y;
                  }
                },
                {
                  key: "data",
                  get: function () {
                    return this;
                  }
                },
                {
                  key: "composedPath",
                  value: function () {
                    return (
                      !this.manager ||
                        (this.path &&
                          this.path[this.path.length - 1] === this.target) ||
                        (this.path = this.target
                          ? this.manager.propagationPath(this.target)
                          : []),
                      this.path
                    );
                  }
                },
                {
                  key: "initEvent",
                  value: function (e, t, r) {
                    throw new Error(
                      "initEvent() is a legacy DOM API. It is not implemented in the Federated Events API."
                    );
                  }
                },
                {
                  key: "initUIEvent",
                  value: function (e, t, r, n, i) {
                    throw new Error(
                      "initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API."
                    );
                  }
                },
                {
                  key: "preventDefault",
                  value: function () {
                    this.nativeEvent instanceof Event &&
                      this.nativeEvent.cancelable &&
                      this.nativeEvent.preventDefault(),
                      (this.defaultPrevented = !0);
                  }
                },
                {
                  key: "stopImmediatePropagation",
                  value: function () {
                    this.propagationImmediatelyStopped = !0;
                  }
                },
                {
                  key: "stopPropagation",
                  value: function () {
                    this.propagationStopped = !0;
                  }
                }
              ]),
              e
            );
          })(),
          FederatedMouseEvent = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r() {
              var e;
              return (
                _classCallCheck(this, r),
                ((e = t.apply(this, arguments)).client = new Point()),
                (e.movement = new Point()),
                (e.offset = new Point()),
                (e.global = new Point()),
                (e.screen = new Point()),
                e
              );
            }
            return (
              _createClass(r, [
                {
                  key: "clientX",
                  get: function () {
                    return this.client.x;
                  }
                },
                {
                  key: "clientY",
                  get: function () {
                    return this.client.y;
                  }
                },
                {
                  key: "x",
                  get: function () {
                    return this.clientX;
                  }
                },
                {
                  key: "y",
                  get: function () {
                    return this.clientY;
                  }
                },
                {
                  key: "movementX",
                  get: function () {
                    return this.movement.x;
                  }
                },
                {
                  key: "movementY",
                  get: function () {
                    return this.movement.y;
                  }
                },
                {
                  key: "offsetX",
                  get: function () {
                    return this.offset.x;
                  }
                },
                {
                  key: "offsetY",
                  get: function () {
                    return this.offset.y;
                  }
                },
                {
                  key: "globalX",
                  get: function () {
                    return this.global.x;
                  }
                },
                {
                  key: "globalY",
                  get: function () {
                    return this.global.y;
                  }
                },
                {
                  key: "screenX",
                  get: function () {
                    return this.screen.x;
                  }
                },
                {
                  key: "screenY",
                  get: function () {
                    return this.screen.y;
                  }
                },
                {
                  key: "getLocalPosition",
                  value: function (e, t, r) {
                    return e.worldTransform.applyInverse(r || this.global, t);
                  }
                },
                {
                  key: "getModifierState",
                  value: function (e) {
                    return (
                      "getModifierState" in this.nativeEvent &&
                      this.nativeEvent.getModifierState(e)
                    );
                  }
                },
                {
                  key: "initMouseEvent",
                  value: function (
                    e,
                    t,
                    r,
                    n,
                    i,
                    a,
                    s,
                    o,
                    u,
                    l,
                    c,
                    h,
                    f,
                    d,
                    p
                  ) {
                    throw new Error("Method not implemented.");
                  }
                }
              ]),
              r
            );
          })(FederatedEvent),
          FederatedPointerEvent = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r() {
              var e;
              return (
                _classCallCheck(this, r),
                ((e = t.apply(this, arguments)).width = 0),
                (e.height = 0),
                (e.isPrimary = !1),
                e
              );
            }
            return (
              _createClass(r, [
                {
                  key: "getCoalescedEvents",
                  value: function () {
                    return "pointermove" === this.type ||
                      "mousemove" === this.type ||
                      "touchmove" === this.type
                      ? [this]
                      : [];
                  }
                },
                {
                  key: "getPredictedEvents",
                  value: function () {
                    throw new Error("getPredictedEvents is not supported!");
                  }
                }
              ]),
              r
            );
          })(FederatedMouseEvent),
          FederatedWheelEvent = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r() {
              var e;
              return (
                _classCallCheck(this, r),
                ((e = t.apply(this, arguments)).DOM_DELTA_PIXEL = 0),
                (e.DOM_DELTA_LINE = 1),
                (e.DOM_DELTA_PAGE = 2),
                e
              );
            }
            return _createClass(r);
          })(FederatedMouseEvent);
        (FederatedWheelEvent.DOM_DELTA_PIXEL = 0),
          (FederatedWheelEvent.DOM_DELTA_LINE = 1),
          (FederatedWheelEvent.DOM_DELTA_PAGE = 2);
        var PROPAGATION_LIMIT = 2048,
          tempHitLocation = new Point(),
          tempLocalMapping = new Point(),
          EventBoundary = (function () {
            function e(t) {
              _classCallCheck(this, e),
                (this.dispatch = new EventEmitter()),
                (this.moveOnAll = !1),
                (this.enableGlobalMoveEvents = !0),
                (this.mappingState = { trackingData: {} }),
                (this.eventPool = new Map()),
                (this._allInteractiveElements = []),
                (this._hitElements = []),
                (this._isPointerMoveEvent = !1),
                (this.rootTarget = t),
                (this.hitPruneFn = this.hitPruneFn.bind(this)),
                (this.hitTestFn = this.hitTestFn.bind(this)),
                (this.mapPointerDown = this.mapPointerDown.bind(this)),
                (this.mapPointerMove = this.mapPointerMove.bind(this)),
                (this.mapPointerOut = this.mapPointerOut.bind(this)),
                (this.mapPointerOver = this.mapPointerOver.bind(this)),
                (this.mapPointerUp = this.mapPointerUp.bind(this)),
                (this.mapPointerUpOutside = this.mapPointerUpOutside.bind(
                  this
                )),
                (this.mapWheel = this.mapWheel.bind(this)),
                (this.mappingTable = {}),
                this.addEventMapping("pointerdown", this.mapPointerDown),
                this.addEventMapping("pointermove", this.mapPointerMove),
                this.addEventMapping("pointerout", this.mapPointerOut),
                this.addEventMapping("pointerleave", this.mapPointerOut),
                this.addEventMapping("pointerover", this.mapPointerOver),
                this.addEventMapping("pointerup", this.mapPointerUp),
                this.addEventMapping(
                  "pointerupoutside",
                  this.mapPointerUpOutside
                ),
                this.addEventMapping("wheel", this.mapWheel);
            }
            return (
              _createClass(e, [
                {
                  key: "addEventMapping",
                  value: function (e, t) {
                    this.mappingTable[e] || (this.mappingTable[e] = []),
                      this.mappingTable[e].push({ fn: t, priority: 0 }),
                      this.mappingTable[e].sort(function (e, t) {
                        return e.priority - t.priority;
                      });
                  }
                },
                {
                  key: "dispatchEvent",
                  value: function (e, t) {
                    (e.propagationStopped = !1),
                      (e.propagationImmediatelyStopped = !1),
                      this.propagate(e, t),
                      this.dispatch.emit(t || e.type, e);
                  }
                },
                {
                  key: "mapEvent",
                  value: function (e) {
                    if (this.rootTarget) {
                      var t = this.mappingTable[e.type];
                      if (t)
                        for (var r = 0, n = t.length; r < n; r++) t[r].fn(e);
                      else
                        console.warn(
                          "[EventBoundary]: Event mapping not defined for ".concat(
                            e.type
                          )
                        );
                    }
                  }
                },
                {
                  key: "hitTest",
                  value: function (e, t) {
                    EventsTicker.pauseUpdate = !0;
                    var r = this[
                      this._isPointerMoveEvent && this.enableGlobalMoveEvents
                        ? "hitTestMoveRecursive"
                        : "hitTestRecursive"
                    ](
                      this.rootTarget,
                      this.rootTarget.eventMode,
                      tempHitLocation.set(e, t),
                      this.hitTestFn,
                      this.hitPruneFn
                    );
                    return r && r[0];
                  }
                },
                {
                  key: "propagate",
                  value: function (e, t) {
                    if (e.target) {
                      var r = e.composedPath();
                      e.eventPhase = e.CAPTURING_PHASE;
                      for (var n = 0, i = r.length - 1; n < i; n++)
                        if (
                          ((e.currentTarget = r[n]),
                          this.notifyTarget(e, t),
                          e.propagationStopped ||
                            e.propagationImmediatelyStopped)
                        )
                          return;
                      if (
                        ((e.eventPhase = e.AT_TARGET),
                        (e.currentTarget = e.target),
                        this.notifyTarget(e, t),
                        !e.propagationStopped &&
                          !e.propagationImmediatelyStopped)
                      ) {
                        e.eventPhase = e.BUBBLING_PHASE;
                        for (var a = r.length - 2; a >= 0; a--)
                          if (
                            ((e.currentTarget = r[a]),
                            this.notifyTarget(e, t),
                            e.propagationStopped ||
                              e.propagationImmediatelyStopped)
                          )
                            return;
                      }
                    }
                  }
                },
                {
                  key: "all",
                  value: function (e, t) {
                    var r = this,
                      n =
                        arguments.length > 2 && void 0 !== arguments[2]
                          ? arguments[2]
                          : this._allInteractiveElements;
                    if (0 !== n.length) {
                      e.eventPhase = e.BUBBLING_PHASE;
                      for (
                        var i = Array.isArray(t) ? t : [t],
                          a = function (t) {
                            i.forEach(function (i) {
                              (e.currentTarget = n[t]), r.notifyTarget(e, i);
                            });
                          },
                          s = n.length - 1;
                        s >= 0;
                        s--
                      )
                        a(s);
                    }
                  }
                },
                {
                  key: "propagationPath",
                  value: function (e) {
                    for (
                      var t = [e], r = 0;
                      r < PROPAGATION_LIMIT && e !== this.rootTarget;
                      r++
                    ) {
                      if (!e.parent)
                        throw new Error(
                          "Cannot find propagation path to disconnected target"
                        );
                      t.push(e.parent), (e = e.parent);
                    }
                    return t.reverse(), t;
                  }
                },
                {
                  key: "hitTestMoveRecursive",
                  value: function (e, t, r, n, i) {
                    var a =
                        arguments.length > 5 &&
                        void 0 !== arguments[5] &&
                        arguments[5],
                      s = !1;
                    if (this._interactivePrune(e)) return null;
                    if (
                      (("dynamic" !== e.eventMode && "dynamic" !== t) ||
                        (EventsTicker.pauseUpdate = !1),
                      e.interactiveChildren && e.children)
                    )
                      for (var o = e.children, u = o.length - 1; u >= 0; u--) {
                        var l = o[u],
                          c = this.hitTestMoveRecursive(
                            l,
                            this._isInteractive(t) ? t : l.eventMode,
                            r,
                            n,
                            i,
                            a || i(e, r)
                          );
                        if (c) {
                          if (c.length > 0 && !c[c.length - 1].parent) continue;
                          var h = e.isInteractive();
                          (c.length > 0 || h) &&
                            (h && this._allInteractiveElements.push(e),
                            c.push(e)),
                            0 === this._hitElements.length &&
                              (this._hitElements = c),
                            (s = !0);
                        }
                      }
                    var f = this._isInteractive(t),
                      d = e.isInteractive();
                    return (
                      d && d && this._allInteractiveElements.push(e),
                      a || this._hitElements.length > 0
                        ? null
                        : s
                        ? this._hitElements
                        : f && !i(e, r) && n(e, r)
                        ? d
                          ? [e]
                          : []
                        : null
                    );
                  }
                },
                {
                  key: "hitTestRecursive",
                  value: function (e, t, r, n, i) {
                    if (this._interactivePrune(e) || i(e, r)) return null;
                    if (
                      (("dynamic" !== e.eventMode && "dynamic" !== t) ||
                        (EventsTicker.pauseUpdate = !1),
                      e.interactiveChildren && e.children)
                    )
                      for (var a = e.children, s = a.length - 1; s >= 0; s--) {
                        var o = a[s],
                          u = this.hitTestRecursive(
                            o,
                            this._isInteractive(t) ? t : o.eventMode,
                            r,
                            n,
                            i
                          );
                        if (u) {
                          if (u.length > 0 && !u[u.length - 1].parent) continue;
                          var l = e.isInteractive();
                          return (u.length > 0 || l) && u.push(e), u;
                        }
                      }
                    var c = this._isInteractive(t),
                      h = e.isInteractive();
                    return c && n(e, r) ? (h ? [e] : []) : null;
                  }
                },
                {
                  key: "_isInteractive",
                  value: function (e) {
                    return "static" === e || "dynamic" === e;
                  }
                },
                {
                  key: "_interactivePrune",
                  value: function (e) {
                    return (
                      !(e && !e.isMask && e.visible && e.renderable) ||
                      "none" === e.eventMode ||
                      ("passive" === e.eventMode && !e.interactiveChildren) ||
                      !!e.isMask
                    );
                  }
                },
                {
                  key: "hitPruneFn",
                  value: function (e, t) {
                    if (
                      e.hitArea &&
                      (e.worldTransform.applyInverse(t, tempLocalMapping),
                      !e.hitArea.contains(
                        tempLocalMapping.x,
                        tempLocalMapping.y
                      ))
                    )
                      return !0;
                    if (e._mask) {
                      var r,
                        n = e._mask.isMaskData ? e._mask.maskObject : e._mask;
                      if (
                        n &&
                        (null === (r = n.containsPoint) ||
                          void 0 === r ||
                          !r.call(n, t))
                      )
                        return !0;
                    }
                    return !1;
                  }
                },
                {
                  key: "hitTestFn",
                  value: function (e, t) {
                    return (
                      "passive" !== e.eventMode &&
                      (!!e.hitArea || (!!e.containsPoint && e.containsPoint(t)))
                    );
                  }
                },
                {
                  key: "notifyTarget",
                  value: function (e, t) {
                    var r, n, i;
                    t = null !== (r = t) && void 0 !== r ? r : e.type;
                    var a = "on".concat(t);
                    null === (n = (i = e.currentTarget)[a]) ||
                      void 0 === n ||
                      n.call(i, e);
                    var s =
                      e.eventPhase === e.CAPTURING_PHASE ||
                      e.eventPhase === e.AT_TARGET
                        ? "".concat(t, "capture")
                        : t;
                    this.notifyListeners(e, s),
                      e.eventPhase === e.AT_TARGET &&
                        this.notifyListeners(e, t);
                  }
                },
                {
                  key: "mapPointerDown",
                  value: function (e) {
                    if (e instanceof FederatedPointerEvent) {
                      var t = this.createPointerEvent(e);
                      if (
                        (this.dispatchEvent(t, "pointerdown"),
                        "touch" === t.pointerType)
                      )
                        this.dispatchEvent(t, "touchstart");
                      else if (
                        "mouse" === t.pointerType ||
                        "pen" === t.pointerType
                      ) {
                        var r = 2 === t.button;
                        this.dispatchEvent(t, r ? "rightdown" : "mousedown");
                      }
                      (this.trackingData(e.pointerId).pressTargetsByButton[
                        e.button
                      ] = t.composedPath()),
                        this.freeEvent(t);
                    } else
                      console.warn(
                        "EventBoundary cannot map a non-pointer event as a pointer event"
                      );
                  }
                },
                {
                  key: "mapPointerMove",
                  value: function (e) {
                    var t, r;
                    if (e instanceof FederatedPointerEvent) {
                      (this._allInteractiveElements.length = 0),
                        (this._hitElements.length = 0),
                        (this._isPointerMoveEvent = !0);
                      var n = this.createPointerEvent(e);
                      this._isPointerMoveEvent = !1;
                      var i =
                          "mouse" === n.pointerType || "pen" === n.pointerType,
                        a = this.trackingData(e.pointerId),
                        s = this.findMountedTarget(a.overTargets);
                      if (
                        (null === (t = a.overTargets) || void 0 === t
                          ? void 0
                          : t.length) > 0 &&
                        s !== n.target
                      ) {
                        var o =
                            "mousemove" === e.type ? "mouseout" : "pointerout",
                          u = this.createPointerEvent(e, o, s);
                        if (
                          (this.dispatchEvent(u, "pointerout"),
                          i && this.dispatchEvent(u, "mouseout"),
                          !n.composedPath().includes(s))
                        ) {
                          var l = this.createPointerEvent(e, "pointerleave", s);
                          for (
                            l.eventPhase = l.AT_TARGET;
                            l.target && !n.composedPath().includes(l.target);

                          )
                            (l.currentTarget = l.target),
                              this.notifyTarget(l),
                              i && this.notifyTarget(l, "mouseleave"),
                              (l.target = l.target.parent);
                          this.freeEvent(l);
                        }
                        this.freeEvent(u);
                      }
                      if (s !== n.target) {
                        var c =
                            "mousemove" === e.type
                              ? "mouseover"
                              : "pointerover",
                          h = this.clonePointerEvent(n, c);
                        this.dispatchEvent(h, "pointerover"),
                          i && this.dispatchEvent(h, "mouseover");
                        for (
                          var f = null == s ? void 0 : s.parent;
                          f && f !== this.rootTarget.parent && f !== n.target;

                        )
                          f = f.parent;
                        if (!f || f === this.rootTarget.parent) {
                          var d = this.clonePointerEvent(n, "pointerenter");
                          for (
                            d.eventPhase = d.AT_TARGET;
                            d.target &&
                            d.target !== s &&
                            d.target !== this.rootTarget.parent;

                          )
                            (d.currentTarget = d.target),
                              this.notifyTarget(d),
                              i && this.notifyTarget(d, "mouseenter"),
                              (d.target = d.target.parent);
                          this.freeEvent(d);
                        }
                        this.freeEvent(h);
                      }
                      var p,
                        _ = [],
                        v =
                          null === (r = this.enableGlobalMoveEvents) ||
                          void 0 === r ||
                          r;
                      if (
                        (this.moveOnAll
                          ? _.push("pointermove")
                          : this.dispatchEvent(n, "pointermove"),
                        v && _.push("globalpointermove"),
                        "touch" === n.pointerType &&
                          (this.moveOnAll
                            ? _.splice(1, 0, "touchmove")
                            : this.dispatchEvent(n, "touchmove"),
                          v && _.push("globaltouchmove")),
                        i)
                      )
                        this.moveOnAll
                          ? _.splice(1, 0, "mousemove")
                          : this.dispatchEvent(n, "mousemove"),
                          v && _.push("globalmousemove"),
                          (this.cursor =
                            null === (p = n.target) || void 0 === p
                              ? void 0
                              : p.cursor);
                      _.length > 0 && this.all(n, _),
                        (this._allInteractiveElements.length = 0),
                        (this._hitElements.length = 0),
                        (a.overTargets = n.composedPath()),
                        this.freeEvent(n);
                    } else
                      console.warn(
                        "EventBoundary cannot map a non-pointer event as a pointer event"
                      );
                  }
                },
                {
                  key: "mapPointerOver",
                  value: function (e) {
                    var t;
                    if (e instanceof FederatedPointerEvent) {
                      var r = this.trackingData(e.pointerId),
                        n = this.createPointerEvent(e),
                        i =
                          "mouse" === n.pointerType || "pen" === n.pointerType;
                      this.dispatchEvent(n, "pointerover"),
                        i && this.dispatchEvent(n, "mouseover"),
                        "mouse" === n.pointerType &&
                          (this.cursor =
                            null === (t = n.target) || void 0 === t
                              ? void 0
                              : t.cursor);
                      var a = this.clonePointerEvent(n, "pointerenter");
                      for (
                        a.eventPhase = a.AT_TARGET;
                        a.target && a.target !== this.rootTarget.parent;

                      )
                        (a.currentTarget = a.target),
                          this.notifyTarget(a),
                          i && this.notifyTarget(a, "mouseenter"),
                          (a.target = a.target.parent);
                      (r.overTargets = n.composedPath()),
                        this.freeEvent(n),
                        this.freeEvent(a);
                    } else
                      console.warn(
                        "EventBoundary cannot map a non-pointer event as a pointer event"
                      );
                  }
                },
                {
                  key: "mapPointerOut",
                  value: function (e) {
                    if (e instanceof FederatedPointerEvent) {
                      var t = this.trackingData(e.pointerId);
                      if (t.overTargets) {
                        var r =
                            "mouse" === e.pointerType ||
                            "pen" === e.pointerType,
                          n = this.findMountedTarget(t.overTargets),
                          i = this.createPointerEvent(e, "pointerout", n);
                        this.dispatchEvent(i),
                          r && this.dispatchEvent(i, "mouseout");
                        var a = this.createPointerEvent(e, "pointerleave", n);
                        for (
                          a.eventPhase = a.AT_TARGET;
                          a.target && a.target !== this.rootTarget.parent;

                        )
                          (a.currentTarget = a.target),
                            this.notifyTarget(a),
                            r && this.notifyTarget(a, "mouseleave"),
                            (a.target = a.target.parent);
                        (t.overTargets = null),
                          this.freeEvent(i),
                          this.freeEvent(a);
                      }
                      this.cursor = null;
                    } else
                      console.warn(
                        "EventBoundary cannot map a non-pointer event as a pointer event"
                      );
                  }
                },
                {
                  key: "mapPointerUp",
                  value: function (e) {
                    if (e instanceof FederatedPointerEvent) {
                      var t = performance.now(),
                        r = this.createPointerEvent(e);
                      if (
                        (this.dispatchEvent(r, "pointerup"),
                        "touch" === r.pointerType)
                      )
                        this.dispatchEvent(r, "touchend");
                      else if (
                        "mouse" === r.pointerType ||
                        "pen" === r.pointerType
                      ) {
                        var n = 2 === r.button;
                        this.dispatchEvent(r, n ? "rightup" : "mouseup");
                      }
                      var i = this.trackingData(e.pointerId),
                        a = this.findMountedTarget(
                          i.pressTargetsByButton[e.button]
                        ),
                        s = a;
                      if (a && !r.composedPath().includes(a)) {
                        for (var o = a; o && !r.composedPath().includes(o); ) {
                          if (
                            ((r.currentTarget = o),
                            this.notifyTarget(r, "pointerupoutside"),
                            "touch" === r.pointerType)
                          )
                            this.notifyTarget(r, "touchendoutside");
                          else if (
                            "mouse" === r.pointerType ||
                            "pen" === r.pointerType
                          ) {
                            var u = 2 === r.button;
                            this.notifyTarget(
                              r,
                              u ? "rightupoutside" : "mouseupoutside"
                            );
                          }
                          o = o.parent;
                        }
                        delete i.pressTargetsByButton[e.button], (s = o);
                      }
                      if (s) {
                        var l = this.clonePointerEvent(r, "click");
                        (l.target = s),
                          (l.path = null),
                          i.clicksByButton[e.button] ||
                            (i.clicksByButton[e.button] = {
                              clickCount: 0,
                              target: l.target,
                              timeStamp: t
                            });
                        var c = i.clicksByButton[e.button];
                        if (
                          (c.target === l.target && t - c.timeStamp < 200
                            ? ++c.clickCount
                            : (c.clickCount = 1),
                          (c.target = l.target),
                          (c.timeStamp = t),
                          (l.detail = c.clickCount),
                          "mouse" === l.pointerType)
                        ) {
                          var h = 2 === l.button;
                          this.dispatchEvent(l, h ? "rightclick" : "click");
                        } else
                          "touch" === l.pointerType &&
                            this.dispatchEvent(l, "tap");
                        this.dispatchEvent(l, "pointertap"), this.freeEvent(l);
                      }
                      this.freeEvent(r);
                    } else
                      console.warn(
                        "EventBoundary cannot map a non-pointer event as a pointer event"
                      );
                  }
                },
                {
                  key: "mapPointerUpOutside",
                  value: function (e) {
                    if (e instanceof FederatedPointerEvent) {
                      var t = this.trackingData(e.pointerId),
                        r = this.findMountedTarget(
                          t.pressTargetsByButton[e.button]
                        ),
                        n = this.createPointerEvent(e);
                      if (r) {
                        for (var i = r; i; )
                          (n.currentTarget = i),
                            this.notifyTarget(n, "pointerupoutside"),
                            "touch" === n.pointerType
                              ? this.notifyTarget(n, "touchendoutside")
                              : ("mouse" !== n.pointerType &&
                                  "pen" !== n.pointerType) ||
                                this.notifyTarget(
                                  n,
                                  2 === n.button
                                    ? "rightupoutside"
                                    : "mouseupoutside"
                                ),
                            (i = i.parent);
                        delete t.pressTargetsByButton[e.button];
                      }
                      this.freeEvent(n);
                    } else
                      console.warn(
                        "EventBoundary cannot map a non-pointer event as a pointer event"
                      );
                  }
                },
                {
                  key: "mapWheel",
                  value: function (e) {
                    if (e instanceof FederatedWheelEvent) {
                      var t = this.createWheelEvent(e);
                      this.dispatchEvent(t), this.freeEvent(t);
                    } else
                      console.warn(
                        "EventBoundary cannot map a non-wheel event as a wheel event"
                      );
                  }
                },
                {
                  key: "findMountedTarget",
                  value: function (e) {
                    if (!e) return null;
                    for (
                      var t = e[0], r = 1;
                      r < e.length && e[r].parent === t;
                      r++
                    )
                      t = e[r];
                    return t;
                  }
                },
                {
                  key: "createPointerEvent",
                  value: function (e, t, r) {
                    var n,
                      i = this.allocateEvent(FederatedPointerEvent);
                    return (
                      this.copyPointerData(e, i),
                      this.copyMouseData(e, i),
                      this.copyData(e, i),
                      (i.nativeEvent = e.nativeEvent),
                      (i.originalEvent = e),
                      (i.target =
                        null !==
                          (n =
                            null != r
                              ? r
                              : this.hitTest(i.global.x, i.global.y)) &&
                        void 0 !== n
                          ? n
                          : this._hitElements[0]),
                      "string" == typeof t && (i.type = t),
                      i
                    );
                  }
                },
                {
                  key: "createWheelEvent",
                  value: function (e) {
                    var t = this.allocateEvent(FederatedWheelEvent);
                    return (
                      this.copyWheelData(e, t),
                      this.copyMouseData(e, t),
                      this.copyData(e, t),
                      (t.nativeEvent = e.nativeEvent),
                      (t.originalEvent = e),
                      (t.target = this.hitTest(t.global.x, t.global.y)),
                      t
                    );
                  }
                },
                {
                  key: "clonePointerEvent",
                  value: function (e, t) {
                    var r = this.allocateEvent(FederatedPointerEvent);
                    return (
                      (r.nativeEvent = e.nativeEvent),
                      (r.originalEvent = e.originalEvent),
                      this.copyPointerData(e, r),
                      this.copyMouseData(e, r),
                      this.copyData(e, r),
                      (r.target = e.target),
                      (r.path = e.composedPath().slice()),
                      (r.type = null != t ? t : r.type),
                      r
                    );
                  }
                },
                {
                  key: "copyWheelData",
                  value: function (e, t) {
                    (t.deltaMode = e.deltaMode),
                      (t.deltaX = e.deltaX),
                      (t.deltaY = e.deltaY),
                      (t.deltaZ = e.deltaZ);
                  }
                },
                {
                  key: "copyPointerData",
                  value: function (e, t) {
                    e instanceof FederatedPointerEvent &&
                      t instanceof FederatedPointerEvent &&
                      ((t.pointerId = e.pointerId),
                      (t.width = e.width),
                      (t.height = e.height),
                      (t.isPrimary = e.isPrimary),
                      (t.pointerType = e.pointerType),
                      (t.pressure = e.pressure),
                      (t.tangentialPressure = e.tangentialPressure),
                      (t.tiltX = e.tiltX),
                      (t.tiltY = e.tiltY),
                      (t.twist = e.twist));
                  }
                },
                {
                  key: "copyMouseData",
                  value: function (e, t) {
                    e instanceof FederatedMouseEvent &&
                      t instanceof FederatedMouseEvent &&
                      ((t.altKey = e.altKey),
                      (t.button = e.button),
                      (t.buttons = e.buttons),
                      t.client.copyFrom(e.client),
                      (t.ctrlKey = e.ctrlKey),
                      (t.metaKey = e.metaKey),
                      t.movement.copyFrom(e.movement),
                      t.screen.copyFrom(e.screen),
                      (t.shiftKey = e.shiftKey),
                      t.global.copyFrom(e.global));
                  }
                },
                {
                  key: "copyData",
                  value: function (e, t) {
                    (t.isTrusted = e.isTrusted),
                      (t.srcElement = e.srcElement),
                      (t.timeStamp = performance.now()),
                      (t.type = e.type),
                      (t.detail = e.detail),
                      (t.view = e.view),
                      (t.which = e.which),
                      t.layer.copyFrom(e.layer),
                      t.page.copyFrom(e.page);
                  }
                },
                {
                  key: "trackingData",
                  value: function (e) {
                    return (
                      this.mappingState.trackingData[e] ||
                        (this.mappingState.trackingData[e] = {
                          pressTargetsByButton: {},
                          clicksByButton: {},
                          overTarget: null
                        }),
                      this.mappingState.trackingData[e]
                    );
                  }
                },
                {
                  key: "allocateEvent",
                  value: function (e) {
                    this.eventPool.has(e) || this.eventPool.set(e, []);
                    var t = this.eventPool.get(e).pop() || new e(this);
                    return (
                      (t.eventPhase = t.NONE),
                      (t.currentTarget = null),
                      (t.path = null),
                      (t.target = null),
                      t
                    );
                  }
                },
                {
                  key: "freeEvent",
                  value: function (e) {
                    if (e.manager !== this)
                      throw new Error(
                        "It is illegal to free an event not managed by this EventBoundary!"
                      );
                    var t = e.constructor;
                    this.eventPool.has(t) || this.eventPool.set(t, []),
                      this.eventPool.get(t).push(e);
                  }
                },
                {
                  key: "notifyListeners",
                  value: function (e, t) {
                    var r = e.currentTarget._events[t];
                    if (r && e.currentTarget.isInteractive())
                      if ("fn" in r)
                        r.once &&
                          e.currentTarget.removeListener(t, r.fn, void 0, !0),
                          r.fn.call(r.context, e);
                      else
                        for (
                          var n = 0, i = r.length;
                          n < i && !e.propagationImmediatelyStopped;
                          n++
                        )
                          r[n].once &&
                            e.currentTarget.removeListener(
                              t,
                              r[n].fn,
                              void 0,
                              !0
                            ),
                            r[n].fn.call(r[n].context, e);
                  }
                }
              ]),
              e
            );
          })(),
          MOUSE_POINTER_ID = 1,
          TOUCH_TO_POINTER = {
            touchstart: "pointerdown",
            touchend: "pointerup",
            touchendoutside: "pointerupoutside",
            touchmove: "pointermove",
            touchcancel: "pointercancel"
          },
          _EventSystem = (function () {
            function e(t) {
              var r = this;
              _classCallCheck(this, e),
                (this.supportsTouchEvents = "ontouchstart" in globalThis),
                (this.supportsPointerEvents = !!globalThis.PointerEvent),
                (this.domElement = null),
                (this.resolution = 1),
                (this.renderer = t),
                (this.rootBoundary = new EventBoundary(null)),
                EventsTicker.init(this),
                (this.autoPreventDefault = !0),
                (this.eventsAdded = !1),
                (this.rootPointerEvent = new FederatedPointerEvent(null)),
                (this.rootWheelEvent = new FederatedWheelEvent(null)),
                (this.cursorStyles = {
                  default: "inherit",
                  pointer: "pointer"
                }),
                (this.features = new Proxy(
                  _objectSpread({}, e.defaultEventFeatures),
                  {
                    set: function (e, t, n) {
                      return (
                        "globalMove" === t &&
                          (r.rootBoundary.enableGlobalMoveEvents = n),
                        (e[t] = n),
                        !0
                      );
                    }
                  }
                )),
                (this.onPointerDown = this.onPointerDown.bind(this)),
                (this.onPointerMove = this.onPointerMove.bind(this)),
                (this.onPointerUp = this.onPointerUp.bind(this)),
                (this.onPointerOverOut = this.onPointerOverOut.bind(this)),
                (this.onWheel = this.onWheel.bind(this));
            }
            return (
              _createClass(
                e,
                [
                  {
                    key: "init",
                    value: function (t) {
                      var r,
                        n,
                        i = this.renderer,
                        a = i.view,
                        s = i.resolution;
                      this.setTargetElement(a),
                        (this.resolution = s),
                        (e._defaultEventMode =
                          null !== (r = t.eventMode) && void 0 !== r
                            ? r
                            : "auto"),
                        Object.assign(
                          this.features,
                          null !== (n = t.eventFeatures) && void 0 !== n
                            ? n
                            : {}
                        ),
                        (this.rootBoundary.enableGlobalMoveEvents = this.features.globalMove);
                    }
                  },
                  {
                    key: "resolutionChange",
                    value: function (e) {
                      this.resolution = e;
                    }
                  },
                  {
                    key: "destroy",
                    value: function () {
                      this.setTargetElement(null), (this.renderer = null);
                    }
                  },
                  {
                    key: "setCursor",
                    value: function (e) {
                      e = e || "default";
                      var t = !0;
                      if (
                        (globalThis.OffscreenCanvas &&
                          this.domElement instanceof OffscreenCanvas &&
                          (t = !1),
                        this.currentCursor !== e)
                      ) {
                        this.currentCursor = e;
                        var r = this.cursorStyles[e];
                        if (r)
                          switch (_typeof(r)) {
                            case "string":
                              t && (this.domElement.style.cursor = r);
                              break;
                            case "function":
                              r(e);
                              break;
                            case "object":
                              t && Object.assign(this.domElement.style, r);
                          }
                        else
                          t &&
                            "string" == typeof e &&
                            !Object.prototype.hasOwnProperty.call(
                              this.cursorStyles,
                              e
                            ) &&
                            (this.domElement.style.cursor = e);
                      }
                    }
                  },
                  {
                    key: "pointer",
                    get: function () {
                      return this.rootPointerEvent;
                    }
                  },
                  {
                    key: "onPointerDown",
                    value: function (e) {
                      if (
                        this.features.click &&
                        ((this.rootBoundary.rootTarget = this.renderer.lastObjectRendered),
                        !this.supportsTouchEvents || "touch" !== e.pointerType)
                      ) {
                        var t = this.normalizeToPointerData(e);
                        if (this.autoPreventDefault && t[0].isNormalized)
                          (e.cancelable || !("cancelable" in e)) &&
                            e.preventDefault();
                        for (var r = 0, n = t.length; r < n; r++) {
                          var i = t[r],
                            a = this.bootstrapEvent(this.rootPointerEvent, i);
                          this.rootBoundary.mapEvent(a);
                        }
                        this.setCursor(this.rootBoundary.cursor);
                      }
                    }
                  },
                  {
                    key: "onPointerMove",
                    value: function (e) {
                      if (
                        this.features.move &&
                        ((this.rootBoundary.rootTarget = this.renderer.lastObjectRendered),
                        !this.supportsTouchEvents || "touch" !== e.pointerType)
                      ) {
                        EventsTicker.pointerMoved();
                        for (
                          var t = this.normalizeToPointerData(e),
                            r = 0,
                            n = t.length;
                          r < n;
                          r++
                        ) {
                          var i = this.bootstrapEvent(
                            this.rootPointerEvent,
                            t[r]
                          );
                          this.rootBoundary.mapEvent(i);
                        }
                        this.setCursor(this.rootBoundary.cursor);
                      }
                    }
                  },
                  {
                    key: "onPointerUp",
                    value: function (e) {
                      if (
                        this.features.click &&
                        ((this.rootBoundary.rootTarget = this.renderer.lastObjectRendered),
                        !this.supportsTouchEvents || "touch" !== e.pointerType)
                      ) {
                        var t = e.target;
                        e.composedPath &&
                          e.composedPath().length > 0 &&
                          (t = e.composedPath()[0]);
                        for (
                          var r = t !== this.domElement ? "outside" : "",
                            n = this.normalizeToPointerData(e),
                            i = 0,
                            a = n.length;
                          i < a;
                          i++
                        ) {
                          var s = this.bootstrapEvent(
                            this.rootPointerEvent,
                            n[i]
                          );
                          (s.type += r), this.rootBoundary.mapEvent(s);
                        }
                        this.setCursor(this.rootBoundary.cursor);
                      }
                    }
                  },
                  {
                    key: "onPointerOverOut",
                    value: function (e) {
                      if (
                        this.features.click &&
                        ((this.rootBoundary.rootTarget = this.renderer.lastObjectRendered),
                        !this.supportsTouchEvents || "touch" !== e.pointerType)
                      ) {
                        for (
                          var t = this.normalizeToPointerData(e),
                            r = 0,
                            n = t.length;
                          r < n;
                          r++
                        ) {
                          var i = this.bootstrapEvent(
                            this.rootPointerEvent,
                            t[r]
                          );
                          this.rootBoundary.mapEvent(i);
                        }
                        this.setCursor(this.rootBoundary.cursor);
                      }
                    }
                  },
                  {
                    key: "onWheel",
                    value: function (e) {
                      if (this.features.wheel) {
                        var t = this.normalizeWheelEvent(e);
                        (this.rootBoundary.rootTarget = this.renderer.lastObjectRendered),
                          this.rootBoundary.mapEvent(t);
                      }
                    }
                  },
                  {
                    key: "setTargetElement",
                    value: function (e) {
                      this.removeEvents(),
                        (this.domElement = e),
                        (EventsTicker.domElement = e),
                        this.addEvents();
                    }
                  },
                  {
                    key: "addEvents",
                    value: function () {
                      if (!this.eventsAdded && this.domElement) {
                        EventsTicker.addTickerListener();
                        var e = this.domElement.style;
                        e &&
                          (globalThis.navigator.msPointerEnabled
                            ? ((e.msContentZooming = "none"),
                              (e.msTouchAction = "none"))
                            : this.supportsPointerEvents &&
                              (e.touchAction = "none")),
                          this.supportsPointerEvents
                            ? (globalThis.document.addEventListener(
                                "pointermove",
                                this.onPointerMove,
                                !0
                              ),
                              this.domElement.addEventListener(
                                "pointerdown",
                                this.onPointerDown,
                                !0
                              ),
                              this.domElement.addEventListener(
                                "pointerleave",
                                this.onPointerOverOut,
                                !0
                              ),
                              this.domElement.addEventListener(
                                "pointerover",
                                this.onPointerOverOut,
                                !0
                              ),
                              globalThis.addEventListener(
                                "pointerup",
                                this.onPointerUp,
                                !0
                              ))
                            : (globalThis.document.addEventListener(
                                "mousemove",
                                this.onPointerMove,
                                !0
                              ),
                              this.domElement.addEventListener(
                                "mousedown",
                                this.onPointerDown,
                                !0
                              ),
                              this.domElement.addEventListener(
                                "mouseout",
                                this.onPointerOverOut,
                                !0
                              ),
                              this.domElement.addEventListener(
                                "mouseover",
                                this.onPointerOverOut,
                                !0
                              ),
                              globalThis.addEventListener(
                                "mouseup",
                                this.onPointerUp,
                                !0
                              )),
                          this.supportsTouchEvents &&
                            (this.domElement.addEventListener(
                              "touchstart",
                              this.onPointerDown,
                              !0
                            ),
                            this.domElement.addEventListener(
                              "touchend",
                              this.onPointerUp,
                              !0
                            ),
                            this.domElement.addEventListener(
                              "touchmove",
                              this.onPointerMove,
                              !0
                            )),
                          this.domElement.addEventListener(
                            "wheel",
                            this.onWheel,
                            { passive: !0, capture: !0 }
                          ),
                          (this.eventsAdded = !0);
                      }
                    }
                  },
                  {
                    key: "removeEvents",
                    value: function () {
                      if (this.eventsAdded && this.domElement) {
                        EventsTicker.removeTickerListener();
                        var e = this.domElement.style;
                        globalThis.navigator.msPointerEnabled
                          ? ((e.msContentZooming = ""), (e.msTouchAction = ""))
                          : this.supportsPointerEvents && (e.touchAction = ""),
                          this.supportsPointerEvents
                            ? (globalThis.document.removeEventListener(
                                "pointermove",
                                this.onPointerMove,
                                !0
                              ),
                              this.domElement.removeEventListener(
                                "pointerdown",
                                this.onPointerDown,
                                !0
                              ),
                              this.domElement.removeEventListener(
                                "pointerleave",
                                this.onPointerOverOut,
                                !0
                              ),
                              this.domElement.removeEventListener(
                                "pointerover",
                                this.onPointerOverOut,
                                !0
                              ),
                              globalThis.removeEventListener(
                                "pointerup",
                                this.onPointerUp,
                                !0
                              ))
                            : (globalThis.document.removeEventListener(
                                "mousemove",
                                this.onPointerMove,
                                !0
                              ),
                              this.domElement.removeEventListener(
                                "mousedown",
                                this.onPointerDown,
                                !0
                              ),
                              this.domElement.removeEventListener(
                                "mouseout",
                                this.onPointerOverOut,
                                !0
                              ),
                              this.domElement.removeEventListener(
                                "mouseover",
                                this.onPointerOverOut,
                                !0
                              ),
                              globalThis.removeEventListener(
                                "mouseup",
                                this.onPointerUp,
                                !0
                              )),
                          this.supportsTouchEvents &&
                            (this.domElement.removeEventListener(
                              "touchstart",
                              this.onPointerDown,
                              !0
                            ),
                            this.domElement.removeEventListener(
                              "touchend",
                              this.onPointerUp,
                              !0
                            ),
                            this.domElement.removeEventListener(
                              "touchmove",
                              this.onPointerMove,
                              !0
                            )),
                          this.domElement.removeEventListener(
                            "wheel",
                            this.onWheel,
                            !0
                          ),
                          (this.domElement = null),
                          (this.eventsAdded = !1);
                      }
                    }
                  },
                  {
                    key: "mapPositionToPoint",
                    value: function (e, t, r) {
                      var n;
                      n = this.domElement.parentElement
                        ? this.domElement.getBoundingClientRect()
                        : {
                            x: 0,
                            y: 0,
                            width: this.domElement.width,
                            height: this.domElement.height,
                            left: 0,
                            top: 0
                          };
                      var i = 1 / this.resolution;
                      (e.x =
                        (t - n.left) * (this.domElement.width / n.width) * i),
                        (e.y =
                          (r - n.top) *
                          (this.domElement.height / n.height) *
                          i);
                    }
                  },
                  {
                    key: "normalizeToPointerData",
                    value: function (e) {
                      var t = [];
                      if (this.supportsTouchEvents && e instanceof TouchEvent)
                        for (
                          var r = 0, n = e.changedTouches.length;
                          r < n;
                          r++
                        ) {
                          var i = e.changedTouches[r];
                          void 0 === i.button && (i.button = 0),
                            void 0 === i.buttons && (i.buttons = 1),
                            void 0 === i.isPrimary &&
                              (i.isPrimary =
                                1 === e.touches.length &&
                                "touchstart" === e.type),
                            void 0 === i.width && (i.width = i.radiusX || 1),
                            void 0 === i.height && (i.height = i.radiusY || 1),
                            void 0 === i.tiltX && (i.tiltX = 0),
                            void 0 === i.tiltY && (i.tiltY = 0),
                            void 0 === i.pointerType &&
                              (i.pointerType = "touch"),
                            void 0 === i.pointerId &&
                              (i.pointerId = i.identifier || 0),
                            void 0 === i.pressure &&
                              (i.pressure = i.force || 0.5),
                            void 0 === i.twist && (i.twist = 0),
                            void 0 === i.tangentialPressure &&
                              (i.tangentialPressure = 0),
                            void 0 === i.layerX &&
                              (i.layerX = i.offsetX = i.clientX),
                            void 0 === i.layerY &&
                              (i.layerY = i.offsetY = i.clientY),
                            (i.isNormalized = !0),
                            (i.type = e.type),
                            t.push(i);
                        }
                      else if (
                        globalThis.MouseEvent &&
                        (!(e instanceof MouseEvent) ||
                          (this.supportsPointerEvents &&
                            e instanceof globalThis.PointerEvent))
                      )
                        t.push(e);
                      else {
                        var a = e;
                        void 0 === a.isPrimary && (a.isPrimary = !0),
                          void 0 === a.width && (a.width = 1),
                          void 0 === a.height && (a.height = 1),
                          void 0 === a.tiltX && (a.tiltX = 0),
                          void 0 === a.tiltY && (a.tiltY = 0),
                          void 0 === a.pointerType && (a.pointerType = "mouse"),
                          void 0 === a.pointerId &&
                            (a.pointerId = MOUSE_POINTER_ID),
                          void 0 === a.pressure && (a.pressure = 0.5),
                          void 0 === a.twist && (a.twist = 0),
                          void 0 === a.tangentialPressure &&
                            (a.tangentialPressure = 0),
                          (a.isNormalized = !0),
                          t.push(a);
                      }
                      return t;
                    }
                  },
                  {
                    key: "normalizeWheelEvent",
                    value: function (e) {
                      var t = this.rootWheelEvent;
                      return (
                        this.transferMouseData(t, e),
                        (t.deltaX = e.deltaX),
                        (t.deltaY = e.deltaY),
                        (t.deltaZ = e.deltaZ),
                        (t.deltaMode = e.deltaMode),
                        this.mapPositionToPoint(t.screen, e.clientX, e.clientY),
                        t.global.copyFrom(t.screen),
                        t.offset.copyFrom(t.screen),
                        (t.nativeEvent = e),
                        (t.type = e.type),
                        t
                      );
                    }
                  },
                  {
                    key: "bootstrapEvent",
                    value: function (e, t) {
                      return (
                        (e.originalEvent = null),
                        (e.nativeEvent = t),
                        (e.pointerId = t.pointerId),
                        (e.width = t.width),
                        (e.height = t.height),
                        (e.isPrimary = t.isPrimary),
                        (e.pointerType = t.pointerType),
                        (e.pressure = t.pressure),
                        (e.tangentialPressure = t.tangentialPressure),
                        (e.tiltX = t.tiltX),
                        (e.tiltY = t.tiltY),
                        (e.twist = t.twist),
                        this.transferMouseData(e, t),
                        this.mapPositionToPoint(e.screen, t.clientX, t.clientY),
                        e.global.copyFrom(e.screen),
                        e.offset.copyFrom(e.screen),
                        (e.isTrusted = t.isTrusted),
                        "pointerleave" === e.type && (e.type = "pointerout"),
                        e.type.startsWith("mouse") &&
                          (e.type = e.type.replace("mouse", "pointer")),
                        e.type.startsWith("touch") &&
                          (e.type = TOUCH_TO_POINTER[e.type] || e.type),
                        e
                      );
                    }
                  },
                  {
                    key: "transferMouseData",
                    value: function (e, t) {
                      (e.isTrusted = t.isTrusted),
                        (e.srcElement = t.srcElement),
                        (e.timeStamp = performance.now()),
                        (e.type = t.type),
                        (e.altKey = t.altKey),
                        (e.button = t.button),
                        (e.buttons = t.buttons),
                        (e.client.x = t.clientX),
                        (e.client.y = t.clientY),
                        (e.ctrlKey = t.ctrlKey),
                        (e.metaKey = t.metaKey),
                        (e.movement.x = t.movementX),
                        (e.movement.y = t.movementY),
                        (e.page.x = t.pageX),
                        (e.page.y = t.pageY),
                        (e.relatedTarget = null),
                        (e.shiftKey = t.shiftKey);
                    }
                  }
                ],
                [
                  {
                    key: "defaultEventMode",
                    get: function () {
                      return this._defaultEventMode;
                    }
                  }
                ]
              ),
              e
            );
          })(),
          EventSystem = _EventSystem;
        function convertEventModeToInteractiveMode(e) {
          return "dynamic" === e || "static" === e;
        }
        (EventSystem.extension = {
          name: "events",
          type: [
            ExtensionType.RendererSystem,
            ExtensionType.CanvasRendererSystem
          ]
        }),
          (EventSystem.defaultEventFeatures = {
            move: !0,
            globalMove: !0,
            click: !0,
            wheel: !0
          }),
          extensions$1.add(EventSystem);
        var FederatedDisplayObject = {
          onclick: null,
          onmousedown: null,
          onmouseenter: null,
          onmouseleave: null,
          onmousemove: null,
          onglobalmousemove: null,
          onmouseout: null,
          onmouseover: null,
          onmouseup: null,
          onmouseupoutside: null,
          onpointercancel: null,
          onpointerdown: null,
          onpointerenter: null,
          onpointerleave: null,
          onpointermove: null,
          onglobalpointermove: null,
          onpointerout: null,
          onpointerover: null,
          onpointertap: null,
          onpointerup: null,
          onpointerupoutside: null,
          onrightclick: null,
          onrightdown: null,
          onrightup: null,
          onrightupoutside: null,
          ontap: null,
          ontouchcancel: null,
          ontouchend: null,
          ontouchendoutside: null,
          ontouchmove: null,
          onglobaltouchmove: null,
          ontouchstart: null,
          onwheel: null,
          _internalInteractive: void 0,
          get interactive() {
            var e;
            return null !== (e = this._internalInteractive) && void 0 !== e
              ? e
              : convertEventModeToInteractiveMode(EventSystem.defaultEventMode);
          },
          set interactive(e) {
            deprecation(
              "7.2.0",
              "Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."
            ),
              (this._internalInteractive = e),
              (this.eventMode = e ? "static" : "auto");
          },
          _internalEventMode: void 0,
          get eventMode() {
            var e;
            return null !== (e = this._internalEventMode) && void 0 !== e
              ? e
              : EventSystem.defaultEventMode;
          },
          set eventMode(e) {
            (this._internalInteractive = convertEventModeToInteractiveMode(e)),
              (this._internalEventMode = e);
          },
          isInteractive: function () {
            return "static" === this.eventMode || "dynamic" === this.eventMode;
          },
          interactiveChildren: !0,
          hitArea: null,
          addEventListener: function (e, t, r) {
            var n = "function" == typeof t ? void 0 : t;
            (e =
              ("boolean" == typeof r && r) ||
              ("object" === _typeof(r) && r.capture)
                ? "".concat(e, "capture")
                : e),
              (t = "function" == typeof t ? t : t.handleEvent),
              this.on(e, t, n);
          },
          removeEventListener: function (e, t, r) {
            var n = "function" == typeof t ? void 0 : t;
            (e =
              ("boolean" == typeof r && r) ||
              ("object" === _typeof(r) && r.capture)
                ? "".concat(e, "capture")
                : e),
              (t = "function" == typeof t ? t : t.handleEvent),
              this.off(e, t, n);
          },
          dispatchEvent: function (e) {
            if (!(e instanceof FederatedEvent))
              throw new Error(
                "DisplayObject cannot propagate events outside of the Federated Events API"
              );
            return (
              (e.defaultPrevented = !1),
              (e.path = null),
              (e.target = this),
              e.manager.dispatchEvent(e),
              !e.defaultPrevented
            );
          }
        };
        DisplayObject.mixin(FederatedDisplayObject);
        var accessibleTarget = {
          accessible: !1,
          accessibleTitle: null,
          accessibleHint: null,
          tabIndex: 0,
          _accessibleActive: !1,
          _accessibleDiv: null,
          accessibleType: "button",
          accessiblePointerEvents: "auto",
          accessibleChildren: !0,
          renderId: -1
        };
        DisplayObject.mixin(accessibleTarget);
        var KEY_CODE_TAB = 9,
          DIV_TOUCH_SIZE = 100,
          DIV_TOUCH_POS_X = 0,
          DIV_TOUCH_POS_Y = 0,
          DIV_TOUCH_ZINDEX = 2,
          DIV_HOOK_SIZE = 1,
          DIV_HOOK_POS_X = -1e3,
          DIV_HOOK_POS_Y = -1e3,
          DIV_HOOK_ZINDEX = 2,
          AccessibilityManager = (function () {
            function e(t) {
              _classCallCheck(this, e),
                (this.debug = !1),
                (this._isActive = !1),
                (this._isMobileAccessibility = !1),
                (this.pool = []),
                (this.renderId = 0),
                (this.children = []),
                (this.androidUpdateCount = 0),
                (this.androidUpdateFrequency = 500),
                (this._hookDiv = null),
                (isMobile.tablet || isMobile.phone) && this.createTouchHook();
              var r = document.createElement("div");
              (r.style.width = "".concat(DIV_TOUCH_SIZE, "px")),
                (r.style.height = "".concat(DIV_TOUCH_SIZE, "px")),
                (r.style.position = "absolute"),
                (r.style.top = "".concat(DIV_TOUCH_POS_X, "px")),
                (r.style.left = "".concat(DIV_TOUCH_POS_Y, "px")),
                (r.style.zIndex = DIV_TOUCH_ZINDEX.toString()),
                (this.div = r),
                (this.renderer = t),
                (this._onKeyDown = this._onKeyDown.bind(this)),
                (this._onMouseMove = this._onMouseMove.bind(this)),
                globalThis.addEventListener("keydown", this._onKeyDown, !1);
            }
            return (
              _createClass(e, [
                {
                  key: "isActive",
                  get: function () {
                    return this._isActive;
                  }
                },
                {
                  key: "isMobileAccessibility",
                  get: function () {
                    return this._isMobileAccessibility;
                  }
                },
                {
                  key: "createTouchHook",
                  value: function () {
                    var e = this,
                      t = document.createElement("button");
                    (t.style.width = "".concat(DIV_HOOK_SIZE, "px")),
                      (t.style.height = "".concat(DIV_HOOK_SIZE, "px")),
                      (t.style.position = "absolute"),
                      (t.style.top = "".concat(DIV_HOOK_POS_X, "px")),
                      (t.style.left = "".concat(DIV_HOOK_POS_Y, "px")),
                      (t.style.zIndex = DIV_HOOK_ZINDEX.toString()),
                      (t.style.backgroundColor = "#FF0000"),
                      (t.title =
                        "select to enable accessibility for this content"),
                      t.addEventListener("focus", function () {
                        (e._isMobileAccessibility = !0),
                          e.activate(),
                          e.destroyTouchHook();
                      }),
                      document.body.appendChild(t),
                      (this._hookDiv = t);
                  }
                },
                {
                  key: "destroyTouchHook",
                  value: function () {
                    this._hookDiv &&
                      (document.body.removeChild(this._hookDiv),
                      (this._hookDiv = null));
                  }
                },
                {
                  key: "activate",
                  value: function () {
                    var e;
                    this._isActive ||
                      ((this._isActive = !0),
                      globalThis.document.addEventListener(
                        "mousemove",
                        this._onMouseMove,
                        !0
                      ),
                      globalThis.removeEventListener(
                        "keydown",
                        this._onKeyDown,
                        !1
                      ),
                      this.renderer.on("postrender", this.update, this),
                      null === (e = this.renderer.view.parentNode) ||
                        void 0 === e ||
                        e.appendChild(this.div));
                  }
                },
                {
                  key: "deactivate",
                  value: function () {
                    var e;
                    this._isActive &&
                      !this._isMobileAccessibility &&
                      ((this._isActive = !1),
                      globalThis.document.removeEventListener(
                        "mousemove",
                        this._onMouseMove,
                        !0
                      ),
                      globalThis.addEventListener(
                        "keydown",
                        this._onKeyDown,
                        !1
                      ),
                      this.renderer.off("postrender", this.update),
                      null === (e = this.div.parentNode) ||
                        void 0 === e ||
                        e.removeChild(this.div));
                  }
                },
                {
                  key: "updateAccessibleObjects",
                  value: function (e) {
                    if (e.visible && e.accessibleChildren) {
                      e.accessible &&
                        e.isInteractive() &&
                        (e._accessibleActive || this.addChild(e),
                        (e.renderId = this.renderId));
                      var t = e.children;
                      if (t)
                        for (var r = 0; r < t.length; r++)
                          this.updateAccessibleObjects(t[r]);
                    }
                  }
                },
                {
                  key: "update",
                  value: function () {
                    var e = performance.now();
                    if (
                      !(
                        isMobile.android.device && e < this.androidUpdateCount
                      ) &&
                      ((this.androidUpdateCount =
                        e + this.androidUpdateFrequency),
                      this.renderer.renderingToScreen)
                    ) {
                      this.renderer.lastObjectRendered &&
                        this.updateAccessibleObjects(
                          this.renderer.lastObjectRendered
                        );
                      var t = this.renderer.view.getBoundingClientRect(),
                        r = t.x,
                        n = t.y,
                        i = t.width,
                        a = t.height,
                        s = this.renderer,
                        o = s.width,
                        u = s.height,
                        l = s.resolution,
                        c = (i / o) * l,
                        h = (a / u) * l,
                        f = this.div;
                      (f.style.left = "".concat(r, "px")),
                        (f.style.top = "".concat(n, "px")),
                        (f.style.width = "".concat(o, "px")),
                        (f.style.height = "".concat(u, "px"));
                      for (var d = 0; d < this.children.length; d++) {
                        var p = this.children[d];
                        if (p.renderId !== this.renderId)
                          (p._accessibleActive = !1),
                            removeItems(this.children, d, 1),
                            this.div.removeChild(p._accessibleDiv),
                            this.pool.push(p._accessibleDiv),
                            (p._accessibleDiv = null),
                            d--;
                        else {
                          f = p._accessibleDiv;
                          var _ = p.hitArea,
                            v = p.worldTransform;
                          p.hitArea
                            ? ((f.style.left = "".concat(
                                (v.tx + _.x * v.a) * c,
                                "px"
                              )),
                              (f.style.top = "".concat(
                                (v.ty + _.y * v.d) * h,
                                "px"
                              )),
                              (f.style.width = "".concat(
                                _.width * v.a * c,
                                "px"
                              )),
                              (f.style.height = "".concat(
                                _.height * v.d * h,
                                "px"
                              )))
                            : ((_ = p.getBounds()),
                              this.capHitArea(_),
                              (f.style.left = "".concat(_.x * c, "px")),
                              (f.style.top = "".concat(_.y * h, "px")),
                              (f.style.width = "".concat(_.width * c, "px")),
                              (f.style.height = "".concat(_.height * h, "px")),
                              f.title !== p.accessibleTitle &&
                                null !== p.accessibleTitle &&
                                (f.title = p.accessibleTitle),
                              f.getAttribute("aria-label") !==
                                p.accessibleHint &&
                                null !== p.accessibleHint &&
                                f.setAttribute("aria-label", p.accessibleHint)),
                            (p.accessibleTitle === f.title &&
                              p.tabIndex === f.tabIndex) ||
                              ((f.title = p.accessibleTitle),
                              (f.tabIndex = p.tabIndex),
                              this.debug && this.updateDebugHTML(f));
                        }
                      }
                      this.renderId++;
                    }
                  }
                },
                {
                  key: "updateDebugHTML",
                  value: function (e) {
                    e.innerHTML = "type: "
                      .concat(e.type, "</br> title : ")
                      .concat(e.title, "</br> tabIndex: ")
                      .concat(e.tabIndex);
                  }
                },
                {
                  key: "capHitArea",
                  value: function (e) {
                    e.x < 0 && ((e.width += e.x), (e.x = 0)),
                      e.y < 0 && ((e.height += e.y), (e.y = 0));
                    var t = this.renderer,
                      r = t.width,
                      n = t.height;
                    e.x + e.width > r && (e.width = r - e.x),
                      e.y + e.height > n && (e.height = n - e.y);
                  }
                },
                {
                  key: "addChild",
                  value: function (e) {
                    var t = this.pool.pop();
                    t ||
                      (((t = document.createElement(
                        "button"
                      )).style.width = "".concat(DIV_TOUCH_SIZE, "px")),
                      (t.style.height = "".concat(DIV_TOUCH_SIZE, "px")),
                      (t.style.backgroundColor = this.debug
                        ? "rgba(255,255,255,0.5)"
                        : "transparent"),
                      (t.style.position = "absolute"),
                      (t.style.zIndex = DIV_TOUCH_ZINDEX.toString()),
                      (t.style.borderStyle = "none"),
                      navigator.userAgent.toLowerCase().includes("chrome")
                        ? t.setAttribute("aria-live", "off")
                        : t.setAttribute("aria-live", "polite"),
                      navigator.userAgent.match(/rv:.*Gecko\//)
                        ? t.setAttribute("aria-relevant", "additions")
                        : t.setAttribute("aria-relevant", "text"),
                      t.addEventListener("click", this._onClick.bind(this)),
                      t.addEventListener("focus", this._onFocus.bind(this)),
                      t.addEventListener(
                        "focusout",
                        this._onFocusOut.bind(this)
                      )),
                      (t.style.pointerEvents = e.accessiblePointerEvents),
                      (t.type = e.accessibleType),
                      e.accessibleTitle && null !== e.accessibleTitle
                        ? (t.title = e.accessibleTitle)
                        : (e.accessibleHint && null !== e.accessibleHint) ||
                          (t.title = "displayObject ".concat(e.tabIndex)),
                      e.accessibleHint &&
                        null !== e.accessibleHint &&
                        t.setAttribute("aria-label", e.accessibleHint),
                      this.debug && this.updateDebugHTML(t),
                      (e._accessibleActive = !0),
                      (e._accessibleDiv = t),
                      (t.displayObject = e),
                      this.children.push(e),
                      this.div.appendChild(e._accessibleDiv),
                      (e._accessibleDiv.tabIndex = e.tabIndex);
                  }
                },
                {
                  key: "_dispatchEvent",
                  value: function (e, t) {
                    var r = e.target.displayObject,
                      n = this.renderer.events.rootBoundary,
                      i = Object.assign(new FederatedEvent(n), { target: r });
                    (n.rootTarget = this.renderer.lastObjectRendered),
                      t.forEach(function (e) {
                        return n.dispatchEvent(i, e);
                      });
                  }
                },
                {
                  key: "_onClick",
                  value: function (e) {
                    this._dispatchEvent(e, ["click", "pointertap", "tap"]);
                  }
                },
                {
                  key: "_onFocus",
                  value: function (e) {
                    e.target.getAttribute("aria-live") ||
                      e.target.setAttribute("aria-live", "assertive"),
                      this._dispatchEvent(e, ["mouseover"]);
                  }
                },
                {
                  key: "_onFocusOut",
                  value: function (e) {
                    e.target.getAttribute("aria-live") ||
                      e.target.setAttribute("aria-live", "polite"),
                      this._dispatchEvent(e, ["mouseout"]);
                  }
                },
                {
                  key: "_onKeyDown",
                  value: function (e) {
                    e.keyCode === KEY_CODE_TAB && this.activate();
                  }
                },
                {
                  key: "_onMouseMove",
                  value: function (e) {
                    (0 === e.movementX && 0 === e.movementY) ||
                      this.deactivate();
                  }
                },
                {
                  key: "destroy",
                  value: function () {
                    this.destroyTouchHook(),
                      (this.div = null),
                      globalThis.document.removeEventListener(
                        "mousemove",
                        this._onMouseMove,
                        !0
                      ),
                      globalThis.removeEventListener(
                        "keydown",
                        this._onKeyDown
                      ),
                      (this.pool = null),
                      (this.children = null),
                      (this.renderer = null);
                  }
                }
              ]),
              e
            );
          })();
        (AccessibilityManager.extension = {
          name: "accessibility",
          type: [
            ExtensionType.RendererPlugin,
            ExtensionType.CanvasRendererPlugin
          ]
        }),
          extensions$1.add(AccessibilityManager);
        var _Application = (function () {
            function e(t) {
              var r = this;
              _classCallCheck(this, e),
                (this.stage = new Container()),
                (t = Object.assign({ forceCanvas: !1 }, t)),
                (this.renderer = autoDetectRenderer(t)),
                e._plugins.forEach(function (e) {
                  e.init.call(r, t);
                });
            }
            return (
              _createClass(e, [
                {
                  key: "render",
                  value: function () {
                    this.renderer.render(this.stage);
                  }
                },
                {
                  key: "view",
                  get: function () {
                    return this.renderer.view;
                  }
                },
                {
                  key: "screen",
                  get: function () {
                    return this.renderer.screen;
                  }
                },
                {
                  key: "destroy",
                  value: function (t, r) {
                    var n = this,
                      i = e._plugins.slice(0);
                    i.reverse(),
                      i.forEach(function (e) {
                        e.destroy.call(n);
                      }),
                      this.stage.destroy(r),
                      (this.stage = null),
                      this.renderer.destroy(t),
                      (this.renderer = null);
                  }
                }
              ]),
              e
            );
          })(),
          Application = exports("A", _Application);
        (Application._plugins = []),
          extensions$1.handleByList(
            ExtensionType.Application,
            Application._plugins
          );
        var ResizePlugin = (function () {
          function e() {
            _classCallCheck(this, e);
          }
          return (
            _createClass(e, null, [
              {
                key: "init",
                value: function (e) {
                  var t = this;
                  Object.defineProperty(this, "resizeTo", {
                    set: function (e) {
                      globalThis.removeEventListener(
                        "resize",
                        this.queueResize
                      ),
                        (this._resizeTo = e),
                        e &&
                          (globalThis.addEventListener(
                            "resize",
                            this.queueResize
                          ),
                          this.resize());
                    },
                    get: function () {
                      return this._resizeTo;
                    }
                  }),
                    (this.queueResize = function () {
                      t._resizeTo &&
                        (t.cancelResize(),
                        (t._resizeId = requestAnimationFrame(function () {
                          return t.resize();
                        })));
                    }),
                    (this.cancelResize = function () {
                      t._resizeId &&
                        (cancelAnimationFrame(t._resizeId),
                        (t._resizeId = null));
                    }),
                    (this.resize = function () {
                      if (t._resizeTo) {
                        var e, r;
                        if (
                          (t.cancelResize(), t._resizeTo === globalThis.window)
                        )
                          (e = globalThis.innerWidth),
                            (r = globalThis.innerHeight);
                        else {
                          var n = t._resizeTo;
                          (e = n.clientWidth), (r = n.clientHeight);
                        }
                        t.renderer.resize(e, r), t.render();
                      }
                    }),
                    (this._resizeId = null),
                    (this._resizeTo = null),
                    (this.resizeTo = e.resizeTo || null);
                }
              },
              {
                key: "destroy",
                value: function () {
                  globalThis.removeEventListener("resize", this.queueResize),
                    this.cancelResize(),
                    (this.cancelResize = null),
                    (this.queueResize = null),
                    (this.resizeTo = null),
                    (this.resize = null);
                }
              }
            ]),
            e
          );
        })();
        (ResizePlugin.extension = ExtensionType.Application),
          extensions$1.add(ResizePlugin);
        var assetKeyMap = {
          loader: ExtensionType.LoadParser,
          resolver: ExtensionType.ResolveParser,
          cache: ExtensionType.CacheParser,
          detection: ExtensionType.DetectionParser
        };
        extensions$1.handle(
          ExtensionType.Asset,
          function (e) {
            var t = e.ref;
            Object.entries(assetKeyMap)
              .filter(function (e) {
                var r = _slicedToArray(e, 1)[0];
                return !!t[r];
              })
              .forEach(function (e) {
                var r,
                  n = _slicedToArray(e, 2),
                  i = n[0],
                  a = n[1];
                return extensions$1.add(
                  Object.assign(t[i], {
                    extension:
                      null !== (r = t[i].extension) && void 0 !== r ? r : a
                  })
                );
              });
          },
          function (e) {
            var t = e.ref;
            Object.keys(assetKeyMap)
              .filter(function (e) {
                return !!t[e];
              })
              .forEach(function (e) {
                return extensions$1.remove(t[e]);
              });
          }
        );
        var BackgroundLoader = (function () {
          function e(t) {
            var r =
              arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
            _classCallCheck(this, e),
              (this._loader = t),
              (this._assetList = []),
              (this._isLoading = !1),
              (this._maxConcurrent = 1),
              (this.verbose = r);
          }
          var t;
          return (
            _createClass(e, [
              {
                key: "add",
                value: function (e) {
                  var t = this;
                  e.forEach(function (e) {
                    t._assetList.push(e);
                  }),
                    this.verbose &&
                      console.log(
                        "[BackgroundLoader] assets: ",
                        this._assetList
                      ),
                    this._isActive && !this._isLoading && this._next();
                }
              },
              {
                key: "_next",
                value:
                  ((t = _asyncToGenerator(
                    _regeneratorRuntime().mark(function e() {
                      var t, r, n;
                      return _regeneratorRuntime().wrap(
                        function (e) {
                          for (;;)
                            switch ((e.prev = e.next)) {
                              case 0:
                                if (
                                  !this._assetList.length ||
                                  !this._isActive
                                ) {
                                  e.next = 9;
                                  break;
                                }
                                for (
                                  this._isLoading = !0,
                                    t = [],
                                    r = Math.min(
                                      this._assetList.length,
                                      this._maxConcurrent
                                    ),
                                    n = 0;
                                  n < r;
                                  n++
                                )
                                  t.push(this._assetList.pop());
                                return (e.next = 7), this._loader.load(t);
                              case 7:
                                (this._isLoading = !1), this._next();
                              case 9:
                              case "end":
                                return e.stop();
                            }
                        },
                        e,
                        this
                      );
                    })
                  )),
                  function () {
                    return t.apply(this, arguments);
                  })
              },
              {
                key: "active",
                get: function () {
                  return this._isActive;
                },
                set: function (e) {
                  this._isActive !== e &&
                    ((this._isActive = e),
                    e && !this._isLoading && this._next());
                }
              }
            ]),
            e
          );
        })();
        function checkDataUrl(e, t) {
          if (Array.isArray(t)) {
            var r,
              n = _createForOfIteratorHelper(t);
            try {
              for (n.s(); !(r = n.n()).done; ) {
                var i = r.value;
                if (e.startsWith("data:".concat(i))) return !0;
              }
            } catch (a) {
              n.e(a);
            } finally {
              n.f();
            }
            return !1;
          }
          return e.startsWith("data:".concat(t));
        }
        function checkExtension(e, t) {
          var r = e.split("?")[0],
            n = path.extname(r).toLowerCase();
          return Array.isArray(t) ? t.includes(n) : n === t;
        }
        var convertToList = function (e, t) {
            return (
              Array.isArray(e) || (e = [e]),
              t
                ? e.map(function (e) {
                    return "string" == typeof e ? t(e) : e;
                  })
                : e
            );
          },
          copySearchParams = function (e, t) {
            var r = t.split("?")[1];
            return r && (e += "?".concat(r)), e;
          };
        function processX(e, t, r, n, i) {
          for (var a = t[r], s = 0; s < a.length; s++) {
            var o = a[s];
            r < t.length - 1
              ? processX(e.replace(n[r], o), t, r + 1, n, i)
              : i.push(e.replace(n[r], o));
          }
        }
        function createStringVariations(e) {
          var t = e.match(/\{(.*?)\}/g),
            r = [];
          if (t) {
            var n = [];
            t.forEach(function (e) {
              var t = e.substring(1, e.length - 1).split(",");
              n.push(t);
            }),
              processX(e, n, 0, t, r);
          } else r.push(e);
          return r;
        }
        var isSingleItem = function (e) {
            return !Array.isArray(e);
          },
          CacheClass = (function () {
            function e() {
              _classCallCheck(this, e),
                (this._parsers = []),
                (this._cache = new Map()),
                (this._cacheMap = new Map());
            }
            return (
              _createClass(e, [
                {
                  key: "reset",
                  value: function () {
                    this._cacheMap.clear(), this._cache.clear();
                  }
                },
                {
                  key: "has",
                  value: function (e) {
                    return this._cache.has(e);
                  }
                },
                {
                  key: "get",
                  value: function (e) {
                    var t = this._cache.get(e);
                    return (
                      t ||
                        console.warn(
                          "[Assets] Asset id ".concat(
                            e,
                            " was not found in the Cache"
                          )
                        ),
                      t
                    );
                  }
                },
                {
                  key: "set",
                  value: function (e, t) {
                    for (
                      var r, n = this, i = convertToList(e), a = 0;
                      a < this.parsers.length;
                      a++
                    ) {
                      var s = this.parsers[a];
                      if (s.test(t)) {
                        r = s.getCacheableAssets(i, t);
                        break;
                      }
                    }
                    r ||
                      ((r = {}),
                      i.forEach(function (e) {
                        r[e] = t;
                      }));
                    var o = Object.keys(r),
                      u = { cacheKeys: o, keys: i };
                    if (
                      (i.forEach(function (e) {
                        n._cacheMap.set(e, u);
                      }),
                      o.forEach(function (e) {
                        n._cache.has(e) &&
                          n._cache.get(e) !== t &&
                          console.warn("[Cache] already has key:", e),
                          n._cache.set(e, r[e]);
                      }),
                      t instanceof Texture)
                    ) {
                      var l = t;
                      i.forEach(function (e) {
                        l.baseTexture !== Texture.EMPTY.baseTexture &&
                          BaseTexture.addToCache(l.baseTexture, e),
                          Texture.addToCache(l, e);
                      });
                    }
                  }
                },
                {
                  key: "remove",
                  value: function (e) {
                    var t = this;
                    if ((this._cacheMap.get(e), this._cacheMap.has(e))) {
                      var r = this._cacheMap.get(e);
                      r.cacheKeys.forEach(function (e) {
                        t._cache.delete(e);
                      }),
                        r.keys.forEach(function (e) {
                          t._cacheMap.delete(e);
                        });
                    } else
                      console.warn(
                        "[Assets] Asset id ".concat(
                          e,
                          " was not found in the Cache"
                        )
                      );
                  }
                },
                {
                  key: "parsers",
                  get: function () {
                    return this._parsers;
                  }
                }
              ]),
              e
            );
          })(),
          Cache = new CacheClass(),
          Loader = (function () {
            function e() {
              var t = this;
              _classCallCheck(this, e),
                (this._parsers = []),
                (this._parsersValidated = !1),
                (this.parsers = new Proxy(this._parsers, {
                  set: function (e, r, n) {
                    return (t._parsersValidated = !1), (e[r] = n), !0;
                  }
                })),
                (this.promiseCache = {});
            }
            var t, r;
            return (
              _createClass(e, [
                {
                  key: "reset",
                  value: function () {
                    (this._parsersValidated = !1), (this.promiseCache = {});
                  }
                },
                {
                  key: "_getLoadPromiseAndParser",
                  value: function (e, t) {
                    var r = this,
                      n = { promise: null, parser: null };
                    return (
                      (n.promise = _asyncToGenerator(
                        _regeneratorRuntime().mark(function i() {
                          var a, s, o, u, l, c, h, f;
                          return _regeneratorRuntime().wrap(function (i) {
                            for (;;)
                              switch ((i.prev = i.next)) {
                                case 0:
                                  if (
                                    ((a = null),
                                    (s = null),
                                    t.loadParser &&
                                      ((s = r._parserHash[t.loadParser]) ||
                                        console.warn(
                                          '[Assets] specified load parser "'
                                            .concat(
                                              t.loadParser,
                                              '" not found while loading '
                                            )
                                            .concat(e)
                                        )),
                                    s)
                                  ) {
                                    i.next = 16;
                                    break;
                                  }
                                  o = 0;
                                case 5:
                                  if (!(o < r.parsers.length)) {
                                    i.next = 13;
                                    break;
                                  }
                                  if (
                                    !(l = r.parsers[o]).load ||
                                    null === (u = l.test) ||
                                    void 0 === u ||
                                    !u.call(l, e, t, r)
                                  ) {
                                    i.next = 10;
                                    break;
                                  }
                                  return (s = l), i.abrupt("break", 13);
                                case 10:
                                  o++, (i.next = 5);
                                  break;
                                case 13:
                                  if (s) {
                                    i.next = 16;
                                    break;
                                  }
                                  return (
                                    console.warn(
                                      "[Assets] ".concat(
                                        e,
                                        " could not be loaded as we don't know how to parse it, ensure the correct parser has been added"
                                      )
                                    ),
                                    i.abrupt("return", null)
                                  );
                                case 16:
                                  return (i.next = 18), s.load(e, t, r);
                                case 18:
                                  (a = i.sent), (n.parser = s), (c = 0);
                                case 21:
                                  if (!(c < r.parsers.length)) {
                                    i.next = 40;
                                    break;
                                  }
                                  if (!(h = r.parsers[c]).parse) {
                                    i.next = 37;
                                    break;
                                  }
                                  if (((i.t0 = h.parse), !i.t0)) {
                                    i.next = 29;
                                    break;
                                  }
                                  return (
                                    (i.next = 28),
                                    null === (f = h.testParse) || void 0 === f
                                      ? void 0
                                      : f.call(h, a, t, r)
                                  );
                                case 28:
                                  i.t0 = i.sent;
                                case 29:
                                  if (!i.t0) {
                                    i.next = 37;
                                    break;
                                  }
                                  return (i.next = 32), h.parse(a, t, r);
                                case 32:
                                  if (((i.t1 = i.sent), i.t1)) {
                                    i.next = 35;
                                    break;
                                  }
                                  i.t1 = a;
                                case 35:
                                  (a = i.t1), (n.parser = h);
                                case 37:
                                  c++, (i.next = 21);
                                  break;
                                case 40:
                                  return i.abrupt("return", a);
                                case 41:
                                case "end":
                                  return i.stop();
                              }
                          }, i);
                        })
                      )()),
                      n
                    );
                  }
                },
                {
                  key: "load",
                  value:
                    ((r = _asyncToGenerator(
                      _regeneratorRuntime().mark(function e(t, r) {
                        var n,
                          i,
                          a,
                          s,
                          o,
                          u,
                          l = this;
                        return _regeneratorRuntime().wrap(
                          function (e) {
                            for (;;)
                              switch ((e.prev = e.next)) {
                                case 0:
                                  return (
                                    this._parsersValidated ||
                                      this._validateParsers(),
                                    (n = 0),
                                    (i = {}),
                                    (a = isSingleItem(t)),
                                    (s = convertToList(t, function (e) {
                                      return { src: e };
                                    })),
                                    (o = s.length),
                                    (u = s.map(
                                      (function () {
                                        var e = _asyncToGenerator(
                                          _regeneratorRuntime().mark(function e(
                                            t
                                          ) {
                                            var a;
                                            return _regeneratorRuntime().wrap(
                                              function (e) {
                                                for (;;)
                                                  switch ((e.prev = e.next)) {
                                                    case 0:
                                                      if (
                                                        ((a = path.toAbsolute(
                                                          t.src
                                                        )),
                                                        i[t.src])
                                                      ) {
                                                        e.next = 15;
                                                        break;
                                                      }
                                                      return (
                                                        (e.prev = 2),
                                                        l.promiseCache[a] ||
                                                          (l.promiseCache[
                                                            a
                                                          ] = l._getLoadPromiseAndParser(
                                                            a,
                                                            t
                                                          )),
                                                        (e.next = 6),
                                                        l.promiseCache[a]
                                                          .promise
                                                      );
                                                    case 6:
                                                      (i[t.src] = e.sent),
                                                        r && r(++n / o),
                                                        (e.next = 15);
                                                      break;
                                                    case 10:
                                                      throw (
                                                        ((e.prev = 10),
                                                        (e.t0 = e.catch(2)),
                                                        delete l.promiseCache[
                                                          a
                                                        ],
                                                        delete i[t.src],
                                                        new Error(
                                                          "[Loader.load] Failed to load "
                                                            .concat(a, ".\n")
                                                            .concat(e.t0)
                                                        ))
                                                      );
                                                    case 15:
                                                    case "end":
                                                      return e.stop();
                                                  }
                                              },
                                              e,
                                              null,
                                              [[2, 10]]
                                            );
                                          })
                                        );
                                        return function (t) {
                                          return e.apply(this, arguments);
                                        };
                                      })()
                                    )),
                                    (e.next = 9),
                                    Promise.all(u)
                                  );
                                case 9:
                                  return e.abrupt(
                                    "return",
                                    a ? i[s[0].src] : i
                                  );
                                case 10:
                                case "end":
                                  return e.stop();
                              }
                          },
                          e,
                          this
                        );
                      })
                    )),
                    function (e, t) {
                      return r.apply(this, arguments);
                    })
                },
                {
                  key: "unload",
                  value:
                    ((t = _asyncToGenerator(
                      _regeneratorRuntime().mark(function e(t) {
                        var r,
                          n,
                          i = this;
                        return _regeneratorRuntime().wrap(function (e) {
                          for (;;)
                            switch ((e.prev = e.next)) {
                              case 0:
                                return (
                                  (r = convertToList(t, function (e) {
                                    return { src: e };
                                  })),
                                  (n = r.map(
                                    (function () {
                                      var e = _asyncToGenerator(
                                        _regeneratorRuntime().mark(function e(
                                          t
                                        ) {
                                          var r, n, a, s, o;
                                          return _regeneratorRuntime().wrap(
                                            function (e) {
                                              for (;;)
                                                switch ((e.prev = e.next)) {
                                                  case 0:
                                                    if (
                                                      ((r = path.toAbsolute(
                                                        t.src
                                                      )),
                                                      !(n = i.promiseCache[r]))
                                                    ) {
                                                      e.next = 8;
                                                      break;
                                                    }
                                                    return (
                                                      (e.next = 5), n.promise
                                                    );
                                                  case 5:
                                                    (o = e.sent),
                                                      null === (a = n.parser) ||
                                                        void 0 === a ||
                                                        null ===
                                                          (s = a.unload) ||
                                                        void 0 === s ||
                                                        s.call(a, o, t, i),
                                                      delete i.promiseCache[r];
                                                  case 8:
                                                  case "end":
                                                    return e.stop();
                                                }
                                            },
                                            e
                                          );
                                        })
                                      );
                                      return function (t) {
                                        return e.apply(this, arguments);
                                      };
                                    })()
                                  )),
                                  (e.next = 4),
                                  Promise.all(n)
                                );
                              case 4:
                              case "end":
                                return e.stop();
                            }
                        }, e);
                      })
                    )),
                    function (e) {
                      return t.apply(this, arguments);
                    })
                },
                {
                  key: "_validateParsers",
                  value: function () {
                    (this._parsersValidated = !0),
                      (this._parserHash = this._parsers
                        .filter(function (e) {
                          return e.name;
                        })
                        .reduce(function (e, t) {
                          return (
                            e[t.name] &&
                              console.warn(
                                '[Assets] loadParser name conflict "'.concat(
                                  t.name,
                                  '"'
                                )
                              ),
                            _objectSpread(
                              _objectSpread({}, e),
                              {},
                              _defineProperty({}, t.name, t)
                            )
                          );
                        }, {}));
                  }
                }
              ]),
              e
            );
          })(),
          LoaderParserPriority = (function (e) {
            return (
              (e[(e.Low = 0)] = "Low"),
              (e[(e.Normal = 1)] = "Normal"),
              (e[(e.High = 2)] = "High"),
              e
            );
          })(LoaderParserPriority || {}),
          validJSONExtension = ".json",
          validJSONMIME = "application/json",
          loadJson = {
            extension: {
              type: ExtensionType.LoadParser,
              priority: LoaderParserPriority.Low
            },
            name: "loadJson",
            test: function (e) {
              return (
                checkDataUrl(e, validJSONMIME) ||
                checkExtension(e, validJSONExtension)
              );
            },
            load: function (e) {
              return _asyncToGenerator(
                _regeneratorRuntime().mark(function t() {
                  var r, n;
                  return _regeneratorRuntime().wrap(function (t) {
                    for (;;)
                      switch ((t.prev = t.next)) {
                        case 0:
                          return (t.next = 2), settings.ADAPTER.fetch(e);
                        case 2:
                          return (r = t.sent), (t.next = 5), r.json();
                        case 5:
                          return (n = t.sent), t.abrupt("return", n);
                        case 7:
                        case "end":
                          return t.stop();
                      }
                  }, t);
                })
              )();
            }
          };
        extensions$1.add(loadJson);
        var validTXTExtension = ".txt",
          validTXTMIME = "text/plain",
          loadTxt = {
            name: "loadTxt",
            extension: {
              type: ExtensionType.LoadParser,
              priority: LoaderParserPriority.Low
            },
            test: function (e) {
              return (
                checkDataUrl(e, validTXTMIME) ||
                checkExtension(e, validTXTExtension)
              );
            },
            load: function (e) {
              return _asyncToGenerator(
                _regeneratorRuntime().mark(function t() {
                  var r, n;
                  return _regeneratorRuntime().wrap(function (t) {
                    for (;;)
                      switch ((t.prev = t.next)) {
                        case 0:
                          return (t.next = 2), settings.ADAPTER.fetch(e);
                        case 2:
                          return (r = t.sent), (t.next = 5), r.text();
                        case 5:
                          return (n = t.sent), t.abrupt("return", n);
                        case 7:
                        case "end":
                          return t.stop();
                      }
                  }, t);
                })
              )();
            }
          };
        extensions$1.add(loadTxt);
        var validWeights = [
            "normal",
            "bold",
            "100",
            "200",
            "300",
            "400",
            "500",
            "600",
            "700",
            "800",
            "900"
          ],
          validFontExtensions = [".ttf", ".otf", ".woff", ".woff2"],
          validFontMIMEs = ["font/ttf", "font/otf", "font/woff", "font/woff2"],
          CSS_IDENT_TOKEN_REGEX = /^(--|-?[A-Z_])[0-9A-Z_-]*$/i;
        function getFontFamilyName(e) {
          var t,
            r = path.extname(e),
            n = path
              .basename(e, r)
              .replace(/(-|_)/g, " ")
              .toLowerCase()
              .split(" ")
              .map(function (e) {
                return e.charAt(0).toUpperCase() + e.slice(1);
              }),
            i = n.length > 0,
            a = _createForOfIteratorHelper(n);
          try {
            for (a.s(); !(t = a.n()).done; ) {
              if (!t.value.match(CSS_IDENT_TOKEN_REGEX)) {
                i = !1;
                break;
              }
            }
          } catch (o) {
            a.e(o);
          } finally {
            a.f();
          }
          var s = n.join(" ");
          return i || (s = '"'.concat(s.replace(/[\\"]/g, "\\$&"), '"')), s;
        }
        var loadWebFont = {
          extension: {
            type: ExtensionType.LoadParser,
            priority: LoaderParserPriority.Low
          },
          name: "loadWebFont",
          test: function (e) {
            return (
              checkDataUrl(e, validFontMIMEs) ||
              checkExtension(e, validFontExtensions)
            );
          },
          load: function (e, t) {
            return _asyncToGenerator(
              _regeneratorRuntime().mark(function r() {
                var n, i, a, s, o, u, l, c, h, f, d, p, _, v;
                return _regeneratorRuntime().wrap(function (r) {
                  for (;;)
                    switch ((r.prev = r.next)) {
                      case 0:
                        if (!(n = settings.ADAPTER.getFontFaceSet())) {
                          r.next = 18;
                          break;
                        }
                        (c = []),
                          (h =
                            null !==
                              (i =
                                null === (a = t.data) || void 0 === a
                                  ? void 0
                                  : a.family) && void 0 !== i
                              ? i
                              : getFontFamilyName(e)),
                          (f =
                            null !==
                              (s =
                                null === (o = t.data) ||
                                void 0 === o ||
                                null === (u = o.weights) ||
                                void 0 === u
                                  ? void 0
                                  : u.filter(function (e) {
                                      return validWeights.includes(e);
                                    })) && void 0 !== s
                              ? s
                              : ["normal"]),
                          (d = null !== (l = t.data) && void 0 !== l ? l : {}),
                          (p = 0);
                      case 7:
                        if (!(p < f.length)) {
                          r.next = 17;
                          break;
                        }
                        return (
                          (_ = f[p]),
                          (v = new FontFace(
                            h,
                            "url(".concat(encodeURI(e), ")"),
                            _objectSpread(
                              _objectSpread({}, d),
                              {},
                              { weight: _ }
                            )
                          )),
                          (r.next = 12),
                          v.load()
                        );
                      case 12:
                        n.add(v), c.push(v);
                      case 14:
                        p++, (r.next = 7);
                        break;
                      case 17:
                        return r.abrupt("return", 1 === c.length ? c[0] : c);
                      case 18:
                        return (
                          console.warn(
                            "[loadWebFont] FontFace API is not supported. Skipping loading font"
                          ),
                          r.abrupt("return", null)
                        );
                      case 20:
                      case "end":
                        return r.stop();
                    }
                }, r);
              })
            )();
          },
          unload: function (e) {
            (Array.isArray(e) ? e : [e]).forEach(function (e) {
              return settings.ADAPTER.getFontFaceSet().delete(e);
            });
          }
        };
        extensions$1.add(loadWebFont);
        var UUID = 0,
          MAX_WORKERS,
          WHITE_PNG =
            "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",
          checkImageBitmapCode = {
            id: "checkImageBitmap",
            code: "\n    async function checkImageBitmap()\n    {\n        try\n        {\n            if (typeof createImageBitmap !== 'function') return false;\n\n            const response = await fetch('".concat(
              WHITE_PNG,
              "');\n            const imageBlob =  await response.blob();\n            const imageBitmap = await createImageBitmap(imageBlob);\n\n            return imageBitmap.width === 1 && imageBitmap.height === 1;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    }\n    checkImageBitmap().then((result) => { self.postMessage(result); });\n    "
            )
          },
          workerCode = {
            id: "loadImageBitmap",
            code:
              "\n    async function loadImageBitmap(url)\n    {\n        const response = await fetch(url);\n\n        if (!response.ok)\n        {\n            throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: `\n                + `${response.status} ${response.statusText}`);\n        }\n\n        const imageBlob =  await response.blob();\n        const imageBitmap = await createImageBitmap(imageBlob);\n\n        return imageBitmap;\n    }\n    self.onmessage = async (event) =>\n    {\n        try\n        {\n            const imageBitmap = await loadImageBitmap(event.data.data[0]);\n\n            self.postMessage({\n                data: imageBitmap,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            }, [imageBitmap]);\n        }\n        catch(e)\n        {\n            self.postMessage({\n                error: e,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            });\n        }\n    };"
          },
          workerURL,
          WorkerManagerClass = (function () {
            function e() {
              _classCallCheck(this, e),
                (this._initialized = !1),
                (this._createdWorkers = 0),
                (this.workerPool = []),
                (this.queue = []),
                (this.resolveHash = {});
            }
            var t, r;
            return (
              _createClass(e, [
                {
                  key: "isImageBitmapSupported",
                  value: function () {
                    return (
                      void 0 !== this._isImageBitmapSupported ||
                        (this._isImageBitmapSupported = new Promise(function (
                          e
                        ) {
                          var t = URL.createObjectURL(
                              new Blob([checkImageBitmapCode.code], {
                                type: "application/javascript"
                              })
                            ),
                            r = new Worker(t);
                          r.addEventListener("message", function (n) {
                            r.terminate(), URL.revokeObjectURL(t), e(n.data);
                          });
                        })),
                      this._isImageBitmapSupported
                    );
                  }
                },
                {
                  key: "loadImageBitmap",
                  value: function (e) {
                    return this._run("loadImageBitmap", [e]);
                  }
                },
                {
                  key: "_initWorkers",
                  value:
                    ((r = _asyncToGenerator(
                      _regeneratorRuntime().mark(function e() {
                        return _regeneratorRuntime().wrap(
                          function (e) {
                            for (;;)
                              switch ((e.prev = e.next)) {
                                case 0:
                                  if (!this._initialized) {
                                    e.next = 2;
                                    break;
                                  }
                                  return e.abrupt("return");
                                case 2:
                                  this._initialized = !0;
                                case 3:
                                case "end":
                                  return e.stop();
                              }
                          },
                          e,
                          this
                        );
                      })
                    )),
                    function () {
                      return r.apply(this, arguments);
                    })
                },
                {
                  key: "getWorker",
                  value: function () {
                    var e = this;
                    void 0 === MAX_WORKERS &&
                      (MAX_WORKERS = navigator.hardwareConcurrency || 4);
                    var t = this.workerPool.pop();
                    return (
                      !t &&
                        this._createdWorkers < MAX_WORKERS &&
                        (workerURL ||
                          (workerURL = URL.createObjectURL(
                            new Blob([workerCode.code], {
                              type: "application/javascript"
                            })
                          )),
                        this._createdWorkers++,
                        (t = new Worker(workerURL)).addEventListener(
                          "message",
                          function (t) {
                            e.complete(t.data),
                              e.returnWorker(t.target),
                              e.next();
                          }
                        )),
                      t
                    );
                  }
                },
                {
                  key: "returnWorker",
                  value: function (e) {
                    this.workerPool.push(e);
                  }
                },
                {
                  key: "complete",
                  value: function (e) {
                    void 0 !== e.error
                      ? this.resolveHash[e.uuid].reject(e.error)
                      : this.resolveHash[e.uuid].resolve(e.data),
                      (this.resolveHash[e.uuid] = null);
                  }
                },
                {
                  key: "_run",
                  value:
                    ((t = _asyncToGenerator(
                      _regeneratorRuntime().mark(function e(t, r) {
                        var n,
                          i = this;
                        return _regeneratorRuntime().wrap(
                          function (e) {
                            for (;;)
                              switch ((e.prev = e.next)) {
                                case 0:
                                  return (e.next = 2), this._initWorkers();
                                case 2:
                                  return (
                                    (n = new Promise(function (e, n) {
                                      i.queue.push({
                                        id: t,
                                        arguments: r,
                                        resolve: e,
                                        reject: n
                                      });
                                    })),
                                    this.next(),
                                    e.abrupt("return", n)
                                  );
                                case 5:
                                case "end":
                                  return e.stop();
                              }
                          },
                          e,
                          this
                        );
                      })
                    )),
                    function (e, r) {
                      return t.apply(this, arguments);
                    })
                },
                {
                  key: "next",
                  value: function () {
                    if (this.queue.length) {
                      var e = this.getWorker();
                      if (e) {
                        var t = this.queue.pop(),
                          r = t.id;
                        (this.resolveHash[UUID] = {
                          resolve: t.resolve,
                          reject: t.reject
                        }),
                          e.postMessage({
                            data: t.arguments,
                            uuid: UUID++,
                            id: r
                          });
                      }
                    }
                  }
                }
              ]),
              e
            );
          })(),
          WorkerManager = new WorkerManagerClass();
        function createTexture(e, t, r) {
          var n = new Texture(e);
          return (
            n.baseTexture.on("dispose", function () {
              delete t.promiseCache[r];
            }),
            n
          );
        }
        var validImageExtensions = [".jpeg", ".jpg", ".png", ".webp", ".avif"],
          validImageMIMEs = [
            "image/jpeg",
            "image/png",
            "image/webp",
            "image/avif"
          ];
        function loadImageBitmap(e) {
          return _loadImageBitmap.apply(this, arguments);
        }
        function _loadImageBitmap() {
          return (
            (_loadImageBitmap = _asyncToGenerator(
              _regeneratorRuntime().mark(function e(t) {
                var r, n, i;
                return _regeneratorRuntime().wrap(function (e) {
                  for (;;)
                    switch ((e.prev = e.next)) {
                      case 0:
                        return (e.next = 2), settings.ADAPTER.fetch(t);
                      case 2:
                        if ((r = e.sent).ok) {
                          e.next = 5;
                          break;
                        }
                        throw new Error(
                          "[loadImageBitmap] Failed to fetch "
                            .concat(t, ": ")
                            .concat(r.status, " ")
                            .concat(r.statusText)
                        );
                      case 5:
                        return (e.next = 7), r.blob();
                      case 7:
                        return (
                          (n = e.sent), (e.next = 10), createImageBitmap(n)
                        );
                      case 10:
                        return (i = e.sent), e.abrupt("return", i);
                      case 12:
                      case "end":
                        return e.stop();
                    }
                }, e);
              })
            )),
            _loadImageBitmap.apply(this, arguments)
          );
        }
        var loadTextures = {
          name: "loadTextures",
          extension: {
            type: ExtensionType.LoadParser,
            priority: LoaderParserPriority.High
          },
          config: {
            preferWorkers: !0,
            preferCreateImageBitmap: !0,
            crossOrigin: "anonymous"
          },
          test: function (e) {
            return (
              checkDataUrl(e, validImageMIMEs) ||
              checkExtension(e, validImageExtensions)
            );
          },
          load: function (e, t, r) {
            var n = this;
            return _asyncToGenerator(
              _regeneratorRuntime().mark(function i() {
                var a, s;
                return _regeneratorRuntime().wrap(function (i) {
                  for (;;)
                    switch ((i.prev = i.next)) {
                      case 0:
                        if (
                          ((a = null),
                          !globalThis.createImageBitmap ||
                            !n.config.preferCreateImageBitmap)
                        ) {
                          i.next = 18;
                          break;
                        }
                        if (((i.t0 = n.config.preferWorkers), !i.t0)) {
                          i.next = 7;
                          break;
                        }
                        return (
                          (i.next = 6), WorkerManager.isImageBitmapSupported()
                        );
                      case 6:
                        i.t0 = i.sent;
                      case 7:
                        if (!i.t0) {
                          i.next = 13;
                          break;
                        }
                        return (i.next = 10), WorkerManager.loadImageBitmap(e);
                      case 10:
                        (a = i.sent), (i.next = 16);
                        break;
                      case 13:
                        return (i.next = 15), loadImageBitmap(e);
                      case 15:
                        a = i.sent;
                      case 16:
                        i.next = 21;
                        break;
                      case 18:
                        return (
                          (i.next = 20),
                          new Promise(function (t) {
                            ((a = new Image()).crossOrigin =
                              n.config.crossOrigin),
                              (a.src = e),
                              a.complete
                                ? t(a)
                                : (a.onload = function () {
                                    t(a);
                                  });
                          })
                        );
                      case 20:
                        a = i.sent;
                      case 21:
                        return (
                          ((s = new BaseTexture(
                            a,
                            _objectSpread(
                              { resolution: getResolutionOfUrl(e) },
                              t.data
                            )
                          )).resource.src = e),
                          i.abrupt("return", createTexture(s, r, e))
                        );
                      case 24:
                      case "end":
                        return i.stop();
                    }
                }, i);
              })
            )();
          },
          unload: function (e) {
            e.destroy(!0);
          }
        };
        extensions$1.add(loadTextures);
        var validSVGExtension = ".svg",
          validSVGMIME = "image/svg+xml",
          loadSVG = {
            extension: {
              type: ExtensionType.LoadParser,
              priority: LoaderParserPriority.High
            },
            name: "loadSVG",
            test: function (e) {
              return (
                checkDataUrl(e, validSVGMIME) ||
                checkExtension(e, validSVGExtension)
              );
            },
            testParse: function (e) {
              return _asyncToGenerator(
                _regeneratorRuntime().mark(function t() {
                  return _regeneratorRuntime().wrap(function (t) {
                    for (;;)
                      switch ((t.prev = t.next)) {
                        case 0:
                          return t.abrupt("return", SVGResource.test(e));
                        case 1:
                        case "end":
                          return t.stop();
                      }
                  }, t);
                })
              )();
            },
            parse: function (e, t, r) {
              return _asyncToGenerator(
                _regeneratorRuntime().mark(function n() {
                  var i, a, s, o;
                  return _regeneratorRuntime().wrap(function (n) {
                    for (;;)
                      switch ((n.prev = n.next)) {
                        case 0:
                          return (
                            (a = new SVGResource(
                              e,
                              null == t || null === (i = t.data) || void 0 === i
                                ? void 0
                                : i.resourceOptions
                            )),
                            (n.next = 3),
                            a.load()
                          );
                        case 3:
                          return (
                            ((s = new BaseTexture(
                              a,
                              _objectSpread(
                                { resolution: getResolutionOfUrl(e) },
                                null == t ? void 0 : t.data
                              )
                            )).resource.src = e),
                            (o = createTexture(s, r, e)),
                            n.abrupt("return", o)
                          );
                        case 7:
                        case "end":
                          return n.stop();
                      }
                  }, n);
                })
              )();
            },
            load: function (e, t) {
              return _asyncToGenerator(
                _regeneratorRuntime().mark(function t() {
                  var r;
                  return _regeneratorRuntime().wrap(function (t) {
                    for (;;)
                      switch ((t.prev = t.next)) {
                        case 0:
                          return (t.next = 2), settings.ADAPTER.fetch(e);
                        case 2:
                          return (r = t.sent), t.abrupt("return", r.text());
                        case 4:
                        case "end":
                          return t.stop();
                      }
                  }, t);
                })
              )();
            },
            unload: loadTextures.unload
          };
        extensions$1.add(loadSVG);
        var Resolver = (function () {
            function e() {
              var t = this;
              _classCallCheck(this, e),
                (this._defaultBundleIdentifierOptions = {
                  connector: "-",
                  createBundleAssetId: function (e, r) {
                    return "".concat(e).concat(t._bundleIdConnector).concat(r);
                  },
                  extractAssetIdFromBundle: function (e, r) {
                    return r.replace(
                      "".concat(e).concat(t._bundleIdConnector),
                      ""
                    );
                  }
                }),
                (this._bundleIdConnector = this._defaultBundleIdentifierOptions.connector),
                (this._createBundleAssetId = this._defaultBundleIdentifierOptions.createBundleAssetId),
                (this._extractAssetIdFromBundle = this._defaultBundleIdentifierOptions.extractAssetIdFromBundle),
                (this._assetMap = {}),
                (this._preferredOrder = []),
                (this._parsers = []),
                (this._resolverHash = {}),
                (this._bundles = {});
            }
            return (
              _createClass(e, [
                {
                  key: "setBundleIdentifier",
                  value: function (e) {
                    var t, r, n;
                    if (
                      ((this._bundleIdConnector =
                        null !== (t = e.connector) && void 0 !== t
                          ? t
                          : this._bundleIdConnector),
                      (this._createBundleAssetId =
                        null !== (r = e.createBundleAssetId) && void 0 !== r
                          ? r
                          : this._createBundleAssetId),
                      (this._extractAssetIdFromBundle =
                        null !== (n = e.extractAssetIdFromBundle) &&
                        void 0 !== n
                          ? n
                          : this._extractAssetIdFromBundle),
                      "bar" !==
                        this._extractAssetIdFromBundle(
                          "foo",
                          this._createBundleAssetId("foo", "bar")
                        ))
                    )
                      throw new Error(
                        "[Resolver] GenerateBundleAssetId are not working correctly"
                      );
                  }
                },
                {
                  key: "prefer",
                  value: function () {
                    for (
                      var e = this,
                        t = arguments.length,
                        r = new Array(t),
                        n = 0;
                      n < t;
                      n++
                    )
                      r[n] = arguments[n];
                    r.forEach(function (t) {
                      e._preferredOrder.push(t),
                        t.priority || (t.priority = Object.keys(t.params));
                    }),
                      (this._resolverHash = {});
                  }
                },
                {
                  key: "basePath",
                  get: function () {
                    return this._basePath;
                  },
                  set: function (e) {
                    this._basePath = e;
                  }
                },
                {
                  key: "rootPath",
                  get: function () {
                    return this._rootPath;
                  },
                  set: function (e) {
                    this._rootPath = e;
                  }
                },
                {
                  key: "parsers",
                  get: function () {
                    return this._parsers;
                  }
                },
                {
                  key: "reset",
                  value: function () {
                    this.setBundleIdentifier(
                      this._defaultBundleIdentifierOptions
                    ),
                      (this._assetMap = {}),
                      (this._preferredOrder = []),
                      (this._resolverHash = {}),
                      (this._rootPath = null),
                      (this._basePath = null),
                      (this._manifest = null),
                      (this._bundles = {}),
                      (this._defaultSearchParams = null);
                  }
                },
                {
                  key: "setDefaultSearchParams",
                  value: function (e) {
                    if ("string" == typeof e) this._defaultSearchParams = e;
                    else {
                      var t = e;
                      this._defaultSearchParams = Object.keys(t)
                        .map(function (e) {
                          return ""
                            .concat(encodeURIComponent(e), "=")
                            .concat(encodeURIComponent(t[e]));
                        })
                        .join("&");
                    }
                  }
                },
                {
                  key: "addManifest",
                  value: function (e) {
                    var t = this;
                    this._manifest &&
                      console.warn(
                        "[Resolver] Manifest already exists, this will be overwritten"
                      ),
                      (this._manifest = e),
                      e.bundles.forEach(function (e) {
                        t.addBundle(e.name, e.assets);
                      });
                  }
                },
                {
                  key: "addBundle",
                  value: function (e, t) {
                    var r = this,
                      n = [];
                    Array.isArray(t)
                      ? t.forEach(function (t) {
                          if ("string" == typeof t.name) {
                            var i = r._createBundleAssetId(e, t.name);
                            n.push(i), r.add([t.name, i], t.srcs, t.data);
                          } else {
                            var a = t.name.map(function (t) {
                              return r._createBundleAssetId(e, t);
                            });
                            a.forEach(function (e) {
                              n.push(e);
                            }),
                              r.add(
                                [].concat(
                                  _toConsumableArray(t.name),
                                  _toConsumableArray(a)
                                ),
                                t.srcs
                              );
                          }
                        })
                      : Object.keys(t).forEach(function (i) {
                          n.push(r._createBundleAssetId(e, i)),
                            r.add([i, r._createBundleAssetId(e, i)], t[i]);
                        }),
                      (this._bundles[e] = n);
                  }
                },
                {
                  key: "add",
                  value: function (e, t, r) {
                    var n = this,
                      i = convertToList(e);
                    i.forEach(function (e) {
                      n.hasKey(e) &&
                        console.warn(
                          "[Resolver] already has key: ".concat(
                            e,
                            " overwriting"
                          )
                        );
                    }),
                      Array.isArray(t) ||
                        (t =
                          "string" == typeof t
                            ? createStringVariations(t)
                            : [t]);
                    var a = t.map(function (e) {
                      var t,
                        a = e;
                      if ("string" == typeof e) {
                        for (var s = !1, o = 0; o < n._parsers.length; o++) {
                          var u = n._parsers[o];
                          if (u.test(e)) {
                            (a = u.parse(e)), (s = !0);
                            break;
                          }
                        }
                        s || (a = { src: e });
                      }
                      return (
                        a.format || (a.format = a.src.split(".").pop()),
                        a.alias || (a.alias = i),
                        (n._basePath || n._rootPath) &&
                          (a.src = path.toAbsolute(
                            a.src,
                            n._basePath,
                            n._rootPath
                          )),
                        (a.src = n._appendDefaultSearchParams(a.src)),
                        (a.data =
                          null !== (t = a.data) && void 0 !== t ? t : r),
                        a
                      );
                    });
                    i.forEach(function (e) {
                      n._assetMap[e] = a;
                    });
                  }
                },
                {
                  key: "resolveBundle",
                  value: function (e) {
                    var t = this,
                      r = isSingleItem(e);
                    e = convertToList(e);
                    var n = {};
                    return (
                      e.forEach(function (e) {
                        var r = t._bundles[e];
                        if (r) {
                          var i = t.resolve(r),
                            a = {};
                          for (var s in i) {
                            var o = i[s];
                            a[t._extractAssetIdFromBundle(e, s)] = o;
                          }
                          n[e] = a;
                        }
                      }),
                      r ? n[e[0]] : n
                    );
                  }
                },
                {
                  key: "resolveUrl",
                  value: function (e) {
                    var t = this.resolve(e);
                    if ("string" != typeof e) {
                      var r = {};
                      for (var n in t) r[n] = t[n].src;
                      return r;
                    }
                    return t.src;
                  }
                },
                {
                  key: "resolve",
                  value: function (e) {
                    var t = this,
                      r = isSingleItem(e);
                    e = convertToList(e);
                    var n = {};
                    return (
                      e.forEach(function (e) {
                        if (!t._resolverHash[e])
                          if (t._assetMap[e]) {
                            var r,
                              i = t._assetMap[e],
                              a = t._getPreferredOrder(i),
                              s = i[0];
                            null == a ||
                              a.priority.forEach(function (e) {
                                a.params[e].forEach(function (t) {
                                  var r = i.filter(function (r) {
                                    return !!r[e] && r[e] === t;
                                  });
                                  r.length && (i = r);
                                });
                              }),
                              (t._resolverHash[e] =
                                null !== (r = i[0]) && void 0 !== r ? r : s);
                          } else {
                            var o = e;
                            (t._basePath || t._rootPath) &&
                              (o = path.toAbsolute(
                                o,
                                t._basePath,
                                t._rootPath
                              )),
                              (o = t._appendDefaultSearchParams(o)),
                              (t._resolverHash[e] = { src: o });
                          }
                        n[e] = t._resolverHash[e];
                      }),
                      r ? n[e[0]] : n
                    );
                  }
                },
                {
                  key: "hasKey",
                  value: function (e) {
                    return !!this._assetMap[e];
                  }
                },
                {
                  key: "hasBundle",
                  value: function (e) {
                    return !!this._bundles[e];
                  }
                },
                {
                  key: "_getPreferredOrder",
                  value: function (e) {
                    for (
                      var t = this,
                        r = function () {
                          var r = e[0],
                            n = t._preferredOrder.find(function (e) {
                              return e.params.format.includes(r.format);
                            });
                          if (n) return { v: n };
                        },
                        n = 0;
                      n < e.length;
                      n++
                    ) {
                      var i = r();
                      if ("object" === _typeof(i)) return i.v;
                    }
                    return this._preferredOrder[0];
                  }
                },
                {
                  key: "_appendDefaultSearchParams",
                  value: function (e) {
                    if (!this._defaultSearchParams) return e;
                    var t = /\?/.test(e) ? "&" : "?";
                    return ""
                      .concat(e)
                      .concat(t)
                      .concat(this._defaultSearchParams);
                  }
                }
              ]),
              e
            );
          })(),
          AssetsClass = (function () {
            function e() {
              _classCallCheck(this, e),
                (this._detections = []),
                (this._initialized = !1),
                (this.resolver = new Resolver()),
                (this.loader = new Loader()),
                (this.cache = Cache),
                (this._backgroundLoader = new BackgroundLoader(this.loader)),
                (this._backgroundLoader.active = !0),
                this.reset();
            }
            var t, r, n, i, a, s, o, u, l;
            return (
              _createClass(e, [
                {
                  key: "init",
                  value:
                    ((l = _asyncToGenerator(
                      _regeneratorRuntime().mark(function e() {
                        var t,
                          r,
                          n,
                          i,
                          a,
                          s,
                          o,
                          u,
                          l,
                          c,
                          h,
                          f,
                          d,
                          p,
                          _,
                          v,
                          m = arguments;
                        return _regeneratorRuntime().wrap(
                          function (e) {
                            for (;;)
                              switch ((e.prev = e.next)) {
                                case 0:
                                  if (
                                    ((i =
                                      m.length > 0 && void 0 !== m[0]
                                        ? m[0]
                                        : {}),
                                    !this._initialized)
                                  ) {
                                    e.next = 4;
                                    break;
                                  }
                                  return (
                                    console.warn(
                                      "[Assets]AssetManager already initialized, did you load before calling this Asset.init()?"
                                    ),
                                    e.abrupt("return")
                                  );
                                case 4:
                                  if (
                                    ((this._initialized = !0),
                                    i.defaultSearchParams &&
                                      this.resolver.setDefaultSearchParams(
                                        i.defaultSearchParams
                                      ),
                                    i.basePath &&
                                      (this.resolver.basePath = i.basePath),
                                    i.bundleIdentifier &&
                                      this.resolver.setBundleIdentifier(
                                        i.bundleIdentifier
                                      ),
                                    !i.manifest)
                                  ) {
                                    e.next = 15;
                                    break;
                                  }
                                  if ("string" != typeof (a = i.manifest)) {
                                    e.next = 14;
                                    break;
                                  }
                                  return (e.next = 13), this.load(a);
                                case 13:
                                  a = e.sent;
                                case 14:
                                  this.resolver.addManifest(a);
                                case 15:
                                  if (
                                    ((s =
                                      null !==
                                        (t =
                                          null === (r = i.texturePreference) ||
                                          void 0 === r
                                            ? void 0
                                            : r.resolution) && void 0 !== t
                                        ? t
                                        : 1),
                                    (o = "number" == typeof s ? [s] : s),
                                    (u = []),
                                    null === (n = i.texturePreference) ||
                                      void 0 === n ||
                                      !n.format)
                                  ) {
                                    e.next = 44;
                                    break;
                                  }
                                  (c =
                                    null === (l = i.texturePreference) ||
                                    void 0 === l
                                      ? void 0
                                      : l.format),
                                    (u = "string" == typeof c ? [c] : c),
                                    (h = _createForOfIteratorHelper(
                                      this._detections
                                    )),
                                    (e.prev = 22),
                                    h.s();
                                case 24:
                                  if ((f = h.n()).done) {
                                    e.next = 34;
                                    break;
                                  }
                                  return (d = f.value), (e.next = 28), d.test();
                                case 28:
                                  if (e.sent) {
                                    e.next = 32;
                                    break;
                                  }
                                  return (e.next = 31), d.remove(u);
                                case 31:
                                  u = e.sent;
                                case 32:
                                  e.next = 24;
                                  break;
                                case 34:
                                  e.next = 39;
                                  break;
                                case 36:
                                  (e.prev = 36),
                                    (e.t0 = e.catch(22)),
                                    h.e(e.t0);
                                case 39:
                                  return (e.prev = 39), h.f(), e.finish(39);
                                case 42:
                                  e.next = 65;
                                  break;
                                case 44:
                                  (p = _createForOfIteratorHelper(
                                    this._detections
                                  )),
                                    (e.prev = 45),
                                    p.s();
                                case 47:
                                  if ((_ = p.n()).done) {
                                    e.next = 57;
                                    break;
                                  }
                                  return (v = _.value), (e.next = 51), v.test();
                                case 51:
                                  if (!e.sent) {
                                    e.next = 55;
                                    break;
                                  }
                                  return (e.next = 54), v.add(u);
                                case 54:
                                  u = e.sent;
                                case 55:
                                  e.next = 47;
                                  break;
                                case 57:
                                  e.next = 62;
                                  break;
                                case 59:
                                  (e.prev = 59),
                                    (e.t1 = e.catch(45)),
                                    p.e(e.t1);
                                case 62:
                                  return (e.prev = 62), p.f(), e.finish(62);
                                case 65:
                                  this.resolver.prefer({
                                    params: { format: u, resolution: o }
                                  }),
                                    i.preferences &&
                                      this.setPreferences(i.preferences);
                                case 67:
                                case "end":
                                  return e.stop();
                              }
                          },
                          e,
                          this,
                          [
                            [22, 36, 39, 42],
                            [45, 59, 62, 65]
                          ]
                        );
                      })
                    )),
                    function () {
                      return l.apply(this, arguments);
                    })
                },
                {
                  key: "add",
                  value: function (e, t, r) {
                    this.resolver.add(e, t, r);
                  }
                },
                {
                  key: "load",
                  value:
                    ((u = _asyncToGenerator(
                      _regeneratorRuntime().mark(function e(t, r) {
                        var n,
                          i,
                          a,
                          s,
                          o = this;
                        return _regeneratorRuntime().wrap(
                          function (e) {
                            for (;;)
                              switch ((e.prev = e.next)) {
                                case 0:
                                  if (this._initialized) {
                                    e.next = 3;
                                    break;
                                  }
                                  return (e.next = 3), this.init();
                                case 3:
                                  return (
                                    (n = isSingleItem(t)),
                                    (i = convertToList(t).map(function (e) {
                                      return "string" != typeof e
                                        ? (o.resolver.add(e.src, e), e.src)
                                        : (o.resolver.hasKey(e) ||
                                            o.resolver.add(e, e),
                                          e);
                                    })),
                                    (a = this.resolver.resolve(i)),
                                    (e.next = 8),
                                    this._mapLoadToResolve(a, r)
                                  );
                                case 8:
                                  return (
                                    (s = e.sent),
                                    e.abrupt("return", n ? s[i[0]] : s)
                                  );
                                case 10:
                                case "end":
                                  return e.stop();
                              }
                          },
                          e,
                          this
                        );
                      })
                    )),
                    function (e, t) {
                      return u.apply(this, arguments);
                    })
                },
                {
                  key: "addBundle",
                  value: function (e, t) {
                    this.resolver.addBundle(e, t);
                  }
                },
                {
                  key: "loadBundle",
                  value:
                    ((o = _asyncToGenerator(
                      _regeneratorRuntime().mark(function e(t, r) {
                        var n,
                          i,
                          a,
                          s,
                          o,
                          u,
                          l,
                          c,
                          h = this;
                        return _regeneratorRuntime().wrap(
                          function (e) {
                            for (;;)
                              switch ((e.prev = e.next)) {
                                case 0:
                                  if (this._initialized) {
                                    e.next = 3;
                                    break;
                                  }
                                  return (e.next = 3), this.init();
                                case 3:
                                  return (
                                    (n = !1),
                                    "string" == typeof t &&
                                      ((n = !0), (t = [t])),
                                    (i = this.resolver.resolveBundle(t)),
                                    (a = {}),
                                    (s = Object.keys(i)),
                                    (o = 0),
                                    (u = 0),
                                    (l = function () {
                                      null == r || r(++o / u);
                                    }),
                                    (c = s.map(function (e) {
                                      var t = i[e];
                                      return (
                                        (u += Object.keys(t).length),
                                        h
                                          ._mapLoadToResolve(t, l)
                                          .then(function (t) {
                                            a[e] = t;
                                          })
                                      );
                                    })),
                                    (e.next = 14),
                                    Promise.all(c)
                                  );
                                case 14:
                                  return e.abrupt("return", n ? a[t[0]] : a);
                                case 15:
                                case "end":
                                  return e.stop();
                              }
                          },
                          e,
                          this
                        );
                      })
                    )),
                    function (e, t) {
                      return o.apply(this, arguments);
                    })
                },
                {
                  key: "backgroundLoad",
                  value:
                    ((s = _asyncToGenerator(
                      _regeneratorRuntime().mark(function e(t) {
                        var r;
                        return _regeneratorRuntime().wrap(
                          function (e) {
                            for (;;)
                              switch ((e.prev = e.next)) {
                                case 0:
                                  if (this._initialized) {
                                    e.next = 3;
                                    break;
                                  }
                                  return (e.next = 3), this.init();
                                case 3:
                                  "string" == typeof t && (t = [t]),
                                    (r = this.resolver.resolve(t)),
                                    this._backgroundLoader.add(
                                      Object.values(r)
                                    );
                                case 6:
                                case "end":
                                  return e.stop();
                              }
                          },
                          e,
                          this
                        );
                      })
                    )),
                    function (e) {
                      return s.apply(this, arguments);
                    })
                },
                {
                  key: "backgroundLoadBundle",
                  value:
                    ((a = _asyncToGenerator(
                      _regeneratorRuntime().mark(function e(t) {
                        var r,
                          n = this;
                        return _regeneratorRuntime().wrap(
                          function (e) {
                            for (;;)
                              switch ((e.prev = e.next)) {
                                case 0:
                                  if (this._initialized) {
                                    e.next = 3;
                                    break;
                                  }
                                  return (e.next = 3), this.init();
                                case 3:
                                  "string" == typeof t && (t = [t]),
                                    (r = this.resolver.resolveBundle(t)),
                                    Object.values(r).forEach(function (e) {
                                      n._backgroundLoader.add(Object.values(e));
                                    });
                                case 6:
                                case "end":
                                  return e.stop();
                              }
                          },
                          e,
                          this
                        );
                      })
                    )),
                    function (e) {
                      return a.apply(this, arguments);
                    })
                },
                {
                  key: "reset",
                  value: function () {
                    this.resolver.reset(),
                      this.loader.reset(),
                      this.cache.reset(),
                      (this._initialized = !1);
                  }
                },
                {
                  key: "get",
                  value: function (e) {
                    if ("string" == typeof e) return Cache.get(e);
                    for (var t = {}, r = 0; r < e.length; r++)
                      t[r] = Cache.get(e[r]);
                    return t;
                  }
                },
                {
                  key: "_mapLoadToResolve",
                  value:
                    ((i = _asyncToGenerator(
                      _regeneratorRuntime().mark(function e(t, r) {
                        var n, i, a, s;
                        return _regeneratorRuntime().wrap(
                          function (e) {
                            for (;;)
                              switch ((e.prev = e.next)) {
                                case 0:
                                  return (
                                    (n = Object.values(t)),
                                    (i = Object.keys(t)),
                                    (this._backgroundLoader.active = !1),
                                    (e.next = 5),
                                    this.loader.load(n, r)
                                  );
                                case 5:
                                  return (
                                    (a = e.sent),
                                    (this._backgroundLoader.active = !0),
                                    (s = {}),
                                    n.forEach(function (e, t) {
                                      var r = a[e.src],
                                        n = [e.src];
                                      e.alias &&
                                        n.push.apply(
                                          n,
                                          _toConsumableArray(e.alias)
                                        ),
                                        (s[i[t]] = r),
                                        Cache.set(n, r);
                                    }),
                                    e.abrupt("return", s)
                                  );
                                case 10:
                                case "end":
                                  return e.stop();
                              }
                          },
                          e,
                          this
                        );
                      })
                    )),
                    function (e, t) {
                      return i.apply(this, arguments);
                    })
                },
                {
                  key: "unload",
                  value:
                    ((n = _asyncToGenerator(
                      _regeneratorRuntime().mark(function e(t) {
                        var r, n;
                        return _regeneratorRuntime().wrap(
                          function (e) {
                            for (;;)
                              switch ((e.prev = e.next)) {
                                case 0:
                                  if (this._initialized) {
                                    e.next = 3;
                                    break;
                                  }
                                  return (e.next = 3), this.init();
                                case 3:
                                  return (
                                    (r = convertToList(t).map(function (e) {
                                      return "string" != typeof e ? e.src : e;
                                    })),
                                    (n = this.resolver.resolve(r)),
                                    (e.next = 7),
                                    this._unloadFromResolved(n)
                                  );
                                case 7:
                                case "end":
                                  return e.stop();
                              }
                          },
                          e,
                          this
                        );
                      })
                    )),
                    function (e) {
                      return n.apply(this, arguments);
                    })
                },
                {
                  key: "unloadBundle",
                  value:
                    ((r = _asyncToGenerator(
                      _regeneratorRuntime().mark(function e(t) {
                        var r,
                          n,
                          i = this;
                        return _regeneratorRuntime().wrap(
                          function (e) {
                            for (;;)
                              switch ((e.prev = e.next)) {
                                case 0:
                                  if (this._initialized) {
                                    e.next = 3;
                                    break;
                                  }
                                  return (e.next = 3), this.init();
                                case 3:
                                  return (
                                    (t = convertToList(t)),
                                    (r = this.resolver.resolveBundle(t)),
                                    (n = Object.keys(r).map(function (e) {
                                      return i._unloadFromResolved(r[e]);
                                    })),
                                    (e.next = 8),
                                    Promise.all(n)
                                  );
                                case 8:
                                case "end":
                                  return e.stop();
                              }
                          },
                          e,
                          this
                        );
                      })
                    )),
                    function (e) {
                      return r.apply(this, arguments);
                    })
                },
                {
                  key: "_unloadFromResolved",
                  value:
                    ((t = _asyncToGenerator(
                      _regeneratorRuntime().mark(function e(t) {
                        var r;
                        return _regeneratorRuntime().wrap(
                          function (e) {
                            for (;;)
                              switch ((e.prev = e.next)) {
                                case 0:
                                  return (
                                    (r = Object.values(t)).forEach(function (
                                      e
                                    ) {
                                      Cache.remove(e.src);
                                    }),
                                    (e.next = 4),
                                    this.loader.unload(r)
                                  );
                                case 4:
                                case "end":
                                  return e.stop();
                              }
                          },
                          e,
                          this
                        );
                      })
                    )),
                    function (e) {
                      return t.apply(this, arguments);
                    })
                },
                {
                  key: "detections",
                  get: function () {
                    return this._detections;
                  }
                },
                {
                  key: "preferWorkers",
                  get: function () {
                    return loadTextures.config.preferWorkers;
                  },
                  set: function (e) {
                    deprecation(
                      "7.2.0",
                      "Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."
                    ),
                      this.setPreferences({ preferWorkers: e });
                  }
                },
                {
                  key: "setPreferences",
                  value: function (e) {
                    this.loader.parsers.forEach(function (t) {
                      t.config &&
                        Object.keys(t.config)
                          .filter(function (t) {
                            return t in e;
                          })
                          .forEach(function (r) {
                            t.config[r] = e[r];
                          });
                    });
                  }
                }
              ]),
              e
            );
          })(),
          Assets = exports("l", new AssetsClass());
        extensions$1
          .handleByList(ExtensionType.LoadParser, Assets.loader.parsers)
          .handleByList(ExtensionType.ResolveParser, Assets.resolver.parsers)
          .handleByList(ExtensionType.CacheParser, Assets.cache.parsers)
          .handleByList(ExtensionType.DetectionParser, Assets.detections);
        var cacheTextureArray = {
          extension: ExtensionType.CacheParser,
          test: function (e) {
            return (
              Array.isArray(e) &&
              e.every(function (e) {
                return e instanceof Texture;
              })
            );
          },
          getCacheableAssets: function (e, t) {
            var r = {};
            return (
              e.forEach(function (e) {
                t.forEach(function (t, n) {
                  r[e + (0 === n ? "" : n + 1)] = t;
                });
              }),
              r
            );
          }
        };
        extensions$1.add(cacheTextureArray);
        var detectAvif = {
            extension: { type: ExtensionType.DetectionParser, priority: 1 },
            test:
              ((_test = _asyncToGenerator(
                _regeneratorRuntime().mark(function e() {
                  var t;
                  return _regeneratorRuntime().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (globalThis.createImageBitmap) {
                            e.next = 2;
                            break;
                          }
                          return e.abrupt("return", !1);
                        case 2:
                          return (
                            (e.next = 5),
                            settings.ADAPTER.fetch(
                              "data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="
                            ).then(function (e) {
                              return e.blob();
                            })
                          );
                        case 5:
                          return (
                            (t = e.sent),
                            e.abrupt(
                              "return",
                              createImageBitmap(t).then(
                                function () {
                                  return !0;
                                },
                                function () {
                                  return !1;
                                }
                              )
                            )
                          );
                        case 7:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              )),
              function () {
                return _test.apply(this, arguments);
              }),
            add:
              ((_add = _asyncToGenerator(
                _regeneratorRuntime().mark(function e(t) {
                  return _regeneratorRuntime().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return e.abrupt(
                            "return",
                            [].concat(_toConsumableArray(t), ["avif"])
                          );
                        case 1:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              )),
              function (e) {
                return _add.apply(this, arguments);
              }),
            remove:
              ((_remove2 = _asyncToGenerator(
                _regeneratorRuntime().mark(function e(t) {
                  return _regeneratorRuntime().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return e.abrupt(
                            "return",
                            t.filter(function (e) {
                              return "avif" !== e;
                            })
                          );
                        case 1:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              )),
              function (e) {
                return _remove2.apply(this, arguments);
              })
          },
          _remove2,
          _add,
          _test;
        extensions$1.add(detectAvif);
        var detectWebp = {
            extension: { type: ExtensionType.DetectionParser, priority: 0 },
            test:
              ((_test2 = _asyncToGenerator(
                _regeneratorRuntime().mark(function e() {
                  var t;
                  return _regeneratorRuntime().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (globalThis.createImageBitmap) {
                            e.next = 2;
                            break;
                          }
                          return e.abrupt("return", !1);
                        case 2:
                          return (
                            (e.next = 5),
                            settings.ADAPTER.fetch(
                              "data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="
                            ).then(function (e) {
                              return e.blob();
                            })
                          );
                        case 5:
                          return (
                            (t = e.sent),
                            e.abrupt(
                              "return",
                              createImageBitmap(t).then(
                                function () {
                                  return !0;
                                },
                                function () {
                                  return !1;
                                }
                              )
                            )
                          );
                        case 7:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              )),
              function () {
                return _test2.apply(this, arguments);
              }),
            add:
              ((_add2 = _asyncToGenerator(
                _regeneratorRuntime().mark(function e(t) {
                  return _regeneratorRuntime().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return e.abrupt(
                            "return",
                            [].concat(_toConsumableArray(t), ["webp"])
                          );
                        case 1:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              )),
              function (e) {
                return _add2.apply(this, arguments);
              }),
            remove:
              ((_remove3 = _asyncToGenerator(
                _regeneratorRuntime().mark(function e(t) {
                  return _regeneratorRuntime().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return e.abrupt(
                            "return",
                            t.filter(function (e) {
                              return "webp" !== e;
                            })
                          );
                        case 1:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              )),
              function (e) {
                return _remove3.apply(this, arguments);
              })
          },
          _remove3,
          _add2,
          _test2;
        extensions$1.add(detectWebp);
        var imageFormats = ["png", "jpg", "jpeg"],
          detectDefaults = {
            extension: { type: ExtensionType.DetectionParser, priority: -1 },
            test: function () {
              return Promise.resolve(!0);
            },
            add:
              ((_add3 = _asyncToGenerator(
                _regeneratorRuntime().mark(function e(t) {
                  return _regeneratorRuntime().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return e.abrupt(
                            "return",
                            [].concat(_toConsumableArray(t), imageFormats)
                          );
                        case 1:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              )),
              function (e) {
                return _add3.apply(this, arguments);
              }),
            remove:
              ((_remove4 = _asyncToGenerator(
                _regeneratorRuntime().mark(function e(t) {
                  return _regeneratorRuntime().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return e.abrupt(
                            "return",
                            t.filter(function (e) {
                              return !imageFormats.includes(e);
                            })
                          );
                        case 1:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              )),
              function (e) {
                return _remove4.apply(this, arguments);
              })
          },
          _remove4,
          _add3;
        extensions$1.add(detectDefaults);
        var resolveTextureUrl = {
          extension: ExtensionType.ResolveParser,
          test: loadTextures.test,
          parse: function (e) {
            var t, r;
            return {
              resolution: parseFloat(
                null !==
                  (t =
                    null === (r = settings.RETINA_PREFIX.exec(e)) ||
                    void 0 === r
                      ? void 0
                      : r[1]) && void 0 !== t
                  ? t
                  : "1"
              ),
              format: e.split(".").pop(),
              src: e
            };
          }
        };
        extensions$1.add(resolveTextureUrl);
        var INTERNAL_FORMATS = (function (e) {
            return (
              (e[(e.COMPRESSED_RGB_S3TC_DXT1_EXT = 33776)] =
                "COMPRESSED_RGB_S3TC_DXT1_EXT"),
              (e[(e.COMPRESSED_RGBA_S3TC_DXT1_EXT = 33777)] =
                "COMPRESSED_RGBA_S3TC_DXT1_EXT"),
              (e[(e.COMPRESSED_RGBA_S3TC_DXT3_EXT = 33778)] =
                "COMPRESSED_RGBA_S3TC_DXT3_EXT"),
              (e[(e.COMPRESSED_RGBA_S3TC_DXT5_EXT = 33779)] =
                "COMPRESSED_RGBA_S3TC_DXT5_EXT"),
              (e[(e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT = 35917)] =
                "COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT"),
              (e[(e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT = 35918)] =
                "COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT"),
              (e[(e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT = 35919)] =
                "COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT"),
              (e[(e.COMPRESSED_SRGB_S3TC_DXT1_EXT = 35916)] =
                "COMPRESSED_SRGB_S3TC_DXT1_EXT"),
              (e[(e.COMPRESSED_R11_EAC = 37488)] = "COMPRESSED_R11_EAC"),
              (e[(e.COMPRESSED_SIGNED_R11_EAC = 37489)] =
                "COMPRESSED_SIGNED_R11_EAC"),
              (e[(e.COMPRESSED_RG11_EAC = 37490)] = "COMPRESSED_RG11_EAC"),
              (e[(e.COMPRESSED_SIGNED_RG11_EAC = 37491)] =
                "COMPRESSED_SIGNED_RG11_EAC"),
              (e[(e.COMPRESSED_RGB8_ETC2 = 37492)] = "COMPRESSED_RGB8_ETC2"),
              (e[(e.COMPRESSED_RGBA8_ETC2_EAC = 37496)] =
                "COMPRESSED_RGBA8_ETC2_EAC"),
              (e[(e.COMPRESSED_SRGB8_ETC2 = 37493)] = "COMPRESSED_SRGB8_ETC2"),
              (e[(e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC = 37497)] =
                "COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"),
              (e[(e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2 = 37494)] =
                "COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2"),
              (e[(e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2 = 37495)] =
                "COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2"),
              (e[(e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG = 35840)] =
                "COMPRESSED_RGB_PVRTC_4BPPV1_IMG"),
              (e[(e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG = 35842)] =
                "COMPRESSED_RGBA_PVRTC_4BPPV1_IMG"),
              (e[(e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG = 35841)] =
                "COMPRESSED_RGB_PVRTC_2BPPV1_IMG"),
              (e[(e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG = 35843)] =
                "COMPRESSED_RGBA_PVRTC_2BPPV1_IMG"),
              (e[(e.COMPRESSED_RGB_ETC1_WEBGL = 36196)] =
                "COMPRESSED_RGB_ETC1_WEBGL"),
              (e[(e.COMPRESSED_RGB_ATC_WEBGL = 35986)] =
                "COMPRESSED_RGB_ATC_WEBGL"),
              (e[(e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL = 35986)] =
                "COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL"),
              (e[(e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL = 34798)] =
                "COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"),
              (e[(e.COMPRESSED_RGBA_ASTC_4x4_KHR = 37808)] =
                "COMPRESSED_RGBA_ASTC_4x4_KHR"),
              e
            );
          })(INTERNAL_FORMATS || {}),
          INTERNAL_FORMAT_TO_BYTES_PER_PIXEL =
            ((_INTERNAL_FORMAT_TO_B = {}),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 33776, 0.5),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 33777, 0.5),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 33778, 1),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 33779, 1),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 35916, 0.5),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 35917, 0.5),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 35918, 1),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 35919, 1),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 37488, 0.5),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 37489, 0.5),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 37490, 1),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 37491, 1),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 37492, 0.5),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 37496, 1),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 37493, 0.5),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 37497, 1),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 37494, 0.5),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 37495, 0.5),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 35840, 0.5),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 35842, 0.5),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 35841, 0.25),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 35843, 0.25),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 36196, 0.5),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 35986, 0.5),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 35986, 1),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 34798, 1),
            _defineProperty(_INTERNAL_FORMAT_TO_B, 37808, 1),
            _INTERNAL_FORMAT_TO_B),
          storedGl,
          extensions;
        function getCompressedTextureExtensions() {
          extensions = {
            s3tc: storedGl.getExtension("WEBGL_compressed_texture_s3tc"),
            s3tc_sRGB: storedGl.getExtension(
              "WEBGL_compressed_texture_s3tc_srgb"
            ),
            etc: storedGl.getExtension("WEBGL_compressed_texture_etc"),
            etc1: storedGl.getExtension("WEBGL_compressed_texture_etc1"),
            pvrtc:
              storedGl.getExtension("WEBGL_compressed_texture_pvrtc") ||
              storedGl.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),
            atc: storedGl.getExtension("WEBGL_compressed_texture_atc"),
            astc: storedGl.getExtension("WEBGL_compressed_texture_astc")
          };
        }
        var detectCompressedTextures = {
            extension: { type: ExtensionType.DetectionParser, priority: 2 },
            test:
              ((_test3 = _asyncToGenerator(
                _regeneratorRuntime().mark(function e() {
                  var t, r;
                  return _regeneratorRuntime().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (
                            ((t = settings.ADAPTER.createCanvas()),
                            (r = t.getContext("webgl")))
                          ) {
                            e.next = 5;
                            break;
                          }
                          return (
                            console.warn(
                              "WebGL not available for compressed textures."
                            ),
                            e.abrupt("return", !1)
                          );
                        case 5:
                          return (storedGl = r), e.abrupt("return", !0);
                        case 7:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              )),
              function () {
                return _test3.apply(this, arguments);
              }),
            add:
              ((_add4 = _asyncToGenerator(
                _regeneratorRuntime().mark(function e(t) {
                  var r, n;
                  return _regeneratorRuntime().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          extensions || getCompressedTextureExtensions(),
                            (r = []),
                            (e.t0 = _regeneratorRuntime().keys(extensions));
                        case 3:
                          if ((e.t1 = e.t0()).done) {
                            e.next = 11;
                            break;
                          }
                          if (((n = e.t1.value), extensions[n])) {
                            e.next = 8;
                            break;
                          }
                          return e.abrupt("continue", 3);
                        case 8:
                          r.push(n), (e.next = 3);
                          break;
                        case 11:
                          return e.abrupt(
                            "return",
                            [].concat(r, _toConsumableArray(t))
                          );
                        case 12:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              )),
              function (e) {
                return _add4.apply(this, arguments);
              }),
            remove:
              ((_remove5 = _asyncToGenerator(
                _regeneratorRuntime().mark(function e(t) {
                  return _regeneratorRuntime().wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            extensions || getCompressedTextureExtensions(),
                            e.abrupt(
                              "return",
                              t.filter(function (e) {
                                return !(e in extensions);
                              })
                            )
                          );
                        case 2:
                        case "end":
                          return e.stop();
                      }
                  }, e);
                })
              )),
              function (e) {
                return _remove5.apply(this, arguments);
              })
          },
          _remove5,
          _add4,
          _test3;
        extensions$1.add(detectCompressedTextures);
        var BlobResource = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e) {
              var n,
                i,
                a,
                s =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : { width: 1, height: 1, autoLoad: !0 };
              return (
                _classCallCheck(this, r),
                "string" == typeof e
                  ? ((i = e), (a = new Uint8Array()))
                  : ((i = null), (a = e)),
                ((n = t.call(this, a, s)).origin = i),
                (n.buffer = a ? new ViewableBuffer(a) : null),
                (n._load = null),
                (n.loaded = !1),
                null !== n.origin && !1 !== s.autoLoad && n.load(),
                null === n.origin &&
                  n.buffer &&
                  ((n._load = Promise.resolve(_assertThisInitialized2(n))),
                  (n.loaded = !0),
                  n.onBlobLoaded(n.buffer.rawBinaryData)),
                n
              );
            }
            return (
              _createClass(r, [
                { key: "onBlobLoaded", value: function (e) {} },
                {
                  key: "load",
                  value: function () {
                    var e = this;
                    return (
                      this._load ||
                        (this._load = fetch(this.origin)
                          .then(function (e) {
                            return e.blob();
                          })
                          .then(function (e) {
                            return e.arrayBuffer();
                          })
                          .then(function (t) {
                            return (
                              (e.data = new Uint32Array(t)),
                              (e.buffer = new ViewableBuffer(t)),
                              (e.loaded = !0),
                              e.onBlobLoaded(t),
                              e.update(),
                              e
                            );
                          })),
                      this._load
                    );
                  }
                }
              ]),
              r
            );
          })(BufferResource),
          CompressedTextureResource = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e, n) {
              var i;
              return (
                _classCallCheck(this, r),
                ((i = t.call(this, e, n)).format = n.format),
                (i.levels = n.levels || 1),
                (i._width = n.width),
                (i._height = n.height),
                (i._extension = r._formatToExtension(i.format)),
                (n.levelBuffers || i.buffer) &&
                  (i._levelBuffers =
                    n.levelBuffers ||
                    r._createLevelBuffers(
                      e instanceof Uint8Array ? e : i.buffer.uint8View,
                      i.format,
                      i.levels,
                      4,
                      4,
                      i.width,
                      i.height
                    )),
                i
              );
            }
            return (
              _createClass(
                r,
                [
                  {
                    key: "upload",
                    value: function (e, t, r) {
                      var n = e.gl;
                      if (!e.context.extensions[this._extension])
                        throw new Error(
                          "".concat(
                            this._extension,
                            " textures are not supported on the current machine"
                          )
                        );
                      if (!this._levelBuffers) return !1;
                      for (var i = 0, a = this.levels; i < a; i++) {
                        var s = this._levelBuffers[i],
                          o = s.levelID,
                          u = s.levelWidth,
                          l = s.levelHeight,
                          c = s.levelBuffer;
                        n.compressedTexImage2D(
                          n.TEXTURE_2D,
                          o,
                          this.format,
                          u,
                          l,
                          0,
                          c
                        );
                      }
                      return !0;
                    }
                  },
                  {
                    key: "onBlobLoaded",
                    value: function () {
                      this._levelBuffers = r._createLevelBuffers(
                        this.buffer.uint8View,
                        this.format,
                        this.levels,
                        4,
                        4,
                        this.width,
                        this.height
                      );
                    }
                  }
                ],
                [
                  {
                    key: "_formatToExtension",
                    value: function (e) {
                      if (e >= 33776 && e <= 33779) return "s3tc";
                      if (e >= 37488 && e <= 37497) return "etc";
                      if (e >= 35840 && e <= 35843) return "pvrtc";
                      if (e >= 36196) return "etc1";
                      if (e >= 35986 && e <= 34798) return "atc";
                      throw new Error(
                        "Invalid (compressed) texture format given!"
                      );
                    }
                  },
                  {
                    key: "_createLevelBuffers",
                    value: function (e, t, r, n, i, a, s) {
                      for (
                        var o = new Array(r),
                          u = e.byteOffset,
                          l = a,
                          c = s,
                          h = (l + n - 1) & ~(n - 1),
                          f = (c + i - 1) & ~(i - 1),
                          d = h * f * INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t],
                          p = 0;
                        p < r;
                        p++
                      )
                        (o[p] = {
                          levelID: p,
                          levelWidth: r > 1 ? l : h,
                          levelHeight: r > 1 ? c : f,
                          levelBuffer: new Uint8Array(e.buffer, u, d)
                        }),
                          (u += d),
                          (d =
                            (h = ((l = l >> 1 || 1) + n - 1) & ~(n - 1)) *
                            (f = ((c = c >> 1 || 1) + i - 1) & ~(i - 1)) *
                            INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t]);
                      return o;
                    }
                  }
                ]
              ),
              r
            );
          })(BlobResource),
          DDS_MAGIC_SIZE = 4,
          DDS_HEADER_SIZE = 124,
          DDS_HEADER_PF_SIZE = 32,
          DDS_HEADER_DX10_SIZE = 20,
          DDS_MAGIC = 542327876,
          DDS_FIELDS = {
            SIZE: 1,
            FLAGS: 2,
            HEIGHT: 3,
            WIDTH: 4,
            MIPMAP_COUNT: 7,
            PIXEL_FORMAT: 19
          },
          DDS_PF_FIELDS = {
            SIZE: 0,
            FLAGS: 1,
            FOURCC: 2,
            RGB_BITCOUNT: 3,
            R_BIT_MASK: 4,
            G_BIT_MASK: 5,
            B_BIT_MASK: 6,
            A_BIT_MASK: 7
          },
          DDS_DX10_FIELDS = {
            DXGI_FORMAT: 0,
            RESOURCE_DIMENSION: 1,
            MISC_FLAG: 2,
            ARRAY_SIZE: 3,
            MISC_FLAGS2: 4
          },
          PF_FLAGS = 1,
          DDPF_ALPHA = 2,
          DDPF_FOURCC = 4,
          DDPF_RGB = 64,
          DDPF_YUV = 512,
          DDPF_LUMINANCE = 131072,
          FOURCC_DXT1 = 827611204,
          FOURCC_DXT3 = 861165636,
          FOURCC_DXT5 = 894720068,
          FOURCC_DX10 = 808540228,
          DDS_RESOURCE_MISC_TEXTURECUBE = 4,
          FOURCC_TO_FORMAT =
            ((_FOURCC_TO_FORMAT = {}),
            _defineProperty(
              _FOURCC_TO_FORMAT,
              FOURCC_DXT1,
              INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT
            ),
            _defineProperty(
              _FOURCC_TO_FORMAT,
              FOURCC_DXT3,
              INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT
            ),
            _defineProperty(
              _FOURCC_TO_FORMAT,
              FOURCC_DXT5,
              INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT
            ),
            _FOURCC_TO_FORMAT),
          DXGI_TO_FORMAT =
            ((_DXGI_TO_FORMAT = {}),
            _defineProperty(
              _DXGI_TO_FORMAT,
              70,
              INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT
            ),
            _defineProperty(
              _DXGI_TO_FORMAT,
              71,
              INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT
            ),
            _defineProperty(
              _DXGI_TO_FORMAT,
              73,
              INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT
            ),
            _defineProperty(
              _DXGI_TO_FORMAT,
              74,
              INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT
            ),
            _defineProperty(
              _DXGI_TO_FORMAT,
              76,
              INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT
            ),
            _defineProperty(
              _DXGI_TO_FORMAT,
              77,
              INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT
            ),
            _defineProperty(
              _DXGI_TO_FORMAT,
              72,
              INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT
            ),
            _defineProperty(
              _DXGI_TO_FORMAT,
              75,
              INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT
            ),
            _defineProperty(
              _DXGI_TO_FORMAT,
              78,
              INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT
            ),
            _DXGI_TO_FORMAT);
        function parseDDS(e) {
          var t = new Uint32Array(e);
          if (t[0] !== DDS_MAGIC)
            throw new Error("Invalid DDS file magic word");
          var r = new Uint32Array(
              e,
              0,
              DDS_HEADER_SIZE / Uint32Array.BYTES_PER_ELEMENT
            ),
            n = r[DDS_FIELDS.HEIGHT],
            i = r[DDS_FIELDS.WIDTH],
            a = r[DDS_FIELDS.MIPMAP_COUNT],
            s = new Uint32Array(
              e,
              DDS_FIELDS.PIXEL_FORMAT * Uint32Array.BYTES_PER_ELEMENT,
              DDS_HEADER_PF_SIZE / Uint32Array.BYTES_PER_ELEMENT
            ),
            o = s[PF_FLAGS];
          if (o & DDPF_FOURCC) {
            var u = s[DDS_PF_FIELDS.FOURCC];
            if (u !== FOURCC_DX10) {
              var l = FOURCC_TO_FORMAT[u],
                c = new Uint8Array(e, DDS_MAGIC_SIZE + DDS_HEADER_SIZE);
              return [
                new CompressedTextureResource(c, {
                  format: l,
                  width: i,
                  height: n,
                  levels: a
                })
              ];
            }
            var h = DDS_MAGIC_SIZE + DDS_HEADER_SIZE,
              f = new Uint32Array(
                t.buffer,
                h,
                DDS_HEADER_DX10_SIZE / Uint32Array.BYTES_PER_ELEMENT
              ),
              d = f[DDS_DX10_FIELDS.DXGI_FORMAT],
              p = f[DDS_DX10_FIELDS.RESOURCE_DIMENSION],
              _ = f[DDS_DX10_FIELDS.MISC_FLAG],
              v = f[DDS_DX10_FIELDS.ARRAY_SIZE],
              m = DXGI_TO_FORMAT[d];
            if (void 0 === m)
              throw new Error(
                "DDSParser cannot parse texture data with DXGI format ".concat(
                  d
                )
              );
            if (_ === DDS_RESOURCE_MISC_TEXTURECUBE)
              throw new Error("DDSParser does not support cubemap textures");
            if (6 === p)
              throw new Error("DDSParser does not supported 3D texture data");
            var g = new Array(),
              y = DDS_MAGIC_SIZE + DDS_HEADER_SIZE + DDS_HEADER_DX10_SIZE;
            if (1 === v) g.push(new Uint8Array(e, y));
            else {
              for (
                var T = INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[m],
                  x = 0,
                  E = i,
                  b = n,
                  S = 0;
                S < a;
                S++
              ) {
                (x +=
                  Math.max(1, (E + 3) & -4) * Math.max(1, (b + 3) & -4) * T),
                  (E >>>= 1),
                  (b >>>= 1);
              }
              for (var A = y, C = 0; C < v; C++)
                g.push(new Uint8Array(e, A, x)), (A += x);
            }
            return g.map(function (e) {
              return new CompressedTextureResource(e, {
                format: m,
                width: i,
                height: n,
                levels: a
              });
            });
          }
          if (o & DDPF_RGB)
            throw new Error(
              "DDSParser does not support uncompressed texture data."
            );
          if (o & DDPF_YUV)
            throw new Error(
              "DDSParser does not supported YUV uncompressed texture data."
            );
          if (o & DDPF_LUMINANCE)
            throw new Error(
              "DDSParser does not support single-channel (lumninance) texture data!"
            );
          if (o & DDPF_ALPHA)
            throw new Error(
              "DDSParser does not support single-channel (alpha) texture data!"
            );
          throw new Error(
            "DDSParser failed to load a texture file due to an unknown reason!"
          );
        }
        var FILE_IDENTIFIER = [
            171,
            75,
            84,
            88,
            32,
            49,
            49,
            187,
            13,
            10,
            26,
            10
          ],
          ENDIANNESS = 67305985,
          KTX_FIELDS = {
            FILE_IDENTIFIER: 0,
            ENDIANNESS: 12,
            GL_TYPE: 16,
            GL_TYPE_SIZE: 20,
            GL_FORMAT: 24,
            GL_INTERNAL_FORMAT: 28,
            GL_BASE_INTERNAL_FORMAT: 32,
            PIXEL_WIDTH: 36,
            PIXEL_HEIGHT: 40,
            PIXEL_DEPTH: 44,
            NUMBER_OF_ARRAY_ELEMENTS: 48,
            NUMBER_OF_FACES: 52,
            NUMBER_OF_MIPMAP_LEVELS: 56,
            BYTES_OF_KEY_VALUE_DATA: 60
          },
          FILE_HEADER_SIZE = 64,
          TYPES_TO_BYTES_PER_COMPONENT =
            ((_TYPES_TO_BYTES_PER_C = {}),
            _defineProperty(_TYPES_TO_BYTES_PER_C, TYPES.UNSIGNED_BYTE, 1),
            _defineProperty(_TYPES_TO_BYTES_PER_C, TYPES.UNSIGNED_SHORT, 2),
            _defineProperty(_TYPES_TO_BYTES_PER_C, TYPES.INT, 4),
            _defineProperty(_TYPES_TO_BYTES_PER_C, TYPES.UNSIGNED_INT, 4),
            _defineProperty(_TYPES_TO_BYTES_PER_C, TYPES.FLOAT, 4),
            _defineProperty(_TYPES_TO_BYTES_PER_C, TYPES.HALF_FLOAT, 8),
            _TYPES_TO_BYTES_PER_C),
          FORMATS_TO_COMPONENTS =
            ((_FORMATS_TO_COMPONENT = {}),
            _defineProperty(_FORMATS_TO_COMPONENT, FORMATS.RGBA, 4),
            _defineProperty(_FORMATS_TO_COMPONENT, FORMATS.RGB, 3),
            _defineProperty(_FORMATS_TO_COMPONENT, FORMATS.RG, 2),
            _defineProperty(_FORMATS_TO_COMPONENT, FORMATS.RED, 1),
            _defineProperty(_FORMATS_TO_COMPONENT, FORMATS.LUMINANCE, 1),
            _defineProperty(_FORMATS_TO_COMPONENT, FORMATS.LUMINANCE_ALPHA, 2),
            _defineProperty(_FORMATS_TO_COMPONENT, FORMATS.ALPHA, 1),
            _FORMATS_TO_COMPONENT),
          TYPES_TO_BYTES_PER_PIXEL =
            ((_TYPES_TO_BYTES_PER_P = {}),
            _defineProperty(
              _TYPES_TO_BYTES_PER_P,
              TYPES.UNSIGNED_SHORT_4_4_4_4,
              2
            ),
            _defineProperty(
              _TYPES_TO_BYTES_PER_P,
              TYPES.UNSIGNED_SHORT_5_5_5_1,
              2
            ),
            _defineProperty(
              _TYPES_TO_BYTES_PER_P,
              TYPES.UNSIGNED_SHORT_5_6_5,
              2
            ),
            _TYPES_TO_BYTES_PER_P);
        function parseKTX(e, t) {
          var r =
              arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
            n = new DataView(t);
          if (!validate(e, n)) return null;
          var i = n.getUint32(KTX_FIELDS.ENDIANNESS, !0) === ENDIANNESS,
            a = n.getUint32(KTX_FIELDS.GL_TYPE, i),
            s = n.getUint32(KTX_FIELDS.GL_FORMAT, i),
            o = n.getUint32(KTX_FIELDS.GL_INTERNAL_FORMAT, i),
            u = n.getUint32(KTX_FIELDS.PIXEL_WIDTH, i),
            l = n.getUint32(KTX_FIELDS.PIXEL_HEIGHT, i) || 1,
            c = n.getUint32(KTX_FIELDS.PIXEL_DEPTH, i) || 1,
            h = n.getUint32(KTX_FIELDS.NUMBER_OF_ARRAY_ELEMENTS, i) || 1,
            f = n.getUint32(KTX_FIELDS.NUMBER_OF_FACES, i),
            d = n.getUint32(KTX_FIELDS.NUMBER_OF_MIPMAP_LEVELS, i),
            p = n.getUint32(KTX_FIELDS.BYTES_OF_KEY_VALUE_DATA, i);
          if (0 === l || 1 !== c)
            throw new Error("Only 2D textures are supported");
          if (1 !== f)
            throw new Error("CubeTextures are not supported by KTXLoader yet!");
          if (1 !== h) throw new Error("WebGL does not support array textures");
          var _,
            v = (u + 3) & -4,
            m = (l + 3) & -4,
            g = new Array(h),
            y = u * l;
          if (
            (0 === a && (y = v * m),
            void 0 ===
              (_ =
                0 !== a
                  ? TYPES_TO_BYTES_PER_COMPONENT[a]
                    ? TYPES_TO_BYTES_PER_COMPONENT[a] * FORMATS_TO_COMPONENTS[s]
                    : TYPES_TO_BYTES_PER_PIXEL[a]
                  : INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[o]))
          )
            throw new Error(
              "Unable to resolve the pixel format stored in the *.ktx file!"
            );
          for (
            var T = r ? parseKvData(n, p, i) : null,
              x = y * _,
              E = u,
              b = l,
              S = v,
              A = m,
              C = FILE_HEADER_SIZE + p,
              P = 0;
            P < d;
            P++
          ) {
            for (var k = n.getUint32(C, i), w = C + 4, R = 0; R < h; R++) {
              var M = g[R];
              M || (M = g[R] = new Array(d)),
                (M[P] = {
                  levelID: P,
                  levelWidth: d > 1 || 0 !== a ? E : S,
                  levelHeight: d > 1 || 0 !== a ? b : A,
                  levelBuffer: new Uint8Array(t, w, x)
                }),
                (w += x);
            }
            (C = (C += k + 4) % 4 != 0 ? C + 4 - (C % 4) : C),
              (x =
                (S = ((E = E >> 1 || 1) + 4 - 1) & -4) *
                (A = ((b = b >> 1 || 1) + 4 - 1) & -4) *
                _);
          }
          return 0 !== a
            ? {
                uncompressed: g.map(function (e) {
                  var t = e[0].levelBuffer,
                    r = !1;
                  return (
                    a === TYPES.FLOAT
                      ? (t = new Float32Array(
                          e[0].levelBuffer.buffer,
                          e[0].levelBuffer.byteOffset,
                          e[0].levelBuffer.byteLength / 4
                        ))
                      : a === TYPES.UNSIGNED_INT
                      ? ((r = !0),
                        (t = new Uint32Array(
                          e[0].levelBuffer.buffer,
                          e[0].levelBuffer.byteOffset,
                          e[0].levelBuffer.byteLength / 4
                        )))
                      : a === TYPES.INT &&
                        ((r = !0),
                        (t = new Int32Array(
                          e[0].levelBuffer.buffer,
                          e[0].levelBuffer.byteOffset,
                          e[0].levelBuffer.byteLength / 4
                        ))),
                    {
                      resource: new BufferResource(t, {
                        width: e[0].levelWidth,
                        height: e[0].levelHeight
                      }),
                      type: a,
                      format: r ? convertFormatToInteger(s) : s
                    }
                  );
                }),
                kvData: T
              }
            : {
                compressed: g.map(function (e) {
                  return new CompressedTextureResource(null, {
                    format: o,
                    width: u,
                    height: l,
                    levels: d,
                    levelBuffers: e
                  });
                }),
                kvData: T
              };
        }
        function validate(e, t) {
          for (var r = 0; r < FILE_IDENTIFIER.length; r++)
            if (t.getUint8(r) !== FILE_IDENTIFIER[r])
              return (
                console.error("".concat(e, " is not a valid *.ktx file!")), !1
              );
          return !0;
        }
        function convertFormatToInteger(e) {
          switch (e) {
            case FORMATS.RGBA:
              return FORMATS.RGBA_INTEGER;
            case FORMATS.RGB:
              return FORMATS.RGB_INTEGER;
            case FORMATS.RG:
              return FORMATS.RG_INTEGER;
            case FORMATS.RED:
              return FORMATS.RED_INTEGER;
            default:
              return e;
          }
        }
        function parseKvData(e, t, r) {
          for (var n = new Map(), i = 0; i < t; ) {
            var a = e.getUint32(FILE_HEADER_SIZE + i, r),
              s = FILE_HEADER_SIZE + i + 4,
              o = 3 - ((a + 3) % 4);
            if (0 === a || a > t - i) {
              console.error("KTXLoader: keyAndValueByteSize out of bounds");
              break;
            }
            for (var u = 0; u < a && 0 !== e.getUint8(s + u); u++);
            if (-1 === u) {
              console.error(
                "KTXLoader: Failed to find null byte terminating kvData key"
              );
              break;
            }
            var l = new TextDecoder().decode(new Uint8Array(e.buffer, s, u)),
              c = new DataView(e.buffer, s + u + 1, a - u - 1);
            n.set(l, c), (i += 4 + a + o);
          }
          return n;
        }
        var loadDDS = {
          extension: {
            type: ExtensionType.LoadParser,
            priority: LoaderParserPriority.High
          },
          name: "loadDDS",
          test: function (e) {
            return checkExtension(e, ".dds");
          },
          load: function (e, t, r) {
            return _asyncToGenerator(
              _regeneratorRuntime().mark(function n() {
                var i, a, s, o;
                return _regeneratorRuntime().wrap(function (n) {
                  for (;;)
                    switch ((n.prev = n.next)) {
                      case 0:
                        return (n.next = 2), settings.ADAPTER.fetch(e);
                      case 2:
                        return (i = n.sent), (n.next = 5), i.arrayBuffer();
                      case 5:
                        return (
                          (a = n.sent),
                          (s = parseDDS(a)),
                          (o = s.map(function (n) {
                            return createTexture(
                              new BaseTexture(
                                n,
                                _objectSpread(
                                  {
                                    mipmap: MIPMAP_MODES.OFF,
                                    alphaMode:
                                      ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,
                                    resolution: getResolutionOfUrl(e)
                                  },
                                  t.data
                                )
                              ),
                              r,
                              e
                            );
                          })),
                          n.abrupt("return", 1 === o.length ? o[0] : o)
                        );
                      case 9:
                      case "end":
                        return n.stop();
                    }
                }, n);
              })
            )();
          },
          unload: function (e) {
            Array.isArray(e)
              ? e.forEach(function (e) {
                  return e.destroy(!0);
                })
              : e.destroy(!0);
          }
        };
        extensions$1.add(loadDDS);
        var loadKTX = {
          extension: {
            type: ExtensionType.LoadParser,
            priority: LoaderParserPriority.High
          },
          name: "loadKTX",
          test: function (e) {
            return checkExtension(e, ".ktx");
          },
          load: function (e, t, r) {
            return _asyncToGenerator(
              _regeneratorRuntime().mark(function n() {
                var i, a, s, o, u, l, c, h, f;
                return _regeneratorRuntime().wrap(function (n) {
                  for (;;)
                    switch ((n.prev = n.next)) {
                      case 0:
                        return (n.next = 2), settings.ADAPTER.fetch(e);
                      case 2:
                        return (i = n.sent), (n.next = 5), i.arrayBuffer();
                      case 5:
                        return (
                          (a = n.sent),
                          (s = parseKTX(e, a)),
                          (o = s.compressed),
                          (u = s.uncompressed),
                          (l = s.kvData),
                          (c = null != o ? o : u),
                          (h = _objectSpread(
                            {
                              mipmap: MIPMAP_MODES.OFF,
                              alphaMode: ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,
                              resolution: getResolutionOfUrl(e)
                            },
                            t.data
                          )),
                          (f = c.map(function (t) {
                            c === u &&
                              Object.assign(h, {
                                type: t.type,
                                format: t.format
                              });
                            var n = new BaseTexture(t, h);
                            return (
                              (n.ktxKeyValueData = l), createTexture(n, r, e)
                            );
                          })),
                          n.abrupt("return", 1 === f.length ? f[0] : f)
                        );
                      case 11:
                      case "end":
                        return n.stop();
                    }
                }, n);
              })
            )();
          },
          unload: function (e) {
            Array.isArray(e)
              ? e.forEach(function (e) {
                  return e.destroy(!0);
                })
              : e.destroy(!0);
          }
        };
        extensions$1.add(loadKTX);
        var resolveCompressedTextureUrl = {
          extension: ExtensionType.ResolveParser,
          test: function (e) {
            var t = e.split("?")[0].split(".").pop();
            return ["basis", "ktx", "dds"].includes(t);
          },
          parse: function (e) {
            var t, r;
            if ("ktx" === e.split("?")[0].split(".").pop()) {
              var n,
                i,
                a = [
                  ".s3tc.ktx",
                  ".s3tc_sRGB.ktx",
                  ".etc.ktx",
                  ".etc1.ktx",
                  ".pvrt.ktx",
                  ".atc.ktx",
                  ".astc.ktx"
                ];
              if (
                a.some(function (t) {
                  return e.endsWith(t);
                })
              )
                return {
                  resolution: parseFloat(
                    null !==
                      (n =
                        null === (i = settings.RETINA_PREFIX.exec(e)) ||
                        void 0 === i
                          ? void 0
                          : i[1]) && void 0 !== n
                      ? n
                      : "1"
                  ),
                  format: a.find(function (t) {
                    return e.endsWith(t);
                  }),
                  src: e
                };
            }
            return {
              resolution: parseFloat(
                null !==
                  (t =
                    null === (r = settings.RETINA_PREFIX.exec(e)) ||
                    void 0 === r
                      ? void 0
                      : r[1]) && void 0 !== t
                  ? t
                  : "1"
              ),
              format: e.split(".").pop(),
              src: e
            };
          }
        };
        extensions$1.add(resolveCompressedTextureUrl);
        var TEMP_RECT = new Rectangle(),
          BYTES_PER_PIXEL = 4,
          _Extract = (function () {
            function e(t) {
              _classCallCheck(this, e), (this.renderer = t);
            }
            var t, r;
            return (
              _createClass(
                e,
                [
                  {
                    key: "image",
                    value:
                      ((r = _asyncToGenerator(
                        _regeneratorRuntime().mark(function e(t, r, n) {
                          var i;
                          return _regeneratorRuntime().wrap(
                            function (e) {
                              for (;;)
                                switch ((e.prev = e.next)) {
                                  case 0:
                                    return (
                                      (i = new Image()),
                                      (e.next = 3),
                                      this.base64(t, r, n)
                                    );
                                  case 3:
                                    return (
                                      (i.src = e.sent), e.abrupt("return", i)
                                    );
                                  case 5:
                                  case "end":
                                    return e.stop();
                                }
                            },
                            e,
                            this
                          );
                        })
                      )),
                      function (e, t, n) {
                        return r.apply(this, arguments);
                      })
                  },
                  {
                    key: "base64",
                    value:
                      ((t = _asyncToGenerator(
                        _regeneratorRuntime().mark(function e(t, r, n) {
                          var i, a;
                          return _regeneratorRuntime().wrap(
                            function (e) {
                              for (;;)
                                switch ((e.prev = e.next)) {
                                  case 0:
                                    if (
                                      void 0 === (i = this.canvas(t)).toBlob
                                    ) {
                                      e.next = 3;
                                      break;
                                    }
                                    return e.abrupt(
                                      "return",
                                      new Promise(function (e, t) {
                                        i.toBlob(
                                          function (r) {
                                            if (r) {
                                              var n = new FileReader();
                                              (n.onload = function () {
                                                return e(n.result);
                                              }),
                                                (n.onerror = t),
                                                n.readAsDataURL(r);
                                            } else
                                              t(
                                                new Error(
                                                  "ICanvas.toBlob failed!"
                                                )
                                              );
                                          },
                                          r,
                                          n
                                        );
                                      })
                                    );
                                  case 3:
                                    if (void 0 === i.toDataURL) {
                                      e.next = 5;
                                      break;
                                    }
                                    return e.abrupt(
                                      "return",
                                      i.toDataURL(r, n)
                                    );
                                  case 5:
                                    if (void 0 === i.convertToBlob) {
                                      e.next = 10;
                                      break;
                                    }
                                    return (
                                      (e.next = 8),
                                      i.convertToBlob({ type: r, quality: n })
                                    );
                                  case 8:
                                    return (
                                      (a = e.sent),
                                      e.abrupt(
                                        "return",
                                        new Promise(function (e, t) {
                                          var r = new FileReader();
                                          (r.onload = function () {
                                            return e(r.result);
                                          }),
                                            (r.onerror = t),
                                            r.readAsDataURL(a);
                                        })
                                      )
                                    );
                                  case 10:
                                    throw new Error(
                                      "Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented"
                                    );
                                  case 11:
                                  case "end":
                                    return e.stop();
                                }
                            },
                            e,
                            this
                          );
                        })
                      )),
                      function (e, r, n) {
                        return t.apply(this, arguments);
                      })
                  },
                  {
                    key: "canvas",
                    value: function (t, r) {
                      var n = this._rawPixels(t, r),
                        i = n.pixels,
                        a = n.width,
                        s = n.height;
                      n.flipY && e._flipY(i, a, s), e._unpremultiplyAlpha(i);
                      var o = new CanvasRenderTarget(a, s, 1),
                        u = new ImageData(
                          new Uint8ClampedArray(i.buffer),
                          a,
                          s
                        );
                      return o.context.putImageData(u, 0, 0), o.canvas;
                    }
                  },
                  {
                    key: "pixels",
                    value: function (t, r) {
                      var n = this._rawPixels(t, r),
                        i = n.pixels,
                        a = n.width,
                        s = n.height;
                      return (
                        n.flipY && e._flipY(i, a, s),
                        e._unpremultiplyAlpha(i),
                        i
                      );
                    }
                  },
                  {
                    key: "_rawPixels",
                    value: function (e, t) {
                      var r,
                        n = this.renderer;
                      if (!n)
                        throw new Error(
                          "The Extract has already been destroyed"
                        );
                      var i,
                        a,
                        s = !1,
                        o = !1;
                      if (
                        (e &&
                          (e instanceof RenderTexture
                            ? (i = e)
                            : ((i = n.generateTexture(e, {
                                resolution: n.resolution,
                                multisample: n.multisample
                              })),
                              (o = !0))),
                        i)
                      ) {
                        if (
                          ((r = i.baseTexture.resolution),
                          (t = null !== (a = t) && void 0 !== a ? a : i.frame),
                          (s = !1),
                          !o)
                        ) {
                          n.renderTexture.bind(i);
                          var u = i.framebuffer.glFramebuffers[n.CONTEXT_UID];
                          u.blitFramebuffer &&
                            n.framebuffer.bind(u.blitFramebuffer);
                        }
                      } else
                        (r = n.resolution),
                          t ||
                            (((t = TEMP_RECT).width = n.width / r),
                            (t.height = n.height / r)),
                          (s = !0),
                          n.renderTexture.bind();
                      var l,
                        c = Math.round(t.width * r),
                        h = Math.round(t.height * r),
                        f = new Uint8Array(BYTES_PER_PIXEL * c * h),
                        d = n.gl;
                      (d.readPixels(
                        Math.round(t.x * r),
                        Math.round(t.y * r),
                        c,
                        h,
                        d.RGBA,
                        d.UNSIGNED_BYTE,
                        f
                      ),
                      o) &&
                        (null === (l = i) || void 0 === l || l.destroy(!0));
                      return { pixels: f, width: c, height: h, flipY: s };
                    }
                  },
                  {
                    key: "destroy",
                    value: function () {
                      this.renderer = null;
                    }
                  }
                ],
                [
                  {
                    key: "_flipY",
                    value: function (e, t, r) {
                      for (
                        var n = t << 2,
                          i = r >> 1,
                          a = new Uint8Array(n),
                          s = 0;
                        s < i;
                        s++
                      ) {
                        var o = s * n,
                          u = (r - s - 1) * n;
                        a.set(e.subarray(o, o + n)),
                          e.copyWithin(o, u, u + n),
                          e.set(a, u);
                      }
                    }
                  },
                  {
                    key: "_unpremultiplyAlpha",
                    value: function (e) {
                      e instanceof Uint8ClampedArray &&
                        (e = new Uint8Array(e.buffer));
                      for (var t = e.length, r = 0; r < t; r += 4) {
                        var n = e[r + 3];
                        if (0 !== n) {
                          var i = 255.001 / n;
                          (e[r] = e[r] * i + 0.5),
                            (e[r + 1] = e[r + 1] * i + 0.5),
                            (e[r + 2] = e[r + 2] * i + 0.5);
                        }
                      }
                    }
                  }
                ]
              ),
              e
            );
          })(),
          Extract = _Extract;
        (Extract.extension = {
          name: "extract",
          type: ExtensionType.RendererSystem
        }),
          extensions$1.add(Extract);
        var buildCircle = {
          build: function (e) {
            var t,
              r,
              n,
              i,
              a,
              s,
              o = e.points;
            if (e.type === SHAPES.CIRC) {
              var u = e.shape;
              (t = u.x), (r = u.y), (a = s = u.radius), (n = i = 0);
            } else if (e.type === SHAPES.ELIP) {
              var l = e.shape;
              (t = l.x), (r = l.y), (a = l.width), (s = l.height), (n = i = 0);
            } else {
              var c = e.shape,
                h = c.width / 2,
                f = c.height / 2;
              (t = c.x + h),
                (r = c.y + f),
                (n =
                  h -
                  (a = s = Math.max(0, Math.min(c.radius, Math.min(h, f))))),
                (i = f - s);
            }
            if (a >= 0 && s >= 0 && n >= 0 && i >= 0) {
              var d = Math.ceil(2.3 * Math.sqrt(a + s)),
                p = 8 * d + (n ? 4 : 0) + (i ? 4 : 0);
              if (((o.length = p), 0 !== p)) {
                if (0 === d)
                  return (
                    (o.length = 8),
                    (o[0] = o[6] = t + n),
                    (o[1] = o[3] = r + i),
                    (o[2] = o[4] = t - n),
                    void (o[5] = o[7] = r - i)
                  );
                var _ = 0,
                  v = 4 * d + (n ? 2 : 0) + 2,
                  m = v,
                  g = p,
                  y = n + a,
                  T = i,
                  x = t + y,
                  E = t - y,
                  b = r + T;
                if (
                  ((o[_++] = x), (o[_++] = b), (o[--v] = b), (o[--v] = E), i)
                ) {
                  var S = r - T;
                  (o[m++] = E), (o[m++] = S), (o[--g] = S), (o[--g] = x);
                }
                for (var A = 1; A < d; A++) {
                  var C = (Math.PI / 2) * (A / d),
                    P = n + Math.cos(C) * a,
                    k = i + Math.sin(C) * s,
                    w = t + P,
                    R = t - P,
                    M = r + k,
                    I = r - k;
                  (o[_++] = w),
                    (o[_++] = M),
                    (o[--v] = M),
                    (o[--v] = R),
                    (o[m++] = R),
                    (o[m++] = I),
                    (o[--g] = I),
                    (o[--g] = w);
                }
                var O = i + s,
                  D = t + n,
                  F = t - n,
                  N = r + O,
                  L = r - O;
                (o[_++] = D),
                  (o[_++] = N),
                  (o[--g] = L),
                  (o[--g] = D),
                  n && ((o[_++] = F), (o[_++] = N), (o[--g] = L), (o[--g] = F));
              }
            } else o.length = 0;
          },
          triangulate: function (e, t) {
            var r = e.points,
              n = t.points,
              i = t.indices;
            if (0 !== r.length) {
              var a,
                s,
                o = n.length / 2,
                u = o;
              if (e.type !== SHAPES.RREC) {
                var l = e.shape;
                (a = l.x), (s = l.y);
              } else {
                var c = e.shape;
                (a = c.x + c.width / 2), (s = c.y + c.height / 2);
              }
              var h = e.matrix;
              n.push(
                e.matrix ? h.a * a + h.c * s + h.tx : a,
                e.matrix ? h.b * a + h.d * s + h.ty : s
              ),
                o++,
                n.push(r[0], r[1]);
              for (var f = 2; f < r.length; f += 2)
                n.push(r[f], r[f + 1]), i.push(o++, u, o);
              i.push(u + 1, u, o);
            }
          }
        };
        function fixOrientation(e) {
          var t =
              arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
            r = e.length;
          if (!(r < 6)) {
            for (var n = 0, i = 0, a = e[r - 2], s = e[r - 1]; i < r; i += 2) {
              var o = e[i],
                u = e[i + 1];
              (n += (o - a) * (u + s)), (a = o), (s = u);
            }
            if ((!t && n > 0) || (t && n <= 0))
              for (var l = r / 2, c = l + (l % 2); c < r; c += 2) {
                var h = r - c - 2,
                  f = r - c - 1,
                  d = c,
                  p = c + 1,
                  _ = [e[d], e[h]];
                (e[h] = _[0]), (e[d] = _[1]);
                var v = [e[p], e[f]];
                (e[f] = v[0]), (e[p] = v[1]);
              }
          }
        }
        var buildPoly = {
            build: function (e) {
              e.points = e.shape.points.slice();
            },
            triangulate: function (e, t) {
              var r = e.points,
                n = e.holes,
                i = t.points,
                a = t.indices;
              if (r.length >= 6) {
                fixOrientation(r, !1);
                for (var s = [], o = 0; o < n.length; o++) {
                  var u = n[o];
                  fixOrientation(u.points, !0),
                    s.push(r.length / 2),
                    (r = r.concat(u.points));
                }
                var l = earcut$1(r, s, 2);
                if (!l) return;
                for (var c = i.length / 2, h = 0; h < l.length; h += 3)
                  a.push(l[h] + c), a.push(l[h + 1] + c), a.push(l[h + 2] + c);
                for (var f = 0; f < r.length; f++) i.push(r[f]);
              }
            }
          },
          buildRectangle = {
            build: function (e) {
              var t = e.shape,
                r = t.x,
                n = t.y,
                i = t.width,
                a = t.height,
                s = e.points;
              (s.length = 0),
                i >= 0 &&
                  a >= 0 &&
                  s.push(r, n, r + i, n, r + i, n + a, r, n + a);
            },
            triangulate: function (e, t) {
              var r = e.points,
                n = t.points;
              if (0 !== r.length) {
                var i = n.length / 2;
                n.push(r[0], r[1], r[2], r[3], r[6], r[7], r[4], r[5]),
                  t.indices.push(i, i + 1, i + 2, i + 1, i + 2, i + 3);
              }
            }
          },
          buildRoundedRectangle = {
            build: function (e) {
              buildCircle.build(e);
            },
            triangulate: function (e, t) {
              buildCircle.triangulate(e, t);
            }
          },
          LINE_JOIN = (function (e) {
            return (
              (e.MITER = "miter"), (e.BEVEL = "bevel"), (e.ROUND = "round"), e
            );
          })(LINE_JOIN || {}),
          LINE_CAP = (function (e) {
            return (
              (e.BUTT = "butt"), (e.ROUND = "round"), (e.SQUARE = "square"), e
            );
          })(LINE_CAP || {}),
          curves = {
            adaptive: !0,
            maxLength: 10,
            minSegments: 8,
            maxSegments: 2048,
            epsilon: 1e-4,
            _segmentsCount: function (e) {
              var t =
                arguments.length > 1 && void 0 !== arguments[1]
                  ? arguments[1]
                  : 20;
              if (!this.adaptive || !e || isNaN(e)) return t;
              var r = Math.ceil(e / this.maxLength);
              return (
                r < this.minSegments
                  ? (r = this.minSegments)
                  : r > this.maxSegments && (r = this.maxSegments),
                r
              );
            }
          },
          ArcUtils = (function () {
            function e() {
              _classCallCheck(this, e);
            }
            return (
              _createClass(e, null, [
                {
                  key: "curveTo",
                  value: function (e, t, r, n, i, a) {
                    var s = a[a.length - 2],
                      o = a[a.length - 1] - t,
                      u = s - e,
                      l = n - t,
                      c = r - e,
                      h = Math.abs(o * c - u * l);
                    if (h < 1e-8 || 0 === i)
                      return (
                        (a[a.length - 2] === e && a[a.length - 1] === t) ||
                          a.push(e, t),
                        null
                      );
                    var f = o * o + u * u,
                      d = l * l + c * c,
                      p = o * l + u * c,
                      _ = (i * Math.sqrt(f)) / h,
                      v = (i * Math.sqrt(d)) / h,
                      m = (_ * p) / f,
                      g = (v * p) / d,
                      y = _ * c + v * u,
                      T = _ * l + v * o,
                      x = u * (v + m),
                      E = o * (v + m),
                      b = c * (_ + g),
                      S = l * (_ + g);
                    return {
                      cx: y + e,
                      cy: T + t,
                      radius: i,
                      startAngle: Math.atan2(E - T, x - y),
                      endAngle: Math.atan2(S - T, b - y),
                      anticlockwise: u * l > c * o
                    };
                  }
                },
                {
                  key: "arc",
                  value: function (e, t, r, n, i, a, s, o, u) {
                    for (
                      var l = s - a,
                        c = curves._segmentsCount(
                          Math.abs(l) * i,
                          40 * Math.ceil(Math.abs(l) / PI_2)
                        ),
                        h = l / (2 * c),
                        f = 2 * h,
                        d = Math.cos(h),
                        p = Math.sin(h),
                        _ = c - 1,
                        v = (_ % 1) / _,
                        m = 0;
                      m <= _;
                      ++m
                    ) {
                      var g = h + a + f * (m + v * m),
                        y = Math.cos(g),
                        T = -Math.sin(g);
                      u.push((d * y + p * T) * i + r, (d * -T + p * y) * i + n);
                    }
                  }
                }
              ]),
              e
            );
          })(),
          BatchPart = (function () {
            function e() {
              _classCallCheck(this, e), this.reset();
            }
            return (
              _createClass(e, [
                {
                  key: "begin",
                  value: function (e, t, r) {
                    this.reset(),
                      (this.style = e),
                      (this.start = t),
                      (this.attribStart = r);
                  }
                },
                {
                  key: "end",
                  value: function (e, t) {
                    (this.attribSize = t - this.attribStart),
                      (this.size = e - this.start);
                  }
                },
                {
                  key: "reset",
                  value: function () {
                    (this.style = null),
                      (this.size = 0),
                      (this.start = 0),
                      (this.attribStart = 0),
                      (this.attribSize = 0);
                  }
                }
              ]),
              e
            );
          })(),
          BezierUtils = (function () {
            function e() {
              _classCallCheck(this, e);
            }
            return (
              _createClass(e, null, [
                {
                  key: "curveLength",
                  value: function (e, t, r, n, i, a, s, o) {
                    for (
                      var u = 0,
                        l = 0,
                        c = 0,
                        h = 0,
                        f = 0,
                        d = 0,
                        p = 0,
                        _ = 0,
                        v = 0,
                        m = 0,
                        g = 0,
                        y = e,
                        T = t,
                        x = 1;
                      x <= 10;
                      ++x
                    )
                      (m =
                        y -
                        (_ =
                          (p = (d = (f = 1 - (l = x / 10)) * f) * f) * e +
                          3 * d * l * r +
                          3 * f * (c = l * l) * i +
                          (h = c * l) * s)),
                        (g =
                          T -
                          (v = p * t + 3 * d * l * n + 3 * f * c * a + h * o)),
                        (y = _),
                        (T = v),
                        (u += Math.sqrt(m * m + g * g));
                    return u;
                  }
                },
                {
                  key: "curveTo",
                  value: function (t, r, n, i, a, s, o) {
                    var u = o[o.length - 2],
                      l = o[o.length - 1];
                    o.length -= 2;
                    var c = curves._segmentsCount(
                        e.curveLength(u, l, t, r, n, i, a, s)
                      ),
                      h = 0,
                      f = 0,
                      d = 0,
                      p = 0,
                      _ = 0;
                    o.push(u, l);
                    for (var v = 1, m = 0; v <= c; ++v)
                      (d = (f = (h = 1 - (m = v / c)) * h) * h),
                        (_ = (p = m * m) * m),
                        o.push(
                          d * u + 3 * f * m * t + 3 * h * p * n + _ * a,
                          d * l + 3 * f * m * r + 3 * h * p * i + _ * s
                        );
                  }
                }
              ]),
              e
            );
          })();
        function square(e, t, r, n, i, a, s, o) {
          var u, l;
          s ? ((u = n), (l = -r)) : ((u = -n), (l = r));
          var c = e - r * i + u,
            h = t - n * i + l,
            f = e + r * a + u,
            d = t + n * a + l;
          return o.push(c, h, f, d), 2;
        }
        function round(e, t, r, n, i, a, s, o) {
          var u = r - e,
            l = n - t,
            c = Math.atan2(u, l),
            h = Math.atan2(i - e, a - t);
          o && c < h ? (c += 2 * Math.PI) : !o && c > h && (h += 2 * Math.PI);
          var f = c,
            d = h - c,
            p = Math.abs(d),
            _ = Math.sqrt(u * u + l * l),
            v = 1 + (((15 * p * Math.sqrt(_)) / Math.PI) >> 0),
            m = d / v;
          if (((f += m), o)) {
            s.push(e, t, r, n);
            for (var g = 1, y = f; g < v; g++, y += m)
              s.push(e, t, e + Math.sin(y) * _, t + Math.cos(y) * _);
            s.push(e, t, i, a);
          } else {
            s.push(r, n, e, t);
            for (var T = 1, x = f; T < v; T++, x += m)
              s.push(e + Math.sin(x) * _, t + Math.cos(x) * _, e, t);
            s.push(i, a, e, t);
          }
          return 2 * v;
        }
        function buildNonNativeLine(e, t) {
          var r = e.shape,
            n = e.points || r.points.slice(),
            i = t.closePointEps;
          if (0 !== n.length) {
            var a = e.lineStyle,
              s = new Point(n[0], n[1]),
              o = new Point(n[n.length - 2], n[n.length - 1]),
              u = r.type !== SHAPES.POLY || r.closeStroke,
              l = Math.abs(s.x - o.x) < i && Math.abs(s.y - o.y) < i;
            if (u) {
              (n = n.slice()),
                l &&
                  (n.pop(), n.pop(), o.set(n[n.length - 2], n[n.length - 1]));
              var c = 0.5 * (s.x + o.x),
                h = 0.5 * (o.y + s.y);
              n.unshift(c, h), n.push(c, h);
            }
            var f = t.points,
              d = n.length / 2,
              p = n.length,
              _ = f.length / 2,
              v = a.width / 2,
              m = v * v,
              g = a.miterLimit * a.miterLimit,
              y = n[0],
              T = n[1],
              x = n[2],
              E = n[3],
              b = 0,
              S = 0,
              A = -(T - E),
              C = y - x,
              P = 0,
              k = 0,
              w = Math.sqrt(A * A + C * C);
            (A /= w), (C /= w), (A *= v), (C *= v);
            var R = a.alignment,
              M = 2 * (1 - R),
              I = 2 * R;
            u ||
              (a.cap === LINE_CAP.ROUND
                ? (p +=
                    round(
                      y - A * (M - I) * 0.5,
                      T - C * (M - I) * 0.5,
                      y - A * M,
                      T - C * M,
                      y + A * I,
                      T + C * I,
                      f,
                      !0
                    ) + 2)
                : a.cap === LINE_CAP.SQUARE &&
                  (p += square(y, T, A, C, M, I, !0, f))),
              f.push(y - A * M, T - C * M, y + A * I, T + C * I);
            for (var O = 1; O < d - 1; ++O) {
              (y = n[2 * (O - 1)]),
                (T = n[2 * (O - 1) + 1]),
                (x = n[2 * O]),
                (E = n[2 * O + 1]),
                (b = n[2 * (O + 1)]),
                (S = n[2 * (O + 1) + 1]),
                (A = -(T - E)),
                (C = y - x),
                (A /= w = Math.sqrt(A * A + C * C)),
                (C /= w),
                (A *= v),
                (C *= v),
                (P = -(E - S)),
                (k = x - b),
                (P /= w = Math.sqrt(P * P + k * k)),
                (k /= w),
                (P *= v),
                (k *= v);
              var D = x - y,
                F = T - E,
                N = x - b,
                L = S - E,
                B = D * N + F * L,
                U = F * N - L * D,
                G = U < 0;
              if (Math.abs(U) < 0.001 * Math.abs(B))
                f.push(x - A * M, E - C * M, x + A * I, E + C * I),
                  B >= 0 &&
                    (a.join === LINE_JOIN.ROUND
                      ? (p +=
                          round(
                            x,
                            E,
                            x - A * M,
                            E - C * M,
                            x - P * M,
                            E - k * M,
                            f,
                            !1
                          ) + 4)
                      : (p += 2),
                    f.push(x - P * I, E - k * I, x + P * M, E + k * M));
              else {
                var $ = (-A + y) * (-C + E) - (-A + x) * (-C + T),
                  H = (-P + b) * (-k + E) - (-P + x) * (-k + S),
                  j = (D * H - N * $) / U,
                  V = (L * $ - F * H) / U,
                  z = (j - x) * (j - x) + (V - E) * (V - E),
                  W = x + (j - x) * M,
                  Y = E + (V - E) * M,
                  X = x - (j - x) * I,
                  q = E - (V - E) * I,
                  K = G ? M : I,
                  Z = z <= Math.min(D * D + F * F, N * N + L * L) + K * K * m,
                  J = a.join;
                if (
                  (J === LINE_JOIN.MITER && z / m > g && (J = LINE_JOIN.BEVEL),
                  Z)
                )
                  switch (J) {
                    case LINE_JOIN.MITER:
                      f.push(W, Y, X, q);
                      break;
                    case LINE_JOIN.BEVEL:
                      G
                        ? f.push(
                            W,
                            Y,
                            x + A * I,
                            E + C * I,
                            W,
                            Y,
                            x + P * I,
                            E + k * I
                          )
                        : f.push(
                            x - A * M,
                            E - C * M,
                            X,
                            q,
                            x - P * M,
                            E - k * M,
                            X,
                            q
                          ),
                        (p += 2);
                      break;
                    case LINE_JOIN.ROUND:
                      G
                        ? (f.push(W, Y, x + A * I, E + C * I),
                          (p +=
                            round(
                              x,
                              E,
                              x + A * I,
                              E + C * I,
                              x + P * I,
                              E + k * I,
                              f,
                              !0
                            ) + 4),
                          f.push(W, Y, x + P * I, E + k * I))
                        : (f.push(x - A * M, E - C * M, X, q),
                          (p +=
                            round(
                              x,
                              E,
                              x - A * M,
                              E - C * M,
                              x - P * M,
                              E - k * M,
                              f,
                              !1
                            ) + 4),
                          f.push(x - P * M, E - k * M, X, q));
                  }
                else {
                  switch (
                    (f.push(x - A * M, E - C * M, x + A * I, E + C * I), J)
                  ) {
                    case LINE_JOIN.MITER:
                      G ? f.push(X, q, X, q) : f.push(W, Y, W, Y), (p += 2);
                      break;
                    case LINE_JOIN.ROUND:
                      p += G
                        ? round(
                            x,
                            E,
                            x + A * I,
                            E + C * I,
                            x + P * I,
                            E + k * I,
                            f,
                            !0
                          ) + 2
                        : round(
                            x,
                            E,
                            x - A * M,
                            E - C * M,
                            x - P * M,
                            E - k * M,
                            f,
                            !1
                          ) + 2;
                  }
                  f.push(x - P * M, E - k * M, x + P * I, E + k * I), (p += 2);
                }
              }
            }
            (y = n[2 * (d - 2)]),
              (T = n[2 * (d - 2) + 1]),
              (x = n[2 * (d - 1)]),
              (A = -(T - (E = n[2 * (d - 1) + 1]))),
              (C = y - x),
              (A /= w = Math.sqrt(A * A + C * C)),
              (C /= w),
              (A *= v),
              (C *= v),
              f.push(x - A * M, E - C * M, x + A * I, E + C * I),
              u ||
                (a.cap === LINE_CAP.ROUND
                  ? (p +=
                      round(
                        x - A * (M - I) * 0.5,
                        E - C * (M - I) * 0.5,
                        x - A * M,
                        E - C * M,
                        x + A * I,
                        E + C * I,
                        f,
                        !1
                      ) + 2)
                  : a.cap === LINE_CAP.SQUARE &&
                    (p += square(x, E, A, C, M, I, !1, f)));
            for (
              var Q = t.indices, ee = curves.epsilon * curves.epsilon, te = _;
              te < p + _ - 2;
              ++te
            )
              (y = f[2 * te]),
                (T = f[2 * te + 1]),
                (x = f[2 * (te + 1)]),
                (E = f[2 * (te + 1) + 1]),
                (b = f[2 * (te + 2)]),
                (S = f[2 * (te + 2) + 1]),
                Math.abs(y * (E - S) + x * (S - T) + b * (T - E)) < ee ||
                  Q.push(te, te + 1, te + 2);
          }
        }
        function buildNativeLine(e, t) {
          var r = 0,
            n = e.shape,
            i = e.points || n.points,
            a = n.type !== SHAPES.POLY || n.closeStroke;
          if (0 !== i.length) {
            var s = t.points,
              o = t.indices,
              u = i.length / 2,
              l = s.length / 2,
              c = l;
            for (s.push(i[0], i[1]), r = 1; r < u; r++)
              s.push(i[2 * r], i[2 * r + 1]), o.push(c, c + 1), c++;
            a && o.push(c, l);
          }
        }
        function buildLine(e, t) {
          e.lineStyle.native ? buildNativeLine(e, t) : buildNonNativeLine(e, t);
        }
        var QuadraticUtils = (function () {
            function e() {
              _classCallCheck(this, e);
            }
            return (
              _createClass(e, null, [
                {
                  key: "curveLength",
                  value: function (e, t, r, n, i, a) {
                    var s = e - 2 * r + i,
                      o = t - 2 * n + a,
                      u = 2 * r - 2 * e,
                      l = 2 * n - 2 * t,
                      c = 4 * (s * s + o * o),
                      h = 4 * (s * u + o * l),
                      f = u * u + l * l,
                      d = 2 * Math.sqrt(c + h + f),
                      p = Math.sqrt(c),
                      _ = 2 * c * p,
                      v = 2 * Math.sqrt(f),
                      m = h / p;
                    return (
                      (_ * d +
                        p * h * (d - v) +
                        (4 * f * c - h * h) *
                          Math.log((2 * p + m + d) / (m + v))) /
                      (4 * _)
                    );
                  }
                },
                {
                  key: "curveTo",
                  value: function (t, r, n, i, a) {
                    for (
                      var s = a[a.length - 2],
                        o = a[a.length - 1],
                        u = curves._segmentsCount(
                          e.curveLength(s, o, t, r, n, i)
                        ),
                        l = 0,
                        c = 0,
                        h = 1;
                      h <= u;
                      ++h
                    ) {
                      var f = h / u;
                      (l = s + (t - s) * f),
                        (c = o + (r - o) * f),
                        a.push(
                          l + (t + (n - t) * f - l) * f,
                          c + (r + (i - r) * f - c) * f
                        );
                    }
                  }
                }
              ]),
              e
            );
          })(),
          FILL_COMMANDS =
            ((_FILL_COMMANDS = {}),
            _defineProperty(_FILL_COMMANDS, SHAPES.POLY, buildPoly),
            _defineProperty(_FILL_COMMANDS, SHAPES.CIRC, buildCircle),
            _defineProperty(_FILL_COMMANDS, SHAPES.ELIP, buildCircle),
            _defineProperty(_FILL_COMMANDS, SHAPES.RECT, buildRectangle),
            _defineProperty(_FILL_COMMANDS, SHAPES.RREC, buildRoundedRectangle),
            _FILL_COMMANDS),
          BATCH_POOL = [],
          DRAW_CALL_POOL = [],
          GraphicsData = (function () {
            function e(t) {
              var r =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : null,
                n =
                  arguments.length > 2 && void 0 !== arguments[2]
                    ? arguments[2]
                    : null,
                i =
                  arguments.length > 3 && void 0 !== arguments[3]
                    ? arguments[3]
                    : null;
              _classCallCheck(this, e),
                (this.points = []),
                (this.holes = []),
                (this.shape = t),
                (this.lineStyle = n),
                (this.fillStyle = r),
                (this.matrix = i),
                (this.type = t.type);
            }
            return (
              _createClass(e, [
                {
                  key: "clone",
                  value: function () {
                    return new e(
                      this.shape,
                      this.fillStyle,
                      this.lineStyle,
                      this.matrix
                    );
                  }
                },
                {
                  key: "destroy",
                  value: function () {
                    (this.shape = null),
                      (this.holes.length = 0),
                      (this.holes = null),
                      (this.points.length = 0),
                      (this.points = null),
                      (this.lineStyle = null),
                      (this.fillStyle = null);
                  }
                }
              ]),
              e
            );
          })(),
          tmpPoint = new Point(),
          _GraphicsGeometry = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r() {
              var e;
              return (
                _classCallCheck(this, r),
                ((e = t.call(this)).closePointEps = 1e-4),
                (e.boundsPadding = 0),
                (e.uvsFloat32 = null),
                (e.indicesUint16 = null),
                (e.batchable = !1),
                (e.points = []),
                (e.colors = []),
                (e.uvs = []),
                (e.indices = []),
                (e.textureIds = []),
                (e.graphicsData = []),
                (e.drawCalls = []),
                (e.batchDirty = -1),
                (e.batches = []),
                (e.dirty = 0),
                (e.cacheDirty = -1),
                (e.clearDirty = 0),
                (e.shapeIndex = 0),
                (e._bounds = new Bounds()),
                (e.boundsDirty = -1),
                e
              );
            }
            return (
              _createClass(r, [
                {
                  key: "bounds",
                  get: function () {
                    return (
                      this.updateBatches(),
                      this.boundsDirty !== this.dirty &&
                        ((this.boundsDirty = this.dirty),
                        this.calculateBounds()),
                      this._bounds
                    );
                  }
                },
                {
                  key: "invalidate",
                  value: function () {
                    (this.boundsDirty = -1),
                      this.dirty++,
                      this.batchDirty++,
                      (this.shapeIndex = 0),
                      (this.points.length = 0),
                      (this.colors.length = 0),
                      (this.uvs.length = 0),
                      (this.indices.length = 0),
                      (this.textureIds.length = 0);
                    for (var e = 0; e < this.drawCalls.length; e++)
                      this.drawCalls[e].texArray.clear(),
                        DRAW_CALL_POOL.push(this.drawCalls[e]);
                    this.drawCalls.length = 0;
                    for (var t = 0; t < this.batches.length; t++) {
                      var r = this.batches[t];
                      r.reset(), BATCH_POOL.push(r);
                    }
                    this.batches.length = 0;
                  }
                },
                {
                  key: "clear",
                  value: function () {
                    return (
                      this.graphicsData.length > 0 &&
                        (this.invalidate(),
                        this.clearDirty++,
                        (this.graphicsData.length = 0)),
                      this
                    );
                  }
                },
                {
                  key: "drawShape",
                  value: function (e) {
                    var t = new GraphicsData(
                      e,
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : null,
                      arguments.length > 2 && void 0 !== arguments[2]
                        ? arguments[2]
                        : null,
                      arguments.length > 3 && void 0 !== arguments[3]
                        ? arguments[3]
                        : null
                    );
                    return this.graphicsData.push(t), this.dirty++, this;
                  }
                },
                {
                  key: "drawHole",
                  value: function (e) {
                    var t =
                      arguments.length > 1 && void 0 !== arguments[1]
                        ? arguments[1]
                        : null;
                    if (!this.graphicsData.length) return null;
                    var r = new GraphicsData(e, null, null, t),
                      n = this.graphicsData[this.graphicsData.length - 1];
                    return (
                      (r.lineStyle = n.lineStyle),
                      n.holes.push(r),
                      this.dirty++,
                      this
                    );
                  }
                },
                {
                  key: "destroy",
                  value: function () {
                    _get3(_getPrototypeOf(r.prototype), "destroy", this).call(
                      this
                    );
                    for (var e = 0; e < this.graphicsData.length; ++e)
                      this.graphicsData[e].destroy();
                    (this.points.length = 0),
                      (this.points = null),
                      (this.colors.length = 0),
                      (this.colors = null),
                      (this.uvs.length = 0),
                      (this.uvs = null),
                      (this.indices.length = 0),
                      (this.indices = null),
                      this.indexBuffer.destroy(),
                      (this.indexBuffer = null),
                      (this.graphicsData.length = 0),
                      (this.graphicsData = null),
                      (this.drawCalls.length = 0),
                      (this.drawCalls = null),
                      (this.batches.length = 0),
                      (this.batches = null),
                      (this._bounds = null);
                  }
                },
                {
                  key: "containsPoint",
                  value: function (e) {
                    for (var t = this.graphicsData, r = 0; r < t.length; ++r) {
                      var n = t[r];
                      if (
                        n.fillStyle.visible &&
                        n.shape &&
                        (n.matrix
                          ? n.matrix.applyInverse(e, tmpPoint)
                          : tmpPoint.copyFrom(e),
                        n.shape.contains(tmpPoint.x, tmpPoint.y))
                      ) {
                        var i = !1;
                        if (n.holes)
                          for (var a = 0; a < n.holes.length; a++) {
                            if (
                              n.holes[a].shape.contains(tmpPoint.x, tmpPoint.y)
                            ) {
                              i = !0;
                              break;
                            }
                          }
                        if (!i) return !0;
                      }
                    }
                    return !1;
                  }
                },
                {
                  key: "updateBatches",
                  value: function () {
                    if (this.graphicsData.length) {
                      if (this.validateBatching()) {
                        this.cacheDirty = this.dirty;
                        var e = this.uvs,
                          t = this.graphicsData,
                          r = null,
                          n = null;
                        this.batches.length > 0 &&
                          (n = (r = this.batches[this.batches.length - 1])
                            .style);
                        for (var i = this.shapeIndex; i < t.length; i++) {
                          this.shapeIndex++;
                          var a = t[i],
                            s = a.fillStyle,
                            o = a.lineStyle;
                          FILL_COMMANDS[a.type].build(a),
                            a.matrix &&
                              this.transformPoints(a.points, a.matrix),
                            (s.visible || o.visible) &&
                              this.processHoles(a.holes);
                          for (var u = 0; u < 2; u++) {
                            var l = 0 === u ? s : o;
                            if (l.visible) {
                              var c = l.texture.baseTexture,
                                h = this.indices.length,
                                f = this.points.length / 2;
                              (c.wrapMode = WRAP_MODES.REPEAT),
                                0 === u
                                  ? this.processFill(a)
                                  : this.processLine(a);
                              var d = this.points.length / 2 - f;
                              0 !== d &&
                                (r &&
                                  !this._compareStyles(n, l) &&
                                  (r.end(h, f), (r = null)),
                                r ||
                                  ((r =
                                    BATCH_POOL.pop() || new BatchPart()).begin(
                                    l,
                                    h,
                                    f
                                  ),
                                  this.batches.push(r),
                                  (n = l)),
                                this.addUvs(
                                  this.points,
                                  e,
                                  l.texture,
                                  f,
                                  d,
                                  l.matrix
                                ));
                            }
                          }
                        }
                        var p = this.indices.length,
                          _ = this.points.length / 2;
                        if ((r && r.end(p, _), 0 !== this.batches.length)) {
                          var v = _ > 65535;
                          this.indicesUint16 &&
                          this.indices.length === this.indicesUint16.length &&
                          v === this.indicesUint16.BYTES_PER_ELEMENT > 2
                            ? this.indicesUint16.set(this.indices)
                            : (this.indicesUint16 = v
                                ? new Uint32Array(this.indices)
                                : new Uint16Array(this.indices)),
                            (this.batchable = this.isBatchable()),
                            this.batchable
                              ? this.packBatches()
                              : this.buildDrawCalls();
                        } else this.batchable = !0;
                      }
                    } else this.batchable = !0;
                  }
                },
                {
                  key: "_compareStyles",
                  value: function (e, t) {
                    return (
                      !(!e || !t) &&
                      e.texture.baseTexture === t.texture.baseTexture &&
                      e.color + e.alpha === t.color + t.alpha &&
                      !!e.native == !!t.native
                    );
                  }
                },
                {
                  key: "validateBatching",
                  value: function () {
                    if (
                      this.dirty === this.cacheDirty ||
                      !this.graphicsData.length
                    )
                      return !1;
                    for (var e = 0, t = this.graphicsData.length; e < t; e++) {
                      var r = this.graphicsData[e],
                        n = r.fillStyle,
                        i = r.lineStyle;
                      if (n && !n.texture.baseTexture.valid) return !1;
                      if (i && !i.texture.baseTexture.valid) return !1;
                    }
                    return !0;
                  }
                },
                {
                  key: "packBatches",
                  value: function () {
                    this.batchDirty++,
                      (this.uvsFloat32 = new Float32Array(this.uvs));
                    for (var e = this.batches, t = 0, r = e.length; t < r; t++)
                      for (var n = e[t], i = 0; i < n.size; i++) {
                        var a = n.start + i;
                        this.indicesUint16[a] =
                          this.indicesUint16[a] - n.attribStart;
                      }
                  }
                },
                {
                  key: "isBatchable",
                  value: function () {
                    if (this.points.length > 131070) return !1;
                    for (var e = this.batches, t = 0; t < e.length; t++)
                      if (e[t].style.native) return !1;
                    return this.points.length < 2 * r.BATCHABLE_SIZE;
                  }
                },
                {
                  key: "buildDrawCalls",
                  value: function () {
                    for (
                      var e = ++BaseTexture._globalBatch, t = 0;
                      t < this.drawCalls.length;
                      t++
                    )
                      this.drawCalls[t].texArray.clear(),
                        DRAW_CALL_POOL.push(this.drawCalls[t]);
                    this.drawCalls.length = 0;
                    var r = this.colors,
                      n = this.textureIds,
                      i = DRAW_CALL_POOL.pop();
                    i ||
                      ((i = new BatchDrawCall()).texArray = new BatchTextureArray()),
                      (i.texArray.count = 0),
                      (i.start = 0),
                      (i.size = 0),
                      (i.type = DRAW_MODES.TRIANGLES);
                    var a = 0,
                      s = null,
                      o = 0,
                      u = !1,
                      l = DRAW_MODES.TRIANGLES,
                      c = 0;
                    this.drawCalls.push(i);
                    for (var h = 0; h < this.batches.length; h++) {
                      var f = this.batches[h],
                        d = f.style,
                        p = d.texture.baseTexture;
                      u !== !!d.native &&
                        ((l = (u = !!d.native)
                          ? DRAW_MODES.LINES
                          : DRAW_MODES.TRIANGLES),
                        (s = null),
                        (a = 8),
                        e++),
                        s !== p &&
                          ((s = p),
                          p._batchEnabled !== e &&
                            (8 === a &&
                              (e++,
                              (a = 0),
                              i.size > 0 &&
                                ((i = DRAW_CALL_POOL.pop()) ||
                                  ((i = new BatchDrawCall()).texArray = new BatchTextureArray()),
                                this.drawCalls.push(i)),
                              (i.start = c),
                              (i.size = 0),
                              (i.texArray.count = 0),
                              (i.type = l)),
                            (p.touched = 1),
                            (p._batchEnabled = e),
                            (p._batchLocation = a),
                            (p.wrapMode = WRAP_MODES.REPEAT),
                            (i.texArray.elements[i.texArray.count++] = p),
                            a++)),
                        (i.size += f.size),
                        (c += f.size),
                        (o = p._batchLocation),
                        this.addColors(
                          r,
                          d.color,
                          d.alpha,
                          f.attribSize,
                          f.attribStart
                        ),
                        this.addTextureIds(n, o, f.attribSize, f.attribStart);
                    }
                    (BaseTexture._globalBatch = e), this.packAttributes();
                  }
                },
                {
                  key: "packAttributes",
                  value: function () {
                    for (
                      var e = this.points,
                        t = this.uvs,
                        r = this.colors,
                        n = this.textureIds,
                        i = new ArrayBuffer(3 * e.length * 4),
                        a = new Float32Array(i),
                        s = new Uint32Array(i),
                        o = 0,
                        u = 0;
                      u < e.length / 2;
                      u++
                    )
                      (a[o++] = e[2 * u]),
                        (a[o++] = e[2 * u + 1]),
                        (a[o++] = t[2 * u]),
                        (a[o++] = t[2 * u + 1]),
                        (s[o++] = r[u]),
                        (a[o++] = n[u]);
                    this._buffer.update(i),
                      this._indexBuffer.update(this.indicesUint16);
                  }
                },
                {
                  key: "processFill",
                  value: function (e) {
                    e.holes.length
                      ? buildPoly.triangulate(e, this)
                      : FILL_COMMANDS[e.type].triangulate(e, this);
                  }
                },
                {
                  key: "processLine",
                  value: function (e) {
                    buildLine(e, this);
                    for (var t = 0; t < e.holes.length; t++)
                      buildLine(e.holes[t], this);
                  }
                },
                {
                  key: "processHoles",
                  value: function (e) {
                    for (var t = 0; t < e.length; t++) {
                      var r = e[t];
                      FILL_COMMANDS[r.type].build(r),
                        r.matrix && this.transformPoints(r.points, r.matrix);
                    }
                  }
                },
                {
                  key: "calculateBounds",
                  value: function () {
                    var e = this._bounds;
                    e.clear(),
                      e.addVertexData(this.points, 0, this.points.length),
                      e.pad(this.boundsPadding, this.boundsPadding);
                  }
                },
                {
                  key: "transformPoints",
                  value: function (e, t) {
                    for (var r = 0; r < e.length / 2; r++) {
                      var n = e[2 * r],
                        i = e[2 * r + 1];
                      (e[2 * r] = t.a * n + t.c * i + t.tx),
                        (e[2 * r + 1] = t.b * n + t.d * i + t.ty);
                    }
                  }
                },
                {
                  key: "addColors",
                  value: function (e, t, r, n) {
                    var i =
                        arguments.length > 4 && void 0 !== arguments[4]
                          ? arguments[4]
                          : 0,
                      a = Color.shared.setValue(t).toLittleEndianNumber(),
                      s = Color.shared.setValue(a).toPremultiplied(r);
                    e.length = Math.max(e.length, i + n);
                    for (var o = 0; o < n; o++) e[i + o] = s;
                  }
                },
                {
                  key: "addTextureIds",
                  value: function (e, t, r) {
                    var n =
                      arguments.length > 3 && void 0 !== arguments[3]
                        ? arguments[3]
                        : 0;
                    e.length = Math.max(e.length, n + r);
                    for (var i = 0; i < r; i++) e[n + i] = t;
                  }
                },
                {
                  key: "addUvs",
                  value: function (e, t, r, n, i) {
                    for (
                      var a =
                          arguments.length > 5 && void 0 !== arguments[5]
                            ? arguments[5]
                            : null,
                        s = 0,
                        o = t.length,
                        u = r.frame;
                      s < i;

                    ) {
                      var l = e[2 * (n + s)],
                        c = e[2 * (n + s) + 1];
                      if (a) {
                        var h = a.a * l + a.c * c + a.tx;
                        (c = a.b * l + a.d * c + a.ty), (l = h);
                      }
                      s++, t.push(l / u.width, c / u.height);
                    }
                    var f = r.baseTexture;
                    (u.width < f.width || u.height < f.height) &&
                      this.adjustUvs(t, r, o, i);
                  }
                },
                {
                  key: "adjustUvs",
                  value: function (e, t, r, n) {
                    for (
                      var i = t.baseTexture,
                        a = 1e-6,
                        s = r + 2 * n,
                        o = t.frame,
                        u = o.width / i.width,
                        l = o.height / i.height,
                        c = o.x / o.width,
                        h = o.y / o.height,
                        f = Math.floor(e[r] + a),
                        d = Math.floor(e[r + 1] + a),
                        p = r + 2;
                      p < s;
                      p += 2
                    )
                      (f = Math.min(f, Math.floor(e[p] + a))),
                        (d = Math.min(d, Math.floor(e[p + 1] + a)));
                    (c -= f), (h -= d);
                    for (var _ = r; _ < s; _ += 2)
                      (e[_] = (e[_] + c) * u), (e[_ + 1] = (e[_ + 1] + h) * l);
                  }
                }
              ]),
              r
            );
          })(BatchGeometry),
          GraphicsGeometry = _GraphicsGeometry;
        GraphicsGeometry.BATCHABLE_SIZE = 100;
        var FillStyle = (function () {
            function e() {
              _classCallCheck(this, e),
                (this.color = 16777215),
                (this.alpha = 1),
                (this.texture = Texture.WHITE),
                (this.matrix = null),
                (this.visible = !1),
                this.reset();
            }
            return (
              _createClass(e, [
                {
                  key: "clone",
                  value: function () {
                    var t = new e();
                    return (
                      (t.color = this.color),
                      (t.alpha = this.alpha),
                      (t.texture = this.texture),
                      (t.matrix = this.matrix),
                      (t.visible = this.visible),
                      t
                    );
                  }
                },
                {
                  key: "reset",
                  value: function () {
                    (this.color = 16777215),
                      (this.alpha = 1),
                      (this.texture = Texture.WHITE),
                      (this.matrix = null),
                      (this.visible = !1);
                  }
                },
                {
                  key: "destroy",
                  value: function () {
                    (this.texture = null), (this.matrix = null);
                  }
                }
              ]),
              e
            );
          })(),
          LineStyle = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r() {
              var e;
              return (
                _classCallCheck(this, r),
                ((e = t.apply(this, arguments)).width = 0),
                (e.alignment = 0.5),
                (e.native = !1),
                (e.cap = LINE_CAP.BUTT),
                (e.join = LINE_JOIN.MITER),
                (e.miterLimit = 10),
                e
              );
            }
            return (
              _createClass(r, [
                {
                  key: "clone",
                  value: function () {
                    var e = new r();
                    return (
                      (e.color = this.color),
                      (e.alpha = this.alpha),
                      (e.texture = this.texture),
                      (e.matrix = this.matrix),
                      (e.visible = this.visible),
                      (e.width = this.width),
                      (e.alignment = this.alignment),
                      (e.native = this.native),
                      (e.cap = this.cap),
                      (e.join = this.join),
                      (e.miterLimit = this.miterLimit),
                      e
                    );
                  }
                },
                {
                  key: "reset",
                  value: function () {
                    _get3(_getPrototypeOf(r.prototype), "reset", this).call(
                      this
                    ),
                      (this.color = 0),
                      (this.alignment = 0.5),
                      (this.width = 0),
                      (this.native = !1);
                  }
                }
              ]),
              r
            );
          })(FillStyle),
          DEFAULT_SHADERS = {},
          _Graphics = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r() {
              var e,
                n =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : null;
              return (
                _classCallCheck(this, r),
                ((e = t.call(this)).shader = null),
                (e.pluginName = "batch"),
                (e.currentPath = null),
                (e.batches = []),
                (e.batchTint = -1),
                (e.batchDirty = -1),
                (e.vertexData = null),
                (e._fillStyle = new FillStyle()),
                (e._lineStyle = new LineStyle()),
                (e._matrix = null),
                (e._holeMode = !1),
                (e.state = State.for2d()),
                (e._geometry = n || new GraphicsGeometry()),
                e._geometry.refCount++,
                (e._transformID = -1),
                (e._tintColor = new Color(16777215)),
                (e.blendMode = BLEND_MODES.NORMAL),
                e
              );
            }
            return (
              _createClass(r, [
                {
                  key: "geometry",
                  get: function () {
                    return this._geometry;
                  }
                },
                {
                  key: "clone",
                  value: function () {
                    return this.finishPoly(), new r(this._geometry);
                  }
                },
                {
                  key: "blendMode",
                  get: function () {
                    return this.state.blendMode;
                  },
                  set: function (e) {
                    this.state.blendMode = e;
                  }
                },
                {
                  key: "tint",
                  get: function () {
                    return this._tintColor.value;
                  },
                  set: function (e) {
                    this._tintColor.setValue(e);
                  }
                },
                {
                  key: "fill",
                  get: function () {
                    return this._fillStyle;
                  }
                },
                {
                  key: "line",
                  get: function () {
                    return this._lineStyle;
                  }
                },
                {
                  key: "lineStyle",
                  value: function () {
                    var e =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : null;
                    return (
                      "number" == typeof e &&
                        (e = {
                          width: e,
                          color:
                            arguments.length > 1 && void 0 !== arguments[1]
                              ? arguments[1]
                              : 0,
                          alpha: arguments.length > 2 ? arguments[2] : void 0,
                          alignment:
                            arguments.length > 3 && void 0 !== arguments[3]
                              ? arguments[3]
                              : 0.5,
                          native:
                            arguments.length > 4 &&
                            void 0 !== arguments[4] &&
                            arguments[4]
                        }),
                      this.lineTextureStyle(e)
                    );
                  }
                },
                {
                  key: "lineTextureStyle",
                  value: function (e) {
                    var t,
                      r = {
                        width: 0,
                        texture: Texture.WHITE,
                        color:
                          null !== (t = e) && void 0 !== t && t.texture
                            ? 16777215
                            : 0,
                        matrix: null,
                        alignment: 0.5,
                        native: !1,
                        cap: LINE_CAP.BUTT,
                        join: LINE_JOIN.MITER,
                        miterLimit: 10
                      };
                    (e = Object.assign(r, e)),
                      this.normalizeColor(e),
                      this.currentPath && this.startPoly();
                    var n = e.width > 0 && e.alpha > 0;
                    return (
                      n
                        ? (e.matrix &&
                            ((e.matrix = e.matrix.clone()), e.matrix.invert()),
                          Object.assign(this._lineStyle, { visible: n }, e))
                        : this._lineStyle.reset(),
                      this
                    );
                  }
                },
                {
                  key: "startPoly",
                  value: function () {
                    if (this.currentPath) {
                      var e = this.currentPath.points,
                        t = this.currentPath.points.length;
                      t > 2 &&
                        (this.drawShape(this.currentPath),
                        (this.currentPath = new Polygon()),
                        (this.currentPath.closeStroke = !1),
                        this.currentPath.points.push(e[t - 2], e[t - 1]));
                    } else
                      (this.currentPath = new Polygon()),
                        (this.currentPath.closeStroke = !1);
                  }
                },
                {
                  key: "finishPoly",
                  value: function () {
                    this.currentPath &&
                      (this.currentPath.points.length > 2
                        ? (this.drawShape(this.currentPath),
                          (this.currentPath = null))
                        : (this.currentPath.points.length = 0));
                  }
                },
                {
                  key: "moveTo",
                  value: function (e, t) {
                    return (
                      this.startPoly(),
                      (this.currentPath.points[0] = e),
                      (this.currentPath.points[1] = t),
                      this
                    );
                  }
                },
                {
                  key: "lineTo",
                  value: function (e, t) {
                    this.currentPath || this.moveTo(0, 0);
                    var r = this.currentPath.points,
                      n = r[r.length - 2],
                      i = r[r.length - 1];
                    return (n === e && i === t) || r.push(e, t), this;
                  }
                },
                {
                  key: "_initCurve",
                  value: function () {
                    var e =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : 0,
                      t =
                        arguments.length > 1 && void 0 !== arguments[1]
                          ? arguments[1]
                          : 0;
                    this.currentPath
                      ? 0 === this.currentPath.points.length &&
                        (this.currentPath.points = [e, t])
                      : this.moveTo(e, t);
                  }
                },
                {
                  key: "quadraticCurveTo",
                  value: function (e, t, r, n) {
                    this._initCurve();
                    var i = this.currentPath.points;
                    return (
                      0 === i.length && this.moveTo(0, 0),
                      QuadraticUtils.curveTo(e, t, r, n, i),
                      this
                    );
                  }
                },
                {
                  key: "bezierCurveTo",
                  value: function (e, t, r, n, i, a) {
                    return (
                      this._initCurve(),
                      BezierUtils.curveTo(
                        e,
                        t,
                        r,
                        n,
                        i,
                        a,
                        this.currentPath.points
                      ),
                      this
                    );
                  }
                },
                {
                  key: "arcTo",
                  value: function (e, t, r, n, i) {
                    this._initCurve(e, t);
                    var a = this.currentPath.points,
                      s = ArcUtils.curveTo(e, t, r, n, i, a);
                    if (s) {
                      var o = s.cx,
                        u = s.cy,
                        l = s.radius,
                        c = s.startAngle,
                        h = s.endAngle,
                        f = s.anticlockwise;
                      this.arc(o, u, l, c, h, f);
                    }
                    return this;
                  }
                },
                {
                  key: "arc",
                  value: function (e, t, r, n, i) {
                    var a =
                      arguments.length > 5 &&
                      void 0 !== arguments[5] &&
                      arguments[5];
                    if (n === i) return this;
                    if (
                      (!a && i <= n ? (i += PI_2) : a && n <= i && (n += PI_2),
                      0 === i - n)
                    )
                      return this;
                    var s = e + Math.cos(n) * r,
                      o = t + Math.sin(n) * r,
                      u = this._geometry.closePointEps,
                      l = this.currentPath ? this.currentPath.points : null;
                    if (l) {
                      var c = Math.abs(l[l.length - 2] - s),
                        h = Math.abs(l[l.length - 1] - o);
                      (c < u && h < u) || l.push(s, o);
                    } else this.moveTo(s, o), (l = this.currentPath.points);
                    return ArcUtils.arc(s, o, e, t, r, n, i, a, l), this;
                  }
                },
                {
                  key: "beginFill",
                  value: function () {
                    var e =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : 0,
                      t = arguments.length > 1 ? arguments[1] : void 0;
                    return this.beginTextureFill({
                      texture: Texture.WHITE,
                      color: e,
                      alpha: t
                    });
                  }
                },
                {
                  key: "normalizeColor",
                  value: function (e) {
                    var t,
                      r,
                      n = Color.shared.setValue(
                        null !== (t = e.color) && void 0 !== t ? t : 0
                      );
                    (e.color = n.toNumber()),
                      (null !== (r = e.alpha) && void 0 !== r) ||
                        (e.alpha = n.alpha);
                  }
                },
                {
                  key: "beginTextureFill",
                  value: function (e) {
                    var t = {
                      texture: Texture.WHITE,
                      color: 16777215,
                      matrix: null
                    };
                    (e = Object.assign(t, e)),
                      this.normalizeColor(e),
                      this.currentPath && this.startPoly();
                    var r = e.alpha > 0;
                    return (
                      r
                        ? (e.matrix &&
                            ((e.matrix = e.matrix.clone()), e.matrix.invert()),
                          Object.assign(this._fillStyle, { visible: r }, e))
                        : this._fillStyle.reset(),
                      this
                    );
                  }
                },
                {
                  key: "endFill",
                  value: function () {
                    return this.finishPoly(), this._fillStyle.reset(), this;
                  }
                },
                {
                  key: "drawRect",
                  value: function (e, t, r, n) {
                    return this.drawShape(new Rectangle(e, t, r, n));
                  }
                },
                {
                  key: "drawRoundedRect",
                  value: function (e, t, r, n, i) {
                    return this.drawShape(new RoundedRectangle(e, t, r, n, i));
                  }
                },
                {
                  key: "drawCircle",
                  value: function (e, t, r) {
                    return this.drawShape(new Circle(e, t, r));
                  }
                },
                {
                  key: "drawEllipse",
                  value: function (e, t, r, n) {
                    return this.drawShape(new Ellipse(e, t, r, n));
                  }
                },
                {
                  key: "drawPolygon",
                  value: function () {
                    for (
                      var e,
                        t = !0,
                        r = arguments.length,
                        n = new Array(r),
                        i = 0;
                      i < r;
                      i++
                    )
                      n[i] = arguments[i];
                    var a = n[0];
                    a.points
                      ? ((t = a.closeStroke), (e = a.points))
                      : (e = Array.isArray(n[0]) ? n[0] : n);
                    var s = new Polygon(e);
                    return (s.closeStroke = t), this.drawShape(s), this;
                  }
                },
                {
                  key: "drawShape",
                  value: function (e) {
                    return (
                      this._holeMode
                        ? this._geometry.drawHole(e, this._matrix)
                        : this._geometry.drawShape(
                            e,
                            this._fillStyle.clone(),
                            this._lineStyle.clone(),
                            this._matrix
                          ),
                      this
                    );
                  }
                },
                {
                  key: "clear",
                  value: function () {
                    return (
                      this._geometry.clear(),
                      this._lineStyle.reset(),
                      this._fillStyle.reset(),
                      this._boundsID++,
                      (this._matrix = null),
                      (this._holeMode = !1),
                      (this.currentPath = null),
                      this
                    );
                  }
                },
                {
                  key: "isFastRect",
                  value: function () {
                    var e = this._geometry.graphicsData;
                    return !(
                      1 !== e.length ||
                      e[0].shape.type !== SHAPES.RECT ||
                      e[0].matrix ||
                      e[0].holes.length ||
                      (e[0].lineStyle.visible && e[0].lineStyle.width)
                    );
                  }
                },
                {
                  key: "_render",
                  value: function (e) {
                    this.finishPoly();
                    var t = this._geometry;
                    t.updateBatches(),
                      t.batchable
                        ? (this.batchDirty !== t.batchDirty &&
                            this._populateBatches(),
                          this._renderBatched(e))
                        : (e.batch.flush(), this._renderDirect(e));
                  }
                },
                {
                  key: "_populateBatches",
                  value: function () {
                    var e = this._geometry,
                      t = this.blendMode,
                      r = e.batches.length;
                    (this.batchTint = -1),
                      (this._transformID = -1),
                      (this.batchDirty = e.batchDirty),
                      (this.batches.length = r),
                      (this.vertexData = new Float32Array(e.points));
                    for (var n = 0; n < r; n++) {
                      var i = e.batches[n],
                        a = i.style.color,
                        s = new Float32Array(
                          this.vertexData.buffer,
                          4 * i.attribStart * 2,
                          2 * i.attribSize
                        ),
                        o = new Float32Array(
                          e.uvsFloat32.buffer,
                          4 * i.attribStart * 2,
                          2 * i.attribSize
                        ),
                        u = {
                          vertexData: s,
                          blendMode: t,
                          indices: new Uint16Array(
                            e.indicesUint16.buffer,
                            2 * i.start,
                            i.size
                          ),
                          uvs: o,
                          _batchRGB: Color.shared.setValue(a).toRgbArray(),
                          _tintRGB: a,
                          _texture: i.style.texture,
                          alpha: i.style.alpha,
                          worldAlpha: 1
                        };
                      this.batches[n] = u;
                    }
                  }
                },
                {
                  key: "_renderBatched",
                  value: function (e) {
                    if (this.batches.length) {
                      e.batch.setObjectRenderer(e.plugins[this.pluginName]),
                        this.calculateVertices(),
                        this.calculateTints();
                      for (var t = 0, r = this.batches.length; t < r; t++) {
                        var n = this.batches[t];
                        (n.worldAlpha = this.worldAlpha * n.alpha),
                          e.plugins[this.pluginName].render(n);
                      }
                    }
                  }
                },
                {
                  key: "_renderDirect",
                  value: function (e) {
                    var t = this._resolveDirectShader(e),
                      r = this._geometry,
                      n = this.worldAlpha,
                      i = t.uniforms,
                      a = r.drawCalls;
                    (i.translationMatrix = this.transform.worldTransform),
                      Color.shared
                        .setValue(this._tintColor)
                        .premultiply(n)
                        .toArray(i.tint),
                      e.shader.bind(t),
                      e.geometry.bind(r, t),
                      e.state.set(this.state);
                    for (var s = 0, o = a.length; s < o; s++)
                      this._renderDrawCallDirect(e, r.drawCalls[s]);
                  }
                },
                {
                  key: "_renderDrawCallDirect",
                  value: function (e, t) {
                    for (
                      var r = t.texArray,
                        n = t.type,
                        i = t.size,
                        a = t.start,
                        s = r.count,
                        o = 0;
                      o < s;
                      o++
                    )
                      e.texture.bind(r.elements[o], o);
                    e.geometry.draw(n, i, a);
                  }
                },
                {
                  key: "_resolveDirectShader",
                  value: function (e) {
                    var t = this.shader,
                      r = this.pluginName;
                    if (!t) {
                      if (!DEFAULT_SHADERS[r]) {
                        for (
                          var n = e.plugins[r].maxTextures,
                            i = new Int32Array(n),
                            a = 0;
                          a < n;
                          a++
                        )
                          i[a] = a;
                        var s = {
                            tint: new Float32Array([1, 1, 1, 1]),
                            translationMatrix: new Matrix(),
                            default: UniformGroup.from({ uSamplers: i }, !0)
                          },
                          o = e.plugins[r]._shader.program;
                        DEFAULT_SHADERS[r] = new Shader(o, s);
                      }
                      t = DEFAULT_SHADERS[r];
                    }
                    return t;
                  }
                },
                {
                  key: "_calculateBounds",
                  value: function () {
                    this.finishPoly();
                    var e = this._geometry;
                    if (e.graphicsData.length) {
                      var t = e.bounds,
                        r = t.minX,
                        n = t.minY,
                        i = t.maxX,
                        a = t.maxY;
                      this._bounds.addFrame(this.transform, r, n, i, a);
                    }
                  }
                },
                {
                  key: "containsPoint",
                  value: function (e) {
                    return (
                      this.worldTransform.applyInverse(e, r._TEMP_POINT),
                      this._geometry.containsPoint(r._TEMP_POINT)
                    );
                  }
                },
                {
                  key: "calculateTints",
                  value: function () {
                    if (this.batchTint !== this.tint) {
                      this.batchTint = this._tintColor.toNumber();
                      for (var e = 0; e < this.batches.length; e++) {
                        var t = this.batches[e];
                        t._tintRGB = Color.shared
                          .setValue(this._tintColor)
                          .multiply(t._batchRGB)
                          .toLittleEndianNumber();
                      }
                    }
                  }
                },
                {
                  key: "calculateVertices",
                  value: function () {
                    var e = this.transform._worldID;
                    if (this._transformID !== e) {
                      this._transformID = e;
                      for (
                        var t = this.transform.worldTransform,
                          r = t.a,
                          n = t.b,
                          i = t.c,
                          a = t.d,
                          s = t.tx,
                          o = t.ty,
                          u = this._geometry.points,
                          l = this.vertexData,
                          c = 0,
                          h = 0;
                        h < u.length;
                        h += 2
                      ) {
                        var f = u[h],
                          d = u[h + 1];
                        (l[c++] = r * f + i * d + s),
                          (l[c++] = a * d + n * f + o);
                      }
                    }
                  }
                },
                {
                  key: "closePath",
                  value: function () {
                    var e = this.currentPath;
                    return e && ((e.closeStroke = !0), this.finishPoly()), this;
                  }
                },
                {
                  key: "setMatrix",
                  value: function (e) {
                    return (this._matrix = e), this;
                  }
                },
                {
                  key: "beginHole",
                  value: function () {
                    return this.finishPoly(), (this._holeMode = !0), this;
                  }
                },
                {
                  key: "endHole",
                  value: function () {
                    return this.finishPoly(), (this._holeMode = !1), this;
                  }
                },
                {
                  key: "destroy",
                  value: function (e) {
                    this._geometry.refCount--,
                      0 === this._geometry.refCount && this._geometry.dispose(),
                      (this._matrix = null),
                      (this.currentPath = null),
                      this._lineStyle.destroy(),
                      (this._lineStyle = null),
                      this._fillStyle.destroy(),
                      (this._fillStyle = null),
                      (this._geometry = null),
                      (this.shader = null),
                      (this.vertexData = null),
                      (this.batches.length = 0),
                      (this.batches = null),
                      _get3(_getPrototypeOf(r.prototype), "destroy", this).call(
                        this,
                        e
                      );
                  }
                }
              ]),
              r
            );
          })(Container),
          Graphics = exports("G", _Graphics);
        (Graphics.curves = curves), (Graphics._TEMP_POINT = new Point());
        var MeshBatchUvs = (function () {
            function e(t, r) {
              _classCallCheck(this, e),
                (this.uvBuffer = t),
                (this.uvMatrix = r),
                (this.data = null),
                (this._bufferUpdateId = -1),
                (this._textureUpdateId = -1),
                (this._updateID = 0);
            }
            return (
              _createClass(e, [
                {
                  key: "update",
                  value: function (e) {
                    if (
                      e ||
                      this._bufferUpdateId !== this.uvBuffer._updateID ||
                      this._textureUpdateId !== this.uvMatrix._updateID
                    ) {
                      (this._bufferUpdateId = this.uvBuffer._updateID),
                        (this._textureUpdateId = this.uvMatrix._updateID);
                      var t = this.uvBuffer.data;
                      (this.data && this.data.length === t.length) ||
                        (this.data = new Float32Array(t.length)),
                        this.uvMatrix.multiplyUvs(t, this.data),
                        this._updateID++;
                    }
                  }
                }
              ]),
              e
            );
          })(),
          tempPoint = new Point(),
          tempPolygon = new Polygon(),
          _Mesh = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e, n, i) {
              var a,
                s =
                  arguments.length > 3 && void 0 !== arguments[3]
                    ? arguments[3]
                    : DRAW_MODES.TRIANGLES;
              return (
                _classCallCheck(this, r),
                ((a = t.call(this)).geometry = e),
                (a.shader = n),
                (a.state = i || State.for2d()),
                (a.drawMode = s),
                (a.start = 0),
                (a.size = 0),
                (a.uvs = null),
                (a.indices = null),
                (a.vertexData = new Float32Array(1)),
                (a.vertexDirty = -1),
                (a._transformID = -1),
                (a._roundPixels = settings.ROUND_PIXELS),
                (a.batchUvs = null),
                a
              );
            }
            return (
              _createClass(r, [
                {
                  key: "geometry",
                  get: function () {
                    return this._geometry;
                  },
                  set: function (e) {
                    this._geometry !== e &&
                      (this._geometry &&
                        (this._geometry.refCount--,
                        0 === this._geometry.refCount &&
                          this._geometry.dispose()),
                      (this._geometry = e),
                      this._geometry && this._geometry.refCount++,
                      (this.vertexDirty = -1));
                  }
                },
                {
                  key: "uvBuffer",
                  get: function () {
                    return this.geometry.buffers[1];
                  }
                },
                {
                  key: "verticesBuffer",
                  get: function () {
                    return this.geometry.buffers[0];
                  }
                },
                {
                  key: "material",
                  get: function () {
                    return this.shader;
                  },
                  set: function (e) {
                    this.shader = e;
                  }
                },
                {
                  key: "blendMode",
                  get: function () {
                    return this.state.blendMode;
                  },
                  set: function (e) {
                    this.state.blendMode = e;
                  }
                },
                {
                  key: "roundPixels",
                  get: function () {
                    return this._roundPixels;
                  },
                  set: function (e) {
                    this._roundPixels !== e && (this._transformID = -1),
                      (this._roundPixels = e);
                  }
                },
                {
                  key: "tint",
                  get: function () {
                    return "tint" in this.shader ? this.shader.tint : null;
                  },
                  set: function (e) {
                    this.shader.tint = e;
                  }
                },
                {
                  key: "tintValue",
                  get: function () {
                    return this.shader.tintValue;
                  }
                },
                {
                  key: "texture",
                  get: function () {
                    return "texture" in this.shader
                      ? this.shader.texture
                      : null;
                  },
                  set: function (e) {
                    this.shader.texture = e;
                  }
                },
                {
                  key: "_render",
                  value: function (e) {
                    var t = this.geometry.buffers[0].data;
                    this.shader.batchable &&
                    this.drawMode === DRAW_MODES.TRIANGLES &&
                    t.length < 2 * r.BATCHABLE_SIZE
                      ? this._renderToBatch(e)
                      : this._renderDefault(e);
                  }
                },
                {
                  key: "_renderDefault",
                  value: function (e) {
                    var t = this.shader;
                    (t.alpha = this.worldAlpha),
                      t.update && t.update(),
                      e.batch.flush(),
                      (t.uniforms.translationMatrix = this.transform.worldTransform.toArray(
                        !0
                      )),
                      e.shader.bind(t),
                      e.state.set(this.state),
                      e.geometry.bind(this.geometry, t),
                      e.geometry.draw(
                        this.drawMode,
                        this.size,
                        this.start,
                        this.geometry.instanceCount
                      );
                  }
                },
                {
                  key: "_renderToBatch",
                  value: function (e) {
                    var t = this.geometry,
                      r = this.shader;
                    r.uvMatrix && (r.uvMatrix.update(), this.calculateUvs()),
                      this.calculateVertices(),
                      (this.indices = t.indexBuffer.data),
                      (this._tintRGB = r._tintRGB),
                      (this._texture = r.texture);
                    var n = this.material.pluginName;
                    e.batch.setObjectRenderer(e.plugins[n]),
                      e.plugins[n].render(this);
                  }
                },
                {
                  key: "calculateVertices",
                  value: function () {
                    var e = this.geometry.buffers[0],
                      t = e.data,
                      r = e._updateID;
                    if (
                      r !== this.vertexDirty ||
                      this._transformID !== this.transform._worldID
                    ) {
                      (this._transformID = this.transform._worldID),
                        this.vertexData.length !== t.length &&
                          (this.vertexData = new Float32Array(t.length));
                      for (
                        var n = this.transform.worldTransform,
                          i = n.a,
                          a = n.b,
                          s = n.c,
                          o = n.d,
                          u = n.tx,
                          l = n.ty,
                          c = this.vertexData,
                          h = 0;
                        h < c.length / 2;
                        h++
                      ) {
                        var f = t[2 * h],
                          d = t[2 * h + 1];
                        (c[2 * h] = i * f + s * d + u),
                          (c[2 * h + 1] = a * f + o * d + l);
                      }
                      if (this._roundPixels)
                        for (
                          var p = settings.RESOLUTION, _ = 0;
                          _ < c.length;
                          ++_
                        )
                          c[_] = Math.round(c[_] * p) / p;
                      this.vertexDirty = r;
                    }
                  }
                },
                {
                  key: "calculateUvs",
                  value: function () {
                    var e = this.geometry.buffers[1],
                      t = this.shader;
                    t.uvMatrix.isSimple
                      ? (this.uvs = e.data)
                      : (this.batchUvs ||
                          (this.batchUvs = new MeshBatchUvs(e, t.uvMatrix)),
                        this.batchUvs.update(),
                        (this.uvs = this.batchUvs.data));
                  }
                },
                {
                  key: "_calculateBounds",
                  value: function () {
                    this.calculateVertices(),
                      this._bounds.addVertexData(
                        this.vertexData,
                        0,
                        this.vertexData.length
                      );
                  }
                },
                {
                  key: "containsPoint",
                  value: function (e) {
                    if (!this.getBounds().contains(e.x, e.y)) return !1;
                    this.worldTransform.applyInverse(e, tempPoint);
                    for (
                      var t = this.geometry.getBuffer("aVertexPosition").data,
                        r = tempPolygon.points,
                        n = this.geometry.getIndex().data,
                        i = n.length,
                        a = 4 === this.drawMode ? 3 : 1,
                        s = 0;
                      s + 2 < i;
                      s += a
                    ) {
                      var o = 2 * n[s],
                        u = 2 * n[s + 1],
                        l = 2 * n[s + 2];
                      if (
                        ((r[0] = t[o]),
                        (r[1] = t[o + 1]),
                        (r[2] = t[u]),
                        (r[3] = t[u + 1]),
                        (r[4] = t[l]),
                        (r[5] = t[l + 1]),
                        tempPolygon.contains(tempPoint.x, tempPoint.y))
                      )
                        return !0;
                    }
                    return !1;
                  }
                },
                {
                  key: "destroy",
                  value: function (e) {
                    _get3(_getPrototypeOf(r.prototype), "destroy", this).call(
                      this,
                      e
                    ),
                      this._cachedTexture &&
                        (this._cachedTexture.destroy(),
                        (this._cachedTexture = null)),
                      (this.geometry = null),
                      (this.shader = null),
                      (this.state = null),
                      (this.uvs = null),
                      (this.indices = null),
                      (this.vertexData = null);
                  }
                }
              ]),
              r
            );
          })(Container),
          Mesh = _Mesh;
        Mesh.BATCHABLE_SIZE = 100;
        var MeshGeometry = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e, n, i) {
              var a;
              _classCallCheck(this, r), (a = t.call(this));
              var s = new Buffer(e),
                o = new Buffer(n, !0),
                u = new Buffer(i, !0, !0);
              return (
                a
                  .addAttribute("aVertexPosition", s, 2, !1, TYPES.FLOAT)
                  .addAttribute("aTextureCoord", o, 2, !1, TYPES.FLOAT)
                  .addIndex(u),
                (a._updateId = -1),
                a
              );
            }
            return (
              _createClass(r, [
                {
                  key: "vertexDirtyId",
                  get: function () {
                    return this.buffers[0]._updateID;
                  }
                }
              ]),
              r
            );
          })(Geometry),
          fragment$1 =
            "varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",
          vertex$1 =
            "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n",
          MeshMaterial = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e, n) {
              var i;
              _classCallCheck(this, r);
              var a = {
                uSampler: e,
                alpha: 1,
                uTextureMatrix: Matrix.IDENTITY,
                uColor: new Float32Array([1, 1, 1, 1])
              };
              return (
                (n = Object.assign(
                  { tint: 16777215, alpha: 1, pluginName: "batch" },
                  n
                )).uniforms && Object.assign(a, n.uniforms),
                ((i = t.call(
                  this,
                  n.program || Program.from(vertex$1, fragment$1),
                  a
                ))._colorDirty = !1),
                (i.uvMatrix = new TextureMatrix(e)),
                (i.batchable = void 0 === n.program),
                (i.pluginName = n.pluginName),
                (i._tintColor = new Color(n.tint)),
                (i._tintRGB = i._tintColor.toLittleEndianNumber()),
                (i._colorDirty = !0),
                (i.alpha = n.alpha),
                i
              );
            }
            return (
              _createClass(r, [
                {
                  key: "texture",
                  get: function () {
                    return this.uniforms.uSampler;
                  },
                  set: function (e) {
                    this.uniforms.uSampler !== e &&
                      (!this.uniforms.uSampler.baseTexture.alphaMode !=
                        !e.baseTexture.alphaMode && (this._colorDirty = !0),
                      (this.uniforms.uSampler = e),
                      (this.uvMatrix.texture = e));
                  }
                },
                {
                  key: "alpha",
                  get: function () {
                    return this._alpha;
                  },
                  set: function (e) {
                    e !== this._alpha &&
                      ((this._alpha = e), (this._colorDirty = !0));
                  }
                },
                {
                  key: "tint",
                  get: function () {
                    return this._tintColor.value;
                  },
                  set: function (e) {
                    e !== this.tint &&
                      (this._tintColor.setValue(e),
                      (this._tintRGB = this._tintColor.toLittleEndianNumber()),
                      (this._colorDirty = !0));
                  }
                },
                {
                  key: "tintValue",
                  get: function () {
                    return this._tintColor.toNumber();
                  }
                },
                {
                  key: "update",
                  value: function () {
                    if (this._colorDirty) {
                      this._colorDirty = !1;
                      var e = this.texture.baseTexture.alphaMode;
                      Color.shared
                        .setValue(this._tintColor)
                        .premultiply(this._alpha, e)
                        .toArray(this.uniforms.uColor);
                    }
                    this.uvMatrix.update() &&
                      (this.uniforms.uTextureMatrix = this.uvMatrix.mapCoord);
                  }
                }
              ]),
              r
            );
          })(Shader),
          ParticleBuffer = (function () {
            function e(t, r, n) {
              _classCallCheck(this, e),
                (this.geometry = new Geometry()),
                (this.indexBuffer = null),
                (this.size = n),
                (this.dynamicProperties = []),
                (this.staticProperties = []);
              for (var i = 0; i < t.length; ++i) {
                var a = t[i];
                (a = {
                  attributeName: a.attributeName,
                  size: a.size,
                  uploadFunction: a.uploadFunction,
                  type: a.type || TYPES.FLOAT,
                  offset: a.offset
                }),
                  r[i]
                    ? this.dynamicProperties.push(a)
                    : this.staticProperties.push(a);
              }
              (this.staticStride = 0),
                (this.staticBuffer = null),
                (this.staticData = null),
                (this.staticDataUint32 = null),
                (this.dynamicStride = 0),
                (this.dynamicBuffer = null),
                (this.dynamicData = null),
                (this.dynamicDataUint32 = null),
                (this._updateID = 0),
                this.initBuffers();
            }
            return (
              _createClass(e, [
                {
                  key: "initBuffers",
                  value: function () {
                    var e = this.geometry,
                      t = 0;
                    (this.indexBuffer = new Buffer(
                      createIndicesForQuads(this.size),
                      !0,
                      !0
                    )),
                      e.addIndex(this.indexBuffer),
                      (this.dynamicStride = 0);
                    for (var r = 0; r < this.dynamicProperties.length; ++r) {
                      var n = this.dynamicProperties[r];
                      (n.offset = t),
                        (t += n.size),
                        (this.dynamicStride += n.size);
                    }
                    var i = new ArrayBuffer(
                      this.size * this.dynamicStride * 4 * 4
                    );
                    (this.dynamicData = new Float32Array(i)),
                      (this.dynamicDataUint32 = new Uint32Array(i)),
                      (this.dynamicBuffer = new Buffer(
                        this.dynamicData,
                        !1,
                        !1
                      ));
                    var a = 0;
                    this.staticStride = 0;
                    for (var s = 0; s < this.staticProperties.length; ++s) {
                      var o = this.staticProperties[s];
                      (o.offset = a),
                        (a += o.size),
                        (this.staticStride += o.size);
                    }
                    var u = new ArrayBuffer(
                      this.size * this.staticStride * 4 * 4
                    );
                    (this.staticData = new Float32Array(u)),
                      (this.staticDataUint32 = new Uint32Array(u)),
                      (this.staticBuffer = new Buffer(this.staticData, !0, !1));
                    for (var l = 0; l < this.dynamicProperties.length; ++l) {
                      var c = this.dynamicProperties[l];
                      e.addAttribute(
                        c.attributeName,
                        this.dynamicBuffer,
                        0,
                        c.type === TYPES.UNSIGNED_BYTE,
                        c.type,
                        4 * this.dynamicStride,
                        4 * c.offset
                      );
                    }
                    for (var h = 0; h < this.staticProperties.length; ++h) {
                      var f = this.staticProperties[h];
                      e.addAttribute(
                        f.attributeName,
                        this.staticBuffer,
                        0,
                        f.type === TYPES.UNSIGNED_BYTE,
                        f.type,
                        4 * this.staticStride,
                        4 * f.offset
                      );
                    }
                  }
                },
                {
                  key: "uploadDynamic",
                  value: function (e, t, r) {
                    for (var n = 0; n < this.dynamicProperties.length; n++) {
                      var i = this.dynamicProperties[n];
                      i.uploadFunction(
                        e,
                        t,
                        r,
                        i.type === TYPES.UNSIGNED_BYTE
                          ? this.dynamicDataUint32
                          : this.dynamicData,
                        this.dynamicStride,
                        i.offset
                      );
                    }
                    this.dynamicBuffer._updateID++;
                  }
                },
                {
                  key: "uploadStatic",
                  value: function (e, t, r) {
                    for (var n = 0; n < this.staticProperties.length; n++) {
                      var i = this.staticProperties[n];
                      i.uploadFunction(
                        e,
                        t,
                        r,
                        i.type === TYPES.UNSIGNED_BYTE
                          ? this.staticDataUint32
                          : this.staticData,
                        this.staticStride,
                        i.offset
                      );
                    }
                    this.staticBuffer._updateID++;
                  }
                },
                {
                  key: "destroy",
                  value: function () {
                    (this.indexBuffer = null),
                      (this.dynamicProperties = null),
                      (this.dynamicBuffer = null),
                      (this.dynamicData = null),
                      (this.dynamicDataUint32 = null),
                      (this.staticProperties = null),
                      (this.staticBuffer = null),
                      (this.staticData = null),
                      (this.staticDataUint32 = null),
                      this.geometry.destroy();
                  }
                }
              ]),
              e
            );
          })(),
          fragment =
            "varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",
          vertex =
            "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n",
          ParticleRenderer = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e) {
              var n;
              return (
                _classCallCheck(this, r),
                ((n = t.call(this, e)).shader = null),
                (n.properties = null),
                (n.tempMatrix = new Matrix()),
                (n.properties = [
                  {
                    attributeName: "aVertexPosition",
                    size: 2,
                    uploadFunction: n.uploadVertices,
                    offset: 0
                  },
                  {
                    attributeName: "aPositionCoord",
                    size: 2,
                    uploadFunction: n.uploadPosition,
                    offset: 0
                  },
                  {
                    attributeName: "aRotation",
                    size: 1,
                    uploadFunction: n.uploadRotation,
                    offset: 0
                  },
                  {
                    attributeName: "aTextureCoord",
                    size: 2,
                    uploadFunction: n.uploadUvs,
                    offset: 0
                  },
                  {
                    attributeName: "aColor",
                    size: 1,
                    type: TYPES.UNSIGNED_BYTE,
                    uploadFunction: n.uploadTint,
                    offset: 0
                  }
                ]),
                (n.shader = Shader.from(vertex, fragment, {})),
                (n.state = State.for2d()),
                n
              );
            }
            return (
              _createClass(r, [
                {
                  key: "render",
                  value: function (e) {
                    var t = e.children,
                      r = e._maxSize,
                      n = e._batchSize,
                      i = this.renderer,
                      a = t.length;
                    if (0 !== a) {
                      a > r && !e.autoResize && (a = r);
                      var s = e._buffers;
                      s || (s = e._buffers = this.generateBuffers(e));
                      var o = t[0]._texture.baseTexture,
                        u = o.alphaMode > 0;
                      (this.state.blendMode = correctBlendMode(e.blendMode, u)),
                        i.state.set(this.state);
                      var l = i.gl,
                        c = e.worldTransform.copyTo(this.tempMatrix);
                      c.prepend(i.globalUniforms.uniforms.projectionMatrix),
                        (this.shader.uniforms.translationMatrix = c.toArray(
                          !0
                        )),
                        (this.shader.uniforms.uColor = Color.shared
                          .setValue(e.tintRgb)
                          .premultiply(e.worldAlpha, u)
                          .toArray(this.shader.uniforms.uColor)),
                        (this.shader.uniforms.uSampler = o),
                        this.renderer.shader.bind(this.shader);
                      for (var h = !1, f = 0, d = 0; f < a; f += n, d += 1) {
                        var p = a - f;
                        p > n && (p = n),
                          d >= s.length &&
                            s.push(this._generateOneMoreBuffer(e));
                        var _ = s[d];
                        _.uploadDynamic(t, f, p);
                        var v = e._bufferUpdateIDs[d] || 0;
                        (h = h || _._updateID < v) &&
                          ((_._updateID = e._updateID),
                          _.uploadStatic(t, f, p)),
                          i.geometry.bind(_.geometry),
                          l.drawElements(
                            l.TRIANGLES,
                            6 * p,
                            l.UNSIGNED_SHORT,
                            0
                          );
                      }
                    }
                  }
                },
                {
                  key: "generateBuffers",
                  value: function (e) {
                    for (
                      var t = [],
                        r = e._maxSize,
                        n = e._batchSize,
                        i = e._properties,
                        a = 0;
                      a < r;
                      a += n
                    )
                      t.push(new ParticleBuffer(this.properties, i, n));
                    return t;
                  }
                },
                {
                  key: "_generateOneMoreBuffer",
                  value: function (e) {
                    var t = e._batchSize,
                      r = e._properties;
                    return new ParticleBuffer(this.properties, r, t);
                  }
                },
                {
                  key: "uploadVertices",
                  value: function (e, t, r, n, i, a) {
                    for (var s = 0, o = 0, u = 0, l = 0, c = 0; c < r; ++c) {
                      var h = e[t + c],
                        f = h._texture,
                        d = h.scale.x,
                        p = h.scale.y,
                        _ = f.trim,
                        v = f.orig;
                      _
                        ? ((s = (o = _.x - h.anchor.x * v.width) + _.width),
                          (u = (l = _.y - h.anchor.y * v.height) + _.height))
                        : ((s = v.width * (1 - h.anchor.x)),
                          (o = v.width * -h.anchor.x),
                          (u = v.height * (1 - h.anchor.y)),
                          (l = v.height * -h.anchor.y)),
                        (n[a] = o * d),
                        (n[a + 1] = l * p),
                        (n[a + i] = s * d),
                        (n[a + i + 1] = l * p),
                        (n[a + 2 * i] = s * d),
                        (n[a + 2 * i + 1] = u * p),
                        (n[a + 3 * i] = o * d),
                        (n[a + 3 * i + 1] = u * p),
                        (a += 4 * i);
                    }
                  }
                },
                {
                  key: "uploadPosition",
                  value: function (e, t, r, n, i, a) {
                    for (var s = 0; s < r; s++) {
                      var o = e[t + s].position;
                      (n[a] = o.x),
                        (n[a + 1] = o.y),
                        (n[a + i] = o.x),
                        (n[a + i + 1] = o.y),
                        (n[a + 2 * i] = o.x),
                        (n[a + 2 * i + 1] = o.y),
                        (n[a + 3 * i] = o.x),
                        (n[a + 3 * i + 1] = o.y),
                        (a += 4 * i);
                    }
                  }
                },
                {
                  key: "uploadRotation",
                  value: function (e, t, r, n, i, a) {
                    for (var s = 0; s < r; s++) {
                      var o = e[t + s].rotation;
                      (n[a] = o),
                        (n[a + i] = o),
                        (n[a + 2 * i] = o),
                        (n[a + 3 * i] = o),
                        (a += 4 * i);
                    }
                  }
                },
                {
                  key: "uploadUvs",
                  value: function (e, t, r, n, i, a) {
                    for (var s = 0; s < r; ++s) {
                      var o = e[t + s]._texture._uvs;
                      o
                        ? ((n[a] = o.x0),
                          (n[a + 1] = o.y0),
                          (n[a + i] = o.x1),
                          (n[a + i + 1] = o.y1),
                          (n[a + 2 * i] = o.x2),
                          (n[a + 2 * i + 1] = o.y2),
                          (n[a + 3 * i] = o.x3),
                          (n[a + 3 * i + 1] = o.y3),
                          (a += 4 * i))
                        : ((n[a] = 0),
                          (n[a + 1] = 0),
                          (n[a + i] = 0),
                          (n[a + i + 1] = 0),
                          (n[a + 2 * i] = 0),
                          (n[a + 2 * i + 1] = 0),
                          (n[a + 3 * i] = 0),
                          (n[a + 3 * i + 1] = 0),
                          (a += 4 * i));
                    }
                  }
                },
                {
                  key: "uploadTint",
                  value: function (e, t, r, n, i, a) {
                    for (var s = 0; s < r; ++s) {
                      var o = e[t + s],
                        u = Color.shared
                          .setValue(o._tintRGB)
                          .toPremultiplied(
                            o.alpha,
                            o.texture.baseTexture.alphaMode > 0
                          );
                      (n[a] = u),
                        (n[a + i] = u),
                        (n[a + 2 * i] = u),
                        (n[a + 3 * i] = u),
                        (a += 4 * i);
                    }
                  }
                },
                {
                  key: "destroy",
                  value: function () {
                    _get3(_getPrototypeOf(r.prototype), "destroy", this).call(
                      this
                    ),
                      this.shader &&
                        (this.shader.destroy(), (this.shader = null)),
                      (this.tempMatrix = null);
                  }
                }
              ]),
              r
            );
          })(ObjectRenderer);
        (ParticleRenderer.extension = {
          name: "particle",
          type: ExtensionType.RendererPlugin
        }),
          extensions$1.add(ParticleRenderer);
        var TEXT_GRADIENT = (function (e) {
            return (
              (e[(e.LINEAR_VERTICAL = 0)] = "LINEAR_VERTICAL"),
              (e[(e.LINEAR_HORIZONTAL = 1)] = "LINEAR_HORIZONTAL"),
              e
            );
          })(TEXT_GRADIENT || {}),
          contextSettings = { willReadFrequently: !0 },
          _TextMetrics = (function () {
            function e(t, r, n, i, a, s, o, u, l) {
              _classCallCheck(this, e),
                (this.text = t),
                (this.style = r),
                (this.width = n),
                (this.height = i),
                (this.lines = a),
                (this.lineWidths = s),
                (this.lineHeight = o),
                (this.maxLineWidth = u),
                (this.fontProperties = l);
            }
            return (
              _createClass(e, null, [
                {
                  key: "experimentalLetterSpacingSupported",
                  get: function () {
                    var t = e._experimentalLetterSpacingSupported;
                    if (void 0 !== t) {
                      var r = settings.ADAPTER.getCanvasRenderingContext2D()
                        .prototype;
                      t = e._experimentalLetterSpacingSupported =
                        "letterSpacing" in r || "textLetterSpacing" in r;
                    }
                    return t;
                  }
                },
                {
                  key: "measureText",
                  value: function (t, r, n) {
                    var i =
                      arguments.length > 3 && void 0 !== arguments[3]
                        ? arguments[3]
                        : e._canvas;
                    n = null == n ? r.wordWrap : n;
                    var a = r.toFontString(),
                      s = e.measureFont(a);
                    0 === s.fontSize &&
                      ((s.fontSize = r.fontSize), (s.ascent = r.fontSize));
                    var o = i.getContext("2d", contextSettings);
                    o.font = a;
                    for (
                      var u = (n ? e.wordWrap(t, r, i) : t).split(
                          /(?:\r\n|\r|\n)/
                        ),
                        l = new Array(u.length),
                        c = 0,
                        h = 0;
                      h < u.length;
                      h++
                    ) {
                      var f = e._measureText(u[h], r.letterSpacing, o);
                      (l[h] = f), (c = Math.max(c, f));
                    }
                    var d = c + r.strokeThickness;
                    r.dropShadow && (d += r.dropShadowDistance);
                    var p = r.lineHeight || s.fontSize + r.strokeThickness,
                      _ =
                        Math.max(p, s.fontSize + 2 * r.strokeThickness) +
                        (u.length - 1) * (p + r.leading);
                    return (
                      r.dropShadow && (_ += r.dropShadowDistance),
                      new e(t, r, d, _, u, l, p + r.leading, c, s)
                    );
                  }
                },
                {
                  key: "_measureText",
                  value: function (t, r, n) {
                    var i = !1;
                    e.experimentalLetterSpacingSupported &&
                      (e.experimentalLetterSpacing
                        ? ((n.letterSpacing = "".concat(r, "px")),
                          (n.textLetterSpacing = "".concat(r, "px")),
                          (i = !0))
                        : ((n.letterSpacing = "0px"),
                          (n.textLetterSpacing = "0px")));
                    var a = n.measureText(t).width;
                    return (
                      a > 0 &&
                        (i
                          ? (a -= r)
                          : (a += (e.graphemeSegmenter(t).length - 1) * r)),
                      a
                    );
                  }
                },
                {
                  key: "wordWrap",
                  value: function (t, r) {
                    for (
                      var n = (arguments.length > 2 && void 0 !== arguments[2]
                          ? arguments[2]
                          : e._canvas
                        ).getContext("2d", contextSettings),
                        i = 0,
                        a = "",
                        s = "",
                        o = Object.create(null),
                        u = r.letterSpacing,
                        l = r.whiteSpace,
                        c = e.collapseSpaces(l),
                        h = e.collapseNewlines(l),
                        f = !c,
                        d = r.wordWrapWidth + u,
                        p = e.tokenize(t),
                        _ = 0;
                      _ < p.length;
                      _++
                    ) {
                      var v = p[_];
                      if (e.isNewline(v)) {
                        if (!h) {
                          (s += e.addLine(a)), (f = !c), (a = ""), (i = 0);
                          continue;
                        }
                        v = " ";
                      }
                      if (c) {
                        var m = e.isBreakingSpace(v),
                          g = e.isBreakingSpace(a[a.length - 1]);
                        if (m && g) continue;
                      }
                      var y = e.getFromCache(v, u, o, n);
                      if (y > d)
                        if (
                          ("" !== a && ((s += e.addLine(a)), (a = ""), (i = 0)),
                          e.canBreakWords(v, r.breakWords))
                        )
                          for (
                            var T = e.wordWrapSplit(v), x = 0;
                            x < T.length;
                            x++
                          ) {
                            for (var E = T[x], b = E, S = 1; T[x + S]; ) {
                              var A = T[x + S];
                              if (e.canBreakChars(b, A, v, x, r.breakWords))
                                break;
                              (E += A), (b = A), S++;
                            }
                            x += S - 1;
                            var C = e.getFromCache(E, u, o, n);
                            C + i > d &&
                              ((s += e.addLine(a)),
                              (f = !1),
                              (a = ""),
                              (i = 0)),
                              (a += E),
                              (i += C);
                          }
                        else {
                          a.length > 0 &&
                            ((s += e.addLine(a)), (a = ""), (i = 0));
                          var P = _ === p.length - 1;
                          (s += e.addLine(v, !P)), (f = !1), (a = ""), (i = 0);
                        }
                      else
                        y + i > d &&
                          ((f = !1), (s += e.addLine(a)), (a = ""), (i = 0)),
                          (a.length > 0 || !e.isBreakingSpace(v) || f) &&
                            ((a += v), (i += y));
                    }
                    return (s += e.addLine(a, !1));
                  }
                },
                {
                  key: "addLine",
                  value: function (t) {
                    var r =
                      !(arguments.length > 1 && void 0 !== arguments[1]) ||
                      arguments[1];
                    return (
                      (t = e.trimRight(t)), (t = r ? "".concat(t, "\n") : t)
                    );
                  }
                },
                {
                  key: "getFromCache",
                  value: function (t, r, n, i) {
                    var a = n[t];
                    return (
                      "number" != typeof a &&
                        ((a = e._measureText(t, r, i) + r), (n[t] = a)),
                      a
                    );
                  }
                },
                {
                  key: "collapseSpaces",
                  value: function (e) {
                    return "normal" === e || "pre-line" === e;
                  }
                },
                {
                  key: "collapseNewlines",
                  value: function (e) {
                    return "normal" === e;
                  }
                },
                {
                  key: "trimRight",
                  value: function (t) {
                    if ("string" != typeof t) return "";
                    for (var r = t.length - 1; r >= 0; r--) {
                      var n = t[r];
                      if (!e.isBreakingSpace(n)) break;
                      t = t.slice(0, -1);
                    }
                    return t;
                  }
                },
                {
                  key: "isNewline",
                  value: function (t) {
                    return (
                      "string" == typeof t &&
                      e._newlines.includes(t.charCodeAt(0))
                    );
                  }
                },
                {
                  key: "isBreakingSpace",
                  value: function (t, r) {
                    return (
                      "string" == typeof t &&
                      e._breakingSpaces.includes(t.charCodeAt(0))
                    );
                  }
                },
                {
                  key: "tokenize",
                  value: function (t) {
                    var r = [],
                      n = "";
                    if ("string" != typeof t) return r;
                    for (var i = 0; i < t.length; i++) {
                      var a = t[i],
                        s = t[i + 1];
                      e.isBreakingSpace(a, s) || e.isNewline(a)
                        ? ("" !== n && (r.push(n), (n = "")), r.push(a))
                        : (n += a);
                    }
                    return "" !== n && r.push(n), r;
                  }
                },
                {
                  key: "canBreakWords",
                  value: function (e, t) {
                    return t;
                  }
                },
                {
                  key: "canBreakChars",
                  value: function (e, t, r, n, i) {
                    return !0;
                  }
                },
                {
                  key: "wordWrapSplit",
                  value: function (t) {
                    return e.graphemeSegmenter(t);
                  }
                },
                {
                  key: "measureFont",
                  value: function (t) {
                    if (e._fonts[t]) return e._fonts[t];
                    var r = { ascent: 0, descent: 0, fontSize: 0 },
                      n = e._canvas,
                      i = e._context;
                    i.font = t;
                    var a = e.METRICS_STRING + e.BASELINE_SYMBOL,
                      s = Math.ceil(i.measureText(a).width),
                      o = Math.ceil(i.measureText(e.BASELINE_SYMBOL).width),
                      u = Math.ceil(e.HEIGHT_MULTIPLIER * o);
                    if (
                      ((o = (o * e.BASELINE_MULTIPLIER) | 0),
                      0 === s || 0 === u)
                    )
                      return (e._fonts[t] = r), r;
                    (n.width = s),
                      (n.height = u),
                      (i.fillStyle = "#f00"),
                      i.fillRect(0, 0, s, u),
                      (i.font = t),
                      (i.textBaseline = "alphabetic"),
                      (i.fillStyle = "#000"),
                      i.fillText(a, 0, o);
                    var l = i.getImageData(0, 0, s, u).data,
                      c = l.length,
                      h = 4 * s,
                      f = 0,
                      d = 0,
                      p = !1;
                    for (f = 0; f < o; ++f) {
                      for (var _ = 0; _ < h; _ += 4)
                        if (255 !== l[d + _]) {
                          p = !0;
                          break;
                        }
                      if (p) break;
                      d += h;
                    }
                    for (
                      r.ascent = o - f, d = c - h, p = !1, f = u;
                      f > o;
                      --f
                    ) {
                      for (var v = 0; v < h; v += 4)
                        if (255 !== l[d + v]) {
                          p = !0;
                          break;
                        }
                      if (p) break;
                      d -= h;
                    }
                    return (
                      (r.descent = f - o),
                      (r.fontSize = r.ascent + r.descent),
                      (e._fonts[t] = r),
                      r
                    );
                  }
                },
                {
                  key: "clearMetrics",
                  value: function () {
                    var t =
                      arguments.length > 0 && void 0 !== arguments[0]
                        ? arguments[0]
                        : "";
                    t ? delete e._fonts[t] : (e._fonts = {});
                  }
                },
                {
                  key: "_canvas",
                  get: function () {
                    if (!e.__canvas) {
                      var t;
                      try {
                        var r = new OffscreenCanvas(0, 0),
                          n = r.getContext("2d", contextSettings);
                        if (null != n && n.measureText)
                          return (e.__canvas = r), r;
                        t = settings.ADAPTER.createCanvas();
                      } catch (i) {
                        t = settings.ADAPTER.createCanvas();
                      }
                      (t.width = t.height = 10), (e.__canvas = t);
                    }
                    return e.__canvas;
                  }
                },
                {
                  key: "_context",
                  get: function () {
                    return (
                      e.__context ||
                        (e.__context = e._canvas.getContext(
                          "2d",
                          contextSettings
                        )),
                      e.__context
                    );
                  }
                }
              ]),
              e
            );
          })(),
          TextMetrics = _TextMetrics;
        (TextMetrics.METRICS_STRING = "|ÉqÅ"),
          (TextMetrics.BASELINE_SYMBOL = "M"),
          (TextMetrics.BASELINE_MULTIPLIER = 1.4),
          (TextMetrics.HEIGHT_MULTIPLIER = 2),
          (TextMetrics.graphemeSegmenter = (function () {
            var e;
            if (
              "function" ==
              typeof (null === (e = Intl) || void 0 === e
                ? void 0
                : e.Segmenter)
            ) {
              var t = new Intl.Segmenter();
              return function (e) {
                return _toConsumableArray(t.segment(e)).map(function (e) {
                  return e.segment;
                });
              };
            }
            return function (e) {
              return _toConsumableArray(e);
            };
          })()),
          (TextMetrics.experimentalLetterSpacing = !1),
          (TextMetrics._fonts = {}),
          (TextMetrics._newlines = [10, 13]),
          (TextMetrics._breakingSpaces = [
            9,
            32,
            8192,
            8193,
            8194,
            8195,
            8196,
            8197,
            8198,
            8200,
            8201,
            8202,
            8287,
            12288
          ]);
        var genericFontFamilies = [
            "serif",
            "sans-serif",
            "monospace",
            "cursive",
            "fantasy",
            "system-ui"
          ],
          _TextStyle = (function () {
            function e(t) {
              _classCallCheck(this, e),
                (this.styleID = 0),
                this.reset(),
                deepCopyProperties(this, t, t);
            }
            return (
              _createClass(e, [
                {
                  key: "clone",
                  value: function () {
                    var t = {};
                    return (
                      deepCopyProperties(t, this, e.defaultStyle), new e(t)
                    );
                  }
                },
                {
                  key: "reset",
                  value: function () {
                    deepCopyProperties(this, e.defaultStyle, e.defaultStyle);
                  }
                },
                {
                  key: "align",
                  get: function () {
                    return this._align;
                  },
                  set: function (e) {
                    this._align !== e && ((this._align = e), this.styleID++);
                  }
                },
                {
                  key: "breakWords",
                  get: function () {
                    return this._breakWords;
                  },
                  set: function (e) {
                    this._breakWords !== e &&
                      ((this._breakWords = e), this.styleID++);
                  }
                },
                {
                  key: "dropShadow",
                  get: function () {
                    return this._dropShadow;
                  },
                  set: function (e) {
                    this._dropShadow !== e &&
                      ((this._dropShadow = e), this.styleID++);
                  }
                },
                {
                  key: "dropShadowAlpha",
                  get: function () {
                    return this._dropShadowAlpha;
                  },
                  set: function (e) {
                    this._dropShadowAlpha !== e &&
                      ((this._dropShadowAlpha = e), this.styleID++);
                  }
                },
                {
                  key: "dropShadowAngle",
                  get: function () {
                    return this._dropShadowAngle;
                  },
                  set: function (e) {
                    this._dropShadowAngle !== e &&
                      ((this._dropShadowAngle = e), this.styleID++);
                  }
                },
                {
                  key: "dropShadowBlur",
                  get: function () {
                    return this._dropShadowBlur;
                  },
                  set: function (e) {
                    this._dropShadowBlur !== e &&
                      ((this._dropShadowBlur = e), this.styleID++);
                  }
                },
                {
                  key: "dropShadowColor",
                  get: function () {
                    return this._dropShadowColor;
                  },
                  set: function (e) {
                    var t = getColor(e);
                    this._dropShadowColor !== t &&
                      ((this._dropShadowColor = t), this.styleID++);
                  }
                },
                {
                  key: "dropShadowDistance",
                  get: function () {
                    return this._dropShadowDistance;
                  },
                  set: function (e) {
                    this._dropShadowDistance !== e &&
                      ((this._dropShadowDistance = e), this.styleID++);
                  }
                },
                {
                  key: "fill",
                  get: function () {
                    return this._fill;
                  },
                  set: function (e) {
                    var t = getColor(e);
                    this._fill !== t && ((this._fill = t), this.styleID++);
                  }
                },
                {
                  key: "fillGradientType",
                  get: function () {
                    return this._fillGradientType;
                  },
                  set: function (e) {
                    this._fillGradientType !== e &&
                      ((this._fillGradientType = e), this.styleID++);
                  }
                },
                {
                  key: "fillGradientStops",
                  get: function () {
                    return this._fillGradientStops;
                  },
                  set: function (e) {
                    areArraysEqual(this._fillGradientStops, e) ||
                      ((this._fillGradientStops = e), this.styleID++);
                  }
                },
                {
                  key: "fontFamily",
                  get: function () {
                    return this._fontFamily;
                  },
                  set: function (e) {
                    this.fontFamily !== e &&
                      ((this._fontFamily = e), this.styleID++);
                  }
                },
                {
                  key: "fontSize",
                  get: function () {
                    return this._fontSize;
                  },
                  set: function (e) {
                    this._fontSize !== e &&
                      ((this._fontSize = e), this.styleID++);
                  }
                },
                {
                  key: "fontStyle",
                  get: function () {
                    return this._fontStyle;
                  },
                  set: function (e) {
                    this._fontStyle !== e &&
                      ((this._fontStyle = e), this.styleID++);
                  }
                },
                {
                  key: "fontVariant",
                  get: function () {
                    return this._fontVariant;
                  },
                  set: function (e) {
                    this._fontVariant !== e &&
                      ((this._fontVariant = e), this.styleID++);
                  }
                },
                {
                  key: "fontWeight",
                  get: function () {
                    return this._fontWeight;
                  },
                  set: function (e) {
                    this._fontWeight !== e &&
                      ((this._fontWeight = e), this.styleID++);
                  }
                },
                {
                  key: "letterSpacing",
                  get: function () {
                    return this._letterSpacing;
                  },
                  set: function (e) {
                    this._letterSpacing !== e &&
                      ((this._letterSpacing = e), this.styleID++);
                  }
                },
                {
                  key: "lineHeight",
                  get: function () {
                    return this._lineHeight;
                  },
                  set: function (e) {
                    this._lineHeight !== e &&
                      ((this._lineHeight = e), this.styleID++);
                  }
                },
                {
                  key: "leading",
                  get: function () {
                    return this._leading;
                  },
                  set: function (e) {
                    this._leading !== e &&
                      ((this._leading = e), this.styleID++);
                  }
                },
                {
                  key: "lineJoin",
                  get: function () {
                    return this._lineJoin;
                  },
                  set: function (e) {
                    this._lineJoin !== e &&
                      ((this._lineJoin = e), this.styleID++);
                  }
                },
                {
                  key: "miterLimit",
                  get: function () {
                    return this._miterLimit;
                  },
                  set: function (e) {
                    this._miterLimit !== e &&
                      ((this._miterLimit = e), this.styleID++);
                  }
                },
                {
                  key: "padding",
                  get: function () {
                    return this._padding;
                  },
                  set: function (e) {
                    this._padding !== e &&
                      ((this._padding = e), this.styleID++);
                  }
                },
                {
                  key: "stroke",
                  get: function () {
                    return this._stroke;
                  },
                  set: function (e) {
                    var t = getColor(e);
                    this._stroke !== t && ((this._stroke = t), this.styleID++);
                  }
                },
                {
                  key: "strokeThickness",
                  get: function () {
                    return this._strokeThickness;
                  },
                  set: function (e) {
                    this._strokeThickness !== e &&
                      ((this._strokeThickness = e), this.styleID++);
                  }
                },
                {
                  key: "textBaseline",
                  get: function () {
                    return this._textBaseline;
                  },
                  set: function (e) {
                    this._textBaseline !== e &&
                      ((this._textBaseline = e), this.styleID++);
                  }
                },
                {
                  key: "trim",
                  get: function () {
                    return this._trim;
                  },
                  set: function (e) {
                    this._trim !== e && ((this._trim = e), this.styleID++);
                  }
                },
                {
                  key: "whiteSpace",
                  get: function () {
                    return this._whiteSpace;
                  },
                  set: function (e) {
                    this._whiteSpace !== e &&
                      ((this._whiteSpace = e), this.styleID++);
                  }
                },
                {
                  key: "wordWrap",
                  get: function () {
                    return this._wordWrap;
                  },
                  set: function (e) {
                    this._wordWrap !== e &&
                      ((this._wordWrap = e), this.styleID++);
                  }
                },
                {
                  key: "wordWrapWidth",
                  get: function () {
                    return this._wordWrapWidth;
                  },
                  set: function (e) {
                    this._wordWrapWidth !== e &&
                      ((this._wordWrapWidth = e), this.styleID++);
                  }
                },
                {
                  key: "toFontString",
                  value: function () {
                    var e =
                        "number" == typeof this.fontSize
                          ? "".concat(this.fontSize, "px")
                          : this.fontSize,
                      t = this.fontFamily;
                    Array.isArray(this.fontFamily) ||
                      (t = this.fontFamily.split(","));
                    for (var r = t.length - 1; r >= 0; r--) {
                      var n = t[r].trim();
                      /([\"\'])[^\'\"]+\1/.test(n) ||
                        genericFontFamilies.includes(n) ||
                        (n = '"'.concat(n, '"')),
                        (t[r] = n);
                    }
                    return ""
                      .concat(this.fontStyle, " ")
                      .concat(this.fontVariant, " ")
                      .concat(this.fontWeight, " ")
                      .concat(e, " ")
                      .concat(t.join(","));
                  }
                }
              ]),
              e
            );
          })(),
          TextStyle = exports("T", _TextStyle);
        function getColor(e) {
          var t = Color.shared;
          return Array.isArray(e)
            ? e.map(function (e) {
                return t.setValue(e).toHex();
              })
            : t.setValue(e).toHex();
        }
        function areArraysEqual(e, t) {
          if (!Array.isArray(e) || !Array.isArray(t)) return !1;
          if (e.length !== t.length) return !1;
          for (var r = 0; r < e.length; ++r) if (e[r] !== t[r]) return !1;
          return !0;
        }
        function deepCopyProperties(e, t, r) {
          for (var n in r)
            Array.isArray(t[n]) ? (e[n] = t[n].slice()) : (e[n] = t[n]);
        }
        TextStyle.defaultStyle = {
          align: "left",
          breakWords: !1,
          dropShadow: !1,
          dropShadowAlpha: 1,
          dropShadowAngle: Math.PI / 6,
          dropShadowBlur: 0,
          dropShadowColor: "black",
          dropShadowDistance: 5,
          fill: "black",
          fillGradientType: TEXT_GRADIENT.LINEAR_VERTICAL,
          fillGradientStops: [],
          fontFamily: "Arial",
          fontSize: 26,
          fontStyle: "normal",
          fontVariant: "normal",
          fontWeight: "normal",
          leading: 0,
          letterSpacing: 0,
          lineHeight: 0,
          lineJoin: "miter",
          miterLimit: 10,
          padding: 0,
          stroke: "black",
          strokeThickness: 0,
          textBaseline: "alphabetic",
          trim: !1,
          whiteSpace: "pre",
          wordWrap: !1,
          wordWrapWidth: 100
        };
        var defaultDestroyOptions = {
            texture: !0,
            children: !1,
            baseTexture: !0
          },
          _Text = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e, n, i) {
              var a, s;
              _classCallCheck(this, r);
              var o = !1;
              i || ((i = settings.ADAPTER.createCanvas()), (o = !0)),
                (i.width = 3),
                (i.height = 3);
              var u = Texture.from(i);
              return (
                (u.orig = new Rectangle()),
                (u.trim = new Rectangle()),
                ((s = t.call(this, u))._ownCanvas = o),
                (s.canvas = i),
                (s.context = i.getContext("2d", { willReadFrequently: !0 })),
                (s._resolution =
                  null !== (a = r.defaultResolution) && void 0 !== a
                    ? a
                    : settings.RESOLUTION),
                (s._autoResolution = r.defaultAutoResolution),
                (s._text = null),
                (s._style = null),
                (s._styleListener = null),
                (s._font = ""),
                (s.text = e),
                (s.style = n),
                (s.localStyleID = -1),
                s
              );
            }
            return (
              _createClass(
                r,
                [
                  {
                    key: "updateText",
                    value: function (e) {
                      var t = this._style;
                      if (
                        (this.localStyleID !== t.styleID &&
                          ((this.dirty = !0), (this.localStyleID = t.styleID)),
                        this.dirty || !e)
                      ) {
                        this._font = this._style.toFontString();
                        var r,
                          n,
                          i = this.context,
                          a = TextMetrics.measureText(
                            this._text || " ",
                            this._style,
                            this._style.wordWrap,
                            this.canvas
                          ),
                          s = a.width,
                          o = a.height,
                          u = a.lines,
                          l = a.lineHeight,
                          c = a.lineWidths,
                          h = a.maxLineWidth,
                          f = a.fontProperties;
                        (this.canvas.width = Math.ceil(
                          Math.ceil(Math.max(1, s) + 2 * t.padding) *
                            this._resolution
                        )),
                          (this.canvas.height = Math.ceil(
                            Math.ceil(Math.max(1, o) + 2 * t.padding) *
                              this._resolution
                          )),
                          i.scale(this._resolution, this._resolution),
                          i.clearRect(
                            0,
                            0,
                            this.canvas.width,
                            this.canvas.height
                          ),
                          (i.font = this._font),
                          (i.lineWidth = t.strokeThickness),
                          (i.textBaseline = t.textBaseline),
                          (i.lineJoin = t.lineJoin),
                          (i.miterLimit = t.miterLimit);
                        for (var d = t.dropShadow ? 2 : 1, p = 0; p < d; ++p) {
                          var _ = t.dropShadow && 0 === p,
                            v = _
                              ? Math.ceil(Math.max(1, o) + 2 * t.padding)
                              : 0,
                            m = v * this._resolution;
                          if (_) {
                            (i.fillStyle = "black"), (i.strokeStyle = "black");
                            var g = t.dropShadowColor,
                              y = t.dropShadowBlur * this._resolution,
                              T = t.dropShadowDistance * this._resolution;
                            (i.shadowColor = Color.shared
                              .setValue(g)
                              .setAlpha(t.dropShadowAlpha)
                              .toRgbaString()),
                              (i.shadowBlur = y),
                              (i.shadowOffsetX =
                                Math.cos(t.dropShadowAngle) * T),
                              (i.shadowOffsetY =
                                Math.sin(t.dropShadowAngle) * T + m);
                          } else
                            (i.fillStyle = this._generateFillStyle(t, u, a)),
                              (i.strokeStyle = t.stroke),
                              (i.shadowColor = "black"),
                              (i.shadowBlur = 0),
                              (i.shadowOffsetX = 0),
                              (i.shadowOffsetY = 0);
                          var x = (l - f.fontSize) / 2;
                          l - f.fontSize < 0 && (x = 0);
                          for (var E = 0; E < u.length; E++)
                            (r = t.strokeThickness / 2),
                              (n =
                                t.strokeThickness / 2 + E * l + f.ascent + x),
                              "right" === t.align
                                ? (r += h - c[E])
                                : "center" === t.align && (r += (h - c[E]) / 2),
                              t.stroke &&
                                t.strokeThickness &&
                                this.drawLetterSpacing(
                                  u[E],
                                  r + t.padding,
                                  n + t.padding - v,
                                  !0
                                ),
                              t.fill &&
                                this.drawLetterSpacing(
                                  u[E],
                                  r + t.padding,
                                  n + t.padding - v
                                );
                        }
                        this.updateTexture();
                      }
                    }
                  },
                  {
                    key: "drawLetterSpacing",
                    value: function (e, t, r) {
                      var n =
                          arguments.length > 3 &&
                          void 0 !== arguments[3] &&
                          arguments[3],
                        i = this._style.letterSpacing,
                        a = !1;
                      if (
                        (TextMetrics.experimentalLetterSpacingSupported &&
                          (TextMetrics.experimentalLetterSpacing
                            ? ((this.context.letterSpacing = "".concat(
                                i,
                                "px"
                              )),
                              (this.context.textLetterSpacing = "".concat(
                                i,
                                "px"
                              )),
                              (a = !0))
                            : ((this.context.letterSpacing = "0px"),
                              (this.context.textLetterSpacing = "0px"))),
                        0 === i || a)
                      )
                        n
                          ? this.context.strokeText(e, t, r)
                          : this.context.fillText(e, t, r);
                      else
                        for (
                          var s = t,
                            o = TextMetrics.graphemeSegmenter(e),
                            u = this.context.measureText(e).width,
                            l = 0,
                            c = 0;
                          c < o.length;
                          ++c
                        ) {
                          var h = o[c];
                          n
                            ? this.context.strokeText(h, s, r)
                            : this.context.fillText(h, s, r);
                          for (var f = "", d = c + 1; d < o.length; ++d)
                            f += o[d];
                          (s +=
                            u - (l = this.context.measureText(f).width) + i),
                            (u = l);
                        }
                    }
                  },
                  {
                    key: "updateTexture",
                    value: function () {
                      var e = this.canvas;
                      if (this._style.trim) {
                        var t = trimCanvas(e);
                        t.data &&
                          ((e.width = t.width),
                          (e.height = t.height),
                          this.context.putImageData(t.data, 0, 0));
                      }
                      var r = this._texture,
                        n = this._style,
                        i = n.trim ? 0 : n.padding,
                        a = r.baseTexture;
                      (r.trim.width = r._frame.width =
                        e.width / this._resolution),
                        (r.trim.height = r._frame.height =
                          e.height / this._resolution),
                        (r.trim.x = -i),
                        (r.trim.y = -i),
                        (r.orig.width = r._frame.width - 2 * i),
                        (r.orig.height = r._frame.height - 2 * i),
                        this._onTextureUpdate(),
                        a.setRealSize(e.width, e.height, this._resolution),
                        r.updateUvs(),
                        (this.dirty = !1);
                    }
                  },
                  {
                    key: "_render",
                    value: function (e) {
                      this._autoResolution &&
                        this._resolution !== e.resolution &&
                        ((this._resolution = e.resolution), (this.dirty = !0)),
                        this.updateText(!0),
                        _get3(
                          _getPrototypeOf(r.prototype),
                          "_render",
                          this
                        ).call(this, e);
                    }
                  },
                  {
                    key: "updateTransform",
                    value: function () {
                      this.updateText(!0),
                        _get3(
                          _getPrototypeOf(r.prototype),
                          "updateTransform",
                          this
                        ).call(this);
                    }
                  },
                  {
                    key: "getBounds",
                    value: function (e, t) {
                      return (
                        this.updateText(!0),
                        -1 === this._textureID && (e = !1),
                        _get3(
                          _getPrototypeOf(r.prototype),
                          "getBounds",
                          this
                        ).call(this, e, t)
                      );
                    }
                  },
                  {
                    key: "getLocalBounds",
                    value: function (e) {
                      return (
                        this.updateText(!0),
                        _get3(
                          _getPrototypeOf(r.prototype),
                          "getLocalBounds",
                          this
                        ).call(this, e)
                      );
                    }
                  },
                  {
                    key: "_calculateBounds",
                    value: function () {
                      this.calculateVertices(),
                        this._bounds.addQuad(this.vertexData);
                    }
                  },
                  {
                    key: "_generateFillStyle",
                    value: function (e, t, r) {
                      var n,
                        i = e.fill;
                      if (!Array.isArray(i)) return i;
                      if (1 === i.length) return i[0];
                      var a = e.dropShadow ? e.dropShadowDistance : 0,
                        s = e.padding || 0,
                        o = this.canvas.width / this._resolution - a - 2 * s,
                        u = this.canvas.height / this._resolution - a - 2 * s,
                        l = i.slice(),
                        c = e.fillGradientStops.slice();
                      if (!c.length)
                        for (var h = l.length + 1, f = 1; f < h; ++f)
                          c.push(f / h);
                      if (
                        (l.unshift(i[0]),
                        c.unshift(0),
                        l.push(i[i.length - 1]),
                        c.push(1),
                        e.fillGradientType === TEXT_GRADIENT.LINEAR_VERTICAL)
                      ) {
                        n = this.context.createLinearGradient(
                          o / 2,
                          s,
                          o / 2,
                          u + s
                        );
                        for (
                          var d = r.fontProperties.fontSize + e.strokeThickness,
                            p = 0;
                          p < t.length;
                          p++
                        ) {
                          var _ = r.lineHeight * (p - 1) + d,
                            v = r.lineHeight * p,
                            m = v;
                          p > 0 && _ > v && (m = (v + _) / 2);
                          var g = v + d,
                            y = r.lineHeight * (p + 1),
                            T = g;
                          p + 1 < t.length && y < g && (T = (g + y) / 2);
                          for (var x = (T - m) / u, E = 0; E < l.length; E++) {
                            var b = 0;
                            b = "number" == typeof c[E] ? c[E] : E / l.length;
                            var S = Math.min(1, Math.max(0, m / u + b * x));
                            (S = Number(S.toFixed(5))), n.addColorStop(S, l[E]);
                          }
                        }
                      } else {
                        n = this.context.createLinearGradient(
                          s,
                          u / 2,
                          o + s,
                          u / 2
                        );
                        for (
                          var A = l.length + 1, C = 1, P = 0;
                          P < l.length;
                          P++
                        ) {
                          var k = void 0;
                          (k = "number" == typeof c[P] ? c[P] : C / A),
                            n.addColorStop(k, l[P]),
                            C++;
                        }
                      }
                      return n;
                    }
                  },
                  {
                    key: "destroy",
                    value: function (e) {
                      "boolean" == typeof e && (e = { children: e }),
                        (e = Object.assign({}, defaultDestroyOptions, e)),
                        _get3(
                          _getPrototypeOf(r.prototype),
                          "destroy",
                          this
                        ).call(this, e),
                        this._ownCanvas &&
                          (this.canvas.height = this.canvas.width = 0),
                        (this.context = null),
                        (this.canvas = null),
                        (this._style = null);
                    }
                  },
                  {
                    key: "width",
                    get: function () {
                      return (
                        this.updateText(!0),
                        Math.abs(this.scale.x) * this._texture.orig.width
                      );
                    },
                    set: function (e) {
                      this.updateText(!0);
                      var t = sign(this.scale.x) || 1;
                      (this.scale.x = (t * e) / this._texture.orig.width),
                        (this._width = e);
                    }
                  },
                  {
                    key: "height",
                    get: function () {
                      return (
                        this.updateText(!0),
                        Math.abs(this.scale.y) * this._texture.orig.height
                      );
                    },
                    set: function (e) {
                      this.updateText(!0);
                      var t = sign(this.scale.y) || 1;
                      (this.scale.y = (t * e) / this._texture.orig.height),
                        (this._height = e);
                    }
                  },
                  {
                    key: "style",
                    get: function () {
                      return this._style;
                    },
                    set: function (e) {
                      (e = e || {}),
                        (this._style =
                          e instanceof TextStyle ? e : new TextStyle(e)),
                        (this.localStyleID = -1),
                        (this.dirty = !0);
                    }
                  },
                  {
                    key: "text",
                    get: function () {
                      return this._text;
                    },
                    set: function (e) {
                      (e = String(null == e ? "" : e)),
                        this._text !== e &&
                          ((this._text = e), (this.dirty = !0));
                    }
                  },
                  {
                    key: "resolution",
                    get: function () {
                      return this._resolution;
                    },
                    set: function (e) {
                      (this._autoResolution = !1),
                        this._resolution !== e &&
                          ((this._resolution = e), (this.dirty = !0));
                    }
                  }
                ],
                [
                  {
                    key: "experimentalLetterSpacing",
                    get: function () {
                      return TextMetrics.experimentalLetterSpacing;
                    },
                    set: function (e) {
                      deprecation(
                        "7.1.0",
                        "Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"
                      ),
                        (TextMetrics.experimentalLetterSpacing = e);
                    }
                  }
                ]
              ),
              r
            );
          })(Sprite),
          Text = exports("i", _Text);
        Text.defaultAutoResolution = !0;
        var CountLimiter = (function () {
          function e(t) {
            _classCallCheck(this, e),
              (this.maxItemsPerFrame = t),
              (this.itemsLeft = 0);
          }
          return (
            _createClass(e, [
              {
                key: "beginFrame",
                value: function () {
                  this.itemsLeft = this.maxItemsPerFrame;
                }
              },
              {
                key: "allowedToUpload",
                value: function () {
                  return this.itemsLeft-- > 0;
                }
              }
            ]),
            e
          );
        })();
        function findMultipleBaseTextures(e, t) {
          var r,
            n = !1;
          if (
            null != e &&
            null !== (r = e._textures) &&
            void 0 !== r &&
            r.length
          )
            for (var i = 0; i < e._textures.length; i++)
              if (e._textures[i] instanceof Texture) {
                var a = e._textures[i].baseTexture;
                t.includes(a) || (t.push(a), (n = !0));
              }
          return n;
        }
        function findBaseTexture(e, t) {
          if (e.baseTexture instanceof BaseTexture) {
            var r = e.baseTexture;
            return t.includes(r) || t.push(r), !0;
          }
          return !1;
        }
        function findTexture(e, t) {
          if (e._texture && e._texture instanceof Texture) {
            var r = e._texture.baseTexture;
            return t.includes(r) || t.push(r), !0;
          }
          return !1;
        }
        function drawText(e, t) {
          return t instanceof Text && (t.updateText(!0), !0);
        }
        function calculateTextStyle(e, t) {
          if (t instanceof TextStyle) {
            var r = t.toFontString();
            return TextMetrics.measureFont(r), !0;
          }
          return !1;
        }
        function findText(e, t) {
          if (e instanceof Text) {
            t.includes(e.style) || t.push(e.style), t.includes(e) || t.push(e);
            var r = e._texture.baseTexture;
            return t.includes(r) || t.push(r), !0;
          }
          return !1;
        }
        function findTextStyle(e, t) {
          return e instanceof TextStyle && (t.includes(e) || t.push(e), !0);
        }
        var _BasePrepare = (function () {
            function e(t) {
              var r = this;
              _classCallCheck(this, e),
                (this.limiter = new CountLimiter(e.uploadsPerFrame)),
                (this.renderer = t),
                (this.uploadHookHelper = null),
                (this.queue = []),
                (this.addHooks = []),
                (this.uploadHooks = []),
                (this.completes = []),
                (this.ticking = !1),
                (this.delayedTick = function () {
                  r.queue && r.prepareItems();
                }),
                this.registerFindHook(findText),
                this.registerFindHook(findTextStyle),
                this.registerFindHook(findMultipleBaseTextures),
                this.registerFindHook(findBaseTexture),
                this.registerFindHook(findTexture),
                this.registerUploadHook(drawText),
                this.registerUploadHook(calculateTextStyle);
            }
            return (
              _createClass(e, [
                {
                  key: "upload",
                  value: function (e) {
                    var t = this;
                    return new Promise(function (r) {
                      e && t.add(e),
                        t.queue.length
                          ? (t.completes.push(r),
                            t.ticking ||
                              ((t.ticking = !0),
                              Ticker.system.addOnce(
                                t.tick,
                                t,
                                UPDATE_PRIORITY.UTILITY
                              )))
                          : r();
                    });
                  }
                },
                {
                  key: "tick",
                  value: function () {
                    setTimeout(this.delayedTick, 0);
                  }
                },
                {
                  key: "prepareItems",
                  value: function () {
                    for (
                      this.limiter.beginFrame();
                      this.queue.length && this.limiter.allowedToUpload();

                    ) {
                      var e = this.queue[0],
                        t = !1;
                      if (e && !e._destroyed)
                        for (var r = 0, n = this.uploadHooks.length; r < n; r++)
                          if (this.uploadHooks[r](this.uploadHookHelper, e)) {
                            this.queue.shift(), (t = !0);
                            break;
                          }
                      t || this.queue.shift();
                    }
                    if (this.queue.length)
                      Ticker.system.addOnce(
                        this.tick,
                        this,
                        UPDATE_PRIORITY.UTILITY
                      );
                    else {
                      this.ticking = !1;
                      var i = this.completes.slice(0);
                      this.completes.length = 0;
                      for (var a = 0, s = i.length; a < s; a++) i[a]();
                    }
                  }
                },
                {
                  key: "registerFindHook",
                  value: function (e) {
                    return e && this.addHooks.push(e), this;
                  }
                },
                {
                  key: "registerUploadHook",
                  value: function (e) {
                    return e && this.uploadHooks.push(e), this;
                  }
                },
                {
                  key: "add",
                  value: function (e) {
                    for (
                      var t = 0, r = this.addHooks.length;
                      t < r && !this.addHooks[t](e, this.queue);
                      t++
                    );
                    if (e instanceof Container)
                      for (var n = e.children.length - 1; n >= 0; n--)
                        this.add(e.children[n]);
                    return this;
                  }
                },
                {
                  key: "destroy",
                  value: function () {
                    this.ticking && Ticker.system.remove(this.tick, this),
                      (this.ticking = !1),
                      (this.addHooks = null),
                      (this.uploadHooks = null),
                      (this.renderer = null),
                      (this.completes = null),
                      (this.queue = null),
                      (this.limiter = null),
                      (this.uploadHookHelper = null);
                  }
                }
              ]),
              e
            );
          })(),
          BasePrepare = _BasePrepare;
        function uploadBaseTextures(e, t) {
          return (
            t instanceof BaseTexture &&
            (t._glTextures[e.CONTEXT_UID] || e.texture.bind(t), !0)
          );
        }
        function uploadGraphics(e, t) {
          if (!(t instanceof Graphics)) return !1;
          var r = t.geometry;
          t.finishPoly(), r.updateBatches();
          for (var n = r.batches, i = 0; i < n.length; i++) {
            var a = n[i].style.texture;
            a && uploadBaseTextures(e, a.baseTexture);
          }
          return (
            r.batchable || e.geometry.bind(r, t._resolveDirectShader(e)), !0
          );
        }
        function findGraphics(e, t) {
          return e instanceof Graphics && (t.push(e), !0);
        }
        (BasePrepare.uploadsPerFrame = 4),
          Object.defineProperties(settings, {
            UPLOADS_PER_FRAME: {
              get: function () {
                return BasePrepare.uploadsPerFrame;
              },
              set: function (e) {
                deprecation(
                  "7.1.0",
                  "settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"
                ),
                  (BasePrepare.uploadsPerFrame = e);
              }
            }
          });
        var Prepare = (function (e) {
          _inherits(r, e);
          var t = _createSuper(r);
          function r(e) {
            var n;
            return (
              _classCallCheck(this, r),
              ((n = t.call(this, e)).uploadHookHelper = n.renderer),
              n.registerFindHook(findGraphics),
              n.registerUploadHook(uploadBaseTextures),
              n.registerUploadHook(uploadGraphics),
              n
            );
          }
          return _createClass(r);
        })(BasePrepare);
        (Prepare.extension = {
          name: "prepare",
          type: ExtensionType.RendererSystem
        }),
          extensions$1.add(Prepare);
        var AnimatedSprite = (function (e) {
          _inherits(r, e);
          var t = _createSuper(r);
          function r(e) {
            var n,
              i =
                !(arguments.length > 1 && void 0 !== arguments[1]) ||
                arguments[1];
            return (
              _classCallCheck(this, r),
              ((n = t.call(
                this,
                e[0] instanceof Texture ? e[0] : e[0].texture
              ))._textures = null),
              (n._durations = null),
              (n._autoUpdate = i),
              (n._isConnectedToTicker = !1),
              (n.animationSpeed = 1),
              (n.loop = !0),
              (n.updateAnchor = !1),
              (n.onComplete = null),
              (n.onFrameChange = null),
              (n.onLoop = null),
              (n._currentTime = 0),
              (n._playing = !1),
              (n._previousFrame = null),
              (n.textures = e),
              n
            );
          }
          return (
            _createClass(
              r,
              [
                {
                  key: "stop",
                  value: function () {
                    this._playing &&
                      ((this._playing = !1),
                      this._autoUpdate &&
                        this._isConnectedToTicker &&
                        (Ticker.shared.remove(this.update, this),
                        (this._isConnectedToTicker = !1)));
                  }
                },
                {
                  key: "play",
                  value: function () {
                    this._playing ||
                      ((this._playing = !0),
                      this._autoUpdate &&
                        !this._isConnectedToTicker &&
                        (Ticker.shared.add(
                          this.update,
                          this,
                          UPDATE_PRIORITY.HIGH
                        ),
                        (this._isConnectedToTicker = !0)));
                  }
                },
                {
                  key: "gotoAndStop",
                  value: function (e) {
                    this.stop(), (this.currentFrame = e);
                  }
                },
                {
                  key: "gotoAndPlay",
                  value: function (e) {
                    (this.currentFrame = e), this.play();
                  }
                },
                {
                  key: "update",
                  value: function (e) {
                    if (this._playing) {
                      var t = this.animationSpeed * e,
                        r = this.currentFrame;
                      if (null !== this._durations) {
                        var n =
                          (this._currentTime % 1) *
                          this._durations[this.currentFrame];
                        for (n += (t / 60) * 1e3; n < 0; )
                          this._currentTime--,
                            (n += this._durations[this.currentFrame]);
                        var i = Math.sign(this.animationSpeed * e);
                        for (
                          this._currentTime = Math.floor(this._currentTime);
                          n >= this._durations[this.currentFrame];

                        )
                          (n -= this._durations[this.currentFrame] * i),
                            (this._currentTime += i);
                        this._currentTime +=
                          n / this._durations[this.currentFrame];
                      } else this._currentTime += t;
                      this._currentTime < 0 && !this.loop
                        ? (this.gotoAndStop(0),
                          this.onComplete && this.onComplete())
                        : this._currentTime >= this._textures.length &&
                          !this.loop
                        ? (this.gotoAndStop(this._textures.length - 1),
                          this.onComplete && this.onComplete())
                        : r !== this.currentFrame &&
                          (this.loop &&
                            this.onLoop &&
                            ((this.animationSpeed > 0 &&
                              this.currentFrame < r) ||
                              (this.animationSpeed < 0 &&
                                this.currentFrame > r)) &&
                            this.onLoop(),
                          this.updateTexture());
                    }
                  }
                },
                {
                  key: "updateTexture",
                  value: function () {
                    var e = this.currentFrame;
                    this._previousFrame !== e &&
                      ((this._previousFrame = e),
                      (this._texture = this._textures[e]),
                      (this._textureID = -1),
                      (this._textureTrimmedID = -1),
                      (this._cachedTint = 16777215),
                      (this.uvs = this._texture._uvs.uvsFloat32),
                      this.updateAnchor &&
                        this._anchor.copyFrom(this._texture.defaultAnchor),
                      this.onFrameChange &&
                        this.onFrameChange(this.currentFrame));
                  }
                },
                {
                  key: "destroy",
                  value: function (e) {
                    this.stop(),
                      _get3(_getPrototypeOf(r.prototype), "destroy", this).call(
                        this,
                        e
                      ),
                      (this.onComplete = null),
                      (this.onFrameChange = null),
                      (this.onLoop = null);
                  }
                },
                {
                  key: "totalFrames",
                  get: function () {
                    return this._textures.length;
                  }
                },
                {
                  key: "textures",
                  get: function () {
                    return this._textures;
                  },
                  set: function (e) {
                    if (e[0] instanceof Texture)
                      (this._textures = e), (this._durations = null);
                    else {
                      (this._textures = []), (this._durations = []);
                      for (var t = 0; t < e.length; t++)
                        this._textures.push(e[t].texture),
                          this._durations.push(e[t].time);
                    }
                    (this._previousFrame = null),
                      this.gotoAndStop(0),
                      this.updateTexture();
                  }
                },
                {
                  key: "currentFrame",
                  get: function () {
                    var e =
                      Math.floor(this._currentTime) % this._textures.length;
                    return e < 0 && (e += this._textures.length), e;
                  },
                  set: function (e) {
                    if (e < 0 || e > this.totalFrames - 1)
                      throw new Error(
                        "[AnimatedSprite]: Invalid frame index value "
                          .concat(
                            e,
                            ", expected to be between 0 and totalFrames "
                          )
                          .concat(this.totalFrames, ".")
                      );
                    var t = this.currentFrame;
                    (this._currentTime = e),
                      t !== this.currentFrame && this.updateTexture();
                  }
                },
                {
                  key: "playing",
                  get: function () {
                    return this._playing;
                  }
                },
                {
                  key: "autoUpdate",
                  get: function () {
                    return this._autoUpdate;
                  },
                  set: function (e) {
                    e !== this._autoUpdate &&
                      ((this._autoUpdate = e),
                      !this._autoUpdate && this._isConnectedToTicker
                        ? (Ticker.shared.remove(this.update, this),
                          (this._isConnectedToTicker = !1))
                        : this._autoUpdate &&
                          !this._isConnectedToTicker &&
                          this._playing &&
                          (Ticker.shared.add(this.update, this),
                          (this._isConnectedToTicker = !0)));
                  }
                }
              ],
              [
                {
                  key: "fromFrames",
                  value: function (e) {
                    for (var t = [], n = 0; n < e.length; ++n)
                      t.push(Texture.from(e[n]));
                    return new r(t);
                  }
                },
                {
                  key: "fromImages",
                  value: function (e) {
                    for (var t = [], n = 0; n < e.length; ++n)
                      t.push(Texture.from(e[n]));
                    return new r(t);
                  }
                }
              ]
            ),
            r
          );
        })(Sprite);
        exports("q", AnimatedSprite);
        var gl2FragmentSrc =
            "#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",
          gl2VertexSrc =
            "#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",
          gl1FragmentSrc =
            "#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",
          gl1VertexSrc =
            "#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",
          fragmentSimpleSrc =
            "#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",
          tempMat = new Matrix(),
          TilingSpriteRenderer = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e) {
              var n;
              return (
                _classCallCheck(this, r),
                (n = t.call(this, e)),
                e.runners.contextChange.add(_assertThisInitialized2(n)),
                (n.quad = new QuadUv()),
                (n.state = State.for2d()),
                n
              );
            }
            return (
              _createClass(r, [
                {
                  key: "contextChange",
                  value: function () {
                    var e = this.renderer,
                      t = { globals: e.globalUniforms };
                    (this.simpleShader = Shader.from(
                      gl1VertexSrc,
                      fragmentSimpleSrc,
                      t
                    )),
                      (this.shader =
                        e.context.webGLVersion > 1
                          ? Shader.from(gl2VertexSrc, gl2FragmentSrc, t)
                          : Shader.from(gl1VertexSrc, gl1FragmentSrc, t));
                  }
                },
                {
                  key: "render",
                  value: function (e) {
                    var t = this.renderer,
                      r = this.quad,
                      n = r.vertices;
                    (n[0] = n[6] = e._width * -e.anchor.x),
                      (n[1] = n[3] = e._height * -e.anchor.y),
                      (n[2] = n[4] = e._width * (1 - e.anchor.x)),
                      (n[5] = n[7] = e._height * (1 - e.anchor.y));
                    var i = e.uvRespectAnchor ? e.anchor.x : 0,
                      a = e.uvRespectAnchor ? e.anchor.y : 0;
                    ((n = r.uvs)[0] = n[6] = -i),
                      (n[1] = n[3] = -a),
                      (n[2] = n[4] = 1 - i),
                      (n[5] = n[7] = 1 - a),
                      r.invalidate();
                    var s = e._texture,
                      o = s.baseTexture,
                      u = o.alphaMode > 0,
                      l = e.tileTransform.localTransform,
                      c = e.uvMatrix,
                      h =
                        o.isPowerOfTwo &&
                        s.frame.width === o.width &&
                        s.frame.height === o.height;
                    h &&
                      (o._glTextures[t.CONTEXT_UID]
                        ? (h = o.wrapMode !== WRAP_MODES.CLAMP)
                        : o.wrapMode === WRAP_MODES.CLAMP &&
                          (o.wrapMode = WRAP_MODES.REPEAT));
                    var f = h ? this.simpleShader : this.shader,
                      d = s.width,
                      p = s.height,
                      _ = e._width,
                      v = e._height;
                    tempMat.set(
                      (l.a * d) / _,
                      (l.b * d) / v,
                      (l.c * p) / _,
                      (l.d * p) / v,
                      l.tx / _,
                      l.ty / v
                    ),
                      tempMat.invert(),
                      h
                        ? tempMat.prepend(c.mapCoord)
                        : ((f.uniforms.uMapCoord = c.mapCoord.toArray(!0)),
                          (f.uniforms.uClampFrame = c.uClampFrame),
                          (f.uniforms.uClampOffset = c.uClampOffset)),
                      (f.uniforms.uTransform = tempMat.toArray(!0)),
                      (f.uniforms.uColor = Color.shared
                        .setValue(e.tint)
                        .premultiply(e.worldAlpha, u)
                        .toArray(f.uniforms.uColor)),
                      (f.uniforms.translationMatrix = e.transform.worldTransform.toArray(
                        !0
                      )),
                      (f.uniforms.uSampler = s),
                      t.shader.bind(f),
                      t.geometry.bind(r),
                      (this.state.blendMode = correctBlendMode(e.blendMode, u)),
                      t.state.set(this.state),
                      t.geometry.draw(this.renderer.gl.TRIANGLES, 6, 0);
                  }
                }
              ]),
              r
            );
          })(ObjectRenderer);
        (TilingSpriteRenderer.extension = {
          name: "tilingSprite",
          type: ExtensionType.RendererPlugin
        }),
          extensions$1.add(TilingSpriteRenderer);
        var _Spritesheet = (function () {
            function e(t, r) {
              var n =
                arguments.length > 2 && void 0 !== arguments[2]
                  ? arguments[2]
                  : null;
              _classCallCheck(this, e),
                (this.linkedSheets = []),
                (this._texture = t instanceof Texture ? t : null),
                (this.baseTexture =
                  t instanceof BaseTexture ? t : this._texture.baseTexture),
                (this.textures = {}),
                (this.animations = {}),
                (this.data = r);
              var i = this.baseTexture.resource;
              (this.resolution = this._updateResolution(
                n || (i ? i.url : null)
              )),
                (this._frames = this.data.frames),
                (this._frameKeys = Object.keys(this._frames)),
                (this._batchIndex = 0),
                (this._callback = null);
            }
            return (
              _createClass(e, [
                {
                  key: "_updateResolution",
                  value: function () {
                    var e =
                        arguments.length > 0 && void 0 !== arguments[0]
                          ? arguments[0]
                          : null,
                      t = this.data.meta.scale,
                      r = getResolutionOfUrl(e, null);
                    return (
                      null === r && (r = parseFloat(null != t ? t : "1")),
                      1 !== r && this.baseTexture.setResolution(r),
                      r
                    );
                  }
                },
                {
                  key: "parse",
                  value: function () {
                    var t = this;
                    return new Promise(function (r) {
                      (t._callback = r),
                        (t._batchIndex = 0),
                        t._frameKeys.length <= e.BATCH_SIZE
                          ? (t._processFrames(0),
                            t._processAnimations(),
                            t._parseComplete())
                          : t._nextBatch();
                    });
                  }
                },
                {
                  key: "_processFrames",
                  value: function (t) {
                    for (
                      var r = t, n = e.BATCH_SIZE;
                      r - t < n && r < this._frameKeys.length;

                    ) {
                      var i = this._frameKeys[r],
                        a = this._frames[i],
                        s = a.frame;
                      if (s) {
                        var o = null,
                          u = null,
                          l =
                            !1 !== a.trimmed && a.sourceSize
                              ? a.sourceSize
                              : a.frame,
                          c = new Rectangle(
                            0,
                            0,
                            Math.floor(l.w) / this.resolution,
                            Math.floor(l.h) / this.resolution
                          );
                        (o = a.rotated
                          ? new Rectangle(
                              Math.floor(s.x) / this.resolution,
                              Math.floor(s.y) / this.resolution,
                              Math.floor(s.h) / this.resolution,
                              Math.floor(s.w) / this.resolution
                            )
                          : new Rectangle(
                              Math.floor(s.x) / this.resolution,
                              Math.floor(s.y) / this.resolution,
                              Math.floor(s.w) / this.resolution,
                              Math.floor(s.h) / this.resolution
                            )),
                          !1 !== a.trimmed &&
                            a.spriteSourceSize &&
                            (u = new Rectangle(
                              Math.floor(a.spriteSourceSize.x) /
                                this.resolution,
                              Math.floor(a.spriteSourceSize.y) /
                                this.resolution,
                              Math.floor(s.w) / this.resolution,
                              Math.floor(s.h) / this.resolution
                            )),
                          (this.textures[i] = new Texture(
                            this.baseTexture,
                            o,
                            c,
                            u,
                            a.rotated ? 2 : 0,
                            a.anchor,
                            a.borders
                          )),
                          Texture.addToCache(this.textures[i], i);
                      }
                      r++;
                    }
                  }
                },
                {
                  key: "_processAnimations",
                  value: function () {
                    var e = this.data.animations || {};
                    for (var t in e) {
                      this.animations[t] = [];
                      for (var r = 0; r < e[t].length; r++) {
                        var n = e[t][r];
                        this.animations[t].push(this.textures[n]);
                      }
                    }
                  }
                },
                {
                  key: "_parseComplete",
                  value: function () {
                    var e = this._callback;
                    (this._callback = null),
                      (this._batchIndex = 0),
                      e.call(this, this.textures);
                  }
                },
                {
                  key: "_nextBatch",
                  value: function () {
                    var t = this;
                    this._processFrames(this._batchIndex * e.BATCH_SIZE),
                      this._batchIndex++,
                      setTimeout(function () {
                        t._batchIndex * e.BATCH_SIZE < t._frameKeys.length
                          ? t._nextBatch()
                          : (t._processAnimations(), t._parseComplete());
                      }, 0);
                  }
                },
                {
                  key: "destroy",
                  value: function () {
                    var e,
                      t =
                        arguments.length > 0 &&
                        void 0 !== arguments[0] &&
                        arguments[0];
                    for (var r in this.textures) this.textures[r].destroy();
                    ((this._frames = null),
                    (this._frameKeys = null),
                    (this.data = null),
                    (this.textures = null),
                    t) &&
                      (null === (e = this._texture) ||
                        void 0 === e ||
                        e.destroy(),
                      this.baseTexture.destroy());
                    (this._texture = null),
                      (this.baseTexture = null),
                      (this.linkedSheets = []);
                  }
                }
              ]),
              e
            );
          })(),
          Spritesheet = _Spritesheet;
        Spritesheet.BATCH_SIZE = 1e3;
        var validImages = ["jpg", "png", "jpeg", "avif", "webp"];
        function _getCacheableAssets(e, t, r) {
          var n = {};
          if (
            (e.forEach(function (e) {
              n[e] = t;
            }),
            Object.keys(t.textures).forEach(function (e) {
              n[e] = t.textures[e];
            }),
            !r)
          ) {
            var i = path.dirname(e[0]);
            t.linkedSheets.forEach(function (e, r) {
              var a = _getCacheableAssets(
                ["".concat(i, "/").concat(t.data.meta.related_multi_packs[r])],
                e,
                !0
              );
              Object.assign(n, a);
            });
          }
          return n;
        }
        var spritesheetAsset = {
          extension: ExtensionType.Asset,
          cache: {
            test: function (e) {
              return e instanceof Spritesheet;
            },
            getCacheableAssets: function (e, t) {
              return _getCacheableAssets(e, t, !1);
            }
          },
          resolver: {
            test: function (e) {
              var t = e.split("?")[0].split("."),
                r = t.pop(),
                n = t.pop();
              return "json" === r && validImages.includes(n);
            },
            parse: function (e) {
              var t,
                r,
                n = e.split(".");
              return {
                resolution: parseFloat(
                  null !==
                    (t =
                      null === (r = settings.RETINA_PREFIX.exec(e)) ||
                      void 0 === r
                        ? void 0
                        : r[1]) && void 0 !== t
                    ? t
                    : "1"
                ),
                format: n[n.length - 2],
                src: e
              };
            }
          },
          loader: {
            name: "spritesheetLoader",
            extension: {
              type: ExtensionType.LoadParser,
              priority: LoaderParserPriority.Normal
            },
            testParse: function (e, t) {
              return _asyncToGenerator(
                _regeneratorRuntime().mark(function r() {
                  return _regeneratorRuntime().wrap(function (r) {
                    for (;;)
                      switch ((r.prev = r.next)) {
                        case 0:
                          return r.abrupt(
                            "return",
                            ".json" === path.extname(t.src).toLowerCase() &&
                              !!e.frames
                          );
                        case 1:
                        case "end":
                          return r.stop();
                      }
                  }, r);
                })
              )();
            },
            parse: function (e, t, r) {
              return _asyncToGenerator(
                _regeneratorRuntime().mark(function n() {
                  var i, a, s, o, u, l, c, h, f, d, p, _, v, m;
                  return _regeneratorRuntime().wrap(
                    function (n) {
                      for (;;)
                        switch ((n.prev = n.next)) {
                          case 0:
                            return (
                              (a = path.dirname(t.src)) &&
                                a.lastIndexOf("/") !== a.length - 1 &&
                                (a += "/"),
                              (s = a + e.meta.image),
                              (s = copySearchParams(s, t.src)),
                              (n.next = 6),
                              r.load([s])
                            );
                          case 6:
                            return (
                              (o = n.sent),
                              (u = o[s]),
                              (l = new Spritesheet(u.baseTexture, e, t.src)),
                              (n.next = 11),
                              l.parse()
                            );
                          case 11:
                            if (
                              ((c =
                                null == e ||
                                null === (i = e.meta) ||
                                void 0 === i
                                  ? void 0
                                  : i.related_multi_packs),
                              !Array.isArray(c))
                            ) {
                              n.next = 41;
                              break;
                            }
                            (h = []),
                              (f = _createForOfIteratorHelper(c)),
                              (n.prev = 15),
                              f.s();
                          case 17:
                            if ((d = f.n()).done) {
                              n.next = 28;
                              break;
                            }
                            if ("string" == typeof (_ = d.value)) {
                              n.next = 21;
                              break;
                            }
                            return n.abrupt("continue", 26);
                          case 21:
                            if (
                              ((v = a + _),
                              null === (p = t.data) ||
                                void 0 === p ||
                                !p.ignoreMultiPack)
                            ) {
                              n.next = 24;
                              break;
                            }
                            return n.abrupt("continue", 26);
                          case 24:
                            (v = copySearchParams(v, t.src)),
                              h.push(
                                r.load({
                                  src: v,
                                  data: { ignoreMultiPack: !0 }
                                })
                              );
                          case 26:
                            n.next = 17;
                            break;
                          case 28:
                            n.next = 33;
                            break;
                          case 30:
                            (n.prev = 30), (n.t0 = n.catch(15)), f.e(n.t0);
                          case 33:
                            return (n.prev = 33), f.f(), n.finish(33);
                          case 36:
                            return (n.next = 38), Promise.all(h);
                          case 38:
                            (m = n.sent),
                              (l.linkedSheets = m),
                              m.forEach(function (e) {
                                e.linkedSheets = [l].concat(
                                  l.linkedSheets.filter(function (t) {
                                    return t !== e;
                                  })
                                );
                              });
                          case 41:
                            return n.abrupt("return", l);
                          case 42:
                          case "end":
                            return n.stop();
                        }
                    },
                    n,
                    null,
                    [[15, 30, 33, 36]]
                  );
                })
              )();
            },
            unload: function (e) {
              e.destroy(!0);
            }
          }
        };
        extensions$1.add(spritesheetAsset);
        var BitmapFontData = _createClass(function e() {
            _classCallCheck(this, e),
              (this.info = []),
              (this.common = []),
              (this.page = []),
              (this.char = []),
              (this.kerning = []),
              (this.distanceField = []);
          }),
          TextFormat = (function () {
            function e() {
              _classCallCheck(this, e);
            }
            return (
              _createClass(e, null, [
                {
                  key: "test",
                  value: function (e) {
                    return "string" == typeof e && e.startsWith("info face=");
                  }
                },
                {
                  key: "parse",
                  value: function (e) {
                    var t = e.match(/^[a-z]+\s+.+$/gm),
                      r = {
                        info: [],
                        common: [],
                        page: [],
                        char: [],
                        chars: [],
                        kerning: [],
                        kernings: [],
                        distanceField: []
                      };
                    for (var n in t) {
                      var i = t[n].match(/^[a-z]+/gm)[0],
                        a = t[n].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),
                        s = {};
                      for (var o in a) {
                        var u = a[o].split("="),
                          l = u[0],
                          c = u[1].replace(/"/gm, ""),
                          h = parseFloat(c),
                          f = isNaN(h) ? c : h;
                        s[l] = f;
                      }
                      r[i].push(s);
                    }
                    var d = new BitmapFontData();
                    return (
                      r.info.forEach(function (e) {
                        return d.info.push({
                          face: e.face,
                          size: parseInt(e.size, 10)
                        });
                      }),
                      r.common.forEach(function (e) {
                        return d.common.push({
                          lineHeight: parseInt(e.lineHeight, 10)
                        });
                      }),
                      r.page.forEach(function (e) {
                        return d.page.push({
                          id: parseInt(e.id, 10),
                          file: e.file
                        });
                      }),
                      r.char.forEach(function (e) {
                        return d.char.push({
                          id: parseInt(e.id, 10),
                          page: parseInt(e.page, 10),
                          x: parseInt(e.x, 10),
                          y: parseInt(e.y, 10),
                          width: parseInt(e.width, 10),
                          height: parseInt(e.height, 10),
                          xoffset: parseInt(e.xoffset, 10),
                          yoffset: parseInt(e.yoffset, 10),
                          xadvance: parseInt(e.xadvance, 10)
                        });
                      }),
                      r.kerning.forEach(function (e) {
                        return d.kerning.push({
                          first: parseInt(e.first, 10),
                          second: parseInt(e.second, 10),
                          amount: parseInt(e.amount, 10)
                        });
                      }),
                      r.distanceField.forEach(function (e) {
                        return d.distanceField.push({
                          distanceRange: parseInt(e.distanceRange, 10),
                          fieldType: e.fieldType
                        });
                      }),
                      d
                    );
                  }
                }
              ]),
              e
            );
          })(),
          XMLFormat = (function () {
            function e() {
              _classCallCheck(this, e);
            }
            return (
              _createClass(e, null, [
                {
                  key: "test",
                  value: function (e) {
                    var t = e;
                    return (
                      "getElementsByTagName" in t &&
                      t.getElementsByTagName("page").length &&
                      null !==
                        t.getElementsByTagName("info")[0].getAttribute("face")
                    );
                  }
                },
                {
                  key: "parse",
                  value: function (e) {
                    for (
                      var t = new BitmapFontData(),
                        r = e.getElementsByTagName("info"),
                        n = e.getElementsByTagName("common"),
                        i = e.getElementsByTagName("page"),
                        a = e.getElementsByTagName("char"),
                        s = e.getElementsByTagName("kerning"),
                        o = e.getElementsByTagName("distanceField"),
                        u = 0;
                      u < r.length;
                      u++
                    )
                      t.info.push({
                        face: r[u].getAttribute("face"),
                        size: parseInt(r[u].getAttribute("size"), 10)
                      });
                    for (var l = 0; l < n.length; l++)
                      t.common.push({
                        lineHeight: parseInt(
                          n[l].getAttribute("lineHeight"),
                          10
                        )
                      });
                    for (var c = 0; c < i.length; c++)
                      t.page.push({
                        id: parseInt(i[c].getAttribute("id"), 10) || 0,
                        file: i[c].getAttribute("file")
                      });
                    for (var h = 0; h < a.length; h++) {
                      var f = a[h];
                      t.char.push({
                        id: parseInt(f.getAttribute("id"), 10),
                        page: parseInt(f.getAttribute("page"), 10) || 0,
                        x: parseInt(f.getAttribute("x"), 10),
                        y: parseInt(f.getAttribute("y"), 10),
                        width: parseInt(f.getAttribute("width"), 10),
                        height: parseInt(f.getAttribute("height"), 10),
                        xoffset: parseInt(f.getAttribute("xoffset"), 10),
                        yoffset: parseInt(f.getAttribute("yoffset"), 10),
                        xadvance: parseInt(f.getAttribute("xadvance"), 10)
                      });
                    }
                    for (var d = 0; d < s.length; d++)
                      t.kerning.push({
                        first: parseInt(s[d].getAttribute("first"), 10),
                        second: parseInt(s[d].getAttribute("second"), 10),
                        amount: parseInt(s[d].getAttribute("amount"), 10)
                      });
                    for (var p = 0; p < o.length; p++)
                      t.distanceField.push({
                        fieldType: o[p].getAttribute("fieldType"),
                        distanceRange: parseInt(
                          o[p].getAttribute("distanceRange"),
                          10
                        )
                      });
                    return t;
                  }
                }
              ]),
              e
            );
          })(),
          XMLStringFormat = (function () {
            function e() {
              _classCallCheck(this, e);
            }
            return (
              _createClass(e, null, [
                {
                  key: "test",
                  value: function (e) {
                    return (
                      !("string" != typeof e || !e.includes("<font>")) &&
                      XMLFormat.test(settings.ADAPTER.parseXML(e))
                    );
                  }
                },
                {
                  key: "parse",
                  value: function (e) {
                    return XMLFormat.parse(settings.ADAPTER.parseXML(e));
                  }
                }
              ]),
              e
            );
          })(),
          formats = [TextFormat, XMLFormat, XMLStringFormat];
        function autoDetectFormat(e) {
          for (var t = 0; t < formats.length; t++)
            if (formats[t].test(e)) return formats[t];
          return null;
        }
        function generateFillStyle(e, t, r, n, i, a) {
          var s,
            o = r.fill;
          if (!Array.isArray(o)) return o;
          if (1 === o.length) return o[0];
          var u = r.dropShadow ? r.dropShadowDistance : 0,
            l = r.padding || 0,
            c = e.width / n - u - 2 * l,
            h = e.height / n - u - 2 * l,
            f = o.slice(),
            d = r.fillGradientStops.slice();
          if (!d.length)
            for (var p = f.length + 1, _ = 1; _ < p; ++_) d.push(_ / p);
          if (
            (f.unshift(o[0]),
            d.unshift(0),
            f.push(o[o.length - 1]),
            d.push(1),
            r.fillGradientType === TEXT_GRADIENT.LINEAR_VERTICAL)
          ) {
            s = t.createLinearGradient(c / 2, l, c / 2, h + l);
            for (
              var v = 0,
                m = (a.fontProperties.fontSize + r.strokeThickness) / h,
                g = 0;
              g < i.length;
              g++
            )
              for (var y = a.lineHeight * g, T = 0; T < f.length; T++) {
                var x =
                    y / h + ("number" == typeof d[T] ? d[T] : T / f.length) * m,
                  E = Math.max(v, x);
                (E = Math.min(E, 1)), s.addColorStop(E, f[T]), (v = E);
              }
          } else {
            s = t.createLinearGradient(l, h / 2, c + l, h / 2);
            for (var b = f.length + 1, S = 1, A = 0; A < f.length; A++) {
              var C = void 0;
              (C = "number" == typeof d[A] ? d[A] : S / b),
                s.addColorStop(C, f[A]),
                S++;
            }
          }
          return s;
        }
        function drawGlyph(e, t, r, n, i, a, s) {
          var o = r.text,
            u = r.fontProperties;
          t.translate(n, i), t.scale(a, a);
          var l = s.strokeThickness / 2,
            c = -s.strokeThickness / 2;
          if (
            ((t.font = s.toFontString()),
            (t.lineWidth = s.strokeThickness),
            (t.textBaseline = s.textBaseline),
            (t.lineJoin = s.lineJoin),
            (t.miterLimit = s.miterLimit),
            (t.fillStyle = generateFillStyle(e, t, s, a, [o], r)),
            (t.strokeStyle = s.stroke),
            s.dropShadow)
          ) {
            var h = s.dropShadowColor,
              f = s.dropShadowBlur * a,
              d = s.dropShadowDistance * a;
            (t.shadowColor = Color.shared
              .setValue(h)
              .setAlpha(s.dropShadowAlpha)
              .toRgbaString()),
              (t.shadowBlur = f),
              (t.shadowOffsetX = Math.cos(s.dropShadowAngle) * d),
              (t.shadowOffsetY = Math.sin(s.dropShadowAngle) * d);
          } else
            (t.shadowColor = "black"),
              (t.shadowBlur = 0),
              (t.shadowOffsetX = 0),
              (t.shadowOffsetY = 0);
          s.stroke &&
            s.strokeThickness &&
            t.strokeText(o, l, c + r.lineHeight - u.descent),
            s.fill && t.fillText(o, l, c + r.lineHeight - u.descent),
            t.setTransform(1, 0, 0, 1, 0, 0),
            (t.fillStyle = "rgba(0, 0, 0, 0)");
        }
        function extractCharCode(e) {
          return e.codePointAt ? e.codePointAt(0) : e.charCodeAt(0);
        }
        function splitTextToCharacters(e) {
          return Array.from ? Array.from(e) : e.split("");
        }
        function resolveCharacters(e) {
          "string" == typeof e && (e = [e]);
          for (var t = [], r = 0, n = e.length; r < n; r++) {
            var i = e[r];
            if (Array.isArray(i)) {
              if (2 !== i.length)
                throw new Error(
                  "[BitmapFont]: Invalid character range length, expecting 2 got ".concat(
                    i.length,
                    "."
                  )
                );
              var a = i[0].charCodeAt(0),
                s = i[1].charCodeAt(0);
              if (s < a)
                throw new Error("[BitmapFont]: Invalid character range.");
              for (var o = a, u = s; o <= u; o++)
                t.push(String.fromCharCode(o));
            } else
              t.push.apply(t, _toConsumableArray(splitTextToCharacters(i)));
          }
          if (0 === t.length)
            throw new Error(
              "[BitmapFont]: Empty set when resolving characters."
            );
          return t;
        }
        var _BitmapFont = (function () {
            function e(t, r, n) {
              var i, a;
              _classCallCheck(this, e);
              var s = _slicedToArray(t.info, 1)[0],
                o = _slicedToArray(t.common, 1)[0],
                u = _slicedToArray(t.page, 1)[0],
                l = _slicedToArray(t.distanceField, 1)[0],
                c = getResolutionOfUrl(u.file),
                h = {};
              (this._ownsTextures = n),
                (this.font = s.face),
                (this.size = s.size),
                (this.lineHeight = o.lineHeight / c),
                (this.chars = {}),
                (this.pageTextures = h);
              for (var f = 0; f < t.page.length; f++) {
                var d = t.page[f],
                  p = d.id,
                  _ = d.file;
                (h[p] = r instanceof Array ? r[f] : r[_]),
                  null != l &&
                    l.fieldType &&
                    "none" !== l.fieldType &&
                    ((h[p].baseTexture.alphaMode =
                      ALPHA_MODES.NO_PREMULTIPLIED_ALPHA),
                    (h[p].baseTexture.mipmap = MIPMAP_MODES.OFF));
              }
              for (var v = 0; v < t.char.length; v++) {
                var m = t.char[v],
                  g = m.id,
                  y = m.page,
                  T = t.char[v],
                  x = T.x,
                  E = T.y,
                  b = T.width,
                  S = T.height,
                  A = T.xoffset,
                  C = T.yoffset,
                  P = T.xadvance;
                (E /= c), (b /= c), (S /= c), (A /= c), (C /= c), (P /= c);
                var k = new Rectangle(
                  (x /= c) + h[y].frame.x / c,
                  E + h[y].frame.y / c,
                  b,
                  S
                );
                this.chars[g] = {
                  xOffset: A,
                  yOffset: C,
                  xAdvance: P,
                  kerning: {},
                  texture: new Texture(h[y].baseTexture, k),
                  page: y
                };
              }
              for (var w = 0; w < t.kerning.length; w++) {
                var R = t.kerning[w],
                  M = R.first,
                  I = R.second,
                  O = R.amount;
                (M /= c),
                  (I /= c),
                  (O /= c),
                  this.chars[I] && (this.chars[I].kerning[M] = O);
              }
              (this.distanceFieldRange = null == l ? void 0 : l.distanceRange),
                (this.distanceFieldType =
                  null !==
                    (i =
                      null == l || null === (a = l.fieldType) || void 0 === a
                        ? void 0
                        : a.toLowerCase()) && void 0 !== i
                    ? i
                    : "none");
            }
            return (
              _createClass(
                e,
                [
                  {
                    key: "destroy",
                    value: function () {
                      for (var e in this.chars)
                        this.chars[e].texture.destroy(),
                          (this.chars[e].texture = null);
                      for (var t in this.pageTextures)
                        this._ownsTextures && this.pageTextures[t].destroy(!0),
                          (this.pageTextures[t] = null);
                      (this.chars = null), (this.pageTextures = null);
                    }
                  }
                ],
                [
                  {
                    key: "install",
                    value: function (t, r, n) {
                      var i;
                      if (t instanceof BitmapFontData) i = t;
                      else {
                        var a = autoDetectFormat(t);
                        if (!a)
                          throw new Error("Unrecognized data format for font.");
                        i = a.parse(t);
                      }
                      r instanceof Texture && (r = [r]);
                      var s = new e(i, r, n);
                      return (e.available[s.font] = s), s;
                    }
                  },
                  {
                    key: "uninstall",
                    value: function (t) {
                      var r = e.available[t];
                      if (!r)
                        throw new Error("No font found named '".concat(t, "'"));
                      r.destroy(), delete e.available[t];
                    }
                  },
                  {
                    key: "from",
                    value: function (t, r, n) {
                      if (!t)
                        throw new Error(
                          "[BitmapFont] Property `name` is required."
                        );
                      var i = Object.assign({}, e.defaultOptions, n),
                        a = i.chars,
                        s = i.padding,
                        o = i.resolution,
                        u = i.textureWidth,
                        l = i.textureHeight,
                        c = _objectWithoutProperties(i, _excluded2),
                        h = resolveCharacters(a),
                        f = r instanceof TextStyle ? r : new TextStyle(r),
                        d = u,
                        p = new BitmapFontData();
                      (p.info[0] = { face: f.fontFamily, size: f.fontSize }),
                        (p.common[0] = { lineHeight: f.fontSize });
                      for (
                        var _, v, m, g = 0, y = 0, T = 0, x = [], E = 0;
                        E < h.length;
                        E++
                      ) {
                        _ ||
                          (((_ = settings.ADAPTER.createCanvas()).width = u),
                          (_.height = l),
                          (v = _.getContext("2d")),
                          (m = new BaseTexture(
                            _,
                            _objectSpread({ resolution: o }, c)
                          )),
                          x.push(new Texture(m)),
                          p.page.push({ id: x.length - 1, file: "" }));
                        var b = h[E],
                          S = TextMetrics.measureText(b, f, !1, _),
                          A = S.width,
                          C = Math.ceil(S.height),
                          P = Math.ceil(("italic" === f.fontStyle ? 2 : 1) * A);
                        if (y >= l - C * o) {
                          if (0 === y)
                            throw new Error(
                              "[BitmapFont] textureHeight "
                                .concat(l, "px is too small (fontFamily: '")
                                .concat(f.fontFamily, "', fontSize: ")
                                .concat(f.fontSize, "px, char: '")
                                .concat(b, "')")
                            );
                          --E,
                            (_ = null),
                            (v = null),
                            (m = null),
                            (y = 0),
                            (g = 0),
                            (T = 0);
                        } else if (
                          ((T = Math.max(C + S.fontProperties.descent, T)),
                          P * o + g >= d)
                        ) {
                          if (0 === g)
                            throw new Error(
                              "[BitmapFont] textureWidth "
                                .concat(u, "px is too small (fontFamily: '")
                                .concat(f.fontFamily, "', fontSize: ")
                                .concat(f.fontSize, "px, char: '")
                                .concat(b, "')")
                            );
                          --E,
                            (y += T * o),
                            (y = Math.ceil(y)),
                            (g = 0),
                            (T = 0);
                        } else {
                          drawGlyph(_, v, S, g, y, o, f);
                          var k = extractCharCode(S.text);
                          p.char.push({
                            id: k,
                            page: x.length - 1,
                            x: g / o,
                            y: y / o,
                            width: P,
                            height: C,
                            xoffset: 0,
                            yoffset: 0,
                            xadvance:
                              A -
                              (f.dropShadow ? f.dropShadowDistance : 0) -
                              (f.stroke ? f.strokeThickness : 0)
                          }),
                            (g += (P + 2 * s) * o),
                            (g = Math.ceil(g));
                        }
                      }
                      for (var w = 0, R = h.length; w < R; w++)
                        for (var M = h[w], I = 0; I < R; I++) {
                          var O = h[I],
                            D = v.measureText(M).width,
                            F = v.measureText(O).width,
                            N = v.measureText(M + O).width - (D + F);
                          N &&
                            p.kerning.push({
                              first: extractCharCode(M),
                              second: extractCharCode(O),
                              amount: N
                            });
                        }
                      var L = new e(p, x, !0);
                      return (
                        void 0 !== e.available[t] && e.uninstall(t),
                        (e.available[t] = L),
                        L
                      );
                    }
                  }
                ]
              ),
              e
            );
          })(),
          BitmapFont = _BitmapFont;
        (BitmapFont.ALPHA = [["a", "z"], ["A", "Z"], " "]),
          (BitmapFont.NUMERIC = [["0", "9"]]),
          (BitmapFont.ALPHANUMERIC = [["a", "z"], ["A", "Z"], ["0", "9"], " "]),
          (BitmapFont.ASCII = [[" ", "~"]]),
          (BitmapFont.defaultOptions = {
            resolution: 1,
            textureWidth: 512,
            textureHeight: 512,
            padding: 4,
            chars: _BitmapFont.ALPHANUMERIC
          }),
          (BitmapFont.available = {});
        var msdfFrag =
            "// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n",
          msdfVert =
            "// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n",
          pageMeshDataDefaultPageMeshData = [],
          pageMeshDataMSDFPageMeshData = [],
          charRenderDataPool = [],
          _BitmapText = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r(e) {
              var n,
                i =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : {};
              _classCallCheck(this, r), (n = t.call(this));
              var a = Object.assign({}, r.styleDefaults, i),
                s = a.align,
                o = a.tint,
                u = a.maxWidth,
                l = a.letterSpacing,
                c = a.fontName,
                h = a.fontSize;
              if (!BitmapFont.available[c])
                throw new Error('Missing BitmapFont "'.concat(c, '"'));
              return (
                (n._activePagesMeshData = []),
                (n._textWidth = 0),
                (n._textHeight = 0),
                (n._align = s),
                (n._tintColor = new Color(o)),
                (n._font = void 0),
                (n._fontName = c),
                (n._fontSize = h),
                (n.text = e),
                (n._maxWidth = u),
                (n._maxLineHeight = 0),
                (n._letterSpacing = l),
                (n._anchor = new ObservablePoint(
                  function () {
                    n.dirty = !0;
                  },
                  _assertThisInitialized2(n),
                  0,
                  0
                )),
                (n._roundPixels = settings.ROUND_PIXELS),
                (n.dirty = !0),
                (n._resolution = settings.RESOLUTION),
                (n._autoResolution = !0),
                (n._textureCache = {}),
                n
              );
            }
            return (
              _createClass(r, [
                {
                  key: "updateText",
                  value: function () {
                    for (
                      var e = BitmapFont.available[this._fontName],
                        t = this.fontSize,
                        r = t / e.size,
                        n = new Point(),
                        i = [],
                        a = [],
                        s = [],
                        o = splitTextToCharacters(
                          this._text.replace(/(?:\r\n|\r)/g, "\n") || " "
                        ),
                        u = (this._maxWidth * e.size) / t,
                        l =
                          "none" === e.distanceFieldType
                            ? pageMeshDataDefaultPageMeshData
                            : pageMeshDataMSDFPageMeshData,
                        c = null,
                        h = 0,
                        f = 0,
                        d = 0,
                        p = -1,
                        _ = 0,
                        v = 0,
                        m = 0,
                        g = 0,
                        y = 0;
                      y < o.length;
                      y++
                    ) {
                      var T = o[y],
                        x = extractCharCode(T);
                      if (
                        (/(?:\s)/.test(T) && ((p = y), (_ = h), g++),
                        "\r" !== T && "\n" !== T)
                      ) {
                        var E = e.chars[x];
                        if (E) {
                          c && E.kerning[c] && (n.x += E.kerning[c]);
                          var b = charRenderDataPool.pop() || {
                            texture: Texture.EMPTY,
                            line: 0,
                            charCode: 0,
                            prevSpaces: 0,
                            position: new Point()
                          };
                          (b.texture = E.texture),
                            (b.line = d),
                            (b.charCode = x),
                            (b.position.x = Math.round(
                              n.x + E.xOffset + this._letterSpacing / 2
                            )),
                            (b.position.y = Math.round(n.y + E.yOffset)),
                            (b.prevSpaces = g),
                            i.push(b),
                            (h =
                              b.position.x +
                              Math.max(
                                E.xAdvance - E.xOffset,
                                E.texture.orig.width
                              )),
                            (n.x += E.xAdvance + this._letterSpacing),
                            (m = Math.max(m, E.yOffset + E.texture.height)),
                            (c = x),
                            -1 !== p &&
                              u > 0 &&
                              n.x > u &&
                              (removeItems(i, 1 + p - ++v, 1 + y - p),
                              (y = p),
                              (p = -1),
                              a.push(_),
                              s.push(
                                i.length > 0 ? i[i.length - 1].prevSpaces : 0
                              ),
                              (f = Math.max(f, _)),
                              d++,
                              (n.x = 0),
                              (n.y += e.lineHeight),
                              (c = null),
                              (g = 0));
                        }
                      } else
                        a.push(h),
                          s.push(-1),
                          (f = Math.max(f, h)),
                          ++d,
                          ++v,
                          (n.x = 0),
                          (n.y += e.lineHeight),
                          (c = null),
                          (g = 0);
                    }
                    var S = o[o.length - 1];
                    "\r" !== S &&
                      "\n" !== S &&
                      (/(?:\s)/.test(S) && (h = _),
                      a.push(h),
                      (f = Math.max(f, h)),
                      s.push(-1));
                    for (var A = [], C = 0; C <= d; C++) {
                      var P = 0;
                      "right" === this._align
                        ? (P = f - a[C])
                        : "center" === this._align
                        ? (P = (f - a[C]) / 2)
                        : "justify" === this._align &&
                          (P = s[C] < 0 ? 0 : (f - a[C]) / s[C]),
                        A.push(P);
                    }
                    var k = i.length,
                      w = {},
                      R = [],
                      M = this._activePagesMeshData;
                    l.push.apply(l, _toConsumableArray(M));
                    for (var I = 0; I < k; I++) {
                      var O = i[I].texture,
                        D = O.baseTexture.uid;
                      if (!w[D]) {
                        var F = l.pop();
                        if (!F) {
                          var N = new MeshGeometry(),
                            L = void 0,
                            B = void 0;
                          "none" === e.distanceFieldType
                            ? ((L = new MeshMaterial(Texture.EMPTY)),
                              (B = BLEND_MODES.NORMAL))
                            : ((L = new MeshMaterial(Texture.EMPTY, {
                                program: Program.from(msdfVert, msdfFrag),
                                uniforms: { uFWidth: 0 }
                              })),
                              (B = BLEND_MODES.NORMAL_NPM));
                          var U = new Mesh(N, L);
                          (U.blendMode = B),
                            (F = {
                              index: 0,
                              indexCount: 0,
                              vertexCount: 0,
                              uvsCount: 0,
                              total: 0,
                              mesh: U,
                              vertices: null,
                              uvs: null,
                              indices: null
                            });
                        }
                        (F.index = 0),
                          (F.indexCount = 0),
                          (F.vertexCount = 0),
                          (F.uvsCount = 0),
                          (F.total = 0);
                        var G = this._textureCache;
                        (G[D] = G[D] || new Texture(O.baseTexture)),
                          (F.mesh.texture = G[D]),
                          (F.mesh.tint = this._tintColor.value),
                          R.push(F),
                          (w[D] = F);
                      }
                      w[D].total++;
                    }
                    for (var $ = 0; $ < M.length; $++)
                      R.includes(M[$]) || this.removeChild(M[$].mesh);
                    for (var H = 0; H < R.length; H++)
                      R[H].mesh.parent !== this && this.addChild(R[H].mesh);
                    for (var j in ((this._activePagesMeshData = R), w)) {
                      var V,
                        z = w[j],
                        W = z.total;
                      if (
                        !(
                          (null === (V = z.indices) || void 0 === V
                            ? void 0
                            : V.length) >
                          6 * W
                        ) ||
                        z.vertices.length < 2 * Mesh.BATCHABLE_SIZE
                      )
                        (z.vertices = new Float32Array(8 * W)),
                          (z.uvs = new Float32Array(8 * W)),
                          (z.indices = new Uint16Array(6 * W));
                      else
                        for (
                          var Y = z.total, X = z.vertices, q = 4 * Y * 2;
                          q < X.length;
                          q++
                        )
                          X[q] = 0;
                      z.mesh.size = 6 * W;
                    }
                    for (var K = 0; K < k; K++) {
                      var Z = i[K],
                        J =
                          Z.position.x +
                          A[Z.line] *
                            ("justify" === this._align ? Z.prevSpaces : 1);
                      this._roundPixels && (J = Math.round(J));
                      var Q = J * r,
                        ee = Z.position.y * r,
                        te = Z.texture,
                        re = w[te.baseTexture.uid],
                        ne = te.frame,
                        ie = te._uvs,
                        ae = re.index++;
                      (re.indices[6 * ae + 0] = 0 + 4 * ae),
                        (re.indices[6 * ae + 1] = 1 + 4 * ae),
                        (re.indices[6 * ae + 2] = 2 + 4 * ae),
                        (re.indices[6 * ae + 3] = 0 + 4 * ae),
                        (re.indices[6 * ae + 4] = 2 + 4 * ae),
                        (re.indices[6 * ae + 5] = 3 + 4 * ae),
                        (re.vertices[8 * ae + 0] = Q),
                        (re.vertices[8 * ae + 1] = ee),
                        (re.vertices[8 * ae + 2] = Q + ne.width * r),
                        (re.vertices[8 * ae + 3] = ee),
                        (re.vertices[8 * ae + 4] = Q + ne.width * r),
                        (re.vertices[8 * ae + 5] = ee + ne.height * r),
                        (re.vertices[8 * ae + 6] = Q),
                        (re.vertices[8 * ae + 7] = ee + ne.height * r),
                        (re.uvs[8 * ae + 0] = ie.x0),
                        (re.uvs[8 * ae + 1] = ie.y0),
                        (re.uvs[8 * ae + 2] = ie.x1),
                        (re.uvs[8 * ae + 3] = ie.y1),
                        (re.uvs[8 * ae + 4] = ie.x2),
                        (re.uvs[8 * ae + 5] = ie.y2),
                        (re.uvs[8 * ae + 6] = ie.x3),
                        (re.uvs[8 * ae + 7] = ie.y3);
                    }
                    for (var se in ((this._textWidth = f * r),
                    (this._textHeight = (n.y + e.lineHeight) * r),
                    w)) {
                      var oe = w[se];
                      if (0 !== this.anchor.x || 0 !== this.anchor.y)
                        for (
                          var ue = 0,
                            le = this._textWidth * this.anchor.x,
                            ce = this._textHeight * this.anchor.y,
                            he = 0;
                          he < oe.total;
                          he++
                        )
                          (oe.vertices[ue++] -= le),
                            (oe.vertices[ue++] -= ce),
                            (oe.vertices[ue++] -= le),
                            (oe.vertices[ue++] -= ce),
                            (oe.vertices[ue++] -= le),
                            (oe.vertices[ue++] -= ce),
                            (oe.vertices[ue++] -= le),
                            (oe.vertices[ue++] -= ce);
                      this._maxLineHeight = m * r;
                      var fe = oe.mesh.geometry.getBuffer("aVertexPosition"),
                        de = oe.mesh.geometry.getBuffer("aTextureCoord"),
                        pe = oe.mesh.geometry.getIndex();
                      (fe.data = oe.vertices),
                        (de.data = oe.uvs),
                        (pe.data = oe.indices),
                        fe.update(),
                        de.update(),
                        pe.update();
                    }
                    for (var _e = 0; _e < i.length; _e++)
                      charRenderDataPool.push(i[_e]);
                    (this._font = e), (this.dirty = !1);
                  }
                },
                {
                  key: "updateTransform",
                  value: function () {
                    this.validate(), this.containerUpdateTransform();
                  }
                },
                {
                  key: "_render",
                  value: function (e) {
                    this._autoResolution &&
                      this._resolution !== e.resolution &&
                      ((this._resolution = e.resolution), (this.dirty = !0));
                    var t = BitmapFont.available[this._fontName],
                      n = t.distanceFieldRange,
                      i = t.distanceFieldType,
                      a = t.size;
                    if ("none" !== i) {
                      var s,
                        o = this.worldTransform,
                        u = o.a,
                        l = o.b,
                        c = o.c,
                        h = o.d,
                        f = Math.sqrt(u * u + l * l),
                        d = Math.sqrt(c * c + h * h),
                        p = (Math.abs(f) + Math.abs(d)) / 2,
                        _ = this.fontSize / a,
                        v = e._view.resolution,
                        m = _createForOfIteratorHelper(
                          this._activePagesMeshData
                        );
                      try {
                        for (m.s(); !(s = m.n()).done; ) {
                          s.value.mesh.shader.uniforms.uFWidth = p * n * _ * v;
                        }
                      } catch (g) {
                        m.e(g);
                      } finally {
                        m.f();
                      }
                    }
                    _get3(_getPrototypeOf(r.prototype), "_render", this).call(
                      this,
                      e
                    );
                  }
                },
                {
                  key: "getLocalBounds",
                  value: function () {
                    return (
                      this.validate(),
                      _get3(
                        _getPrototypeOf(r.prototype),
                        "getLocalBounds",
                        this
                      ).call(this)
                    );
                  }
                },
                {
                  key: "validate",
                  value: function () {
                    var e = BitmapFont.available[this._fontName];
                    if (!e)
                      throw new Error(
                        'Missing BitmapFont "'.concat(this._fontName, '"')
                      );
                    this._font !== e && (this.dirty = !0),
                      this.dirty && this.updateText();
                  }
                },
                {
                  key: "tint",
                  get: function () {
                    return this._tintColor.value;
                  },
                  set: function (e) {
                    if (this.tint !== e) {
                      this._tintColor.setValue(e);
                      for (var t = 0; t < this._activePagesMeshData.length; t++)
                        this._activePagesMeshData[t].mesh.tint = e;
                    }
                  }
                },
                {
                  key: "align",
                  get: function () {
                    return this._align;
                  },
                  set: function (e) {
                    this._align !== e && ((this._align = e), (this.dirty = !0));
                  }
                },
                {
                  key: "fontName",
                  get: function () {
                    return this._fontName;
                  },
                  set: function (e) {
                    if (!BitmapFont.available[e])
                      throw new Error('Missing BitmapFont "'.concat(e, '"'));
                    this._fontName !== e &&
                      ((this._fontName = e), (this.dirty = !0));
                  }
                },
                {
                  key: "fontSize",
                  get: function () {
                    var e;
                    return null !== (e = this._fontSize) && void 0 !== e
                      ? e
                      : BitmapFont.available[this._fontName].size;
                  },
                  set: function (e) {
                    this._fontSize !== e &&
                      ((this._fontSize = e), (this.dirty = !0));
                  }
                },
                {
                  key: "anchor",
                  get: function () {
                    return this._anchor;
                  },
                  set: function (e) {
                    "number" == typeof e
                      ? this._anchor.set(e)
                      : this._anchor.copyFrom(e);
                  }
                },
                {
                  key: "text",
                  get: function () {
                    return this._text;
                  },
                  set: function (e) {
                    (e = String(null == e ? "" : e)),
                      this._text !== e && ((this._text = e), (this.dirty = !0));
                  }
                },
                {
                  key: "maxWidth",
                  get: function () {
                    return this._maxWidth;
                  },
                  set: function (e) {
                    this._maxWidth !== e &&
                      ((this._maxWidth = e), (this.dirty = !0));
                  }
                },
                {
                  key: "maxLineHeight",
                  get: function () {
                    return this.validate(), this._maxLineHeight;
                  }
                },
                {
                  key: "textWidth",
                  get: function () {
                    return this.validate(), this._textWidth;
                  }
                },
                {
                  key: "letterSpacing",
                  get: function () {
                    return this._letterSpacing;
                  },
                  set: function (e) {
                    this._letterSpacing !== e &&
                      ((this._letterSpacing = e), (this.dirty = !0));
                  }
                },
                {
                  key: "roundPixels",
                  get: function () {
                    return this._roundPixels;
                  },
                  set: function (e) {
                    e !== this._roundPixels &&
                      ((this._roundPixels = e), (this.dirty = !0));
                  }
                },
                {
                  key: "textHeight",
                  get: function () {
                    return this.validate(), this._textHeight;
                  }
                },
                {
                  key: "resolution",
                  get: function () {
                    return this._resolution;
                  },
                  set: function (e) {
                    (this._autoResolution = !1),
                      this._resolution !== e &&
                        ((this._resolution = e), (this.dirty = !0));
                  }
                },
                {
                  key: "destroy",
                  value: function (e) {
                    var t = this._textureCache,
                      n =
                        "none" ===
                        BitmapFont.available[this._fontName].distanceFieldType
                          ? pageMeshDataDefaultPageMeshData
                          : pageMeshDataMSDFPageMeshData;
                    n.push.apply(
                      n,
                      _toConsumableArray(this._activePagesMeshData)
                    );
                    var i,
                      a = _createForOfIteratorHelper(this._activePagesMeshData);
                    try {
                      for (a.s(); !(i = a.n()).done; ) {
                        var s = i.value;
                        this.removeChild(s.mesh);
                      }
                    } catch (u) {
                      a.e(u);
                    } finally {
                      a.f();
                    }
                    for (var o in ((this._activePagesMeshData = []),
                    n
                      .filter(function (e) {
                        return t[e.mesh.texture.baseTexture.uid];
                      })
                      .forEach(function (e) {
                        e.mesh.texture = Texture.EMPTY;
                      }),
                    t)) {
                      t[o].destroy(), delete t[o];
                    }
                    (this._font = null),
                      (this._tintColor = null),
                      (this._textureCache = null),
                      _get3(_getPrototypeOf(r.prototype), "destroy", this).call(
                        this,
                        e
                      );
                  }
                }
              ]),
              r
            );
          })(Container),
          BitmapText = _BitmapText;
        BitmapText.styleDefaults = {
          align: "left",
          tint: 16777215,
          maxWidth: 0,
          letterSpacing: 0
        };
        var validExtensions = [".xml", ".fnt"],
          loadBitmapFont = {
            extension: {
              type: ExtensionType.LoadParser,
              priority: LoaderParserPriority.Normal
            },
            name: "loadBitmapFont",
            test: function (e) {
              return validExtensions.includes(path.extname(e).toLowerCase());
            },
            testParse: function (e) {
              return _asyncToGenerator(
                _regeneratorRuntime().mark(function t() {
                  return _regeneratorRuntime().wrap(function (t) {
                    for (;;)
                      switch ((t.prev = t.next)) {
                        case 0:
                          return t.abrupt(
                            "return",
                            TextFormat.test(e) || XMLStringFormat.test(e)
                          );
                        case 1:
                        case "end":
                          return t.stop();
                      }
                  }, t);
                })
              )();
            },
            parse: function (e, t, r) {
              return _asyncToGenerator(
                _regeneratorRuntime().mark(function n() {
                  var i, a, s, o, u, l, c, h, f;
                  return _regeneratorRuntime().wrap(function (n) {
                    for (;;)
                      switch ((n.prev = n.next)) {
                        case 0:
                          for (
                            i = TextFormat.test(e)
                              ? TextFormat.parse(e)
                              : XMLStringFormat.parse(e),
                              a = t.src,
                              s = i.page,
                              o = [],
                              u = 0;
                            u < s.length;
                            ++u
                          )
                            (l = s[u].file),
                              (c = path.join(path.dirname(a), l)),
                              (c = copySearchParams(c, a)),
                              o.push(c);
                          return (n.next = 7), r.load(o);
                        case 7:
                          return (
                            (h = n.sent),
                            (f = o.map(function (e) {
                              return h[e];
                            })),
                            n.abrupt("return", BitmapFont.install(i, f, !0))
                          );
                        case 10:
                        case "end":
                          return n.stop();
                      }
                  }, n);
                })
              )();
            },
            load: function (e, t) {
              return _asyncToGenerator(
                _regeneratorRuntime().mark(function t() {
                  var r;
                  return _regeneratorRuntime().wrap(function (t) {
                    for (;;)
                      switch ((t.prev = t.next)) {
                        case 0:
                          return (t.next = 2), settings.ADAPTER.fetch(e);
                        case 2:
                          return (r = t.sent), t.abrupt("return", r.text());
                        case 4:
                        case "end":
                          return t.stop();
                      }
                  }, t);
                })
              )();
            },
            unload: function (e) {
              e.destroy();
            }
          };
        extensions$1.add(loadBitmapFont);
        var _HTMLTextStyle = (function (e) {
            _inherits(r, e);
            var t = _createSuper(r);
            function r() {
              var e;
              return (
                _classCallCheck(this, r),
                ((e = t.apply(this, arguments))._fonts = []),
                (e._overrides = []),
                (e._stylesheet = ""),
                (e.fontsDirty = !1),
                e
              );
            }
            return (
              _createClass(
                r,
                [
                  {
                    key: "cleanFonts",
                    value: function () {
                      this._fonts.length > 0 &&
                        (this._fonts.forEach(function (e) {
                          URL.revokeObjectURL(e.src),
                            e.refs--,
                            0 === e.refs &&
                              (e.fontFace && document.fonts.delete(e.fontFace),
                              delete r.availableFonts[e.originalUrl]);
                        }),
                        (this.fontFamily = "Arial"),
                        (this._fonts.length = 0),
                        this.styleID++,
                        (this.fontsDirty = !0));
                    }
                  },
                  {
                    key: "loadFont",
                    value: function (e) {
                      var t = this,
                        n =
                          arguments.length > 1 && void 0 !== arguments[1]
                            ? arguments[1]
                            : {},
                        i = r.availableFonts;
                      if (i[e]) {
                        var a = i[e];
                        return (
                          this._fonts.push(a),
                          a.refs++,
                          this.styleID++,
                          (this.fontsDirty = !0),
                          Promise.resolve()
                        );
                      }
                      return settings.ADAPTER.fetch(e)
                        .then(function (e) {
                          return e.blob();
                        })
                        .then(
                          (function () {
                            var e = _asyncToGenerator(
                              _regeneratorRuntime().mark(function e(t) {
                                return _regeneratorRuntime().wrap(function (e) {
                                  for (;;)
                                    switch ((e.prev = e.next)) {
                                      case 0:
                                        return e.abrupt(
                                          "return",
                                          new Promise(function (e, r) {
                                            var n = URL.createObjectURL(t),
                                              i = new FileReader();
                                            (i.onload = function () {
                                              return e([n, i.result]);
                                            }),
                                              (i.onerror = r),
                                              i.readAsDataURL(t);
                                          })
                                        );
                                      case 1:
                                      case "end":
                                        return e.stop();
                                    }
                                }, e);
                              })
                            );
                            return function (t) {
                              return e.apply(this, arguments);
                            };
                          })()
                        )
                        .then(
                          (function () {
                            var r = _asyncToGenerator(
                              _regeneratorRuntime().mark(function r(a) {
                                var s, o, u, l, c;
                                return _regeneratorRuntime().wrap(function (r) {
                                  for (;;)
                                    switch ((r.prev = r.next)) {
                                      case 0:
                                        return (
                                          (s = _slicedToArray(a, 2)),
                                          (o = s[0]),
                                          (u = s[1]),
                                          (l = Object.assign(
                                            {
                                              family: path.basename(
                                                e,
                                                path.extname(e)
                                              ),
                                              weight: "normal",
                                              style: "normal",
                                              src: o,
                                              dataSrc: u,
                                              refs: 1,
                                              originalUrl: e,
                                              fontFace: null
                                            },
                                            n
                                          )),
                                          (i[e] = l),
                                          t._fonts.push(l),
                                          t.styleID++,
                                          (c = new FontFace(
                                            l.family,
                                            "url(".concat(l.src, ")"),
                                            { weight: l.weight, style: l.style }
                                          )),
                                          (l.fontFace = c),
                                          (r.next = 9),
                                          c.load()
                                        );
                                      case 9:
                                        return (
                                          document.fonts.add(c),
                                          (r.next = 12),
                                          document.fonts.ready
                                        );
                                      case 12:
                                        t.styleID++, (t.fontsDirty = !0);
                                      case 14:
                                      case "end":
                                        return r.stop();
                                    }
                                }, r);
                              })
                            );
                            return function (e) {
                              return r.apply(this, arguments);
                            };
                          })()
                        );
                    }
                  },
                  {
                    key: "addOverride",
                    value: function () {
                      for (
                        var e = this,
                          t = arguments.length,
                          r = new Array(t),
                          n = 0;
                        n < t;
                        n++
                      )
                        r[n] = arguments[n];
                      var i,
                        a = r.filter(function (t) {
                          return !e._overrides.includes(t);
                        });
                      a.length > 0 &&
                        ((i = this._overrides).push.apply(
                          i,
                          _toConsumableArray(a)
                        ),
                        this.styleID++);
                    }
                  },
                  {
                    key: "removeOverride",
                    value: function () {
                      for (
                        var e = this,
                          t = arguments.length,
                          r = new Array(t),
                          n = 0;
                        n < t;
                        n++
                      )
                        r[n] = arguments[n];
                      var i = r.filter(function (t) {
                        return e._overrides.includes(t);
                      });
                      i.length > 0 &&
                        ((this._overrides = this._overrides.filter(function (
                          e
                        ) {
                          return !i.includes(e);
                        })),
                        this.styleID++);
                    }
                  },
                  {
                    key: "toCSS",
                    value: function (e) {
                      return [
                        "transform: scale(".concat(e, ")"),
                        "transform-origin: top left",
                        "display: inline-block",
                        "color: ".concat(this.normalizeColor(this.fill)),
                        "font-size: ".concat(this.fontSize, "px"),
                        "font-family: ".concat(this.fontFamily),
                        "font-weight: ".concat(this.fontWeight),
                        "font-style: ".concat(this.fontStyle),
                        "font-variant: ".concat(this.fontVariant),
                        "letter-spacing: ".concat(this.letterSpacing, "px"),
                        "text-align: ".concat(this.align),
                        "padding: ".concat(this.padding, "px"),
                        "white-space: ".concat(this.whiteSpace)
                      ]
                        .concat(
                          _toConsumableArray(
                            this.lineHeight
                              ? ["line-height: ".concat(this.lineHeight, "px")]
                              : []
                          ),
                          _toConsumableArray(
                            this.wordWrap
                              ? [
                                  "word-wrap: ".concat(
                                    this.breakWords ? "break-all" : "break-word"
                                  ),
                                  "max-width: ".concat(this.wordWrapWidth, "px")
                                ]
                              : []
                          ),
                          _toConsumableArray(
                            this.strokeThickness
                              ? [
                                  "-webkit-text-stroke-width: ".concat(
                                    this.strokeThickness,
                                    "px"
                                  ),
                                  "-webkit-text-stroke-color: ".concat(
                                    this.normalizeColor(this.stroke)
                                  ),
                                  "text-stroke-width: ".concat(
                                    this.strokeThickness,
                                    "px"
                                  ),
                                  "text-stroke-color: ".concat(
                                    this.normalizeColor(this.stroke)
                                  ),
                                  "paint-order: stroke"
                                ]
                              : []
                          ),
                          _toConsumableArray(
                            this.dropShadow ? [this.dropShadowToCSS()] : []
                          ),
                          _toConsumableArray(this._overrides)
                        )
                        .join(";");
                    }
                  },
                  {
                    key: "toGlobalCSS",
                    value: function () {
                      return this._fonts.reduce(function (e, t) {
                        return ""
                          .concat(
                            e,
                            '\n            @font-face {\n                font-family: "'
                          )
                          .concat(t.family, "\";\n                src: url('")
                          .concat(
                            t.dataSrc,
                            "');\n                font-weight: "
                          )
                          .concat(t.weight, ";\n                font-style: ")
                          .concat(t.style, "; \n            }");
                      }, this._stylesheet);
                    }
                  },
                  {
                    key: "stylesheet",
                    get: function () {
                      return this._stylesheet;
                    },
                    set: function (e) {
                      this._stylesheet !== e &&
                        ((this._stylesheet = e), this.styleID++);
                    }
                  },
                  {
                    key: "normalizeColor",
                    value: function (e) {
                      return (
                        Array.isArray(e) && (e = rgb2hex(e)),
                        "number" == typeof e ? hex2string(e) : e
                      );
                    }
                  },
                  {
                    key: "dropShadowToCSS",
                    value: function () {
                      var e = this.normalizeColor(this.dropShadowColor),
                        t = this.dropShadowAlpha,
                        r = Math.round(
                          Math.cos(this.dropShadowAngle) *
                            this.dropShadowDistance
                        ),
                        n = Math.round(
                          Math.sin(this.dropShadowAngle) *
                            this.dropShadowDistance
                        );
                      e.startsWith("#") &&
                        t < 1 &&
                        (e += ((255 * t) | 0).toString(16).padStart(2, "0"));
                      var i = "".concat(r, "px ").concat(n, "px");
                      return this.dropShadowBlur > 0
                        ? "text-shadow: "
                            .concat(i, " ")
                            .concat(this.dropShadowBlur, "px ")
                            .concat(e)
                        : "text-shadow: ".concat(i, " ").concat(e);
                    }
                  },
                  {
                    key: "reset",
                    value: function () {
                      Object.assign(this, r.defaultOptions);
                    }
                  },
                  {
                    key: "onBeforeDraw",
                    value: function () {
                      var e = this.fontsDirty;
                      return (
                        (this.fontsDirty = !1),
                        this.isSafari && this._fonts.length > 0 && e
                          ? new Promise(function (e) {
                              return setTimeout(e, 100);
                            })
                          : Promise.resolve()
                      );
                    }
                  },
                  {
                    key: "isSafari",
                    get: function () {
                      var e = settings.ADAPTER.getNavigator().userAgent;
                      return /^((?!chrome|android).)*safari/i.test(e);
                    }
                  },
                  {
                    key: "fillGradientStops",
                    get: function () {
                      return _get3(
                        _getPrototypeOf(r.prototype),
                        "fillGradientStops",
                        this
                      );
                    },
                    set: function (e) {
                      console.warn(
                        "[HTMLTextStyle] fillGradientStops is not supported by HTMLText"
                      );
                    }
                  },
                  {
                    key: "fillGradientType",
                    get: function () {
                      return _get3(
                        _getPrototypeOf(r.prototype),
                        "fillGradientType",
                        this
                      );
                    },
                    set: function (e) {
                      console.warn(
                        "[HTMLTextStyle] fillGradientType is not supported by HTMLText"
                      );
                    }
                  },
                  {
                    key: "miterLimit",
                    get: function () {
                      return _get3(
                        _getPrototypeOf(r.prototype),
                        "miterLimit",
                        this
                      );
                    },
                    set: function (e) {
                      console.warn(
                        "[HTMLTextStyle] miterLimit is not supported by HTMLText"
                      );
                    }
                  },
                  {
                    key: "trim",
                    get: function () {
                      return _get3(_getPrototypeOf(r.prototype), "trim", this);
                    },
                    set: function (e) {
                      console.warn(
                        "[HTMLTextStyle] trim is not supported by HTMLText"
                      );
                    }
                  },
                  {
                    key: "textBaseline",
                    get: function () {
                      return _get3(
                        _getPrototypeOf(r.prototype),
                        "textBaseline",
                        this
                      );
                    },
                    set: function (e) {
                      console.warn(
                        "[HTMLTextStyle] textBaseline is not supported by HTMLText"
                      );
                    }
                  },
                  {
                    key: "leading",
                    get: function () {
                      return _get3(
                        _getPrototypeOf(r.prototype),
                        "leading",
                        this
                      );
                    },
                    set: function (e) {
                      console.warn(
                        "[HTMLTextStyle] leading is not supported by HTMLText"
                      );
                    }
                  },
                  {
                    key: "lineJoin",
                    get: function () {
                      return _get3(
                        _getPrototypeOf(r.prototype),
                        "lineJoin",
                        this
                      );
                    },
                    set: function (e) {
                      console.warn(
                        "[HTMLTextStyle] lineJoin is not supported by HTMLText"
                      );
                    }
                  }
                ],
                [
                  {
                    key: "from",
                    value: function (e) {
                      return new r(
                        Object.keys(r.defaultOptions).reduce(function (t, r) {
                          return _objectSpread(
                            _objectSpread({}, t),
                            {},
                            _defineProperty({}, r, e[r])
                          );
                        }, {})
                      );
                    }
                  }
                ]
              ),
              r
            );
          })(TextStyle),
          HTMLTextStyle = _HTMLTextStyle;
        (HTMLTextStyle.availableFonts = {}),
          (HTMLTextStyle.defaultOptions = {
            align: "left",
            breakWords: !1,
            dropShadow: !1,
            dropShadowAlpha: 1,
            dropShadowAngle: Math.PI / 6,
            dropShadowBlur: 0,
            dropShadowColor: "black",
            dropShadowDistance: 5,
            fill: "black",
            fontFamily: "Arial",
            fontSize: 26,
            fontStyle: "normal",
            fontVariant: "normal",
            fontWeight: "normal",
            letterSpacing: 0,
            lineHeight: 0,
            padding: 0,
            stroke: "black",
            strokeThickness: 0,
            whiteSpace: "normal",
            wordWrap: !1,
            wordWrapWidth: 100
          });
        var _HTMLText = (function (e) {
            _inherits(n, e);
            var t,
              r = _createSuper(n);
            function n() {
              var e,
                t,
                i =
                  arguments.length > 0 && void 0 !== arguments[0]
                    ? arguments[0]
                    : "",
                a =
                  arguments.length > 1 && void 0 !== arguments[1]
                    ? arguments[1]
                    : {};
              _classCallCheck(this, n),
                ((t = r.call(this, Texture.EMPTY))._text = null),
                (t._style = null),
                (t._autoResolution = !0),
                (t._loading = !1),
                (t.localStyleID = -1),
                (t.dirty = !1),
                (t.ownsStyle = !1);
              var s = new Image(),
                o = Texture.from(s, {
                  scaleMode: settings.SCALE_MODE,
                  resourceOptions: { autoLoad: !1 }
                });
              (o.orig = new Rectangle()),
                (o.trim = new Rectangle()),
                (t.texture = o);
              var u = "http://www.w3.org/2000/svg",
                l = "http://www.w3.org/1999/xhtml",
                c = document.createElementNS(u, "svg"),
                h = document.createElementNS(u, "foreignObject"),
                f = document.createElementNS(l, "div"),
                d = document.createElementNS(l, "style");
              return (
                h.setAttribute("width", "10000"),
                h.setAttribute("height", "10000"),
                (h.style.overflow = "hidden"),
                c.appendChild(h),
                (t.maxWidth = n.defaultMaxWidth),
                (t.maxHeight = n.defaultMaxHeight),
                (t._domElement = f),
                (t._styleElement = d),
                (t._svgRoot = c),
                (t._foreignObject = h),
                t._foreignObject.appendChild(d),
                t._foreignObject.appendChild(f),
                (t._image = s),
                (t._loadImage = new Image()),
                (t._autoResolution = n.defaultAutoResolution),
                (t._resolution =
                  null !== (e = n.defaultResolution) && void 0 !== e
                    ? e
                    : settings.RESOLUTION),
                (t.text = i),
                (t.style = a),
                t
              );
            }
            return (
              _createClass(n, [
                {
                  key: "measureText",
                  value: function (e) {
                    var t = Object.assign(
                        {
                          text: this._text,
                          style: this._style,
                          resolution: this._resolution
                        },
                        e
                      ),
                      r = t.text,
                      n = t.style,
                      i = t.resolution;
                    Object.assign(this._domElement, {
                      innerHTML: r,
                      style: n.toCSS(i)
                    }),
                      (this._styleElement.textContent = n.toGlobalCSS()),
                      document.body.appendChild(this._svgRoot);
                    var a = this._domElement.getBoundingClientRect();
                    this._svgRoot.remove();
                    var s,
                      o,
                      u = Math.min(this.maxWidth, Math.ceil(a.width)),
                      l = Math.min(this.maxHeight, Math.ceil(a.height));
                    (this._svgRoot.setAttribute("width", u.toString()),
                    this._svgRoot.setAttribute("height", l.toString()),
                    r !== this._text &&
                      (this._domElement.innerHTML = this._text),
                    n !== this._style) &&
                      (Object.assign(this._domElement, {
                        style:
                          null === (s = this._style) || void 0 === s
                            ? void 0
                            : s.toCSS(i)
                      }),
                      (this._styleElement.textContent =
                        null === (o = this._style) || void 0 === o
                          ? void 0
                          : o.toGlobalCSS()));
                    return {
                      width: u + 2 * n.padding,
                      height: l + 2 * n.padding
                    };
                  }
                },
                {
                  key: "updateText",
                  value:
                    ((t = _asyncToGenerator(
                      _regeneratorRuntime().mark(function e() {
                        var t,
                          r,
                          n,
                          i,
                          a,
                          s,
                          o,
                          u = this,
                          l = arguments;
                        return _regeneratorRuntime().wrap(
                          function (e) {
                            for (;;)
                              switch ((e.prev = e.next)) {
                                case 0:
                                  if (
                                    ((t =
                                      !(l.length > 0 && void 0 !== l[0]) ||
                                      l[0]),
                                    (r = this.style),
                                    (n = this._image),
                                    (i = this._loadImage),
                                    this.localStyleID !== r.styleID &&
                                      ((this.dirty = !0),
                                      (this.localStyleID = r.styleID)),
                                    this.dirty || !t)
                                  ) {
                                    e.next = 5;
                                    break;
                                  }
                                  return e.abrupt("return");
                                case 5:
                                  if (
                                    ((a = this.measureText()),
                                    (s = a.width),
                                    (o = a.height),
                                    (n.width = i.width = Math.ceil(
                                      Math.max(1, s)
                                    )),
                                    (n.height = i.height = Math.ceil(
                                      Math.max(1, o)
                                    )),
                                    this._loading)
                                  ) {
                                    e.next = 12;
                                    break;
                                  }
                                  return (
                                    (this._loading = !0),
                                    (e.next = 12),
                                    new Promise(function (e) {
                                      i.onload = _asyncToGenerator(
                                        _regeneratorRuntime().mark(
                                          function t() {
                                            return _regeneratorRuntime().wrap(
                                              function (t) {
                                                for (;;)
                                                  switch ((t.prev = t.next)) {
                                                    case 0:
                                                      return (
                                                        (t.next = 2),
                                                        r.onBeforeDraw()
                                                      );
                                                    case 2:
                                                      (u._loading = !1),
                                                        (n.src = i.src),
                                                        (i.onload = null),
                                                        (i.src = ""),
                                                        u.updateTexture(),
                                                        e();
                                                    case 8:
                                                    case "end":
                                                      return t.stop();
                                                  }
                                              },
                                              t
                                            );
                                          }
                                        )
                                      );
                                      var t = new XMLSerializer().serializeToString(
                                        u._svgRoot
                                      );
                                      i.src = "data:image/svg+xml;charset=utf8,".concat(
                                        encodeURIComponent(t)
                                      );
                                    })
                                  );
                                case 12:
                                case "end":
                                  return e.stop();
                              }
                          },
                          e,
                          this
                        );
                      })
                    )),
                    function () {
                      return t.apply(this, arguments);
                    })
                },
                {
                  key: "source",
                  get: function () {
                    return this._image;
                  }
                },
                {
                  key: "updateTexture",
                  value: function () {
                    var e = this.style,
                      t = this.texture,
                      r = this._image,
                      n = this.resolution,
                      i = e.padding,
                      a = t.baseTexture;
                    (t.trim.width = t._frame.width = r.width / n),
                      (t.trim.height = t._frame.height = r.height / n),
                      (t.trim.x = -i),
                      (t.trim.y = -i),
                      (t.orig.width = t._frame.width - 2 * i),
                      (t.orig.height = t._frame.height - 2 * i),
                      this._onTextureUpdate(),
                      a.setRealSize(r.width, r.height, n),
                      (this.dirty = !1);
                  }
                },
                {
                  key: "_render",
                  value: function (e) {
                    this._autoResolution &&
                      this._resolution !== e.resolution &&
                      ((this._resolution = e.resolution), (this.dirty = !0)),
                      this.updateText(!0),
                      _get3(_getPrototypeOf(n.prototype), "_render", this).call(
                        this,
                        e
                      );
                  }
                },
                {
                  key: "_renderCanvas",
                  value: function (e) {
                    this._autoResolution &&
                      this._resolution !== e.resolution &&
                      ((this._resolution = e.resolution), (this.dirty = !0)),
                      this.updateText(!0),
                      _get3(
                        _getPrototypeOf(n.prototype),
                        "_renderCanvas",
                        this
                      ).call(this, e);
                  }
                },
                {
                  key: "getLocalBounds",
                  value: function (e) {
                    return (
                      this.updateText(!0),
                      _get3(
                        _getPrototypeOf(n.prototype),
                        "getLocalBounds",
                        this
                      ).call(this, e)
                    );
                  }
                },
                {
                  key: "_calculateBounds",
                  value: function () {
                    this.updateText(!0),
                      this.calculateVertices(),
                      this._bounds.addQuad(this.vertexData);
                  }
                },
                {
                  key: "_onStyleChange",
                  value: function () {
                    this.dirty = !0;
                  }
                },
                {
                  key: "destroy",
                  value: function (e) {
                    var t, r, i, a;
                    "boolean" == typeof e && (e = { children: e }),
                      (e = Object.assign({}, n.defaultDestroyOptions, e)),
                      _get3(_getPrototypeOf(n.prototype), "destroy", this).call(
                        this,
                        e
                      );
                    var s,
                      o = null;
                    this.ownsStyle &&
                      (null === (s = this._style) ||
                        void 0 === s ||
                        s.cleanFonts());
                    (this._style = o),
                      null === (t = this._svgRoot) ||
                        void 0 === t ||
                        t.remove(),
                      (this._svgRoot = o),
                      null === (r = this._domElement) ||
                        void 0 === r ||
                        r.remove(),
                      (this._domElement = o),
                      null === (i = this._foreignObject) ||
                        void 0 === i ||
                        i.remove(),
                      (this._foreignObject = o),
                      null === (a = this._styleElement) ||
                        void 0 === a ||
                        a.remove(),
                      (this._styleElement = o),
                      (this._loadImage.src = ""),
                      (this._loadImage.onload = null),
                      (this._loadImage = o),
                      (this._image.src = ""),
                      (this._image = o);
                  }
                },
                {
                  key: "width",
                  get: function () {
                    return (
                      this.updateText(!0),
                      (Math.abs(this.scale.x) * this._image.width) /
                        this.resolution
                    );
                  },
                  set: function (e) {
                    this.updateText(!0);
                    var t = sign(this.scale.x) || 1;
                    (this.scale.x =
                      (t * e) / this._image.width / this.resolution),
                      (this._width = e);
                  }
                },
                {
                  key: "height",
                  get: function () {
                    return (
                      this.updateText(!0),
                      (Math.abs(this.scale.y) * this._image.height) /
                        this.resolution
                    );
                  },
                  set: function (e) {
                    this.updateText(!0);
                    var t = sign(this.scale.y) || 1;
                    (this.scale.y =
                      (t * e) / this._image.height / this.resolution),
                      (this._height = e);
                  }
                },
                {
                  key: "style",
                  get: function () {
                    return this._style;
                  },
                  set: function (e) {
                    this._style !== e &&
                      ((e = e || {}) instanceof HTMLTextStyle
                        ? ((this.ownsStyle = !1), (this._style = e))
                        : e instanceof TextStyle
                        ? (console.warn(
                            "[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"
                          ),
                          (this.ownsStyle = !0),
                          (this._style = HTMLTextStyle.from(e)))
                        : ((this.ownsStyle = !0),
                          (this._style = new HTMLTextStyle(e))),
                      (this.localStyleID = -1),
                      (this.dirty = !0));
                  }
                },
                {
                  key: "text",
                  get: function () {
                    return this._text;
                  },
                  set: function (e) {
                    (e = String("" === e || null == e ? " " : e)),
                      (e = this.sanitiseText(e)),
                      this._text !== e && ((this._text = e), (this.dirty = !0));
                  }
                },
                {
                  key: "resolution",
                  get: function () {
                    return this._resolution;
                  },
                  set: function (e) {
                    (this._autoResolution = !1),
                      this._resolution !== e &&
                        ((this._resolution = e), (this.dirty = !0));
                  }
                },
                {
                  key: "sanitiseText",
                  value: function (e) {
                    return e
                      .replace(/<br>/gi, "<br/>")
                      .replace(/<hr>/gi, "<hr/>")
                      .replace(/&nbsp;/gi, "&#160;");
                  }
                }
              ]),
              n
            );
          })(Sprite),
          HTMLText = _HTMLText;
        function _assertThisInitialized(e) {
          if (void 0 === e)
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called"
            );
          return e;
        }
        function _inheritsLoose(e, t) {
          (e.prototype = Object.create(t.prototype)),
            (e.prototype.constructor = e),
            (e.__proto__ = t);
        }
        /*!
         * GSAP 3.11.5
         * https://greensock.com
         *
         * @license Copyright 2008-2023, GreenSock. All rights reserved.
         * Subject to the terms at https://greensock.com/standard-license or for
         * Club GreenSock members, the agreement issued with that membership.
         * @author: Jack Doyle, jack@greensock.com
         */ (HTMLText.defaultDestroyOptions = {
          texture: !0,
          children: !1,
          baseTexture: !0
        }),
          (HTMLText.defaultMaxWidth = 2024),
          (HTMLText.defaultMaxHeight = 2024),
          (HTMLText.defaultAutoResolution = !0);
        var _config = {
            autoSleep: 120,
            force3D: "auto",
            nullTargetWarn: 1,
            units: { lineHeight: "" }
          },
          _defaults = { duration: 0.5, overwrite: !1, delay: 0 },
          _suppressOverwrites,
          _reverting$2,
          _context,
          _bigNum$1 = 1e8,
          _tinyNum = 1 / _bigNum$1,
          _2PI = 2 * Math.PI,
          _HALF_PI = _2PI / 4,
          _gsID = 0,
          _sqrt$1 = Math.sqrt,
          _cos$1 = Math.cos,
          _sin$1 = Math.sin,
          _isString$2 = function (e) {
            return "string" == typeof e;
          },
          _isFunction$1 = function (e) {
            return "function" == typeof e;
          },
          _isNumber$1 = function (e) {
            return "number" == typeof e;
          },
          _isUndefined$1 = function (e) {
            return void 0 === e;
          },
          _isObject = function (e) {
            return "object" === _typeof(e);
          },
          _isNotFalse = function (e) {
            return !1 !== e;
          },
          _windowExists$2 = function () {
            return "undefined" != typeof window;
          },
          _isFuncOrString = function (e) {
            return _isFunction$1(e) || _isString$2(e);
          },
          _isTypedArray =
            ("function" == typeof ArrayBuffer && ArrayBuffer.isView) ||
            function () {},
          _isArray = Array.isArray,
          _strictNumExp = /(?:-?\.?\d|\.)+/gi,
          _numExp$1 = /[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,
          _numWithUnitExp = /[-+=.]*\d+[.e-]*\d*[a-z%]*/g,
          _complexStringNumExp = /[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,
          _relExp = /[+-]=-?[.\d]+/,
          _delimitedValueExp = /[^,'"\[\]\s]+/gi,
          _unitExp = /^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,
          _globalTimeline,
          _win$3,
          _coreInitted,
          _doc$2,
          _globals = {},
          _installScope = {},
          _coreReady,
          _install = function (e) {
            return (_installScope = _merge(e, _globals)) && gsap$2;
          },
          _missingPlugin = function (e, t) {
            return console.warn(
              "Invalid property",
              e,
              "set to",
              t,
              "Missing plugin? gsap.registerPlugin()"
            );
          },
          _warn$1 = function (e, t) {
            return !t && console.warn(e);
          },
          _addGlobal = function (e, t) {
            return (
              (e &&
                (_globals[e] = t) &&
                _installScope &&
                (_installScope[e] = t)) ||
              _globals
            );
          },
          _emptyFunc$1 = function () {
            return 0;
          },
          _startAtRevertConfig = { suppressEvents: !0, isStart: !0, kill: !1 },
          _revertConfigNoKill = { suppressEvents: !0, kill: !1 },
          _revertConfig = { suppressEvents: !0 },
          _reservedProps = {},
          _lazyTweens = [],
          _lazyLookup = {},
          _lastRenderedFrame,
          _plugins = {},
          _effects = {},
          _nextGCFrame = 30,
          _harnessPlugins = [],
          _callbackNames = "",
          _harness = function (e) {
            var t,
              r,
              n = e[0];
            if (
              (_isObject(n) || _isFunction$1(n) || (e = [e]),
              !(t = (n._gsap || {}).harness))
            ) {
              for (
                r = _harnessPlugins.length;
                r-- && !_harnessPlugins[r].targetTest(n);

              );
              t = _harnessPlugins[r];
            }
            for (r = e.length; r--; )
              (e[r] && (e[r]._gsap || (e[r]._gsap = new GSCache(e[r], t)))) ||
                e.splice(r, 1);
            return e;
          },
          _getCache = function (e) {
            return e._gsap || _harness(toArray(e))[0]._gsap;
          },
          _getProperty = function (e, t, r) {
            return (r = e[t]) && _isFunction$1(r)
              ? e[t]()
              : (_isUndefined$1(r) && e.getAttribute && e.getAttribute(t)) || r;
          },
          _forEachName = function (e, t) {
            return (e = e.split(",")).forEach(t) || e;
          },
          _round$1 = function (e) {
            return Math.round(1e5 * e) / 1e5 || 0;
          },
          _roundPrecise$1 = function (e) {
            return Math.round(1e7 * e) / 1e7 || 0;
          },
          _parseRelative = function (e, t) {
            var r = t.charAt(0),
              n = parseFloat(t.substr(2));
            return (
              (e = parseFloat(e)),
              "+" === r ? e + n : "-" === r ? e - n : "*" === r ? e * n : e / n
            );
          },
          _arrayContainsAny = function (e, t) {
            for (var r = t.length, n = 0; e.indexOf(t[n]) < 0 && ++n < r; );
            return n < r;
          },
          _lazyRender = function () {
            var e,
              t,
              r = _lazyTweens.length,
              n = _lazyTweens.slice(0);
            for (_lazyLookup = {}, _lazyTweens.length = 0, e = 0; e < r; e++)
              (t = n[e]) &&
                t._lazy &&
                (t.render(t._lazy[0], t._lazy[1], !0)._lazy = 0);
          },
          _lazySafeRender = function (e, t, r, n) {
            _lazyTweens.length && !_reverting$2 && _lazyRender(),
              e.render(
                t,
                r,
                n || (_reverting$2 && t < 0 && (e._initted || e._startAt))
              ),
              _lazyTweens.length && !_reverting$2 && _lazyRender();
          },
          _numericIfPossible = function (e) {
            var t = parseFloat(e);
            return (t || 0 === t) &&
              (e + "").match(_delimitedValueExp).length < 2
              ? t
              : _isString$2(e)
              ? e.trim()
              : e;
          },
          _passThrough = function (e) {
            return e;
          },
          _setDefaults = function (e, t) {
            for (var r in t) r in e || (e[r] = t[r]);
            return e;
          },
          _setKeyframeDefaults = function (e) {
            return function (t, r) {
              for (var n in r)
                n in t ||
                  ("duration" === n && e) ||
                  "ease" === n ||
                  (t[n] = r[n]);
            };
          },
          _merge = function (e, t) {
            for (var r in t) e[r] = t[r];
            return e;
          },
          _mergeDeep = function e(t, r) {
            for (var n in r)
              "__proto__" !== n &&
                "constructor" !== n &&
                "prototype" !== n &&
                (t[n] = _isObject(r[n]) ? e(t[n] || (t[n] = {}), r[n]) : r[n]);
            return t;
          },
          _copyExcluding = function (e, t) {
            var r,
              n = {};
            for (r in e) r in t || (n[r] = e[r]);
            return n;
          },
          _inheritDefaults = function (e) {
            var t = e.parent || _globalTimeline,
              r = e.keyframes
                ? _setKeyframeDefaults(_isArray(e.keyframes))
                : _setDefaults;
            if (_isNotFalse(e.inherit))
              for (; t; ) r(e, t.vars.defaults), (t = t.parent || t._dp);
            return e;
          },
          _arraysMatch = function (e, t) {
            for (
              var r = e.length, n = r === t.length;
              n && r-- && e[r] === t[r];

            );
            return r < 0;
          },
          _addLinkedListItem = function (e, t, r, n, i) {
            void 0 === r && (r = "_first"), void 0 === n && (n = "_last");
            var a,
              s = e[n];
            if (i) for (a = t[i]; s && s[i] > a; ) s = s._prev;
            return (
              s
                ? ((t._next = s._next), (s._next = t))
                : ((t._next = e[r]), (e[r] = t)),
              t._next ? (t._next._prev = t) : (e[n] = t),
              (t._prev = s),
              (t.parent = t._dp = e),
              t
            );
          },
          _removeLinkedListItem = function (e, t, r, n) {
            void 0 === r && (r = "_first"), void 0 === n && (n = "_last");
            var i = t._prev,
              a = t._next;
            i ? (i._next = a) : e[r] === t && (e[r] = a),
              a ? (a._prev = i) : e[n] === t && (e[n] = i),
              (t._next = t._prev = t.parent = null);
          },
          _removeFromParent = function (e, t) {
            e.parent &&
              (!t || e.parent.autoRemoveChildren) &&
              e.parent.remove(e),
              (e._act = 0);
          },
          _uncache = function (e, t) {
            if (e && (!t || t._end > e._dur || t._start < 0))
              for (var r = e; r; ) (r._dirty = 1), (r = r.parent);
            return e;
          },
          _recacheAncestors = function (e) {
            for (var t = e.parent; t && t.parent; )
              (t._dirty = 1), t.totalDuration(), (t = t.parent);
            return e;
          },
          _rewindStartAt = function (e, t, r, n) {
            return (
              e._startAt &&
              (_reverting$2
                ? e._startAt.revert(_revertConfigNoKill)
                : (e.vars.immediateRender && !e.vars.autoRevert) ||
                  e._startAt.render(t, !0, n))
            );
          },
          _hasNoPausedAncestors = function e(t) {
            return !t || (t._ts && e(t.parent));
          },
          _elapsedCycleDuration = function (e) {
            return e._repeat
              ? _animationCycle(e._tTime, (e = e.duration() + e._rDelay)) * e
              : 0;
          },
          _animationCycle = function (e, t) {
            var r = Math.floor((e /= t));
            return e && r === e ? r - 1 : r;
          },
          _parentToChildTotalTime = function (e, t) {
            return (
              (e - t._start) * t._ts +
              (t._ts >= 0 ? 0 : t._dirty ? t.totalDuration() : t._tDur)
            );
          },
          _setEnd = function (e) {
            return (e._end = _roundPrecise$1(
              e._start + (e._tDur / Math.abs(e._ts || e._rts || _tinyNum) || 0)
            ));
          },
          _alignPlayhead = function (e, t) {
            var r = e._dp;
            return (
              r &&
                r.smoothChildTiming &&
                e._ts &&
                ((e._start = _roundPrecise$1(
                  r._time -
                    (e._ts > 0
                      ? t / e._ts
                      : ((e._dirty ? e.totalDuration() : e._tDur) - t) / -e._ts)
                )),
                _setEnd(e),
                r._dirty || _uncache(r, e)),
              e
            );
          },
          _postAddChecks = function (e, t) {
            var r;
            if (
              ((t._time || (t._initted && !t._dur)) &&
                ((r = _parentToChildTotalTime(e.rawTime(), t)),
                (!t._dur ||
                  _clamp(0, t.totalDuration(), r) - t._tTime > _tinyNum) &&
                  t.render(r, !0)),
              _uncache(e, t)._dp && e._initted && e._time >= e._dur && e._ts)
            ) {
              if (e._dur < e.duration())
                for (r = e; r._dp; )
                  r.rawTime() >= 0 && r.totalTime(r._tTime), (r = r._dp);
              e._zTime = -_tinyNum;
            }
          },
          _addToTimeline = function (e, t, r, n) {
            return (
              t.parent && _removeFromParent(t),
              (t._start = _roundPrecise$1(
                (_isNumber$1(r)
                  ? r
                  : r || e !== _globalTimeline
                  ? _parsePosition(e, r, t)
                  : e._time) + t._delay
              )),
              (t._end = _roundPrecise$1(
                t._start + (t.totalDuration() / Math.abs(t.timeScale()) || 0)
              )),
              _addLinkedListItem(
                e,
                t,
                "_first",
                "_last",
                e._sort ? "_start" : 0
              ),
              _isFromOrFromStart(t) || (e._recent = t),
              n || _postAddChecks(e, t),
              e._ts < 0 && _alignPlayhead(e, e._tTime),
              e
            );
          },
          _scrollTrigger = function (e, t) {
            return (
              (_globals.ScrollTrigger || _missingPlugin("scrollTrigger", t)) &&
              _globals.ScrollTrigger.create(t, e)
            );
          },
          _attemptInitTween = function (e, t, r, n, i) {
            return (
              _initTween(e, t, i),
              e._initted
                ? !r &&
                  e._pt &&
                  !_reverting$2 &&
                  ((e._dur && !1 !== e.vars.lazy) ||
                    (!e._dur && e.vars.lazy)) &&
                  _lastRenderedFrame !== _ticker.frame
                  ? (_lazyTweens.push(e), (e._lazy = [i, n]), 1)
                  : void 0
                : 1
            );
          },
          _parentPlayheadIsBeforeStart = function e(t) {
            var r = t.parent;
            return (
              r && r._ts && r._initted && !r._lock && (r.rawTime() < 0 || e(r))
            );
          },
          _isFromOrFromStart = function (e) {
            var t = e.data;
            return "isFromStart" === t || "isStart" === t;
          },
          _renderZeroDurationTween = function (e, t, r, n) {
            var i,
              a,
              s,
              o = e.ratio,
              u =
                t < 0 ||
                (!t &&
                  ((!e._start &&
                    _parentPlayheadIsBeforeStart(e) &&
                    (e._initted || !_isFromOrFromStart(e))) ||
                    ((e._ts < 0 || e._dp._ts < 0) && !_isFromOrFromStart(e))))
                  ? 0
                  : 1,
              l = e._rDelay,
              c = 0;
            if (
              (l &&
                e._repeat &&
                ((c = _clamp(0, e._tDur, t)),
                (a = _animationCycle(c, l)),
                e._yoyo && 1 & a && (u = 1 - u),
                a !== _animationCycle(e._tTime, l) &&
                  ((o = 1 - u),
                  e.vars.repeatRefresh && e._initted && e.invalidate())),
              u !== o ||
                _reverting$2 ||
                n ||
                e._zTime === _tinyNum ||
                (!t && e._zTime))
            ) {
              if (!e._initted && _attemptInitTween(e, t, n, r, c)) return;
              for (
                s = e._zTime,
                  e._zTime = t || (r ? _tinyNum : 0),
                  r || (r = t && !s),
                  e.ratio = u,
                  e._from && (u = 1 - u),
                  e._time = 0,
                  e._tTime = c,
                  i = e._pt;
                i;

              )
                i.r(u, i.d), (i = i._next);
              t < 0 && _rewindStartAt(e, t, r, !0),
                e._onUpdate && !r && _callback(e, "onUpdate"),
                c && e._repeat && !r && e.parent && _callback(e, "onRepeat"),
                (t >= e._tDur || t < 0) &&
                  e.ratio === u &&
                  (u && _removeFromParent(e, 1),
                  r ||
                    _reverting$2 ||
                    (_callback(e, u ? "onComplete" : "onReverseComplete", !0),
                    e._prom && e._prom()));
            } else e._zTime || (e._zTime = t);
          },
          _findNextPauseTween = function (e, t, r) {
            var n;
            if (r > t)
              for (n = e._first; n && n._start <= r; ) {
                if ("isPause" === n.data && n._start > t) return n;
                n = n._next;
              }
            else
              for (n = e._last; n && n._start >= r; ) {
                if ("isPause" === n.data && n._start < t) return n;
                n = n._prev;
              }
          },
          _setDuration = function (e, t, r, n) {
            var i = e._repeat,
              a = _roundPrecise$1(t) || 0,
              s = e._tTime / e._tDur;
            return (
              s && !n && (e._time *= a / e._dur),
              (e._dur = a),
              (e._tDur = i
                ? i < 0
                  ? 1e10
                  : _roundPrecise$1(a * (i + 1) + e._rDelay * i)
                : a),
              s > 0 && !n && _alignPlayhead(e, (e._tTime = e._tDur * s)),
              e.parent && _setEnd(e),
              r || _uncache(e.parent, e),
              e
            );
          },
          _onUpdateTotalDuration = function (e) {
            return e instanceof Timeline
              ? _uncache(e)
              : _setDuration(e, e._dur);
          },
          _zeroPosition = {
            _start: 0,
            endTime: _emptyFunc$1,
            totalDuration: _emptyFunc$1
          },
          _parsePosition = function e(t, r, n) {
            var i,
              a,
              s,
              o = t.labels,
              u = t._recent || _zeroPosition,
              l = t.duration() >= _bigNum$1 ? u.endTime(!1) : t._dur;
            return _isString$2(r) && (isNaN(r) || r in o)
              ? ((a = r.charAt(0)),
                (s = "%" === r.substr(-1)),
                (i = r.indexOf("=")),
                "<" === a || ">" === a
                  ? (i >= 0 && (r = r.replace(/=/, "")),
                    ("<" === a ? u._start : u.endTime(u._repeat >= 0)) +
                      (parseFloat(r.substr(1)) || 0) *
                        (s ? (i < 0 ? u : n).totalDuration() / 100 : 1))
                  : i < 0
                  ? (r in o || (o[r] = l), o[r])
                  : ((a = parseFloat(r.charAt(i - 1) + r.substr(i + 1))),
                    s &&
                      n &&
                      (a =
                        (a / 100) * (_isArray(n) ? n[0] : n).totalDuration()),
                    i > 1 ? e(t, r.substr(0, i - 1), n) + a : l + a))
              : null == r
              ? l
              : +r;
          },
          _createTweenType = function (e, t, r) {
            var n,
              i,
              a = _isNumber$1(t[1]),
              s = (a ? 2 : 1) + (e < 2 ? 0 : 1),
              o = t[s];
            if ((a && (o.duration = t[1]), (o.parent = r), e)) {
              for (n = o, i = r; i && !("immediateRender" in n); )
                (n = i.vars.defaults || {}),
                  (i = _isNotFalse(i.vars.inherit) && i.parent);
              (o.immediateRender = _isNotFalse(n.immediateRender)),
                e < 2 ? (o.runBackwards = 1) : (o.startAt = t[s - 1]);
            }
            return new Tween(t[0], o, t[s + 1]);
          },
          _conditionalReturn = function (e, t) {
            return e || 0 === e ? t(e) : t;
          },
          _clamp = function (e, t, r) {
            return r < e ? e : r > t ? t : r;
          },
          getUnit = function (e, t) {
            return _isString$2(e) && (t = _unitExp.exec(e)) ? t[1] : "";
          },
          clamp = function (e, t, r) {
            return _conditionalReturn(r, function (r) {
              return _clamp(e, t, r);
            });
          },
          _slice = [].slice,
          _isArrayLike = function (e, t) {
            return (
              e &&
              _isObject(e) &&
              "length" in e &&
              ((!t && !e.length) || (e.length - 1 in e && _isObject(e[0]))) &&
              !e.nodeType &&
              e !== _win$3
            );
          },
          _flatten = function (e, t, r) {
            return (
              void 0 === r && (r = []),
              e.forEach(function (e) {
                var n;
                return (_isString$2(e) && !t) || _isArrayLike(e, 1)
                  ? (n = r).push.apply(n, toArray(e))
                  : r.push(e);
              }) || r
            );
          },
          toArray = function (e, t, r) {
            return _context && !t && _context.selector
              ? _context.selector(e)
              : !_isString$2(e) || r || (!_coreInitted && _wake())
              ? _isArray(e)
                ? _flatten(e, r)
                : _isArrayLike(e)
                ? _slice.call(e, 0)
                : e
                ? [e]
                : []
              : _slice.call((t || _doc$2).querySelectorAll(e), 0);
          },
          selector = function (e) {
            return (
              (e = toArray(e)[0] || _warn$1("Invalid scope") || {}),
              function (t) {
                var r = e.current || e.nativeElement || e;
                return toArray(
                  t,
                  r.querySelectorAll
                    ? r
                    : r === e
                    ? _warn$1("Invalid scope") || _doc$2.createElement("div")
                    : e
                );
              }
            );
          },
          shuffle = function (e) {
            return e.sort(function () {
              return 0.5 - Math.random();
            });
          },
          distribute = function (e) {
            if (_isFunction$1(e)) return e;
            var t = _isObject(e) ? e : { each: e },
              r = _parseEase(t.ease),
              n = t.from || 0,
              i = parseFloat(t.base) || 0,
              a = {},
              s = n > 0 && n < 1,
              o = isNaN(n) || s,
              u = t.axis,
              l = n,
              c = n;
            return (
              _isString$2(n)
                ? (l = c = { center: 0.5, edges: 0.5, end: 1 }[n] || 0)
                : !s && o && ((l = n[0]), (c = n[1])),
              function (e, s, h) {
                var f,
                  d,
                  p,
                  _,
                  v,
                  m,
                  g,
                  y,
                  T,
                  x = (h || t).length,
                  E = a[x];
                if (!E) {
                  if (
                    !(T = "auto" === t.grid ? 0 : (t.grid || [1, _bigNum$1])[1])
                  ) {
                    for (
                      g = -_bigNum$1;
                      g < (g = h[T++].getBoundingClientRect().left) && T < x;

                    );
                    T--;
                  }
                  for (
                    E = a[x] = [],
                      f = o ? Math.min(T, x) * l - 0.5 : n % T,
                      d =
                        T === _bigNum$1
                          ? 0
                          : o
                          ? (x * c) / T - 0.5
                          : (n / T) | 0,
                      g = 0,
                      y = _bigNum$1,
                      m = 0;
                    m < x;
                    m++
                  )
                    (p = (m % T) - f),
                      (_ = d - ((m / T) | 0)),
                      (E[m] = v = u
                        ? Math.abs("y" === u ? _ : p)
                        : _sqrt$1(p * p + _ * _)),
                      v > g && (g = v),
                      v < y && (y = v);
                  "random" === n && shuffle(E),
                    (E.max = g - y),
                    (E.min = y),
                    (E.v = x =
                      (parseFloat(t.amount) ||
                        parseFloat(t.each) *
                          (T > x
                            ? x - 1
                            : u
                            ? "y" === u
                              ? x / T
                              : T
                            : Math.max(T, x / T)) ||
                        0) * ("edges" === n ? -1 : 1)),
                    (E.b = x < 0 ? i - x : i),
                    (E.u = getUnit(t.amount || t.each) || 0),
                    (r = r && x < 0 ? _invertEase(r) : r);
                }
                return (
                  (x = (E[e] - E.min) / E.max || 0),
                  _roundPrecise$1(E.b + (r ? r(x) : x) * E.v) + E.u
                );
              }
            );
          },
          _roundModifier = function (e) {
            var t = Math.pow(10, ((e + "").split(".")[1] || "").length);
            return function (r) {
              var n = _roundPrecise$1(Math.round(parseFloat(r) / e) * e * t);
              return (n - (n % 1)) / t + (_isNumber$1(r) ? 0 : getUnit(r));
            };
          },
          snap = function (e, t) {
            var r,
              n,
              i = _isArray(e);
            return (
              !i &&
                _isObject(e) &&
                ((r = i = e.radius || _bigNum$1),
                e.values
                  ? ((e = toArray(e.values)),
                    (n = !_isNumber$1(e[0])) && (r *= r))
                  : (e = _roundModifier(e.increment))),
              _conditionalReturn(
                t,
                i
                  ? _isFunction$1(e)
                    ? function (t) {
                        return (n = e(t)), Math.abs(n - t) <= r ? n : t;
                      }
                    : function (t) {
                        for (
                          var i,
                            a,
                            s = parseFloat(n ? t.x : t),
                            o = parseFloat(n ? t.y : 0),
                            u = _bigNum$1,
                            l = 0,
                            c = e.length;
                          c--;

                        )
                          (i = n
                            ? (i = e[c].x - s) * i + (a = e[c].y - o) * a
                            : Math.abs(e[c] - s)) < u && ((u = i), (l = c));
                        return (
                          (l = !r || u <= r ? e[l] : t),
                          n || l === t || _isNumber$1(t) ? l : l + getUnit(t)
                        );
                      }
                  : _roundModifier(e)
              )
            );
          },
          random = function (e, t, r, n) {
            return _conditionalReturn(
              _isArray(e) ? !t : !0 === r ? !!(r = 0) : !n,
              function () {
                return _isArray(e)
                  ? e[~~(Math.random() * e.length)]
                  : (r = r || 1e-5) &&
                      (n = r < 1 ? Math.pow(10, (r + "").length - 2) : 1) &&
                      Math.floor(
                        Math.round(
                          (e - r / 2 + Math.random() * (t - e + 0.99 * r)) / r
                        ) *
                          r *
                          n
                      ) / n;
              }
            );
          },
          pipe = function () {
            for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++)
              t[r] = arguments[r];
            return function (e) {
              return t.reduce(function (e, t) {
                return t(e);
              }, e);
            };
          },
          unitize = function (e, t) {
            return function (r) {
              return e(parseFloat(r)) + (t || getUnit(r));
            };
          },
          normalize = function (e, t, r) {
            return mapRange(e, t, 0, 1, r);
          },
          _wrapArray = function (e, t, r) {
            return _conditionalReturn(r, function (r) {
              return e[~~t(r)];
            });
          },
          wrap = function e(t, r, n) {
            var i = r - t;
            return _isArray(t)
              ? _wrapArray(t, e(0, t.length), r)
              : _conditionalReturn(n, function (e) {
                  return ((i + ((e - t) % i)) % i) + t;
                });
          },
          wrapYoyo = function e(t, r, n) {
            var i = r - t,
              a = 2 * i;
            return _isArray(t)
              ? _wrapArray(t, e(0, t.length - 1), r)
              : _conditionalReturn(n, function (e) {
                  return (
                    t + ((e = (a + ((e - t) % a)) % a || 0) > i ? a - e : e)
                  );
                });
          },
          _replaceRandom = function (e) {
            for (
              var t, r, n, i, a = 0, s = "";
              ~(t = e.indexOf("random(", a));

            )
              (n = e.indexOf(")", t)),
                (i = "[" === e.charAt(t + 7)),
                (r = e
                  .substr(t + 7, n - t - 7)
                  .match(i ? _delimitedValueExp : _strictNumExp)),
                (s +=
                  e.substr(a, t - a) +
                  random(i ? r : +r[0], i ? 0 : +r[1], +r[2] || 1e-5)),
                (a = n + 1);
            return s + e.substr(a, e.length - a);
          },
          mapRange = function (e, t, r, n, i) {
            var a = t - e,
              s = n - r;
            return _conditionalReturn(i, function (t) {
              return r + (((t - e) / a) * s || 0);
            });
          },
          interpolate = function e(t, r, n, i) {
            var a = isNaN(t + r)
              ? 0
              : function (e) {
                  return (1 - e) * t + e * r;
                };
            if (!a) {
              var s,
                o,
                u,
                l,
                c,
                h = _isString$2(t),
                f = {};
              if ((!0 === n && (i = 1) && (n = null), h))
                (t = { p: t }), (r = { p: r });
              else if (_isArray(t) && !_isArray(r)) {
                for (u = [], l = t.length, c = l - 2, o = 1; o < l; o++)
                  u.push(e(t[o - 1], t[o]));
                l--,
                  (a = function (e) {
                    e *= l;
                    var t = Math.min(c, ~~e);
                    return u[t](e - t);
                  }),
                  (n = r);
              } else i || (t = _merge(_isArray(t) ? [] : {}, t));
              if (!u) {
                for (s in r) _addPropTween.call(f, t, s, "get", r[s]);
                a = function (e) {
                  return _renderPropTweens(e, f) || (h ? t.p : t);
                };
              }
            }
            return _conditionalReturn(n, a);
          },
          _getLabelInDirection = function (e, t, r) {
            var n,
              i,
              a,
              s = e.labels,
              o = _bigNum$1;
            for (n in s)
              (i = s[n] - t) < 0 == !!r &&
                i &&
                o > (i = Math.abs(i)) &&
                ((a = n), (o = i));
            return a;
          },
          _callback = function (e, t, r) {
            var n,
              i,
              a,
              s = e.vars,
              o = s[t],
              u = _context,
              l = e._ctx;
            if (o)
              return (
                (n = s[t + "Params"]),
                (i = s.callbackScope || e),
                r && _lazyTweens.length && _lazyRender(),
                l && (_context = l),
                (a = n ? o.apply(i, n) : o.call(i)),
                (_context = u),
                a
              );
          },
          _interrupt = function (e) {
            return (
              _removeFromParent(e),
              e.scrollTrigger && e.scrollTrigger.kill(!!_reverting$2),
              e.progress() < 1 && _callback(e, "onInterrupt"),
              e
            );
          },
          _quickTween,
          _registerPluginQueue = [],
          _createPlugin = function (e) {
            if (_windowExists$2()) {
              var t = (e = (!e.name && e.default) || e).name,
                r = _isFunction$1(e),
                n =
                  t && !r && e.init
                    ? function () {
                        this._props = [];
                      }
                    : e,
                i = {
                  init: _emptyFunc$1,
                  render: _renderPropTweens,
                  add: _addPropTween,
                  kill: _killPropTweensOf,
                  modifier: _addPluginModifier,
                  rawVars: 0
                },
                a = {
                  targetTest: 0,
                  get: 0,
                  getSetter: _getSetter$1,
                  aliases: {},
                  register: 0
                };
              if ((_wake(), e !== n)) {
                if (_plugins[t]) return;
                _setDefaults(n, _setDefaults(_copyExcluding(e, i), a)),
                  _merge(n.prototype, _merge(i, _copyExcluding(e, a))),
                  (_plugins[(n.prop = t)] = n),
                  e.targetTest &&
                    (_harnessPlugins.push(n), (_reservedProps[t] = 1)),
                  (t =
                    ("css" === t
                      ? "CSS"
                      : t.charAt(0).toUpperCase() + t.substr(1)) + "Plugin");
              }
              _addGlobal(t, n),
                e.register && e.register(gsap$2, n, PropTween$2);
            } else _registerPluginQueue.push(e);
          },
          _255 = 255,
          _colorLookup = {
            aqua: [0, _255, _255],
            lime: [0, _255, 0],
            silver: [192, 192, 192],
            black: [0, 0, 0],
            maroon: [128, 0, 0],
            teal: [0, 128, 128],
            blue: [0, 0, _255],
            navy: [0, 0, 128],
            white: [_255, _255, _255],
            olive: [128, 128, 0],
            yellow: [_255, _255, 0],
            orange: [_255, 165, 0],
            gray: [128, 128, 128],
            purple: [128, 0, 128],
            green: [0, 128, 0],
            red: [_255, 0, 0],
            pink: [_255, 192, 203],
            cyan: [0, _255, _255],
            transparent: [_255, _255, _255, 0]
          },
          _hue = function (e, t, r) {
            return (
              ((6 * (e += e < 0 ? 1 : e > 1 ? -1 : 0) < 1
                ? t + (r - t) * e * 6
                : e < 0.5
                ? r
                : 3 * e < 2
                ? t + (r - t) * (2 / 3 - e) * 6
                : t) *
                _255 +
                0.5) |
              0
            );
          },
          splitColor = function (e, t, r) {
            var n,
              i,
              a,
              s,
              o,
              u,
              l,
              c,
              h,
              f,
              d = e
                ? _isNumber$1(e)
                  ? [e >> 16, (e >> 8) & _255, e & _255]
                  : 0
                : _colorLookup.black;
            if (!d) {
              if (
                ("," === e.substr(-1) && (e = e.substr(0, e.length - 1)),
                _colorLookup[e])
              )
                d = _colorLookup[e];
              else if ("#" === e.charAt(0)) {
                if (
                  (e.length < 6 &&
                    ((n = e.charAt(1)),
                    (i = e.charAt(2)),
                    (a = e.charAt(3)),
                    (e =
                      "#" +
                      n +
                      n +
                      i +
                      i +
                      a +
                      a +
                      (5 === e.length ? e.charAt(4) + e.charAt(4) : ""))),
                  9 === e.length)
                )
                  return [
                    (d = parseInt(e.substr(1, 6), 16)) >> 16,
                    (d >> 8) & _255,
                    d & _255,
                    parseInt(e.substr(7), 16) / 255
                  ];
                d = [
                  (e = parseInt(e.substr(1), 16)) >> 16,
                  (e >> 8) & _255,
                  e & _255
                ];
              } else if ("hsl" === e.substr(0, 3))
                if (((d = f = e.match(_strictNumExp)), t)) {
                  if (~e.indexOf("="))
                    return (
                      (d = e.match(_numExp$1)),
                      r && d.length < 4 && (d[3] = 1),
                      d
                    );
                } else
                  (s = (+d[0] % 360) / 360),
                    (o = +d[1] / 100),
                    (n =
                      2 * (u = +d[2] / 100) -
                      (i = u <= 0.5 ? u * (o + 1) : u + o - u * o)),
                    d.length > 3 && (d[3] *= 1),
                    (d[0] = _hue(s + 1 / 3, n, i)),
                    (d[1] = _hue(s, n, i)),
                    (d[2] = _hue(s - 1 / 3, n, i));
              else d = e.match(_strictNumExp) || _colorLookup.transparent;
              d = d.map(Number);
            }
            return (
              t &&
                !f &&
                ((n = d[0] / _255),
                (i = d[1] / _255),
                (a = d[2] / _255),
                (u = ((l = Math.max(n, i, a)) + (c = Math.min(n, i, a))) / 2),
                l === c
                  ? (s = o = 0)
                  : ((h = l - c),
                    (o = u > 0.5 ? h / (2 - l - c) : h / (l + c)),
                    (s =
                      l === n
                        ? (i - a) / h + (i < a ? 6 : 0)
                        : l === i
                        ? (a - n) / h + 2
                        : (n - i) / h + 4),
                    (s *= 60)),
                (d[0] = ~~(s + 0.5)),
                (d[1] = ~~(100 * o + 0.5)),
                (d[2] = ~~(100 * u + 0.5))),
              r && d.length < 4 && (d[3] = 1),
              d
            );
          },
          _colorOrderData = function (e) {
            var t = [],
              r = [],
              n = -1;
            return (
              e.split(_colorExp).forEach(function (e) {
                var i = e.match(_numWithUnitExp) || [];
                t.push.apply(t, i), r.push((n += i.length + 1));
              }),
              (t.c = r),
              t
            );
          },
          _formatColors = function (e, t, r) {
            var n,
              i,
              a,
              s,
              o = "",
              u = (e + o).match(_colorExp),
              l = t ? "hsla(" : "rgba(",
              c = 0;
            if (!u) return e;
            if (
              ((u = u.map(function (e) {
                return (
                  (e = splitColor(e, t, 1)) &&
                  l +
                    (t
                      ? e[0] + "," + e[1] + "%," + e[2] + "%," + e[3]
                      : e.join(",")) +
                    ")"
                );
              })),
              r &&
                ((a = _colorOrderData(e)), (n = r.c).join(o) !== a.c.join(o)))
            )
              for (
                s =
                  (i = e.replace(_colorExp, "1").split(_numWithUnitExp))
                    .length - 1;
                c < s;
                c++
              )
                o +=
                  i[c] +
                  (~n.indexOf(c)
                    ? u.shift() || l + "0,0,0,0)"
                    : (a.length ? a : u.length ? u : r).shift());
            if (!i)
              for (s = (i = e.split(_colorExp)).length - 1; c < s; c++)
                o += i[c] + u[c];
            return o + i[s];
          },
          _colorExp = (function () {
            var e,
              t =
                "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";
            for (e in _colorLookup) t += "|" + e + "\\b";
            return new RegExp(t + ")", "gi");
          })(),
          _hslExp = /hsl[a]?\(/,
          _colorStringFilter = function (e) {
            var t,
              r = e.join(" ");
            if (((_colorExp.lastIndex = 0), _colorExp.test(r)))
              return (
                (t = _hslExp.test(r)),
                (e[1] = _formatColors(e[1], t)),
                (e[0] = _formatColors(e[0], t, _colorOrderData(e[1]))),
                !0
              );
          },
          _tickerActive,
          _ticker = (function () {
            var e,
              t,
              r,
              n,
              i,
              a,
              s = Date.now,
              o = 500,
              u = 33,
              l = s(),
              c = l,
              h = 1e3 / 240,
              f = h,
              d = [],
              p = function r(p) {
                var _,
                  v,
                  m,
                  g,
                  y = s() - c,
                  T = !0 === p;
                if (
                  (y > o && (l += y - u),
                  ((_ = (m = (c += y) - l) - f) > 0 || T) &&
                    ((g = ++n.frame),
                    (i = m - 1e3 * n.time),
                    (n.time = m /= 1e3),
                    (f += _ + (_ >= h ? 4 : h - _)),
                    (v = 1)),
                  T || (e = t(r)),
                  v)
                )
                  for (a = 0; a < d.length; a++) d[a](m, i, g, p);
              };
            return (
              (n = {
                time: 0,
                frame: 0,
                tick: function () {
                  p(!0);
                },
                deltaRatio: function (e) {
                  return i / (1e3 / (e || 60));
                },
                wake: function () {
                  _coreReady &&
                    (!_coreInitted &&
                      _windowExists$2() &&
                      ((_win$3 = _coreInitted = window),
                      (_doc$2 = _win$3.document || {}),
                      (_globals.gsap = gsap$2),
                      (_win$3.gsapVersions || (_win$3.gsapVersions = [])).push(
                        gsap$2.version
                      ),
                      _install(
                        _installScope ||
                          _win$3.GreenSockGlobals ||
                          (!_win$3.gsap && _win$3) ||
                          {}
                      ),
                      (r = _win$3.requestAnimationFrame),
                      _registerPluginQueue.forEach(_createPlugin)),
                    e && n.sleep(),
                    (t =
                      r ||
                      function (e) {
                        return setTimeout(e, (f - 1e3 * n.time + 1) | 0);
                      }),
                    (_tickerActive = 1),
                    p(2));
                },
                sleep: function () {
                  (r ? _win$3.cancelAnimationFrame : clearTimeout)(e),
                    (_tickerActive = 0),
                    (t = _emptyFunc$1);
                },
                lagSmoothing: function (e, t) {
                  (o = e || 1 / 0), (u = Math.min(t || 33, o));
                },
                fps: function (e) {
                  (h = 1e3 / (e || 240)), (f = 1e3 * n.time + h);
                },
                add: function (e, t, r) {
                  var i = t
                    ? function (t, r, a, s) {
                        e(t, r, a, s), n.remove(i);
                      }
                    : e;
                  return n.remove(e), d[r ? "unshift" : "push"](i), _wake(), i;
                },
                remove: function (e, t) {
                  ~(t = d.indexOf(e)) && d.splice(t, 1) && a >= t && a--;
                },
                _listeners: d
              }),
              n
            );
          })(),
          _wake = function () {
            return !_tickerActive && _ticker.wake();
          },
          _easeMap = {},
          _customEaseExp = /^[\d.\-M][\d.\-,\s]/,
          _quotesExp = /["']/g,
          _parseObjectInString = function (e) {
            for (
              var t,
                r,
                n,
                i = {},
                a = e.substr(1, e.length - 3).split(":"),
                s = a[0],
                o = 1,
                u = a.length;
              o < u;
              o++
            )
              (r = a[o]),
                (t = o !== u - 1 ? r.lastIndexOf(",") : r.length),
                (n = r.substr(0, t)),
                (i[s] = isNaN(n) ? n.replace(_quotesExp, "").trim() : +n),
                (s = r.substr(t + 1).trim());
            return i;
          },
          _valueInParentheses = function (e) {
            var t = e.indexOf("(") + 1,
              r = e.indexOf(")"),
              n = e.indexOf("(", t);
            return e.substring(t, ~n && n < r ? e.indexOf(")", r + 1) : r);
          },
          _configEaseFromString = function (e) {
            var t = (e + "").split("("),
              r = _easeMap[t[0]];
            return r && t.length > 1 && r.config
              ? r.config.apply(
                  null,
                  ~e.indexOf("{")
                    ? [_parseObjectInString(t[1])]
                    : _valueInParentheses(e).split(",").map(_numericIfPossible)
                )
              : _easeMap._CE && _customEaseExp.test(e)
              ? _easeMap._CE("", e)
              : r;
          },
          _invertEase = function (e) {
            return function (t) {
              return 1 - e(1 - t);
            };
          },
          _propagateYoyoEase = function e(t, r) {
            for (var n, i = t._first; i; )
              i instanceof Timeline
                ? e(i, r)
                : !i.vars.yoyoEase ||
                  (i._yoyo && i._repeat) ||
                  i._yoyo === r ||
                  (i.timeline
                    ? e(i.timeline, r)
                    : ((n = i._ease),
                      (i._ease = i._yEase),
                      (i._yEase = n),
                      (i._yoyo = r))),
                (i = i._next);
          },
          _parseEase = function (e, t) {
            return (
              (e &&
                (_isFunction$1(e)
                  ? e
                  : _easeMap[e] || _configEaseFromString(e))) ||
              t
            );
          },
          _insertEase = function (e, t, r, n) {
            void 0 === r &&
              (r = function (e) {
                return 1 - t(1 - e);
              }),
              void 0 === n &&
                (n = function (e) {
                  return e < 0.5 ? t(2 * e) / 2 : 1 - t(2 * (1 - e)) / 2;
                });
            var i,
              a = { easeIn: t, easeOut: r, easeInOut: n };
            return (
              _forEachName(e, function (e) {
                for (var t in ((_easeMap[e] = _globals[e] = a),
                (_easeMap[(i = e.toLowerCase())] = r),
                a))
                  _easeMap[
                    i +
                      ("easeIn" === t
                        ? ".in"
                        : "easeOut" === t
                        ? ".out"
                        : ".inOut")
                  ] = _easeMap[e + "." + t] = a[t];
              }),
              a
            );
          },
          _easeInOutFromOut = function (e) {
            return function (t) {
              return t < 0.5
                ? (1 - e(1 - 2 * t)) / 2
                : 0.5 + e(2 * (t - 0.5)) / 2;
            };
          },
          _configElastic = function e(t, r, n) {
            var i = r >= 1 ? r : 1,
              a = (n || (t ? 0.3 : 0.45)) / (r < 1 ? r : 1),
              s = (a / _2PI) * (Math.asin(1 / i) || 0),
              o = function (e) {
                return 1 === e
                  ? 1
                  : i * Math.pow(2, -10 * e) * _sin$1((e - s) * a) + 1;
              },
              u =
                "out" === t
                  ? o
                  : "in" === t
                  ? function (e) {
                      return 1 - o(1 - e);
                    }
                  : _easeInOutFromOut(o);
            return (
              (a = _2PI / a),
              (u.config = function (r, n) {
                return e(t, r, n);
              }),
              u
            );
          },
          _configBack = function e(t, r) {
            void 0 === r && (r = 1.70158);
            var n = function (e) {
                return e ? --e * e * ((r + 1) * e + r) + 1 : 0;
              },
              i =
                "out" === t
                  ? n
                  : "in" === t
                  ? function (e) {
                      return 1 - n(1 - e);
                    }
                  : _easeInOutFromOut(n);
            return (
              (i.config = function (r) {
                return e(t, r);
              }),
              i
            );
          };
        _forEachName("Linear,Quad,Cubic,Quart,Quint,Strong", function (e, t) {
          var r = t < 5 ? t + 1 : t;
          _insertEase(
            e + ",Power" + (r - 1),
            t
              ? function (e) {
                  return Math.pow(e, r);
                }
              : function (e) {
                  return e;
                },
            function (e) {
              return 1 - Math.pow(1 - e, r);
            },
            function (e) {
              return e < 0.5
                ? Math.pow(2 * e, r) / 2
                : 1 - Math.pow(2 * (1 - e), r) / 2;
            }
          );
        }),
          (_easeMap.Linear.easeNone = _easeMap.none = _easeMap.Linear.easeIn),
          _insertEase(
            "Elastic",
            _configElastic("in"),
            _configElastic("out"),
            _configElastic()
          ),
          (function (e, t) {
            var r = 1 / t,
              n = function (n) {
                return n < r
                  ? e * n * n
                  : n < 0.7272727272727273
                  ? e * Math.pow(n - 1.5 / t, 2) + 0.75
                  : n < 0.9090909090909092
                  ? e * (n -= 2.25 / t) * n + 0.9375
                  : e * Math.pow(n - 2.625 / t, 2) + 0.984375;
              };
            _insertEase(
              "Bounce",
              function (e) {
                return 1 - n(1 - e);
              },
              n
            );
          })(7.5625, 2.75),
          _insertEase("Expo", function (e) {
            return e ? Math.pow(2, 10 * (e - 1)) : 0;
          }),
          _insertEase("Circ", function (e) {
            return -(_sqrt$1(1 - e * e) - 1);
          }),
          _insertEase("Sine", function (e) {
            return 1 === e ? 1 : 1 - _cos$1(e * _HALF_PI);
          }),
          _insertEase(
            "Back",
            _configBack("in"),
            _configBack("out"),
            _configBack()
          ),
          (_easeMap.SteppedEase = _easeMap.steps = _globals.SteppedEase = {
            config: function (e, t) {
              void 0 === e && (e = 1);
              var r = 1 / e,
                n = e + (t ? 0 : 1),
                i = t ? 1 : 0,
                a = 1 - _tinyNum;
              return function (e) {
                return (((n * _clamp(0, a, e)) | 0) + i) * r;
              };
            }
          }),
          (_defaults.ease = _easeMap["quad.out"]),
          _forEachName(
            "onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",
            function (e) {
              return (_callbackNames += e + "," + e + "Params,");
            }
          );
        var GSCache = function (e, t) {
            (this.id = _gsID++),
              (e._gsap = this),
              (this.target = e),
              (this.harness = t),
              (this.get = t ? t.get : _getProperty),
              (this.set = t ? t.getSetter : _getSetter$1);
          },
          Animation = (function () {
            function e(e) {
              (this.vars = e),
                (this._delay = +e.delay || 0),
                (this._repeat = e.repeat === 1 / 0 ? -2 : e.repeat || 0) &&
                  ((this._rDelay = e.repeatDelay || 0),
                  (this._yoyo = !!e.yoyo || !!e.yoyoEase)),
                (this._ts = 1),
                _setDuration(this, +e.duration, 1, 1),
                (this.data = e.data),
                _context && ((this._ctx = _context), _context.data.push(this)),
                _tickerActive || _ticker.wake();
            }
            var t = e.prototype;
            return (
              (t.delay = function (e) {
                return e || 0 === e
                  ? (this.parent &&
                      this.parent.smoothChildTiming &&
                      this.startTime(this._start + e - this._delay),
                    (this._delay = e),
                    this)
                  : this._delay;
              }),
              (t.duration = function (e) {
                return arguments.length
                  ? this.totalDuration(
                      this._repeat > 0
                        ? e + (e + this._rDelay) * this._repeat
                        : e
                    )
                  : this.totalDuration() && this._dur;
              }),
              (t.totalDuration = function (e) {
                return arguments.length
                  ? ((this._dirty = 0),
                    _setDuration(
                      this,
                      this._repeat < 0
                        ? e
                        : (e - this._repeat * this._rDelay) / (this._repeat + 1)
                    ))
                  : this._tDur;
              }),
              (t.totalTime = function (e, t) {
                if ((_wake(), !arguments.length)) return this._tTime;
                var r = this._dp;
                if (r && r.smoothChildTiming && this._ts) {
                  for (
                    _alignPlayhead(this, e),
                      !r._dp || r.parent || _postAddChecks(r, this);
                    r && r.parent;

                  )
                    r.parent._time !==
                      r._start +
                        (r._ts >= 0
                          ? r._tTime / r._ts
                          : (r.totalDuration() - r._tTime) / -r._ts) &&
                      r.totalTime(r._tTime, !0),
                      (r = r.parent);
                  !this.parent &&
                    this._dp.autoRemoveChildren &&
                    ((this._ts > 0 && e < this._tDur) ||
                      (this._ts < 0 && e > 0) ||
                      (!this._tDur && !e)) &&
                    _addToTimeline(this._dp, this, this._start - this._delay);
                }
                return (
                  (this._tTime !== e ||
                    (!this._dur && !t) ||
                    (this._initted && Math.abs(this._zTime) === _tinyNum) ||
                    (!e && !this._initted && (this.add || this._ptLookup))) &&
                    (this._ts || (this._pTime = e),
                    _lazySafeRender(this, e, t)),
                  this
                );
              }),
              (t.time = function (e, t) {
                return arguments.length
                  ? this.totalTime(
                      Math.min(
                        this.totalDuration(),
                        e + _elapsedCycleDuration(this)
                      ) %
                        (this._dur + this._rDelay) || (e ? this._dur : 0),
                      t
                    )
                  : this._time;
              }),
              (t.totalProgress = function (e, t) {
                return arguments.length
                  ? this.totalTime(this.totalDuration() * e, t)
                  : this.totalDuration()
                  ? Math.min(1, this._tTime / this._tDur)
                  : this.ratio;
              }),
              (t.progress = function (e, t) {
                return arguments.length
                  ? this.totalTime(
                      this.duration() *
                        (!this._yoyo || 1 & this.iteration() ? e : 1 - e) +
                        _elapsedCycleDuration(this),
                      t
                    )
                  : this.duration()
                  ? Math.min(1, this._time / this._dur)
                  : this.ratio;
              }),
              (t.iteration = function (e, t) {
                var r = this.duration() + this._rDelay;
                return arguments.length
                  ? this.totalTime(this._time + (e - 1) * r, t)
                  : this._repeat
                  ? _animationCycle(this._tTime, r) + 1
                  : 1;
              }),
              (t.timeScale = function (e) {
                if (!arguments.length)
                  return this._rts === -_tinyNum ? 0 : this._rts;
                if (this._rts === e) return this;
                var t =
                  this.parent && this._ts
                    ? _parentToChildTotalTime(this.parent._time, this)
                    : this._tTime;
                return (
                  (this._rts = +e || 0),
                  (this._ts = this._ps || e === -_tinyNum ? 0 : this._rts),
                  this.totalTime(
                    _clamp(-Math.abs(this._delay), this._tDur, t),
                    !0
                  ),
                  _setEnd(this),
                  _recacheAncestors(this)
                );
              }),
              (t.paused = function (e) {
                return arguments.length
                  ? (this._ps !== e &&
                      ((this._ps = e),
                      e
                        ? ((this._pTime =
                            this._tTime ||
                            Math.max(-this._delay, this.rawTime())),
                          (this._ts = this._act = 0))
                        : (_wake(),
                          (this._ts = this._rts),
                          this.totalTime(
                            this.parent && !this.parent.smoothChildTiming
                              ? this.rawTime()
                              : this._tTime || this._pTime,
                            1 === this.progress() &&
                              Math.abs(this._zTime) !== _tinyNum &&
                              (this._tTime -= _tinyNum)
                          ))),
                    this)
                  : this._ps;
              }),
              (t.startTime = function (e) {
                if (arguments.length) {
                  this._start = e;
                  var t = this.parent || this._dp;
                  return (
                    t &&
                      (t._sort || !this.parent) &&
                      _addToTimeline(t, this, e - this._delay),
                    this
                  );
                }
                return this._start;
              }),
              (t.endTime = function (e) {
                return (
                  this._start +
                  (_isNotFalse(e) ? this.totalDuration() : this.duration()) /
                    Math.abs(this._ts || 1)
                );
              }),
              (t.rawTime = function (e) {
                var t = this.parent || this._dp;
                return t
                  ? e &&
                    (!this._ts ||
                      (this._repeat && this._time && this.totalProgress() < 1))
                    ? this._tTime % (this._dur + this._rDelay)
                    : this._ts
                    ? _parentToChildTotalTime(t.rawTime(e), this)
                    : this._tTime
                  : this._tTime;
              }),
              (t.revert = function (e) {
                void 0 === e && (e = _revertConfig);
                var t = _reverting$2;
                return (
                  (_reverting$2 = e),
                  (this._initted || this._startAt) &&
                    (this.timeline && this.timeline.revert(e),
                    this.totalTime(-0.01, e.suppressEvents)),
                  "nested" !== this.data && !1 !== e.kill && this.kill(),
                  (_reverting$2 = t),
                  this
                );
              }),
              (t.globalTime = function (e) {
                for (var t = this, r = arguments.length ? e : t.rawTime(); t; )
                  (r = t._start + r / (t._ts || 1)), (t = t._dp);
                return !this.parent && this._sat
                  ? this._sat.vars.immediateRender
                    ? -1
                    : this._sat.globalTime(e)
                  : r;
              }),
              (t.repeat = function (e) {
                return arguments.length
                  ? ((this._repeat = e === 1 / 0 ? -2 : e),
                    _onUpdateTotalDuration(this))
                  : -2 === this._repeat
                  ? 1 / 0
                  : this._repeat;
              }),
              (t.repeatDelay = function (e) {
                if (arguments.length) {
                  var t = this._time;
                  return (
                    (this._rDelay = e),
                    _onUpdateTotalDuration(this),
                    t ? this.time(t) : this
                  );
                }
                return this._rDelay;
              }),
              (t.yoyo = function (e) {
                return arguments.length ? ((this._yoyo = e), this) : this._yoyo;
              }),
              (t.seek = function (e, t) {
                return this.totalTime(_parsePosition(this, e), _isNotFalse(t));
              }),
              (t.restart = function (e, t) {
                return this.play().totalTime(
                  e ? -this._delay : 0,
                  _isNotFalse(t)
                );
              }),
              (t.play = function (e, t) {
                return (
                  null != e && this.seek(e, t), this.reversed(!1).paused(!1)
                );
              }),
              (t.reverse = function (e, t) {
                return (
                  null != e && this.seek(e || this.totalDuration(), t),
                  this.reversed(!0).paused(!1)
                );
              }),
              (t.pause = function (e, t) {
                return null != e && this.seek(e, t), this.paused(!0);
              }),
              (t.resume = function () {
                return this.paused(!1);
              }),
              (t.reversed = function (e) {
                return arguments.length
                  ? (!!e !== this.reversed() &&
                      this.timeScale(-this._rts || (e ? -_tinyNum : 0)),
                    this)
                  : this._rts < 0;
              }),
              (t.invalidate = function () {
                return (
                  (this._initted = this._act = 0),
                  (this._zTime = -_tinyNum),
                  this
                );
              }),
              (t.isActive = function () {
                var e,
                  t = this.parent || this._dp,
                  r = this._start;
                return !(
                  t &&
                  !(
                    this._ts &&
                    this._initted &&
                    t.isActive() &&
                    (e = t.rawTime(!0)) >= r &&
                    e < this.endTime(!0) - _tinyNum
                  )
                );
              }),
              (t.eventCallback = function (e, t, r) {
                var n = this.vars;
                return arguments.length > 1
                  ? (t
                      ? ((n[e] = t),
                        r && (n[e + "Params"] = r),
                        "onUpdate" === e && (this._onUpdate = t))
                      : delete n[e],
                    this)
                  : n[e];
              }),
              (t.then = function (e) {
                var t = this;
                return new Promise(function (r) {
                  var n = _isFunction$1(e) ? e : _passThrough,
                    i = function () {
                      var e = t.then;
                      (t.then = null),
                        _isFunction$1(n) &&
                          (n = n(t)) &&
                          (n.then || n === t) &&
                          (t.then = e),
                        r(n),
                        (t.then = e);
                    };
                  (t._initted && 1 === t.totalProgress() && t._ts >= 0) ||
                  (!t._tTime && t._ts < 0)
                    ? i()
                    : (t._prom = i);
                });
              }),
              (t.kill = function () {
                _interrupt(this);
              }),
              e
            );
          })();
        _setDefaults(Animation.prototype, {
          _time: 0,
          _start: 0,
          _end: 0,
          _tTime: 0,
          _tDur: 0,
          _dirty: 0,
          _repeat: 0,
          _yoyo: !1,
          parent: null,
          _initted: !1,
          _rDelay: 0,
          _ts: 1,
          _dp: 0,
          ratio: 0,
          _zTime: -_tinyNum,
          _prom: 0,
          _ps: !1,
          _rts: 1
        });
        var Timeline = (function (e) {
          function t(t, r) {
            var n;
            return (
              void 0 === t && (t = {}),
              ((n = e.call(this, t) || this).labels = {}),
              (n.smoothChildTiming = !!t.smoothChildTiming),
              (n.autoRemoveChildren = !!t.autoRemoveChildren),
              (n._sort = _isNotFalse(t.sortChildren)),
              _globalTimeline &&
                _addToTimeline(
                  t.parent || _globalTimeline,
                  _assertThisInitialized(n),
                  r
                ),
              t.reversed && n.reverse(),
              t.paused && n.paused(!0),
              t.scrollTrigger &&
                _scrollTrigger(_assertThisInitialized(n), t.scrollTrigger),
              n
            );
          }
          _inheritsLoose(t, e);
          var r = t.prototype;
          return (
            (r.to = function (e, t, r) {
              return _createTweenType(0, arguments, this), this;
            }),
            (r.from = function (e, t, r) {
              return _createTweenType(1, arguments, this), this;
            }),
            (r.fromTo = function (e, t, r, n) {
              return _createTweenType(2, arguments, this), this;
            }),
            (r.set = function (e, t, r) {
              return (
                (t.duration = 0),
                (t.parent = this),
                _inheritDefaults(t).repeatDelay || (t.repeat = 0),
                (t.immediateRender = !!t.immediateRender),
                new Tween(e, t, _parsePosition(this, r), 1),
                this
              );
            }),
            (r.call = function (e, t, r) {
              return _addToTimeline(this, Tween.delayedCall(0, e, t), r);
            }),
            (r.staggerTo = function (e, t, r, n, i, a, s) {
              return (
                (r.duration = t),
                (r.stagger = r.stagger || n),
                (r.onComplete = a),
                (r.onCompleteParams = s),
                (r.parent = this),
                new Tween(e, r, _parsePosition(this, i)),
                this
              );
            }),
            (r.staggerFrom = function (e, t, r, n, i, a, s) {
              return (
                (r.runBackwards = 1),
                (_inheritDefaults(r).immediateRender = _isNotFalse(
                  r.immediateRender
                )),
                this.staggerTo(e, t, r, n, i, a, s)
              );
            }),
            (r.staggerFromTo = function (e, t, r, n, i, a, s, o) {
              return (
                (n.startAt = r),
                (_inheritDefaults(n).immediateRender = _isNotFalse(
                  n.immediateRender
                )),
                this.staggerTo(e, t, n, i, a, s, o)
              );
            }),
            (r.render = function (e, t, r) {
              var n,
                i,
                a,
                s,
                o,
                u,
                l,
                c,
                h,
                f,
                d,
                p,
                _ = this._time,
                v = this._dirty ? this.totalDuration() : this._tDur,
                m = this._dur,
                g = e <= 0 ? 0 : _roundPrecise$1(e),
                y = this._zTime < 0 != e < 0 && (this._initted || !m);
              if (
                (this !== _globalTimeline && g > v && e >= 0 && (g = v),
                g !== this._tTime || r || y)
              ) {
                if (
                  (_ !== this._time &&
                    m &&
                    ((g += this._time - _), (e += this._time - _)),
                  (n = g),
                  (h = this._start),
                  (u = !(c = this._ts)),
                  y && (m || (_ = this._zTime), (e || !t) && (this._zTime = e)),
                  this._repeat)
                ) {
                  if (
                    ((d = this._yoyo),
                    (o = m + this._rDelay),
                    this._repeat < -1 && e < 0)
                  )
                    return this.totalTime(100 * o + e, t, r);
                  if (
                    ((n = _roundPrecise$1(g % o)),
                    g === v
                      ? ((s = this._repeat), (n = m))
                      : ((s = ~~(g / o)) && s === g / o && ((n = m), s--),
                        n > m && (n = m)),
                    (f = _animationCycle(this._tTime, o)),
                    !_ &&
                      this._tTime &&
                      f !== s &&
                      this._tTime - f * o - this._dur <= 0 &&
                      (f = s),
                    d && 1 & s && ((n = m - n), (p = 1)),
                    s !== f && !this._lock)
                  ) {
                    var T = d && 1 & f,
                      x = T === (d && 1 & s);
                    if (
                      (s < f && (T = !T),
                      (_ = T ? 0 : m),
                      (this._lock = 1),
                      (this.render(
                        _ || (p ? 0 : _roundPrecise$1(s * o)),
                        t,
                        !m
                      )._lock = 0),
                      (this._tTime = g),
                      !t && this.parent && _callback(this, "onRepeat"),
                      this.vars.repeatRefresh &&
                        !p &&
                        (this.invalidate()._lock = 1),
                      (_ && _ !== this._time) ||
                        u !== !this._ts ||
                        (this.vars.onRepeat && !this.parent && !this._act))
                    )
                      return this;
                    if (
                      ((m = this._dur),
                      (v = this._tDur),
                      x &&
                        ((this._lock = 2),
                        (_ = T ? m : -1e-4),
                        this.render(_, !0),
                        this.vars.repeatRefresh && !p && this.invalidate()),
                      (this._lock = 0),
                      !this._ts && !u)
                    )
                      return this;
                    _propagateYoyoEase(this, p);
                  }
                }
                if (
                  (this._hasPause &&
                    !this._forcing &&
                    this._lock < 2 &&
                    (l = _findNextPauseTween(
                      this,
                      _roundPrecise$1(_),
                      _roundPrecise$1(n)
                    )) &&
                    (g -= n - (n = l._start)),
                  (this._tTime = g),
                  (this._time = n),
                  (this._act = !c),
                  this._initted ||
                    ((this._onUpdate = this.vars.onUpdate),
                    (this._initted = 1),
                    (this._zTime = e),
                    (_ = 0)),
                  !_ &&
                    n &&
                    !t &&
                    !s &&
                    (_callback(this, "onStart"), this._tTime !== g))
                )
                  return this;
                if (n >= _ && e >= 0)
                  for (i = this._first; i; ) {
                    if (
                      ((a = i._next),
                      (i._act || n >= i._start) && i._ts && l !== i)
                    ) {
                      if (i.parent !== this) return this.render(e, t, r);
                      if (
                        (i.render(
                          i._ts > 0
                            ? (n - i._start) * i._ts
                            : (i._dirty ? i.totalDuration() : i._tDur) +
                                (n - i._start) * i._ts,
                          t,
                          r
                        ),
                        n !== this._time || (!this._ts && !u))
                      ) {
                        (l = 0), a && (g += this._zTime = -_tinyNum);
                        break;
                      }
                    }
                    i = a;
                  }
                else {
                  i = this._last;
                  for (var E = e < 0 ? e : n; i; ) {
                    if (
                      ((a = i._prev),
                      (i._act || E <= i._end) && i._ts && l !== i)
                    ) {
                      if (i.parent !== this) return this.render(e, t, r);
                      if (
                        (i.render(
                          i._ts > 0
                            ? (E - i._start) * i._ts
                            : (i._dirty ? i.totalDuration() : i._tDur) +
                                (E - i._start) * i._ts,
                          t,
                          r || (_reverting$2 && (i._initted || i._startAt))
                        ),
                        n !== this._time || (!this._ts && !u))
                      ) {
                        (l = 0),
                          a && (g += this._zTime = E ? -_tinyNum : _tinyNum);
                        break;
                      }
                    }
                    i = a;
                  }
                }
                if (
                  l &&
                  !t &&
                  (this.pause(),
                  (l.render(n >= _ ? 0 : -_tinyNum)._zTime = n >= _ ? 1 : -1),
                  this._ts)
                )
                  return (this._start = h), _setEnd(this), this.render(e, t, r);
                this._onUpdate && !t && _callback(this, "onUpdate", !0),
                  ((g === v && this._tTime >= this.totalDuration()) ||
                    (!g && _)) &&
                    ((h !== this._start &&
                      Math.abs(c) === Math.abs(this._ts)) ||
                      this._lock ||
                      ((e || !m) &&
                        ((g === v && this._ts > 0) || (!g && this._ts < 0)) &&
                        _removeFromParent(this, 1),
                      t ||
                        (e < 0 && !_) ||
                        (!g && !_ && v) ||
                        (_callback(
                          this,
                          g === v && e >= 0
                            ? "onComplete"
                            : "onReverseComplete",
                          !0
                        ),
                        this._prom &&
                          !(g < v && this.timeScale() > 0) &&
                          this._prom())));
              }
              return this;
            }),
            (r.add = function (e, t) {
              var r = this;
              if (
                (_isNumber$1(t) || (t = _parsePosition(this, t, e)),
                !(e instanceof Animation))
              ) {
                if (_isArray(e))
                  return (
                    e.forEach(function (e) {
                      return r.add(e, t);
                    }),
                    this
                  );
                if (_isString$2(e)) return this.addLabel(e, t);
                if (!_isFunction$1(e)) return this;
                e = Tween.delayedCall(0, e);
              }
              return this !== e ? _addToTimeline(this, e, t) : this;
            }),
            (r.getChildren = function (e, t, r, n) {
              void 0 === e && (e = !0),
                void 0 === t && (t = !0),
                void 0 === r && (r = !0),
                void 0 === n && (n = -_bigNum$1);
              for (var i = [], a = this._first; a; )
                a._start >= n &&
                  (a instanceof Tween
                    ? t && i.push(a)
                    : (r && i.push(a),
                      e && i.push.apply(i, a.getChildren(!0, t, r)))),
                  (a = a._next);
              return i;
            }),
            (r.getById = function (e) {
              for (var t = this.getChildren(1, 1, 1), r = t.length; r--; )
                if (t[r].vars.id === e) return t[r];
            }),
            (r.remove = function (e) {
              return _isString$2(e)
                ? this.removeLabel(e)
                : _isFunction$1(e)
                ? this.killTweensOf(e)
                : (_removeLinkedListItem(this, e),
                  e === this._recent && (this._recent = this._last),
                  _uncache(this));
            }),
            (r.totalTime = function (t, r) {
              return arguments.length
                ? ((this._forcing = 1),
                  !this._dp &&
                    this._ts &&
                    (this._start = _roundPrecise$1(
                      _ticker.time -
                        (this._ts > 0
                          ? t / this._ts
                          : (this.totalDuration() - t) / -this._ts)
                    )),
                  e.prototype.totalTime.call(this, t, r),
                  (this._forcing = 0),
                  this)
                : this._tTime;
            }),
            (r.addLabel = function (e, t) {
              return (this.labels[e] = _parsePosition(this, t)), this;
            }),
            (r.removeLabel = function (e) {
              return delete this.labels[e], this;
            }),
            (r.addPause = function (e, t, r) {
              var n = Tween.delayedCall(0, t || _emptyFunc$1, r);
              return (
                (n.data = "isPause"),
                (this._hasPause = 1),
                _addToTimeline(this, n, _parsePosition(this, e))
              );
            }),
            (r.removePause = function (e) {
              var t = this._first;
              for (e = _parsePosition(this, e); t; )
                t._start === e && "isPause" === t.data && _removeFromParent(t),
                  (t = t._next);
            }),
            (r.killTweensOf = function (e, t, r) {
              for (var n = this.getTweensOf(e, r), i = n.length; i--; )
                _overwritingTween !== n[i] && n[i].kill(e, t);
              return this;
            }),
            (r.getTweensOf = function (e, t) {
              for (
                var r,
                  n = [],
                  i = toArray(e),
                  a = this._first,
                  s = _isNumber$1(t);
                a;

              )
                a instanceof Tween
                  ? _arrayContainsAny(a._targets, i) &&
                    (s
                      ? (!_overwritingTween || (a._initted && a._ts)) &&
                        a.globalTime(0) <= t &&
                        a.globalTime(a.totalDuration()) > t
                      : !t || a.isActive()) &&
                    n.push(a)
                  : (r = a.getTweensOf(i, t)).length && n.push.apply(n, r),
                  (a = a._next);
              return n;
            }),
            (r.tweenTo = function (e, t) {
              t = t || {};
              var r,
                n = this,
                i = _parsePosition(n, e),
                a = t,
                s = a.startAt,
                o = a.onStart,
                u = a.onStartParams,
                l = a.immediateRender,
                c = Tween.to(
                  n,
                  _setDefaults(
                    {
                      ease: t.ease || "none",
                      lazy: !1,
                      immediateRender: !1,
                      time: i,
                      overwrite: "auto",
                      duration:
                        t.duration ||
                        Math.abs(
                          (i - (s && "time" in s ? s.time : n._time)) /
                            n.timeScale()
                        ) ||
                        _tinyNum,
                      onStart: function () {
                        if ((n.pause(), !r)) {
                          var e =
                            t.duration ||
                            Math.abs(
                              (i - (s && "time" in s ? s.time : n._time)) /
                                n.timeScale()
                            );
                          c._dur !== e &&
                            _setDuration(c, e, 0, 1).render(c._time, !0, !0),
                            (r = 1);
                        }
                        o && o.apply(c, u || []);
                      }
                    },
                    t
                  )
                );
              return l ? c.render(0) : c;
            }),
            (r.tweenFromTo = function (e, t, r) {
              return this.tweenTo(
                t,
                _setDefaults({ startAt: { time: _parsePosition(this, e) } }, r)
              );
            }),
            (r.recent = function () {
              return this._recent;
            }),
            (r.nextLabel = function (e) {
              return (
                void 0 === e && (e = this._time),
                _getLabelInDirection(this, _parsePosition(this, e))
              );
            }),
            (r.previousLabel = function (e) {
              return (
                void 0 === e && (e = this._time),
                _getLabelInDirection(this, _parsePosition(this, e), 1)
              );
            }),
            (r.currentLabel = function (e) {
              return arguments.length
                ? this.seek(e, !0)
                : this.previousLabel(this._time + _tinyNum);
            }),
            (r.shiftChildren = function (e, t, r) {
              void 0 === r && (r = 0);
              for (var n, i = this._first, a = this.labels; i; )
                i._start >= r && ((i._start += e), (i._end += e)),
                  (i = i._next);
              if (t) for (n in a) a[n] >= r && (a[n] += e);
              return _uncache(this);
            }),
            (r.invalidate = function (t) {
              var r = this._first;
              for (this._lock = 0; r; ) r.invalidate(t), (r = r._next);
              return e.prototype.invalidate.call(this, t);
            }),
            (r.clear = function (e) {
              void 0 === e && (e = !0);
              for (var t, r = this._first; r; )
                (t = r._next), this.remove(r), (r = t);
              return (
                this._dp && (this._time = this._tTime = this._pTime = 0),
                e && (this.labels = {}),
                _uncache(this)
              );
            }),
            (r.totalDuration = function (e) {
              var t,
                r,
                n,
                i = 0,
                a = this,
                s = a._last,
                o = _bigNum$1;
              if (arguments.length)
                return a.timeScale(
                  (a._repeat < 0 ? a.duration() : a.totalDuration()) /
                    (a.reversed() ? -e : e)
                );
              if (a._dirty) {
                for (n = a.parent; s; )
                  (t = s._prev),
                    s._dirty && s.totalDuration(),
                    (r = s._start) > o && a._sort && s._ts && !a._lock
                      ? ((a._lock = 1),
                        (_addToTimeline(a, s, r - s._delay, 1)._lock = 0))
                      : (o = r),
                    r < 0 &&
                      s._ts &&
                      ((i -= r),
                      ((!n && !a._dp) || (n && n.smoothChildTiming)) &&
                        ((a._start += r / a._ts),
                        (a._time -= r),
                        (a._tTime -= r)),
                      a.shiftChildren(-r, !1, -Infinity),
                      (o = 0)),
                    s._end > i && s._ts && (i = s._end),
                    (s = t);
                _setDuration(
                  a,
                  a === _globalTimeline && a._time > i ? a._time : i,
                  1,
                  1
                ),
                  (a._dirty = 0);
              }
              return a._tDur;
            }),
            (t.updateRoot = function (e) {
              if (
                (_globalTimeline._ts &&
                  (_lazySafeRender(
                    _globalTimeline,
                    _parentToChildTotalTime(e, _globalTimeline)
                  ),
                  (_lastRenderedFrame = _ticker.frame)),
                _ticker.frame >= _nextGCFrame)
              ) {
                _nextGCFrame += _config.autoSleep || 120;
                var t = _globalTimeline._first;
                if (
                  (!t || !t._ts) &&
                  _config.autoSleep &&
                  _ticker._listeners.length < 2
                ) {
                  for (; t && !t._ts; ) t = t._next;
                  t || _ticker.sleep();
                }
              }
            }),
            t
          );
        })(Animation);
        _setDefaults(Timeline.prototype, {
          _lock: 0,
          _hasPause: 0,
          _forcing: 0
        });
        var _addComplexStringPropTween = function (e, t, r, n, i, a, s) {
            var o,
              u,
              l,
              c,
              h,
              f,
              d,
              p,
              _ = new PropTween$2(
                this._pt,
                e,
                t,
                0,
                1,
                _renderComplexString,
                null,
                i
              ),
              v = 0,
              m = 0;
            for (
              _.b = r,
                _.e = n,
                r += "",
                (d = ~(n += "").indexOf("random(")) && (n = _replaceRandom(n)),
                a && (a((p = [r, n]), e, t), (r = p[0]), (n = p[1])),
                u = r.match(_complexStringNumExp) || [];
              (o = _complexStringNumExp.exec(n));

            )
              (c = o[0]),
                (h = n.substring(v, o.index)),
                l ? (l = (l + 1) % 5) : "rgba(" === h.substr(-5) && (l = 1),
                c !== u[m++] &&
                  ((f = parseFloat(u[m - 1]) || 0),
                  (_._pt = {
                    _next: _._pt,
                    p: h || 1 === m ? h : ",",
                    s: f,
                    c:
                      "=" === c.charAt(1)
                        ? _parseRelative(f, c) - f
                        : parseFloat(c) - f,
                    m: l && l < 4 ? Math.round : 0
                  }),
                  (v = _complexStringNumExp.lastIndex));
            return (
              (_.c = v < n.length ? n.substring(v, n.length) : ""),
              (_.fp = s),
              (_relExp.test(n) || d) && (_.e = 0),
              (this._pt = _),
              _
            );
          },
          _addPropTween = function (e, t, r, n, i, a, s, o, u, l) {
            _isFunction$1(n) && (n = n(i || 0, e, a));
            var c,
              h = e[t],
              f =
                "get" !== r
                  ? r
                  : _isFunction$1(h)
                  ? u
                    ? e[
                        t.indexOf("set") ||
                        !_isFunction$1(e["get" + t.substr(3)])
                          ? t
                          : "get" + t.substr(3)
                      ](u)
                    : e[t]()
                  : h,
              d = _isFunction$1(h)
                ? u
                  ? _setterFuncWithParam
                  : _setterFunc
                : _setterPlain;
            if (
              (_isString$2(n) &&
                (~n.indexOf("random(") && (n = _replaceRandom(n)),
                "=" === n.charAt(1) &&
                  ((c = _parseRelative(f, n) + (getUnit(f) || 0)) || 0 === c) &&
                  (n = c)),
              !l || f !== n || _forceAllPropTweens)
            )
              return isNaN(f * n) || "" === n
                ? (!h && !(t in e) && _missingPlugin(t, n),
                  _addComplexStringPropTween.call(
                    this,
                    e,
                    t,
                    f,
                    n,
                    d,
                    o || _config.stringFilter,
                    u
                  ))
                : ((c = new PropTween$2(
                    this._pt,
                    e,
                    t,
                    +f || 0,
                    n - (f || 0),
                    "boolean" == typeof h ? _renderBoolean : _renderPlain,
                    0,
                    d
                  )),
                  u && (c.fp = u),
                  s && c.modifier(s, this, e),
                  (this._pt = c));
          },
          _processVars = function (e, t, r, n, i) {
            if (
              (_isFunction$1(e) && (e = _parseFuncOrString(e, i, t, r, n)),
              !_isObject(e) ||
                (e.style && e.nodeType) ||
                _isArray(e) ||
                _isTypedArray(e))
            )
              return _isString$2(e) ? _parseFuncOrString(e, i, t, r, n) : e;
            var a,
              s = {};
            for (a in e) s[a] = _parseFuncOrString(e[a], i, t, r, n);
            return s;
          },
          _checkPlugin = function (e, t, r, n, i, a) {
            var s, o, u, l;
            if (
              _plugins[e] &&
              !1 !==
                (s = new _plugins[e]()).init(
                  i,
                  s.rawVars ? t[e] : _processVars(t[e], n, i, a, r),
                  r,
                  n,
                  a
                ) &&
              ((r._pt = o = new PropTween$2(
                r._pt,
                i,
                e,
                0,
                1,
                s.render,
                s,
                0,
                s.priority
              )),
              r !== _quickTween)
            )
              for (
                u = r._ptLookup[r._targets.indexOf(i)], l = s._props.length;
                l--;

              )
                u[s._props[l]] = o;
            return s;
          },
          _overwritingTween,
          _forceAllPropTweens,
          _initTween = function e(t, r, n) {
            var i,
              a,
              s,
              o,
              u,
              l,
              c,
              h,
              f,
              d,
              p,
              _,
              v,
              m = t.vars,
              g = m.ease,
              y = m.startAt,
              T = m.immediateRender,
              x = m.lazy,
              E = m.onUpdate,
              b = m.onUpdateParams,
              S = m.callbackScope,
              A = m.runBackwards,
              C = m.yoyoEase,
              P = m.keyframes,
              k = m.autoRevert,
              w = t._dur,
              R = t._startAt,
              M = t._targets,
              I = t.parent,
              O = I && "nested" === I.data ? I.vars.targets : M,
              D = "auto" === t._overwrite && !_suppressOverwrites,
              F = t.timeline;
            if (
              (F && (!P || !g) && (g = "none"),
              (t._ease = _parseEase(g, _defaults.ease)),
              (t._yEase = C
                ? _invertEase(_parseEase(!0 === C ? g : C, _defaults.ease))
                : 0),
              C &&
                t._yoyo &&
                !t._repeat &&
                ((C = t._yEase), (t._yEase = t._ease), (t._ease = C)),
              (t._from = !F && !!m.runBackwards),
              !F || (P && !m.stagger))
            ) {
              if (
                ((_ = (h = M[0] ? _getCache(M[0]).harness : 0) && m[h.prop]),
                (i = _copyExcluding(m, _reservedProps)),
                R &&
                  (R._zTime < 0 && R.progress(1),
                  r < 0 && A && T && !k
                    ? R.render(-1, !0)
                    : R.revert(
                        A && w ? _revertConfigNoKill : _startAtRevertConfig
                      ),
                  (R._lazy = 0)),
                y)
              ) {
                if (
                  (_removeFromParent(
                    (t._startAt = Tween.set(
                      M,
                      _setDefaults(
                        {
                          data: "isStart",
                          overwrite: !1,
                          parent: I,
                          immediateRender: !0,
                          lazy: !R && _isNotFalse(x),
                          startAt: null,
                          delay: 0,
                          onUpdate: E,
                          onUpdateParams: b,
                          callbackScope: S,
                          stagger: 0
                        },
                        y
                      )
                    ))
                  ),
                  (t._startAt._dp = 0),
                  (t._startAt._sat = t),
                  r < 0 &&
                    (_reverting$2 || (!T && !k)) &&
                    t._startAt.revert(_revertConfigNoKill),
                  T && w && r <= 0 && n <= 0)
                )
                  return void (r && (t._zTime = r));
              } else if (A && w && !R)
                if (
                  (r && (T = !1),
                  (s = _setDefaults(
                    {
                      overwrite: !1,
                      data: "isFromStart",
                      lazy: T && !R && _isNotFalse(x),
                      immediateRender: T,
                      stagger: 0,
                      parent: I
                    },
                    i
                  )),
                  _ && (s[h.prop] = _),
                  _removeFromParent((t._startAt = Tween.set(M, s))),
                  (t._startAt._dp = 0),
                  (t._startAt._sat = t),
                  r < 0 &&
                    (_reverting$2
                      ? t._startAt.revert(_revertConfigNoKill)
                      : t._startAt.render(-1, !0)),
                  (t._zTime = r),
                  T)
                ) {
                  if (!r) return;
                } else e(t._startAt, _tinyNum, _tinyNum);
              for (
                t._pt = t._ptCache = 0,
                  x = (w && _isNotFalse(x)) || (x && !w),
                  a = 0;
                a < M.length;
                a++
              ) {
                if (
                  ((c = (u = M[a])._gsap || _harness(M)[a]._gsap),
                  (t._ptLookup[a] = d = {}),
                  _lazyLookup[c.id] && _lazyTweens.length && _lazyRender(),
                  (p = O === M ? a : O.indexOf(u)),
                  h &&
                    !1 !== (f = new h()).init(u, _ || i, t, p, O) &&
                    ((t._pt = o = new PropTween$2(
                      t._pt,
                      u,
                      f.name,
                      0,
                      1,
                      f.render,
                      f,
                      0,
                      f.priority
                    )),
                    f._props.forEach(function (e) {
                      d[e] = o;
                    }),
                    f.priority && (l = 1)),
                  !h || _)
                )
                  for (s in i)
                    _plugins[s] && (f = _checkPlugin(s, i, t, p, u, O))
                      ? f.priority && (l = 1)
                      : (d[s] = o = _addPropTween.call(
                          t,
                          u,
                          s,
                          "get",
                          i[s],
                          p,
                          O,
                          0,
                          m.stringFilter
                        ));
                t._op && t._op[a] && t.kill(u, t._op[a]),
                  D &&
                    t._pt &&
                    ((_overwritingTween = t),
                    _globalTimeline.killTweensOf(u, d, t.globalTime(r)),
                    (v = !t.parent),
                    (_overwritingTween = 0)),
                  t._pt && x && (_lazyLookup[c.id] = 1);
              }
              l && _sortPropTweensByPriority(t), t._onInit && t._onInit(t);
            }
            (t._onUpdate = E),
              (t._initted = (!t._op || t._pt) && !v),
              P && r <= 0 && F.render(_bigNum$1, !0, !0);
          },
          _updatePropTweens = function (e, t, r, n, i, a, s) {
            var o,
              u,
              l,
              c,
              h = ((e._pt && e._ptCache) || (e._ptCache = {}))[t];
            if (!h)
              for (
                h = e._ptCache[t] = [], l = e._ptLookup, c = e._targets.length;
                c--;

              ) {
                if ((o = l[c][t]) && o.d && o.d._pt)
                  for (o = o.d._pt; o && o.p !== t && o.fp !== t; ) o = o._next;
                if (!o)
                  return (
                    (_forceAllPropTweens = 1),
                    (e.vars[t] = "+=0"),
                    _initTween(e, s),
                    (_forceAllPropTweens = 0),
                    1
                  );
                h.push(o);
              }
            for (c = h.length; c--; )
              ((o = (u = h[c])._pt || u).s =
                (!n && 0 !== n) || i ? o.s + (n || 0) + a * o.c : n),
                (o.c = r - o.s),
                u.e && (u.e = _round$1(r) + getUnit(u.e)),
                u.b && (u.b = o.s + getUnit(u.b));
          },
          _addAliasesToVars = function (e, t) {
            var r,
              n,
              i,
              a,
              s = e[0] ? _getCache(e[0]).harness : 0,
              o = s && s.aliases;
            if (!o) return t;
            for (n in ((r = _merge({}, t)), o))
              if (n in r)
                for (i = (a = o[n].split(",")).length; i--; ) r[a[i]] = r[n];
            return r;
          },
          _parseKeyframe = function (e, t, r, n) {
            var i,
              a,
              s = t.ease || n || "power1.inOut";
            if (_isArray(t))
              (a = r[e] || (r[e] = [])),
                t.forEach(function (e, r) {
                  return a.push({ t: (r / (t.length - 1)) * 100, v: e, e: s });
                });
            else
              for (i in t)
                (a = r[i] || (r[i] = [])),
                  "ease" === i || a.push({ t: parseFloat(e), v: t[i], e: s });
          },
          _parseFuncOrString = function (e, t, r, n, i) {
            return _isFunction$1(e)
              ? e.call(t, r, n, i)
              : _isString$2(e) && ~e.indexOf("random(")
              ? _replaceRandom(e)
              : e;
          },
          _staggerTweenProps =
            _callbackNames +
            "repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",
          _staggerPropsToSkip = {};
        _forEachName(
          _staggerTweenProps +
            ",id,stagger,delay,duration,paused,scrollTrigger",
          function (e) {
            return (_staggerPropsToSkip[e] = 1);
          }
        );
        var Tween = (function (e) {
          function t(t, r, n, i) {
            var a;
            "number" == typeof r && ((n.duration = r), (r = n), (n = null));
            var s,
              o,
              u,
              l,
              c,
              h,
              f,
              d,
              p = (a = e.call(this, i ? r : _inheritDefaults(r)) || this).vars,
              _ = p.duration,
              v = p.delay,
              m = p.immediateRender,
              g = p.stagger,
              y = p.overwrite,
              T = p.keyframes,
              x = p.defaults,
              E = p.scrollTrigger,
              b = p.yoyoEase,
              S = r.parent || _globalTimeline,
              A = (
                _isArray(t) || _isTypedArray(t)
                  ? _isNumber$1(t[0])
                  : "length" in r
              )
                ? [t]
                : toArray(t);
            if (
              ((a._targets = A.length
                ? _harness(A)
                : _warn$1(
                    "GSAP target " + t + " not found. https://greensock.com",
                    !_config.nullTargetWarn
                  ) || []),
              (a._ptLookup = []),
              (a._overwrite = y),
              T || g || _isFuncOrString(_) || _isFuncOrString(v))
            ) {
              if (
                ((r = a.vars),
                (s = a.timeline = new Timeline({
                  data: "nested",
                  defaults: x || {},
                  targets: S && "nested" === S.data ? S.vars.targets : A
                })).kill(),
                (s.parent = s._dp = _assertThisInitialized(a)),
                (s._start = 0),
                g || _isFuncOrString(_) || _isFuncOrString(v))
              ) {
                if (((l = A.length), (f = g && distribute(g)), _isObject(g)))
                  for (c in g)
                    ~_staggerTweenProps.indexOf(c) &&
                      (d || (d = {}), (d[c] = g[c]));
                for (o = 0; o < l; o++)
                  ((u = _copyExcluding(r, _staggerPropsToSkip)).stagger = 0),
                    b && (u.yoyoEase = b),
                    d && _merge(u, d),
                    (h = A[o]),
                    (u.duration = +_parseFuncOrString(
                      _,
                      _assertThisInitialized(a),
                      o,
                      h,
                      A
                    )),
                    (u.delay =
                      (+_parseFuncOrString(
                        v,
                        _assertThisInitialized(a),
                        o,
                        h,
                        A
                      ) || 0) - a._delay),
                    !g &&
                      1 === l &&
                      u.delay &&
                      ((a._delay = v = u.delay),
                      (a._start += v),
                      (u.delay = 0)),
                    s.to(h, u, f ? f(o, h, A) : 0),
                    (s._ease = _easeMap.none);
                s.duration() ? (_ = v = 0) : (a.timeline = 0);
              } else if (T) {
                _inheritDefaults(
                  _setDefaults(s.vars.defaults, { ease: "none" })
                ),
                  (s._ease = _parseEase(T.ease || r.ease || "none"));
                var C,
                  P,
                  k,
                  w = 0;
                if (_isArray(T))
                  T.forEach(function (e) {
                    return s.to(A, e, ">");
                  }),
                    s.duration();
                else {
                  for (c in ((u = {}), T))
                    "ease" === c ||
                      "easeEach" === c ||
                      _parseKeyframe(c, T[c], u, T.easeEach);
                  for (c in u)
                    for (
                      C = u[c].sort(function (e, t) {
                        return e.t - t.t;
                      }),
                        w = 0,
                        o = 0;
                      o < C.length;
                      o++
                    )
                      ((k = {
                        ease: (P = C[o]).e,
                        duration: ((P.t - (o ? C[o - 1].t : 0)) / 100) * _
                      })[c] = P.v),
                        s.to(A, k, w),
                        (w += k.duration);
                  s.duration() < _ && s.to({}, { duration: _ - s.duration() });
                }
              }
              _ || a.duration((_ = s.duration()));
            } else a.timeline = 0;
            return (
              !0 !== y ||
                _suppressOverwrites ||
                ((_overwritingTween = _assertThisInitialized(a)),
                _globalTimeline.killTweensOf(A),
                (_overwritingTween = 0)),
              _addToTimeline(S, _assertThisInitialized(a), n),
              r.reversed && a.reverse(),
              r.paused && a.paused(!0),
              (m ||
                (!_ &&
                  !T &&
                  a._start === _roundPrecise$1(S._time) &&
                  _isNotFalse(m) &&
                  _hasNoPausedAncestors(_assertThisInitialized(a)) &&
                  "nested" !== S.data)) &&
                ((a._tTime = -_tinyNum), a.render(Math.max(0, -v) || 0)),
              E && _scrollTrigger(_assertThisInitialized(a), E),
              a
            );
          }
          _inheritsLoose(t, e);
          var r = t.prototype;
          return (
            (r.render = function (e, t, r) {
              var n,
                i,
                a,
                s,
                o,
                u,
                l,
                c,
                h,
                f = this._time,
                d = this._tDur,
                p = this._dur,
                _ = e < 0,
                v = e > d - _tinyNum && !_ ? d : e < _tinyNum ? 0 : e;
              if (p) {
                if (
                  v !== this._tTime ||
                  !e ||
                  r ||
                  (!this._initted && this._tTime) ||
                  (this._startAt && this._zTime < 0 !== _)
                ) {
                  if (((n = v), (c = this.timeline), this._repeat)) {
                    if (((s = p + this._rDelay), this._repeat < -1 && _))
                      return this.totalTime(100 * s + e, t, r);
                    if (
                      ((n = _roundPrecise$1(v % s)),
                      v === d
                        ? ((a = this._repeat), (n = p))
                        : ((a = ~~(v / s)) && a === v / s && ((n = p), a--),
                          n > p && (n = p)),
                      (u = this._yoyo && 1 & a) &&
                        ((h = this._yEase), (n = p - n)),
                      (o = _animationCycle(this._tTime, s)),
                      n === f && !r && this._initted)
                    )
                      return (this._tTime = v), this;
                    a !== o &&
                      (c && this._yEase && _propagateYoyoEase(c, u),
                      !this.vars.repeatRefresh ||
                        u ||
                        this._lock ||
                        ((this._lock = r = 1),
                        (this.render(
                          _roundPrecise$1(s * a),
                          !0
                        ).invalidate()._lock = 0)));
                  }
                  if (!this._initted) {
                    if (_attemptInitTween(this, _ ? e : n, r, t, v))
                      return (this._tTime = 0), this;
                    if (f !== this._time) return this;
                    if (p !== this._dur) return this.render(e, t, r);
                  }
                  if (
                    ((this._tTime = v),
                    (this._time = n),
                    !this._act &&
                      this._ts &&
                      ((this._act = 1), (this._lazy = 0)),
                    (this.ratio = l = (h || this._ease)(n / p)),
                    this._from && (this.ratio = l = 1 - l),
                    n &&
                      !f &&
                      !t &&
                      !a &&
                      (_callback(this, "onStart"), this._tTime !== v))
                  )
                    return this;
                  for (i = this._pt; i; ) i.r(l, i.d), (i = i._next);
                  (c &&
                    c.render(
                      e < 0
                        ? e
                        : !n && u
                        ? -_tinyNum
                        : c._dur * c._ease(n / this._dur),
                      t,
                      r
                    )) ||
                    (this._startAt && (this._zTime = e)),
                    this._onUpdate &&
                      !t &&
                      (_ && _rewindStartAt(this, e, t, r),
                      _callback(this, "onUpdate")),
                    this._repeat &&
                      a !== o &&
                      this.vars.onRepeat &&
                      !t &&
                      this.parent &&
                      _callback(this, "onRepeat"),
                    (v !== this._tDur && v) ||
                      this._tTime !== v ||
                      (_ && !this._onUpdate && _rewindStartAt(this, e, !0, !0),
                      (e || !p) &&
                        ((v === this._tDur && this._ts > 0) ||
                          (!v && this._ts < 0)) &&
                        _removeFromParent(this, 1),
                      t ||
                        (_ && !f) ||
                        !(v || f || u) ||
                        (_callback(
                          this,
                          v === d ? "onComplete" : "onReverseComplete",
                          !0
                        ),
                        this._prom &&
                          !(v < d && this.timeScale() > 0) &&
                          this._prom()));
                }
              } else _renderZeroDurationTween(this, e, t, r);
              return this;
            }),
            (r.targets = function () {
              return this._targets;
            }),
            (r.invalidate = function (t) {
              return (
                (!t || !this.vars.runBackwards) && (this._startAt = 0),
                (this._pt = this._op = this._onUpdate = this._lazy = this.ratio = 0),
                (this._ptLookup = []),
                this.timeline && this.timeline.invalidate(t),
                e.prototype.invalidate.call(this, t)
              );
            }),
            (r.resetTo = function (e, t, r, n) {
              _tickerActive || _ticker.wake(), this._ts || this.play();
              var i,
                a = Math.min(
                  this._dur,
                  (this._dp._time - this._start) * this._ts
                );
              return (
                this._initted || _initTween(this, a),
                (i = this._ease(a / this._dur)),
                _updatePropTweens(this, e, t, r, n, i, a)
                  ? this.resetTo(e, t, r, n)
                  : (_alignPlayhead(this, 0),
                    this.parent ||
                      _addLinkedListItem(
                        this._dp,
                        this,
                        "_first",
                        "_last",
                        this._dp._sort ? "_start" : 0
                      ),
                    this.render(0))
              );
            }),
            (r.kill = function (e, t) {
              if ((void 0 === t && (t = "all"), !(e || (t && "all" !== t))))
                return (
                  (this._lazy = this._pt = 0),
                  this.parent ? _interrupt(this) : this
                );
              if (this.timeline) {
                var r = this.timeline.totalDuration();
                return (
                  this.timeline.killTweensOf(
                    e,
                    t,
                    _overwritingTween && !0 !== _overwritingTween.vars.overwrite
                  )._first || _interrupt(this),
                  this.parent &&
                    r !== this.timeline.totalDuration() &&
                    _setDuration(
                      this,
                      (this._dur * this.timeline._tDur) / r,
                      0,
                      1
                    ),
                  this
                );
              }
              var n,
                i,
                a,
                s,
                o,
                u,
                l,
                c = this._targets,
                h = e ? toArray(e) : c,
                f = this._ptLookup,
                d = this._pt;
              if ((!t || "all" === t) && _arraysMatch(c, h))
                return "all" === t && (this._pt = 0), _interrupt(this);
              for (
                n = this._op = this._op || [],
                  "all" !== t &&
                    (_isString$2(t) &&
                      ((o = {}),
                      _forEachName(t, function (e) {
                        return (o[e] = 1);
                      }),
                      (t = o)),
                    (t = _addAliasesToVars(c, t))),
                  l = c.length;
                l--;

              )
                if (~h.indexOf(c[l]))
                  for (o in ((i = f[l]),
                  "all" === t
                    ? ((n[l] = t), (s = i), (a = {}))
                    : ((a = n[l] = n[l] || {}), (s = t)),
                  s))
                    (u = i && i[o]) &&
                      (("kill" in u.d && !0 !== u.d.kill(o)) ||
                        _removeLinkedListItem(this, u, "_pt"),
                      delete i[o]),
                      "all" !== a && (a[o] = 1);
              return this._initted && !this._pt && d && _interrupt(this), this;
            }),
            (t.to = function (e, r) {
              return new t(e, r, arguments[2]);
            }),
            (t.from = function (e, t) {
              return _createTweenType(1, arguments);
            }),
            (t.delayedCall = function (e, r, n, i) {
              return new t(r, 0, {
                immediateRender: !1,
                lazy: !1,
                overwrite: !1,
                delay: e,
                onComplete: r,
                onReverseComplete: r,
                onCompleteParams: n,
                onReverseCompleteParams: n,
                callbackScope: i
              });
            }),
            (t.fromTo = function (e, t, r) {
              return _createTweenType(2, arguments);
            }),
            (t.set = function (e, r) {
              return (
                (r.duration = 0), r.repeatDelay || (r.repeat = 0), new t(e, r)
              );
            }),
            (t.killTweensOf = function (e, t, r) {
              return _globalTimeline.killTweensOf(e, t, r);
            }),
            t
          );
        })(Animation);
        _setDefaults(Tween.prototype, {
          _targets: [],
          _lazy: 0,
          _startAt: 0,
          _op: 0,
          _onInit: 0
        }),
          _forEachName("staggerTo,staggerFrom,staggerFromTo", function (e) {
            Tween[e] = function () {
              var t = new Timeline(),
                r = _slice.call(arguments, 0);
              return (
                r.splice("staggerFromTo" === e ? 5 : 4, 0, 0), t[e].apply(t, r)
              );
            };
          });
        var _setterPlain = function (e, t, r) {
            return (e[t] = r);
          },
          _setterFunc = function (e, t, r) {
            return e[t](r);
          },
          _setterFuncWithParam = function (e, t, r, n) {
            return e[t](n.fp, r);
          },
          _setterAttribute = function (e, t, r) {
            return e.setAttribute(t, r);
          },
          _getSetter$1 = function (e, t) {
            return _isFunction$1(e[t])
              ? _setterFunc
              : _isUndefined$1(e[t]) && e.setAttribute
              ? _setterAttribute
              : _setterPlain;
          },
          _renderPlain = function (e, t) {
            return t.set(t.t, t.p, Math.round(1e6 * (t.s + t.c * e)) / 1e6, t);
          },
          _renderBoolean = function (e, t) {
            return t.set(t.t, t.p, !!(t.s + t.c * e), t);
          },
          _renderComplexString = function (e, t) {
            var r = t._pt,
              n = "";
            if (!e && t.b) n = t.b;
            else if (1 === e && t.e) n = t.e;
            else {
              for (; r; )
                (n =
                  r.p +
                  (r.m
                    ? r.m(r.s + r.c * e)
                    : Math.round(1e4 * (r.s + r.c * e)) / 1e4) +
                  n),
                  (r = r._next);
              n += t.c;
            }
            t.set(t.t, t.p, n, t);
          },
          _renderPropTweens = function (e, t) {
            for (var r = t._pt; r; ) r.r(e, r.d), (r = r._next);
          },
          _addPluginModifier = function (e, t, r, n) {
            for (var i, a = this._pt; a; )
              (i = a._next), a.p === n && a.modifier(e, t, r), (a = i);
          },
          _killPropTweensOf = function (e) {
            for (var t, r, n = this._pt; n; )
              (r = n._next),
                (n.p === e && !n.op) || n.op === e
                  ? _removeLinkedListItem(this, n, "_pt")
                  : n.dep || (t = 1),
                (n = r);
            return !t;
          },
          _setterWithModifier = function (e, t, r, n) {
            n.mSet(e, t, n.m.call(n.tween, r, n.mt), n);
          },
          _sortPropTweensByPriority = function (e) {
            for (var t, r, n, i, a = e._pt; a; ) {
              for (t = a._next, r = n; r && r.pr > a.pr; ) r = r._next;
              (a._prev = r ? r._prev : i) ? (a._prev._next = a) : (n = a),
                (a._next = r) ? (r._prev = a) : (i = a),
                (a = t);
            }
            e._pt = n;
          },
          PropTween$2 = (function () {
            function e(e, t, r, n, i, a, s, o, u) {
              (this.t = t),
                (this.s = n),
                (this.c = i),
                (this.p = r),
                (this.r = a || _renderPlain),
                (this.d = s || this),
                (this.set = o || _setterPlain),
                (this.pr = u || 0),
                (this._next = e),
                e && (e._prev = this);
            }
            return (
              (e.prototype.modifier = function (e, t, r) {
                (this.mSet = this.mSet || this.set),
                  (this.set = _setterWithModifier),
                  (this.m = e),
                  (this.mt = r),
                  (this.tween = t);
              }),
              e
            );
          })();
        _forEachName(
          _callbackNames +
            "parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",
          function (e) {
            return (_reservedProps[e] = 1);
          }
        ),
          (_globals.TweenMax = _globals.TweenLite = Tween),
          (_globals.TimelineLite = _globals.TimelineMax = Timeline),
          (_globalTimeline = new Timeline({
            sortChildren: !1,
            defaults: _defaults,
            autoRemoveChildren: !0,
            id: "root",
            smoothChildTiming: !0
          })),
          (_config.stringFilter = _colorStringFilter);
        var _media = [],
          _listeners = {},
          _emptyArray = [],
          _lastMediaTime = 0,
          _dispatch = function (e) {
            return (_listeners[e] || _emptyArray).map(function (e) {
              return e();
            });
          },
          _onMediaChange = function () {
            var e = Date.now(),
              t = [];
            e - _lastMediaTime > 2 &&
              (_dispatch("matchMediaInit"),
              _media.forEach(function (e) {
                var r,
                  n,
                  i,
                  a,
                  s = e.queries,
                  o = e.conditions;
                for (n in s)
                  (r = _win$3.matchMedia(s[n]).matches) && (i = 1),
                    r !== o[n] && ((o[n] = r), (a = 1));
                a && (e.revert(), i && t.push(e));
              }),
              _dispatch("matchMediaRevert"),
              t.forEach(function (e) {
                return e.onMatch(e);
              }),
              (_lastMediaTime = e),
              _dispatch("matchMedia"));
          },
          Context = (function () {
            function e(e, t) {
              (this.selector = t && selector(t)),
                (this.data = []),
                (this._r = []),
                (this.isReverted = !1),
                e && this.add(e);
            }
            var t = e.prototype;
            return (
              (t.add = function (e, t, r) {
                _isFunction$1(e) && ((r = t), (t = e), (e = _isFunction$1));
                var n = this,
                  i = function () {
                    var e,
                      i = _context,
                      a = n.selector;
                    return (
                      i && i !== n && i.data.push(n),
                      r && (n.selector = selector(r)),
                      (_context = n),
                      (e = t.apply(n, arguments)),
                      _isFunction$1(e) && n._r.push(e),
                      (_context = i),
                      (n.selector = a),
                      (n.isReverted = !1),
                      e
                    );
                  };
                return (
                  (n.last = i), e === _isFunction$1 ? i(n) : e ? (n[e] = i) : i
                );
              }),
              (t.ignore = function (e) {
                var t = _context;
                (_context = null), e(this), (_context = t);
              }),
              (t.getTweens = function () {
                var t = [];
                return (
                  this.data.forEach(function (r) {
                    return r instanceof e
                      ? t.push.apply(t, r.getTweens())
                      : r instanceof Tween &&
                          !(r.parent && "nested" === r.parent.data) &&
                          t.push(r);
                  }),
                  t
                );
              }),
              (t.clear = function () {
                this._r.length = this.data.length = 0;
              }),
              (t.kill = function (e, t) {
                var r = this;
                if (e) {
                  var n = this.getTweens();
                  this.data.forEach(function (e) {
                    "isFlip" === e.data &&
                      (e.revert(),
                      e.getChildren(!0, !0, !1).forEach(function (e) {
                        return n.splice(n.indexOf(e), 1);
                      }));
                  }),
                    n
                      .map(function (e) {
                        return { g: e.globalTime(0), t: e };
                      })
                      .sort(function (e, t) {
                        return t.g - e.g || -1;
                      })
                      .forEach(function (t) {
                        return t.t.revert(e);
                      }),
                    this.data.forEach(function (t) {
                      return (
                        !(t instanceof Animation) && t.revert && t.revert(e)
                      );
                    }),
                    this._r.forEach(function (t) {
                      return t(e, r);
                    }),
                    (this.isReverted = !0);
                } else
                  this.data.forEach(function (e) {
                    return e.kill && e.kill();
                  });
                if ((this.clear(), t)) {
                  var i = _media.indexOf(this);
                  ~i && _media.splice(i, 1);
                }
              }),
              (t.revert = function (e) {
                this.kill(e || {});
              }),
              e
            );
          })(),
          MatchMedia = (function () {
            function e(e) {
              (this.contexts = []), (this.scope = e);
            }
            var t = e.prototype;
            return (
              (t.add = function (e, t, r) {
                _isObject(e) || (e = { matches: e });
                var n,
                  i,
                  a,
                  s = new Context(0, r || this.scope),
                  o = (s.conditions = {});
                for (i in (this.contexts.push(s),
                (t = s.add("onMatch", t)),
                (s.queries = e),
                e))
                  "all" === i
                    ? (a = 1)
                    : (n = _win$3.matchMedia(e[i])) &&
                      (_media.indexOf(s) < 0 && _media.push(s),
                      (o[i] = n.matches) && (a = 1),
                      n.addListener
                        ? n.addListener(_onMediaChange)
                        : n.addEventListener("change", _onMediaChange));
                return a && t(s), this;
              }),
              (t.revert = function (e) {
                this.kill(e || {});
              }),
              (t.kill = function (e) {
                this.contexts.forEach(function (t) {
                  return t.kill(e, !0);
                });
              }),
              e
            );
          })(),
          _gsap = {
            registerPlugin: function () {
              for (
                var e = arguments.length, t = new Array(e), r = 0;
                r < e;
                r++
              )
                t[r] = arguments[r];
              t.forEach(function (e) {
                return _createPlugin(e);
              });
            },
            timeline: function (e) {
              return new Timeline(e);
            },
            getTweensOf: function (e, t) {
              return _globalTimeline.getTweensOf(e, t);
            },
            getProperty: function (e, t, r, n) {
              _isString$2(e) && (e = toArray(e)[0]);
              var i = _getCache(e || {}).get,
                a = r ? _passThrough : _numericIfPossible;
              return (
                "native" === r && (r = ""),
                e
                  ? t
                    ? a(((_plugins[t] && _plugins[t].get) || i)(e, t, r, n))
                    : function (t, r, n) {
                        return a(
                          ((_plugins[t] && _plugins[t].get) || i)(e, t, r, n)
                        );
                      }
                  : e
              );
            },
            quickSetter: function (e, t, r) {
              if ((e = toArray(e)).length > 1) {
                var n = e.map(function (e) {
                    return gsap$2.quickSetter(e, t, r);
                  }),
                  i = n.length;
                return function (e) {
                  for (var t = i; t--; ) n[t](e);
                };
              }
              e = e[0] || {};
              var a = _plugins[t],
                s = _getCache(e),
                o = (s.harness && (s.harness.aliases || {})[t]) || t,
                u = a
                  ? function (t) {
                      var n = new a();
                      (_quickTween._pt = 0),
                        n.init(e, r ? t + r : t, _quickTween, 0, [e]),
                        n.render(1, n),
                        _quickTween._pt && _renderPropTweens(1, _quickTween);
                    }
                  : s.set(e, o);
              return a
                ? u
                : function (t) {
                    return u(e, o, r ? t + r : t, s, 1);
                  };
            },
            quickTo: function (e, t, r) {
              var n,
                i = gsap$2.to(
                  e,
                  _merge((((n = {})[t] = "+=0.1"), (n.paused = !0), n), r || {})
                ),
                a = function (e, r, n) {
                  return i.resetTo(t, e, r, n);
                };
              return (a.tween = i), a;
            },
            isTweening: function (e) {
              return _globalTimeline.getTweensOf(e, !0).length > 0;
            },
            defaults: function (e) {
              return (
                e && e.ease && (e.ease = _parseEase(e.ease, _defaults.ease)),
                _mergeDeep(_defaults, e || {})
              );
            },
            config: function (e) {
              return _mergeDeep(_config, e || {});
            },
            registerEffect: function (e) {
              var t = e.name,
                r = e.effect,
                n = e.plugins,
                i = e.defaults,
                a = e.extendTimeline;
              (n || "").split(",").forEach(function (e) {
                return (
                  e &&
                  !_plugins[e] &&
                  !_globals[e] &&
                  _warn$1(t + " effect requires " + e + " plugin.")
                );
              }),
                (_effects[t] = function (e, t, n) {
                  return r(toArray(e), _setDefaults(t || {}, i), n);
                }),
                a &&
                  (Timeline.prototype[t] = function (e, r, n) {
                    return this.add(
                      _effects[t](e, _isObject(r) ? r : (n = r) && {}, this),
                      n
                    );
                  });
            },
            registerEase: function (e, t) {
              _easeMap[e] = _parseEase(t);
            },
            parseEase: function (e, t) {
              return arguments.length ? _parseEase(e, t) : _easeMap;
            },
            getById: function (e) {
              return _globalTimeline.getById(e);
            },
            exportRoot: function (e, t) {
              void 0 === e && (e = {});
              var r,
                n,
                i = new Timeline(e);
              for (
                i.smoothChildTiming = _isNotFalse(e.smoothChildTiming),
                  _globalTimeline.remove(i),
                  i._dp = 0,
                  i._time = i._tTime = _globalTimeline._time,
                  r = _globalTimeline._first;
                r;

              )
                (n = r._next),
                  (!t &&
                    !r._dur &&
                    r instanceof Tween &&
                    r.vars.onComplete === r._targets[0]) ||
                    _addToTimeline(i, r, r._start - r._delay),
                  (r = n);
              return _addToTimeline(_globalTimeline, i, 0), i;
            },
            context: function (e, t) {
              return e ? new Context(e, t) : _context;
            },
            matchMedia: function (e) {
              return new MatchMedia(e);
            },
            matchMediaRefresh: function () {
              return (
                _media.forEach(function (e) {
                  var t,
                    r,
                    n = e.conditions;
                  for (r in n) n[r] && ((n[r] = !1), (t = 1));
                  t && e.revert();
                }) || _onMediaChange()
              );
            },
            addEventListener: function (e, t) {
              var r = _listeners[e] || (_listeners[e] = []);
              ~r.indexOf(t) || r.push(t);
            },
            removeEventListener: function (e, t) {
              var r = _listeners[e],
                n = r && r.indexOf(t);
              n >= 0 && r.splice(n, 1);
            },
            utils: {
              wrap: wrap,
              wrapYoyo: wrapYoyo,
              distribute: distribute,
              random: random,
              snap: snap,
              normalize: normalize,
              getUnit: getUnit,
              clamp: clamp,
              splitColor: splitColor,
              toArray: toArray,
              selector: selector,
              mapRange: mapRange,
              pipe: pipe,
              unitize: unitize,
              interpolate: interpolate,
              shuffle: shuffle
            },
            install: _install,
            effects: _effects,
            ticker: _ticker,
            updateRoot: Timeline.updateRoot,
            plugins: _plugins,
            globalTimeline: _globalTimeline,
            core: {
              PropTween: PropTween$2,
              globals: _addGlobal,
              Tween: Tween,
              Timeline: Timeline,
              Animation: Animation,
              getCache: _getCache,
              _removeLinkedListItem: _removeLinkedListItem,
              reverting: function () {
                return _reverting$2;
              },
              context: function (e) {
                return (
                  e && _context && (_context.data.push(e), (e._ctx = _context)),
                  _context
                );
              },
              suppressOverwrites: function (e) {
                return (_suppressOverwrites = e);
              }
            }
          };
        _forEachName(
          "to,from,fromTo,delayedCall,set,killTweensOf",
          function (e) {
            return (_gsap[e] = Tween[e]);
          }
        ),
          _ticker.add(Timeline.updateRoot),
          (_quickTween = _gsap.to({}, { duration: 0 }));
        var _getPluginPropTween = function (e, t) {
            for (var r = e._pt; r && r.p !== t && r.op !== t && r.fp !== t; )
              r = r._next;
            return r;
          },
          _addModifiers = function (e, t) {
            var r,
              n,
              i,
              a = e._targets;
            for (r in t)
              for (n = a.length; n--; )
                (i = e._ptLookup[n][r]) &&
                  (i = i.d) &&
                  (i._pt && (i = _getPluginPropTween(i, r)),
                  i && i.modifier && i.modifier(t[r], e, a[n], r));
          },
          _buildModifierPlugin = function (e, t) {
            return {
              name: e,
              rawVars: 1,
              init: function (e, r, n) {
                n._onInit = function (e) {
                  var n, i;
                  if (
                    (_isString$2(r) &&
                      ((n = {}),
                      _forEachName(r, function (e) {
                        return (n[e] = 1);
                      }),
                      (r = n)),
                    t)
                  ) {
                    for (i in ((n = {}), r)) n[i] = t(r[i]);
                    r = n;
                  }
                  _addModifiers(e, r);
                };
              }
            };
          },
          gsap$2 =
            _gsap.registerPlugin(
              {
                name: "attr",
                init: function (e, t, r, n, i) {
                  var a, s, o;
                  for (a in ((this.tween = r), t))
                    (o = e.getAttribute(a) || ""),
                      ((s = this.add(
                        e,
                        "setAttribute",
                        (o || 0) + "",
                        t[a],
                        n,
                        i,
                        0,
                        0,
                        a
                      )).op = a),
                      (s.b = o),
                      this._props.push(a);
                },
                render: function (e, t) {
                  for (var r = t._pt; r; )
                    _reverting$2 ? r.set(r.t, r.p, r.b, r) : r.r(e, r.d),
                      (r = r._next);
                }
              },
              {
                name: "endArray",
                init: function (e, t) {
                  for (var r = t.length; r--; )
                    this.add(e, r, e[r] || 0, t[r], 0, 0, 0, 0, 0, 1);
                }
              },
              _buildModifierPlugin("roundProps", _roundModifier),
              _buildModifierPlugin("modifiers"),
              _buildModifierPlugin("snap", snap)
            ) || _gsap;
        (Tween.version = Timeline.version = gsap$2.version = "3.11.5"),
          (_coreReady = 1),
          _windowExists$2() && _wake(),
          _easeMap.Power0,
          _easeMap.Power1,
          _easeMap.Power2,
          _easeMap.Power3,
          _easeMap.Power4,
          _easeMap.Linear,
          _easeMap.Quad,
          _easeMap.Cubic,
          _easeMap.Quart,
          _easeMap.Quint,
          _easeMap.Strong,
          _easeMap.Elastic,
          _easeMap.Back,
          _easeMap.SteppedEase,
          _easeMap.Bounce,
          _easeMap.Sine,
          _easeMap.Expo,
          _easeMap.Circ;
        /*!
         * CSSPlugin 3.11.5
         * https://greensock.com
         *
         * Copyright 2008-2023, GreenSock. All rights reserved.
         * Subject to the terms at https://greensock.com/standard-license or for
         * Club GreenSock members, the agreement issued with that membership.
         * @author: Jack Doyle, jack@greensock.com
         */
        var _win$2,
          _doc$1,
          _docElement$1,
          _pluginInitted,
          _tempDiv,
          _recentSetterPlugin,
          _reverting$1,
          _windowExists$1 = function () {
            return "undefined" != typeof window;
          },
          _transformProps = {},
          _RAD2DEG$1 = 180 / Math.PI,
          _DEG2RAD$3 = Math.PI / 180,
          _atan2$1 = Math.atan2,
          _bigNum = 1e8,
          _capsExp = /([A-Z])/g,
          _horizontalExp = /(left|right|width|margin|padding|x)/i,
          _complexExp = /[\s,\(]\S/,
          _propertyAliases = {
            autoAlpha: "opacity,visibility",
            scale: "scaleX,scaleY",
            alpha: "opacity"
          },
          _renderCSSProp = function (e, t) {
            return t.set(
              t.t,
              t.p,
              Math.round(1e4 * (t.s + t.c * e)) / 1e4 + t.u,
              t
            );
          },
          _renderPropWithEnd$1 = function (e, t) {
            return t.set(
              t.t,
              t.p,
              1 === e ? t.e : Math.round(1e4 * (t.s + t.c * e)) / 1e4 + t.u,
              t
            );
          },
          _renderCSSPropWithBeginning = function (e, t) {
            return t.set(
              t.t,
              t.p,
              e ? Math.round(1e4 * (t.s + t.c * e)) / 1e4 + t.u : t.b,
              t
            );
          },
          _renderRoundedCSSProp = function (e, t) {
            var r = t.s + t.c * e;
            t.set(t.t, t.p, ~~(r + (r < 0 ? -0.5 : 0.5)) + t.u, t);
          },
          _renderNonTweeningValue = function (e, t) {
            return t.set(t.t, t.p, e ? t.e : t.b, t);
          },
          _renderNonTweeningValueOnlyAtEnd = function (e, t) {
            return t.set(t.t, t.p, 1 !== e ? t.b : t.e, t);
          },
          _setterCSSStyle = function (e, t, r) {
            return (e.style[t] = r);
          },
          _setterCSSProp = function (e, t, r) {
            return e.style.setProperty(t, r);
          },
          _setterTransform = function (e, t, r) {
            return (e._gsap[t] = r);
          },
          _setterScale = function (e, t, r) {
            return (e._gsap.scaleX = e._gsap.scaleY = r);
          },
          _setterScaleWithRender = function (e, t, r, n, i) {
            var a = e._gsap;
            (a.scaleX = a.scaleY = r), a.renderTransform(i, a);
          },
          _setterTransformWithRender = function (e, t, r, n, i) {
            var a = e._gsap;
            (a[t] = r), a.renderTransform(i, a);
          },
          _transformProp$1 = "transform",
          _transformOriginProp$1 = _transformProp$1 + "Origin",
          _saveStyle = function e(t, r) {
            var n = this,
              i = this.target,
              a = i.style;
            if (t in _transformProps) {
              if (((this.tfm = this.tfm || {}), "transform" === t))
                return _propertyAliases.transform
                  .split(",")
                  .forEach(function (t) {
                    return e.call(n, t, r);
                  });
              if (
                (~(t = _propertyAliases[t] || t).indexOf(",")
                  ? t.split(",").forEach(function (e) {
                      return (n.tfm[e] = _get(i, e));
                    })
                  : (this.tfm[t] = i._gsap.x ? i._gsap[t] : _get(i, t)),
                this.props.indexOf(_transformProp$1) >= 0)
              )
                return;
              i._gsap.svg &&
                ((this.svgo = i.getAttribute("data-svg-origin")),
                this.props.push(_transformOriginProp$1, r, "")),
                (t = _transformProp$1);
            }
            (a || r) && this.props.push(t, r, a[t]);
          },
          _removeIndependentTransforms = function (e) {
            e.translate &&
              (e.removeProperty("translate"),
              e.removeProperty("scale"),
              e.removeProperty("rotate"));
          },
          _revertStyle = function () {
            var e,
              t,
              r = this.props,
              n = this.target,
              i = n.style,
              a = n._gsap;
            for (e = 0; e < r.length; e += 3)
              r[e + 1]
                ? (n[r[e]] = r[e + 2])
                : r[e + 2]
                ? (i[r[e]] = r[e + 2])
                : i.removeProperty(
                    "--" === r[e].substr(0, 2)
                      ? r[e]
                      : r[e].replace(_capsExp, "-$1").toLowerCase()
                  );
            if (this.tfm) {
              for (t in this.tfm) a[t] = this.tfm[t];
              a.svg &&
                (a.renderTransform(),
                n.setAttribute("data-svg-origin", this.svgo || "")),
                ((e = _reverting$1()) && e.isStart) ||
                  i[_transformProp$1] ||
                  (_removeIndependentTransforms(i), (a.uncache = 1));
            }
          },
          _getStyleSaver$1 = function (e, t) {
            var r = {
              target: e,
              props: [],
              revert: _revertStyle,
              save: _saveStyle
            };
            return (
              e._gsap || gsap$2.core.getCache(e),
              t &&
                t.split(",").forEach(function (e) {
                  return r.save(e);
                }),
              r
            );
          },
          _supports3D,
          _createElement = function (e, t) {
            var r = _doc$1.createElementNS
              ? _doc$1.createElementNS(
                  (t || "http://www.w3.org/1999/xhtml").replace(
                    /^https/,
                    "http"
                  ),
                  e
                )
              : _doc$1.createElement(e);
            return r.style ? r : _doc$1.createElement(e);
          },
          _getComputedProperty = function e(t, r, n) {
            var i = getComputedStyle(t);
            return (
              i[r] ||
              i.getPropertyValue(r.replace(_capsExp, "-$1").toLowerCase()) ||
              i.getPropertyValue(r) ||
              (!n && e(t, _checkPropPrefix(r) || r, 1)) ||
              ""
            );
          },
          _prefixes = "O,Moz,ms,Ms,Webkit".split(","),
          _checkPropPrefix = function (e, t, r) {
            var n = (t || _tempDiv).style,
              i = 5;
            if (e in n && !r) return e;
            for (
              e = e.charAt(0).toUpperCase() + e.substr(1);
              i-- && !(_prefixes[i] + e in n);

            );
            return i < 0
              ? null
              : (3 === i ? "ms" : i >= 0 ? _prefixes[i] : "") + e;
          },
          _initCore$1 = function () {
            _windowExists$1() &&
              window.document &&
              ((_win$2 = window),
              (_doc$1 = _win$2.document),
              (_docElement$1 = _doc$1.documentElement),
              (_tempDiv = _createElement("div") || { style: {} }),
              _createElement("div"),
              (_transformProp$1 = _checkPropPrefix(_transformProp$1)),
              (_transformOriginProp$1 = _transformProp$1 + "Origin"),
              (_tempDiv.style.cssText =
                "border-width:0;line-height:0;position:absolute;padding:0"),
              (_supports3D = !!_checkPropPrefix("perspective")),
              (_reverting$1 = gsap$2.core.reverting),
              (_pluginInitted = 1));
          },
          _getBBoxHack = function t(r) {
            var n,
              i = _createElement(
                "svg",
                (this.ownerSVGElement &&
                  this.ownerSVGElement.getAttribute("xmlns")) ||
                  "http://www.w3.org/2000/svg"
              ),
              a = this.parentNode,
              s = this.nextSibling,
              o = this.style.cssText;
            if (
              (_docElement$1.appendChild(i),
              i.appendChild(this),
              (this.style.display = "block"),
              r)
            )
              try {
                (n = this.getBBox()),
                  (this._gsapBBox = this.getBBox),
                  (this.getBBox = t);
              } catch (e) {}
            else this._gsapBBox && (n = this._gsapBBox());
            return (
              a && (s ? a.insertBefore(this, s) : a.appendChild(this)),
              _docElement$1.removeChild(i),
              (this.style.cssText = o),
              n
            );
          },
          _getAttributeFallbacks = function (e, t) {
            for (var r = t.length; r--; )
              if (e.hasAttribute(t[r])) return e.getAttribute(t[r]);
          },
          _getBBox = function (e) {
            var t;
            try {
              t = e.getBBox();
            } catch (r) {
              t = _getBBoxHack.call(e, !0);
            }
            return (
              (t && (t.width || t.height)) ||
                e.getBBox === _getBBoxHack ||
                (t = _getBBoxHack.call(e, !0)),
              !t || t.width || t.x || t.y
                ? t
                : {
                    x: +_getAttributeFallbacks(e, ["x", "cx", "x1"]) || 0,
                    y: +_getAttributeFallbacks(e, ["y", "cy", "y1"]) || 0,
                    width: 0,
                    height: 0
                  }
            );
          },
          _isSVG = function (e) {
            return !(
              !e.getCTM ||
              (e.parentNode && !e.ownerSVGElement) ||
              !_getBBox(e)
            );
          },
          _removeProperty = function (e, t) {
            if (t) {
              var r = e.style;
              t in _transformProps &&
                t !== _transformOriginProp$1 &&
                (t = _transformProp$1),
                r.removeProperty
                  ? (("ms" !== t.substr(0, 2) && "webkit" !== t.substr(0, 6)) ||
                      (t = "-" + t),
                    r.removeProperty(t.replace(_capsExp, "-$1").toLowerCase()))
                  : r.removeAttribute(t);
            }
          },
          _addNonTweeningPT = function (e, t, r, n, i, a) {
            var s = new PropTween$2(
              e._pt,
              t,
              r,
              0,
              1,
              a ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue
            );
            return (e._pt = s), (s.b = n), (s.e = i), e._props.push(r), s;
          },
          _nonConvertibleUnits = { deg: 1, rad: 1, turn: 1 },
          _nonStandardLayouts = { grid: 1, flex: 1 },
          _convertToUnit = function e(t, r, n, i) {
            var a,
              s,
              o,
              u,
              l = parseFloat(n) || 0,
              c = (n + "").trim().substr((l + "").length) || "px",
              h = _tempDiv.style,
              f = _horizontalExp.test(r),
              d = "svg" === t.tagName.toLowerCase(),
              p = (d ? "client" : "offset") + (f ? "Width" : "Height"),
              _ = 100,
              v = "px" === i,
              m = "%" === i;
            return i === c ||
              !l ||
              _nonConvertibleUnits[i] ||
              _nonConvertibleUnits[c]
              ? l
              : ("px" !== c && !v && (l = e(t, r, n, "px")),
                (u = t.getCTM && _isSVG(t)),
                (!m && "%" !== c) ||
                (!_transformProps[r] && !~r.indexOf("adius"))
                  ? ((h[f ? "width" : "height"] = _ + (v ? c : i)),
                    (s =
                      ~r.indexOf("adius") || ("em" === i && t.appendChild && !d)
                        ? t
                        : t.parentNode),
                    u && (s = (t.ownerSVGElement || {}).parentNode),
                    (s && s !== _doc$1 && s.appendChild) || (s = _doc$1.body),
                    (o = s._gsap) &&
                    m &&
                    o.width &&
                    f &&
                    o.time === _ticker.time &&
                    !o.uncache
                      ? _round$1((l / o.width) * _)
                      : ((m || "%" === c) &&
                          !_nonStandardLayouts[
                            _getComputedProperty(s, "display")
                          ] &&
                          (h.position = _getComputedProperty(t, "position")),
                        s === t && (h.position = "static"),
                        s.appendChild(_tempDiv),
                        (a = _tempDiv[p]),
                        s.removeChild(_tempDiv),
                        (h.position = "absolute"),
                        f &&
                          m &&
                          (((o = _getCache(s)).time = _ticker.time),
                          (o.width = s[p])),
                        _round$1(v ? (a * l) / _ : a && l ? (_ / a) * l : 0)))
                  : ((a = u ? t.getBBox()[f ? "width" : "height"] : t[p]),
                    _round$1(m ? (l / a) * _ : (l / 100) * a)));
          },
          _get = function (e, t, r, n) {
            var i;
            return (
              _pluginInitted || _initCore$1(),
              t in _propertyAliases &&
                "transform" !== t &&
                ~(t = _propertyAliases[t]).indexOf(",") &&
                (t = t.split(",")[0]),
              _transformProps[t] && "transform" !== t
                ? ((i = _parseTransform(e, n)),
                  (i =
                    "transformOrigin" !== t
                      ? i[t]
                      : i.svg
                      ? i.origin
                      : _firstTwoOnly(
                          _getComputedProperty(e, _transformOriginProp$1)
                        ) +
                        " " +
                        i.zOrigin +
                        "px"))
                : (!(i = e.style[t]) ||
                    "auto" === i ||
                    n ||
                    ~(i + "").indexOf("calc(")) &&
                  (i =
                    (_specialProps[t] && _specialProps[t](e, t, r)) ||
                    _getComputedProperty(e, t) ||
                    _getProperty(e, t) ||
                    ("opacity" === t ? 1 : 0)),
              r && !~(i + "").trim().indexOf(" ")
                ? _convertToUnit(e, t, i, r) + r
                : i
            );
          },
          _tweenComplexCSSString = function (e, t, r, n) {
            if (!r || "none" === r) {
              var i = _checkPropPrefix(t, e, 1),
                a = i && _getComputedProperty(e, i, 1);
              a && a !== r
                ? ((t = i), (r = a))
                : "borderColor" === t &&
                  (r = _getComputedProperty(e, "borderTopColor"));
            }
            var s,
              o,
              u,
              l,
              c,
              h,
              f,
              d,
              p,
              _,
              v,
              m = new PropTween$2(
                this._pt,
                e.style,
                t,
                0,
                1,
                _renderComplexString
              ),
              g = 0,
              y = 0;
            if (
              ((m.b = r),
              (m.e = n),
              (r += ""),
              "auto" === (n += "") &&
                ((e.style[t] = n),
                (n = _getComputedProperty(e, t) || n),
                (e.style[t] = r)),
              _colorStringFilter((s = [r, n])),
              (n = s[1]),
              (u = (r = s[0]).match(_numWithUnitExp) || []),
              (n.match(_numWithUnitExp) || []).length)
            ) {
              for (; (o = _numWithUnitExp.exec(n)); )
                (f = o[0]),
                  (p = n.substring(g, o.index)),
                  c
                    ? (c = (c + 1) % 5)
                    : ("rgba(" !== p.substr(-5) && "hsla(" !== p.substr(-5)) ||
                      (c = 1),
                  f !== (h = u[y++] || "") &&
                    ((l = parseFloat(h) || 0),
                    (v = h.substr((l + "").length)),
                    "=" === f.charAt(1) && (f = _parseRelative(l, f) + v),
                    (d = parseFloat(f)),
                    (_ = f.substr((d + "").length)),
                    (g = _numWithUnitExp.lastIndex - _.length),
                    _ ||
                      ((_ = _ || _config.units[t] || v),
                      g === n.length && ((n += _), (m.e += _))),
                    v !== _ && (l = _convertToUnit(e, t, h, _) || 0),
                    (m._pt = {
                      _next: m._pt,
                      p: p || 1 === y ? p : ",",
                      s: l,
                      c: d - l,
                      m: (c && c < 4) || "zIndex" === t ? Math.round : 0
                    }));
              m.c = g < n.length ? n.substring(g, n.length) : "";
            } else
              m.r =
                "display" === t && "none" === n
                  ? _renderNonTweeningValueOnlyAtEnd
                  : _renderNonTweeningValue;
            return _relExp.test(n) && (m.e = 0), (this._pt = m), m;
          },
          _keywordToPercent = {
            top: "0%",
            bottom: "100%",
            left: "0%",
            right: "100%",
            center: "50%"
          },
          _convertKeywordsToPercentages = function (e) {
            var t = e.split(" "),
              r = t[0],
              n = t[1] || "50%";
            return (
              ("top" !== r &&
                "bottom" !== r &&
                "left" !== n &&
                "right" !== n) ||
                ((e = r), (r = n), (n = e)),
              (t[0] = _keywordToPercent[r] || r),
              (t[1] = _keywordToPercent[n] || n),
              t.join(" ")
            );
          },
          _renderClearProps = function (e, t) {
            if (t.tween && t.tween._time === t.tween._dur) {
              var r,
                n,
                i,
                a = t.t,
                s = a.style,
                o = t.u,
                u = a._gsap;
              if ("all" === o || !0 === o) (s.cssText = ""), (n = 1);
              else
                for (i = (o = o.split(",")).length; --i > -1; )
                  (r = o[i]),
                    _transformProps[r] &&
                      ((n = 1),
                      (r =
                        "transformOrigin" === r
                          ? _transformOriginProp$1
                          : _transformProp$1)),
                    _removeProperty(a, r);
              n &&
                (_removeProperty(a, _transformProp$1),
                u &&
                  (u.svg && a.removeAttribute("transform"),
                  _parseTransform(a, 1),
                  (u.uncache = 1),
                  _removeIndependentTransforms(s)));
            }
          },
          _specialProps = {
            clearProps: function (e, t, r, n, i) {
              if ("isFromStart" !== i.data) {
                var a = (e._pt = new PropTween$2(
                  e._pt,
                  t,
                  r,
                  0,
                  0,
                  _renderClearProps
                ));
                return (
                  (a.u = n), (a.pr = -10), (a.tween = i), e._props.push(r), 1
                );
              }
            }
          },
          _identity2DMatrix = [1, 0, 0, 1, 0, 0],
          _rotationalProperties = {},
          _isNullTransform = function (e) {
            return "matrix(1, 0, 0, 1, 0, 0)" === e || "none" === e || !e;
          },
          _getComputedTransformMatrixAsArray = function (e) {
            var t = _getComputedProperty(e, _transformProp$1);
            return _isNullTransform(t)
              ? _identity2DMatrix
              : t.substr(7).match(_numExp$1).map(_round$1);
          },
          _getMatrix = function (e, t) {
            var r,
              n,
              i,
              a,
              s = e._gsap || _getCache(e),
              o = e.style,
              u = _getComputedTransformMatrixAsArray(e);
            return s.svg && e.getAttribute("transform")
              ? "1,0,0,1,0,0" ===
                (u = [
                  (i = e.transform.baseVal.consolidate().matrix).a,
                  i.b,
                  i.c,
                  i.d,
                  i.e,
                  i.f
                ]).join(",")
                ? _identity2DMatrix
                : u
              : (u !== _identity2DMatrix ||
                  e.offsetParent ||
                  e === _docElement$1 ||
                  s.svg ||
                  ((i = o.display),
                  (o.display = "block"),
                  ((r = e.parentNode) && e.offsetParent) ||
                    ((a = 1),
                    (n = e.nextElementSibling),
                    _docElement$1.appendChild(e)),
                  (u = _getComputedTransformMatrixAsArray(e)),
                  i ? (o.display = i) : _removeProperty(e, "display"),
                  a &&
                    (n
                      ? r.insertBefore(e, n)
                      : r
                      ? r.appendChild(e)
                      : _docElement$1.removeChild(e))),
                t && u.length > 6 ? [u[0], u[1], u[4], u[5], u[12], u[13]] : u);
          },
          _applySVGOrigin = function (e, t, r, n, i, a) {
            var s,
              o,
              u,
              l = e._gsap,
              c = i || _getMatrix(e, !0),
              h = l.xOrigin || 0,
              f = l.yOrigin || 0,
              d = l.xOffset || 0,
              p = l.yOffset || 0,
              _ = c[0],
              v = c[1],
              m = c[2],
              g = c[3],
              y = c[4],
              T = c[5],
              x = t.split(" "),
              E = parseFloat(x[0]) || 0,
              b = parseFloat(x[1]) || 0;
            r
              ? c !== _identity2DMatrix &&
                (o = _ * g - v * m) &&
                ((u = E * (-v / o) + b * (_ / o) - (_ * T - v * y) / o),
                (E = E * (g / o) + b * (-m / o) + (m * T - g * y) / o),
                (b = u))
              : ((E =
                  (s = _getBBox(e)).x +
                  (~x[0].indexOf("%") ? (E / 100) * s.width : E)),
                (b =
                  s.y +
                  (~(x[1] || x[0]).indexOf("%") ? (b / 100) * s.height : b))),
              n || (!1 !== n && l.smooth)
                ? ((y = E - h),
                  (T = b - f),
                  (l.xOffset = d + (y * _ + T * m) - y),
                  (l.yOffset = p + (y * v + T * g) - T))
                : (l.xOffset = l.yOffset = 0),
              (l.xOrigin = E),
              (l.yOrigin = b),
              (l.smooth = !!n),
              (l.origin = t),
              (l.originIsAbsolute = !!r),
              (e.style[_transformOriginProp$1] = "0px 0px"),
              a &&
                (_addNonTweeningPT(a, l, "xOrigin", h, E),
                _addNonTweeningPT(a, l, "yOrigin", f, b),
                _addNonTweeningPT(a, l, "xOffset", d, l.xOffset),
                _addNonTweeningPT(a, l, "yOffset", p, l.yOffset)),
              e.setAttribute("data-svg-origin", E + " " + b);
          },
          _parseTransform = function (e, t) {
            var r = e._gsap || new GSCache(e);
            if ("x" in r && !t && !r.uncache) return r;
            var n,
              i,
              a,
              s,
              o,
              u,
              l,
              c,
              h,
              f,
              d,
              p,
              _,
              v,
              m,
              g,
              y,
              T,
              x,
              E,
              b,
              S,
              A,
              C,
              P,
              k,
              w,
              R,
              M,
              I,
              O,
              D,
              F = e.style,
              N = r.scaleX < 0,
              L = "px",
              B = "deg",
              U = getComputedStyle(e),
              G = _getComputedProperty(e, _transformOriginProp$1) || "0";
            return (
              (n = i = a = u = l = c = h = f = d = 0),
              (s = o = 1),
              (r.svg = !(!e.getCTM || !_isSVG(e))),
              U.translate &&
                (("none" === U.translate &&
                  "none" === U.scale &&
                  "none" === U.rotate) ||
                  (F[_transformProp$1] =
                    ("none" !== U.translate
                      ? "translate3d(" +
                        (U.translate + " 0 0")
                          .split(" ")
                          .slice(0, 3)
                          .join(", ") +
                        ") "
                      : "") +
                    ("none" !== U.rotate ? "rotate(" + U.rotate + ") " : "") +
                    ("none" !== U.scale
                      ? "scale(" + U.scale.split(" ").join(",") + ") "
                      : "") +
                    ("none" !== U[_transformProp$1]
                      ? U[_transformProp$1]
                      : "")),
                (F.scale = F.rotate = F.translate = "none")),
              (v = _getMatrix(e, r.svg)),
              r.svg &&
                (r.uncache
                  ? ((P = e.getBBox()),
                    (G = r.xOrigin - P.x + "px " + (r.yOrigin - P.y) + "px"),
                    (C = ""))
                  : (C = !t && e.getAttribute("data-svg-origin")),
                _applySVGOrigin(
                  e,
                  C || G,
                  !!C || r.originIsAbsolute,
                  !1 !== r.smooth,
                  v
                )),
              (p = r.xOrigin || 0),
              (_ = r.yOrigin || 0),
              v !== _identity2DMatrix &&
                ((T = v[0]),
                (x = v[1]),
                (E = v[2]),
                (b = v[3]),
                (n = S = v[4]),
                (i = A = v[5]),
                6 === v.length
                  ? ((s = Math.sqrt(T * T + x * x)),
                    (o = Math.sqrt(b * b + E * E)),
                    (u = T || x ? _atan2$1(x, T) * _RAD2DEG$1 : 0),
                    (h = E || b ? _atan2$1(E, b) * _RAD2DEG$1 + u : 0) &&
                      (o *= Math.abs(Math.cos(h * _DEG2RAD$3))),
                    r.svg &&
                      ((n -= p - (p * T + _ * E)), (i -= _ - (p * x + _ * b))))
                  : ((D = v[6]),
                    (I = v[7]),
                    (w = v[8]),
                    (R = v[9]),
                    (M = v[10]),
                    (O = v[11]),
                    (n = v[12]),
                    (i = v[13]),
                    (a = v[14]),
                    (l = (m = _atan2$1(D, M)) * _RAD2DEG$1),
                    m &&
                      ((C = S * (g = Math.cos(-m)) + w * (y = Math.sin(-m))),
                      (P = A * g + R * y),
                      (k = D * g + M * y),
                      (w = S * -y + w * g),
                      (R = A * -y + R * g),
                      (M = D * -y + M * g),
                      (O = I * -y + O * g),
                      (S = C),
                      (A = P),
                      (D = k)),
                    (c = (m = _atan2$1(-E, M)) * _RAD2DEG$1),
                    m &&
                      ((g = Math.cos(-m)),
                      (O = b * (y = Math.sin(-m)) + O * g),
                      (T = C = T * g - w * y),
                      (x = P = x * g - R * y),
                      (E = k = E * g - M * y)),
                    (u = (m = _atan2$1(x, T)) * _RAD2DEG$1),
                    m &&
                      ((C = T * (g = Math.cos(m)) + x * (y = Math.sin(m))),
                      (P = S * g + A * y),
                      (x = x * g - T * y),
                      (A = A * g - S * y),
                      (T = C),
                      (S = P)),
                    l &&
                      Math.abs(l) + Math.abs(u) > 359.9 &&
                      ((l = u = 0), (c = 180 - c)),
                    (s = _round$1(Math.sqrt(T * T + x * x + E * E))),
                    (o = _round$1(Math.sqrt(A * A + D * D))),
                    (m = _atan2$1(S, A)),
                    (h = Math.abs(m) > 2e-4 ? m * _RAD2DEG$1 : 0),
                    (d = O ? 1 / (O < 0 ? -O : O) : 0)),
                r.svg &&
                  ((C = e.getAttribute("transform")),
                  (r.forceCSS =
                    e.setAttribute("transform", "") ||
                    !_isNullTransform(
                      _getComputedProperty(e, _transformProp$1)
                    )),
                  C && e.setAttribute("transform", C))),
              Math.abs(h) > 90 &&
                Math.abs(h) < 270 &&
                (N
                  ? ((s *= -1),
                    (h += u <= 0 ? 180 : -180),
                    (u += u <= 0 ? 180 : -180))
                  : ((o *= -1), (h += h <= 0 ? 180 : -180))),
              (t = t || r.uncache),
              (r.x =
                n -
                ((r.xPercent =
                  n &&
                  ((!t && r.xPercent) ||
                    (Math.round(e.offsetWidth / 2) === Math.round(-n)
                      ? -50
                      : 0)))
                  ? (e.offsetWidth * r.xPercent) / 100
                  : 0) +
                L),
              (r.y =
                i -
                ((r.yPercent =
                  i &&
                  ((!t && r.yPercent) ||
                    (Math.round(e.offsetHeight / 2) === Math.round(-i)
                      ? -50
                      : 0)))
                  ? (e.offsetHeight * r.yPercent) / 100
                  : 0) +
                L),
              (r.z = a + L),
              (r.scaleX = _round$1(s)),
              (r.scaleY = _round$1(o)),
              (r.rotation = _round$1(u) + B),
              (r.rotationX = _round$1(l) + B),
              (r.rotationY = _round$1(c) + B),
              (r.skewX = h + B),
              (r.skewY = f + B),
              (r.transformPerspective = d + L),
              (r.zOrigin = parseFloat(G.split(" ")[2]) || 0) &&
                (F[_transformOriginProp$1] = _firstTwoOnly(G)),
              (r.xOffset = r.yOffset = 0),
              (r.force3D = _config.force3D),
              (r.renderTransform = r.svg
                ? _renderSVGTransforms
                : _supports3D
                ? _renderCSSTransforms
                : _renderNon3DTransforms),
              (r.uncache = 0),
              r
            );
          },
          _firstTwoOnly = function (e) {
            return (e = e.split(" "))[0] + " " + e[1];
          },
          _addPxTranslate = function (e, t, r) {
            var n = getUnit(t);
            return (
              _round$1(
                parseFloat(t) + parseFloat(_convertToUnit(e, "x", r + "px", n))
              ) + n
            );
          },
          _renderNon3DTransforms = function (e, t) {
            (t.z = "0px"),
              (t.rotationY = t.rotationX = "0deg"),
              (t.force3D = 0),
              _renderCSSTransforms(e, t);
          },
          _zeroDeg = "0deg",
          _zeroPx = "0px",
          _endParenthesis = ") ",
          _renderCSSTransforms = function (e, t) {
            var r = t || this,
              n = r.xPercent,
              i = r.yPercent,
              a = r.x,
              s = r.y,
              o = r.z,
              u = r.rotation,
              l = r.rotationY,
              c = r.rotationX,
              h = r.skewX,
              f = r.skewY,
              d = r.scaleX,
              p = r.scaleY,
              _ = r.transformPerspective,
              v = r.force3D,
              m = r.target,
              g = r.zOrigin,
              y = "",
              T = ("auto" === v && e && 1 !== e) || !0 === v;
            if (g && (c !== _zeroDeg || l !== _zeroDeg)) {
              var x,
                E = parseFloat(l) * _DEG2RAD$3,
                b = Math.sin(E),
                S = Math.cos(E);
              (E = parseFloat(c) * _DEG2RAD$3),
                (x = Math.cos(E)),
                (a = _addPxTranslate(m, a, b * x * -g)),
                (s = _addPxTranslate(m, s, -Math.sin(E) * -g)),
                (o = _addPxTranslate(m, o, S * x * -g + g));
            }
            _ !== _zeroPx && (y += "perspective(" + _ + _endParenthesis),
              (n || i) && (y += "translate(" + n + "%, " + i + "%) "),
              (T || a !== _zeroPx || s !== _zeroPx || o !== _zeroPx) &&
                (y +=
                  o !== _zeroPx || T
                    ? "translate3d(" + a + ", " + s + ", " + o + ") "
                    : "translate(" + a + ", " + s + _endParenthesis),
              u !== _zeroDeg && (y += "rotate(" + u + _endParenthesis),
              l !== _zeroDeg && (y += "rotateY(" + l + _endParenthesis),
              c !== _zeroDeg && (y += "rotateX(" + c + _endParenthesis),
              (h === _zeroDeg && f === _zeroDeg) ||
                (y += "skew(" + h + ", " + f + _endParenthesis),
              (1 === d && 1 === p) ||
                (y += "scale(" + d + ", " + p + _endParenthesis),
              (m.style[_transformProp$1] = y || "translate(0, 0)");
          },
          _renderSVGTransforms = function (e, t) {
            var r,
              n,
              i,
              a,
              s,
              o = t || this,
              u = o.xPercent,
              l = o.yPercent,
              c = o.x,
              h = o.y,
              f = o.rotation,
              d = o.skewX,
              p = o.skewY,
              _ = o.scaleX,
              v = o.scaleY,
              m = o.target,
              g = o.xOrigin,
              y = o.yOrigin,
              T = o.xOffset,
              x = o.yOffset,
              E = o.forceCSS,
              b = parseFloat(c),
              S = parseFloat(h);
            (f = parseFloat(f)),
              (d = parseFloat(d)),
              (p = parseFloat(p)) && ((d += p = parseFloat(p)), (f += p)),
              f || d
                ? ((f *= _DEG2RAD$3),
                  (d *= _DEG2RAD$3),
                  (r = Math.cos(f) * _),
                  (n = Math.sin(f) * _),
                  (i = Math.sin(f - d) * -v),
                  (a = Math.cos(f - d) * v),
                  d &&
                    ((p *= _DEG2RAD$3),
                    (s = Math.tan(d - p)),
                    (i *= s = Math.sqrt(1 + s * s)),
                    (a *= s),
                    p &&
                      ((s = Math.tan(p)),
                      (r *= s = Math.sqrt(1 + s * s)),
                      (n *= s))),
                  (r = _round$1(r)),
                  (n = _round$1(n)),
                  (i = _round$1(i)),
                  (a = _round$1(a)))
                : ((r = _), (a = v), (n = i = 0)),
              ((b && !~(c + "").indexOf("px")) ||
                (S && !~(h + "").indexOf("px"))) &&
                ((b = _convertToUnit(m, "x", c, "px")),
                (S = _convertToUnit(m, "y", h, "px"))),
              (g || y || T || x) &&
                ((b = _round$1(b + g - (g * r + y * i) + T)),
                (S = _round$1(S + y - (g * n + y * a) + x))),
              (u || l) &&
                ((s = m.getBBox()),
                (b = _round$1(b + (u / 100) * s.width)),
                (S = _round$1(S + (l / 100) * s.height))),
              (s =
                "matrix(" +
                r +
                "," +
                n +
                "," +
                i +
                "," +
                a +
                "," +
                b +
                "," +
                S +
                ")"),
              m.setAttribute("transform", s),
              E && (m.style[_transformProp$1] = s);
          },
          _addRotationalPropTween$1 = function (e, t, r, n, i) {
            var a,
              s,
              o = 360,
              u = _isString$2(i),
              l = parseFloat(i) * (u && ~i.indexOf("rad") ? _RAD2DEG$1 : 1) - n,
              c = n + l + "deg";
            return (
              u &&
                ("short" === (a = i.split("_")[1]) &&
                  (l %= o) !== l % 180 &&
                  (l += l < 0 ? o : -360),
                "cw" === a && l < 0
                  ? (l = ((l + o * _bigNum) % o) - ~~(l / o) * o)
                  : "ccw" === a &&
                    l > 0 &&
                    (l = ((l - o * _bigNum) % o) - ~~(l / o) * o)),
              (e._pt = s = new PropTween$2(
                e._pt,
                t,
                r,
                n,
                l,
                _renderPropWithEnd$1
              )),
              (s.e = c),
              (s.u = "deg"),
              e._props.push(r),
              s
            );
          },
          _assign = function (e, t) {
            for (var r in t) e[r] = t[r];
            return e;
          },
          _addRawTransformPTs = function (e, t, r) {
            var n,
              i,
              a,
              s,
              o,
              u,
              l,
              c = _assign({}, r._gsap),
              h = r.style;
            for (i in (c.svg
              ? ((a = r.getAttribute("transform")),
                r.setAttribute("transform", ""),
                (h[_transformProp$1] = t),
                (n = _parseTransform(r, 1)),
                _removeProperty(r, _transformProp$1),
                r.setAttribute("transform", a))
              : ((a = getComputedStyle(r)[_transformProp$1]),
                (h[_transformProp$1] = t),
                (n = _parseTransform(r, 1)),
                (h[_transformProp$1] = a)),
            _transformProps))
              (a = c[i]) !== (s = n[i]) &&
                "perspective,force3D,transformOrigin,svgOrigin".indexOf(i) <
                  0 &&
                ((o =
                  getUnit(a) !== (l = getUnit(s))
                    ? _convertToUnit(r, i, a, l)
                    : parseFloat(a)),
                (u = parseFloat(s)),
                (e._pt = new PropTween$2(
                  e._pt,
                  n,
                  i,
                  o,
                  u - o,
                  _renderCSSProp
                )),
                (e._pt.u = l || 0),
                e._props.push(i));
            _assign(n, c);
          };
        _forEachName("padding,margin,Width,Radius", function (e, t) {
          var r = "Top",
            n = "Right",
            i = "Bottom",
            a = "Left",
            s = (t < 3 ? [r, n, i, a] : [r + a, r + n, i + n, i + a]).map(
              function (r) {
                return t < 2 ? e + r : "border" + r + e;
              }
            );
          _specialProps[t > 1 ? "border" + e : e] = function (e, t, r, n, i) {
            var a, o;
            if (arguments.length < 4)
              return (
                (a = s.map(function (t) {
                  return _get(e, t, r);
                })),
                5 === (o = a.join(" ")).split(a[0]).length ? a[0] : o
              );
            (a = (n + "").split(" ")),
              (o = {}),
              s.forEach(function (e, t) {
                return (o[e] = a[t] = a[t] || a[((t - 1) / 2) | 0]);
              }),
              e.init(t, o, i);
          };
        });
        var CSSPlugin = {
            name: "css",
            register: _initCore$1,
            targetTest: function (e) {
              return e.style && e.nodeType;
            },
            init: function (e, t, r, n, i) {
              var a,
                s,
                o,
                u,
                l,
                c,
                h,
                f,
                d,
                p,
                _,
                v,
                m,
                g,
                y,
                T,
                x = this._props,
                E = e.style,
                b = r.vars.startAt;
              for (h in (_pluginInitted || _initCore$1(),
              (this.styles = this.styles || _getStyleSaver$1(e)),
              (T = this.styles.props),
              (this.tween = r),
              t))
                if (
                  "autoRound" !== h &&
                  ((s = t[h]), !_plugins[h] || !_checkPlugin(h, t, r, n, e, i))
                )
                  if (
                    ((l = _typeof(s)),
                    (c = _specialProps[h]),
                    "function" === l && (l = _typeof((s = s.call(r, n, e, i)))),
                    "string" === l &&
                      ~s.indexOf("random(") &&
                      (s = _replaceRandom(s)),
                    c)
                  )
                    c(this, e, h, s, r) && (y = 1);
                  else if ("--" === h.substr(0, 2))
                    (a = (getComputedStyle(e).getPropertyValue(h) + "").trim()),
                      (s += ""),
                      (_colorExp.lastIndex = 0),
                      _colorExp.test(a) || ((f = getUnit(a)), (d = getUnit(s))),
                      d
                        ? f !== d && (a = _convertToUnit(e, h, a, d) + d)
                        : f && (s += f),
                      this.add(E, "setProperty", a, s, n, i, 0, 0, h),
                      x.push(h),
                      T.push(h, 0, E[h]);
                  else if ("undefined" !== l) {
                    if (
                      (b && h in b
                        ? ((a =
                            "function" == typeof b[h]
                              ? b[h].call(r, n, e, i)
                              : b[h]),
                          _isString$2(a) &&
                            ~a.indexOf("random(") &&
                            (a = _replaceRandom(a)),
                          getUnit(a + "") ||
                            (a +=
                              _config.units[h] || getUnit(_get(e, h)) || ""),
                          "=" === (a + "").charAt(1) && (a = _get(e, h)))
                        : (a = _get(e, h)),
                      (u = parseFloat(a)),
                      (p =
                        "string" === l &&
                        "=" === s.charAt(1) &&
                        s.substr(0, 2)) && (s = s.substr(2)),
                      (o = parseFloat(s)),
                      h in _propertyAliases &&
                        ("autoAlpha" === h &&
                          (1 === u &&
                            "hidden" === _get(e, "visibility") &&
                            o &&
                            (u = 0),
                          T.push("visibility", 0, E.visibility),
                          _addNonTweeningPT(
                            this,
                            E,
                            "visibility",
                            u ? "inherit" : "hidden",
                            o ? "inherit" : "hidden",
                            !o
                          )),
                        "scale" !== h &&
                          "transform" !== h &&
                          ~(h = _propertyAliases[h]).indexOf(",") &&
                          (h = h.split(",")[0])),
                      (_ = h in _transformProps))
                    )
                      if (
                        (this.styles.save(h),
                        v ||
                          (((m = e._gsap).renderTransform &&
                            !t.parseTransform) ||
                            _parseTransform(e, t.parseTransform),
                          (g = !1 !== t.smoothOrigin && m.smooth),
                          ((v = this._pt = new PropTween$2(
                            this._pt,
                            E,
                            _transformProp$1,
                            0,
                            1,
                            m.renderTransform,
                            m,
                            0,
                            -1
                          )).dep = 1)),
                        "scale" === h)
                      )
                        (this._pt = new PropTween$2(
                          this._pt,
                          m,
                          "scaleY",
                          m.scaleY,
                          (p ? _parseRelative(m.scaleY, p + o) : o) -
                            m.scaleY || 0,
                          _renderCSSProp
                        )),
                          (this._pt.u = 0),
                          x.push("scaleY", h),
                          (h += "X");
                      else {
                        if ("transformOrigin" === h) {
                          T.push(
                            _transformOriginProp$1,
                            0,
                            E[_transformOriginProp$1]
                          ),
                            (s = _convertKeywordsToPercentages(s)),
                            m.svg
                              ? _applySVGOrigin(e, s, 0, g, 0, this)
                              : ((d = parseFloat(s.split(" ")[2]) || 0) !==
                                  m.zOrigin &&
                                  _addNonTweeningPT(
                                    this,
                                    m,
                                    "zOrigin",
                                    m.zOrigin,
                                    d
                                  ),
                                _addNonTweeningPT(
                                  this,
                                  E,
                                  h,
                                  _firstTwoOnly(a),
                                  _firstTwoOnly(s)
                                ));
                          continue;
                        }
                        if ("svgOrigin" === h) {
                          _applySVGOrigin(e, s, 1, g, 0, this);
                          continue;
                        }
                        if (h in _rotationalProperties) {
                          _addRotationalPropTween$1(
                            this,
                            m,
                            h,
                            u,
                            p ? _parseRelative(u, p + s) : s
                          );
                          continue;
                        }
                        if ("smoothOrigin" === h) {
                          _addNonTweeningPT(this, m, "smooth", m.smooth, s);
                          continue;
                        }
                        if ("force3D" === h) {
                          m[h] = s;
                          continue;
                        }
                        if ("transform" === h) {
                          _addRawTransformPTs(this, s, e);
                          continue;
                        }
                      }
                    else h in E || (h = _checkPropPrefix(h) || h);
                    if (
                      _ ||
                      ((o || 0 === o) &&
                        (u || 0 === u) &&
                        !_complexExp.test(s) &&
                        h in E)
                    )
                      o || (o = 0),
                        (f = (a + "").substr((u + "").length)) !==
                          (d =
                            getUnit(s) ||
                            (h in _config.units ? _config.units[h] : f)) &&
                          (u = _convertToUnit(e, h, a, d)),
                        (this._pt = new PropTween$2(
                          this._pt,
                          _ ? m : E,
                          h,
                          u,
                          (p ? _parseRelative(u, p + o) : o) - u,
                          _ ||
                          ("px" !== d && "zIndex" !== h) ||
                          !1 === t.autoRound
                            ? _renderCSSProp
                            : _renderRoundedCSSProp
                        )),
                        (this._pt.u = d || 0),
                        f !== d &&
                          "%" !== d &&
                          ((this._pt.b = a),
                          (this._pt.r = _renderCSSPropWithBeginning));
                    else if (h in E)
                      _tweenComplexCSSString.call(this, e, h, a, p ? p + s : s);
                    else if (h in e)
                      this.add(e, h, a || e[h], p ? p + s : s, n, i);
                    else if ("parseTransform" !== h) {
                      _missingPlugin(h, s);
                      continue;
                    }
                    _ ||
                      (h in E ? T.push(h, 0, E[h]) : T.push(h, 1, a || e[h])),
                      x.push(h);
                  }
              y && _sortPropTweensByPriority(this);
            },
            render: function (e, t) {
              if (t.tween._time || !_reverting$1())
                for (var r = t._pt; r; ) r.r(e, r.d), (r = r._next);
              else t.styles.revert();
            },
            get: _get,
            aliases: _propertyAliases,
            getSetter: function (e, t, r) {
              var n = _propertyAliases[t];
              return (
                n && n.indexOf(",") < 0 && (t = n),
                t in _transformProps &&
                t !== _transformOriginProp$1 &&
                (e._gsap.x || _get(e, "x"))
                  ? r && _recentSetterPlugin === r
                    ? "scale" === t
                      ? _setterScale
                      : _setterTransform
                    : (_recentSetterPlugin = r || {}) &&
                      ("scale" === t
                        ? _setterScaleWithRender
                        : _setterTransformWithRender)
                  : e.style && !_isUndefined$1(e.style[t])
                  ? _setterCSSStyle
                  : ~t.indexOf("-")
                  ? _setterCSSProp
                  : _getSetter$1(e, t)
              );
            },
            core: { _removeProperty: _removeProperty, _getMatrix: _getMatrix }
          },
          positionAndScale,
          rotation,
          all;
        (gsap$2.utils.checkPrefix = _checkPropPrefix),
          (gsap$2.core.getStyleSaver = _getStyleSaver$1),
          (positionAndScale = "x,y,z,scale,scaleX,scaleY,xPercent,yPercent"),
          (rotation = "rotation,rotationX,rotationY,skewX,skewY"),
          (all = _forEachName(
            positionAndScale +
              "," +
              rotation +
              ",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",
            function (e) {
              _transformProps[e] = 1;
            }
          )),
          _forEachName(rotation, function (e) {
            (_config.units[e] = "deg"), (_rotationalProperties[e] = 1);
          }),
          (_propertyAliases[all[13]] = positionAndScale + "," + rotation),
          _forEachName(
            "0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",
            function (e) {
              var t = e.split(":");
              _propertyAliases[t[1]] = all[t[0]];
            }
          ),
          _forEachName(
            "x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",
            function (e) {
              _config.units[e] = "px";
            }
          ),
          gsap$2.registerPlugin(CSSPlugin);
        var gsapWithCSS = exports(
          "j",
          gsap$2.registerPlugin(CSSPlugin) || gsap$2
        );
        gsapWithCSS.core.Tween;
        /*!
         * PixiPlugin 3.11.5
         * https://greensock.com
         *
         * @license Copyright 2008-2023, GreenSock. All rights reserved.
         * Subject to the terms at https://greensock.com/standard-license or for
         * Club GreenSock members, the agreement issued with that membership.
         * @author: Jack Doyle, jack@greensock.com
         */ var gsap$1,
          _win$1,
          _splitColor,
          _PIXI,
          PropTween$1,
          _getSetter,
          _isV4,
          _windowExists = function () {
            return "undefined" != typeof window;
          },
          _getGSAP$1 = function () {
            return (
              gsap$1 ||
              (_windowExists() &&
                (gsap$1 = window.gsap) &&
                gsap$1.registerPlugin &&
                gsap$1)
            );
          },
          _isFunction = function (e) {
            return "function" == typeof e;
          },
          _warn = function (e) {
            return console.warn(e);
          },
          _idMatrix = [
            1,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            0,
            0,
            1,
            0
          ],
          _lumR = 0.212671,
          _lumG = 0.71516,
          _lumB = 0.072169,
          _applyMatrix = function (e, t) {
            var r,
              n,
              i = [],
              a = 0,
              s = 0;
            for (r = 0; r < 4; r++) {
              for (n = 0; n < 5; n++)
                (s = 4 === n ? e[a + 4] : 0),
                  (i[a + n] =
                    e[a] * t[n] +
                    e[a + 1] * t[n + 5] +
                    e[a + 2] * t[n + 10] +
                    e[a + 3] * t[n + 15] +
                    s);
              a += 5;
            }
            return i;
          },
          _setSaturation = function (e, t) {
            var r = 1 - t,
              n = r * _lumR,
              i = r * _lumG,
              a = r * _lumB;
            return _applyMatrix(
              [
                n + t,
                i,
                a,
                0,
                0,
                n,
                i + t,
                a,
                0,
                0,
                n,
                i,
                a + t,
                0,
                0,
                0,
                0,
                0,
                1,
                0
              ],
              e
            );
          },
          _colorize = function (e, t, r) {
            var n = _splitColor(t),
              i = n[0] / 255,
              a = n[1] / 255,
              s = n[2] / 255,
              o = 1 - r;
            return _applyMatrix(
              [
                o + r * i * _lumR,
                r * i * _lumG,
                r * i * _lumB,
                0,
                0,
                r * a * _lumR,
                o + r * a * _lumG,
                r * a * _lumB,
                0,
                0,
                r * s * _lumR,
                r * s * _lumG,
                o + r * s * _lumB,
                0,
                0,
                0,
                0,
                0,
                1,
                0
              ],
              e
            );
          },
          _setHue = function (e, t) {
            t *= Math.PI / 180;
            var r = Math.cos(t),
              n = Math.sin(t);
            return _applyMatrix(
              [
                _lumR + r * (1 - _lumR) + n * -_lumR,
                _lumG + r * -_lumG + n * -_lumG,
                _lumB + r * -_lumB + n * (1 - _lumB),
                0,
                0,
                _lumR + r * -_lumR + 0.143 * n,
                _lumG + r * (1 - _lumG) + 0.14 * n,
                _lumB + r * -_lumB + -0.283 * n,
                0,
                0,
                _lumR + r * -_lumR + n * -(1 - _lumR),
                _lumG + r * -_lumG + n * _lumG,
                _lumB + r * (1 - _lumB) + n * _lumB,
                0,
                0,
                0,
                0,
                0,
                1,
                0,
                0,
                0,
                0,
                0,
                1
              ],
              e
            );
          },
          _setContrast = function (e, t) {
            return _applyMatrix(
              [
                t,
                0,
                0,
                0,
                0.5 * (1 - t),
                0,
                t,
                0,
                0,
                0.5 * (1 - t),
                0,
                0,
                t,
                0,
                0.5 * (1 - t),
                0,
                0,
                0,
                1,
                0
              ],
              e
            );
          },
          _getFilter = function (e, t) {
            var r,
              n = _PIXI.filters[t],
              i = e.filters || [],
              a = i.length;
            for (
              n || _warn(t + " not found. PixiPlugin.registerPIXI(PIXI)");
              --a > -1;

            )
              if (i[a] instanceof n) return i[a];
            return (
              (r = new n()),
              "BlurFilter" === t && (r.blur = 0),
              i.push(r),
              (e.filters = i),
              r
            );
          },
          _addColorMatrixFilterCacheTween = function (e, t, r, n) {
            t.add(r, e, r[e], n[e]), t._props.push(e);
          },
          _applyBrightnessToMatrix = function (e, t) {
            var r = new _PIXI.filters.ColorMatrixFilter();
            return (r.matrix = t), r.brightness(e, !0), r.matrix;
          },
          _copy = function (e) {
            var t,
              r = {};
            for (t in e) r[t] = e[t];
            return r;
          },
          _CMFdefaults = {
            contrast: 1,
            saturation: 1,
            colorizeAmount: 0,
            colorize: "rgb(255,255,255)",
            hue: 0,
            brightness: 1
          },
          _parseColorMatrixFilter = function (e, t, r) {
            var n,
              i,
              a,
              s = _getFilter(e, "ColorMatrixFilter"),
              o = (e._gsColorMatrixFilter =
                e._gsColorMatrixFilter || _copy(_CMFdefaults)),
              u =
                t.combineCMF &&
                !("colorMatrixFilter" in t && !t.colorMatrixFilter);
            (a = s.matrix),
              t.resolution && (s.resolution = t.resolution),
              t.matrix && t.matrix.length === a.length
                ? ((i = t.matrix),
                  1 !== o.contrast &&
                    _addColorMatrixFilterCacheTween(
                      "contrast",
                      r,
                      o,
                      _CMFdefaults
                    ),
                  o.hue &&
                    _addColorMatrixFilterCacheTween("hue", r, o, _CMFdefaults),
                  1 !== o.brightness &&
                    _addColorMatrixFilterCacheTween(
                      "brightness",
                      r,
                      o,
                      _CMFdefaults
                    ),
                  o.colorizeAmount &&
                    (_addColorMatrixFilterCacheTween(
                      "colorize",
                      r,
                      o,
                      _CMFdefaults
                    ),
                    _addColorMatrixFilterCacheTween(
                      "colorizeAmount",
                      r,
                      o,
                      _CMFdefaults
                    )),
                  1 !== o.saturation &&
                    _addColorMatrixFilterCacheTween(
                      "saturation",
                      r,
                      o,
                      _CMFdefaults
                    ))
                : ((i = _idMatrix.slice()),
                  null != t.contrast
                    ? ((i = _setContrast(i, +t.contrast)),
                      _addColorMatrixFilterCacheTween("contrast", r, o, t))
                    : 1 !== o.contrast &&
                      (u
                        ? (i = _setContrast(i, o.contrast))
                        : _addColorMatrixFilterCacheTween(
                            "contrast",
                            r,
                            o,
                            _CMFdefaults
                          )),
                  null != t.hue
                    ? ((i = _setHue(i, +t.hue)),
                      _addColorMatrixFilterCacheTween("hue", r, o, t))
                    : o.hue &&
                      (u
                        ? (i = _setHue(i, o.hue))
                        : _addColorMatrixFilterCacheTween(
                            "hue",
                            r,
                            o,
                            _CMFdefaults
                          )),
                  null != t.brightness
                    ? ((i = _applyBrightnessToMatrix(+t.brightness, i)),
                      _addColorMatrixFilterCacheTween("brightness", r, o, t))
                    : 1 !== o.brightness &&
                      (u
                        ? (i = _applyBrightnessToMatrix(o.brightness, i))
                        : _addColorMatrixFilterCacheTween(
                            "brightness",
                            r,
                            o,
                            _CMFdefaults
                          )),
                  null != t.colorize
                    ? ((t.colorizeAmount =
                        "colorizeAmount" in t ? +t.colorizeAmount : 1),
                      (i = _colorize(i, t.colorize, t.colorizeAmount)),
                      _addColorMatrixFilterCacheTween("colorize", r, o, t),
                      _addColorMatrixFilterCacheTween(
                        "colorizeAmount",
                        r,
                        o,
                        t
                      ))
                    : o.colorizeAmount &&
                      (u
                        ? (i = _colorize(i, o.colorize, o.colorizeAmount))
                        : (_addColorMatrixFilterCacheTween(
                            "colorize",
                            r,
                            o,
                            _CMFdefaults
                          ),
                          _addColorMatrixFilterCacheTween(
                            "colorizeAmount",
                            r,
                            o,
                            _CMFdefaults
                          ))),
                  null != t.saturation
                    ? ((i = _setSaturation(i, +t.saturation)),
                      _addColorMatrixFilterCacheTween("saturation", r, o, t))
                    : 1 !== o.saturation &&
                      (u
                        ? (i = _setSaturation(i, o.saturation))
                        : _addColorMatrixFilterCacheTween(
                            "saturation",
                            r,
                            o,
                            _CMFdefaults
                          ))),
              (n = i.length);
            for (; --n > -1; )
              i[n] !== a[n] && r.add(a, n, a[n], i[n], "colorMatrixFilter");
            r._props.push("colorMatrixFilter");
          },
          _renderColor = function (e, t) {
            var r = t.t,
              n = t.p,
              i = t.color;
            (0, t.set)(r, n, (i[0] << 16) | (i[1] << 8) | i[2]);
          },
          _renderDirtyCache = function (e, t) {
            var r = t.g;
            r && (r.dirty++, r.clearDirty++);
          },
          _renderAutoAlpha = function (e, t) {
            t.t.visible = !!t.t.alpha;
          },
          _addColorTween = function (e, t, r, n) {
            var i = e[t],
              a = _splitColor(
                _isFunction(i)
                  ? e[
                      t.indexOf("set") || !_isFunction(e["get" + t.substr(3)])
                        ? t
                        : "get" + t.substr(3)
                    ]()
                  : i
              ),
              s = _splitColor(r);
            (n._pt = new PropTween$1(n._pt, e, t, 0, 0, _renderColor, {
              t: e,
              p: t,
              color: a,
              set: _getSetter(e, t)
            })),
              n.add(a, 0, a[0], s[0]),
              n.add(a, 1, a[1], s[1]),
              n.add(a, 2, a[2], s[2]);
          },
          _colorProps = { tint: 1, lineColor: 1, fillColor: 1 },
          _xyContexts = "position,scale,skew,pivot,anchor,tilePosition,tileScale".split(
            ","
          ),
          _contexts = {
            x: "position",
            y: "position",
            tileX: "tilePosition",
            tileY: "tilePosition"
          },
          _colorMatrixFilterProps = {
            colorMatrixFilter: 1,
            saturation: 1,
            contrast: 1,
            hue: 1,
            colorize: 1,
            colorizeAmount: 1,
            brightness: 1,
            combineCMF: 1
          },
          _DEG2RAD$2 = Math.PI / 180,
          _isString$1 = function (e) {
            return "string" == typeof e;
          },
          _degreesToRadians = function (e) {
            return _isString$1(e) && "=" === e.charAt(1)
              ? e.substr(0, 2) + parseFloat(e.substr(2)) * _DEG2RAD$2
              : e * _DEG2RAD$2;
          },
          _renderPropWithEnd = function (e, t) {
            return t.set(
              t.t,
              t.p,
              1 === e ? t.e : Math.round(1e5 * (t.s + t.c * e)) / 1e5,
              t
            );
          },
          _addRotationalPropTween = function (e, t, r, n, i, a) {
            var s,
              o,
              u = 360 * (a ? _DEG2RAD$2 : 1),
              l = _isString$1(i),
              c = l && "=" === i.charAt(1) ? +(i.charAt(0) + "1") : 0,
              h = parseFloat(c ? i.substr(2) : i) * (a ? _DEG2RAD$2 : 1),
              f = c ? h * c : h - n,
              d = n + f;
            return (
              l &&
                ("short" === (s = i.split("_")[1]) &&
                  (f %= u) !== f % (u / 2) &&
                  (f += f < 0 ? u : -u),
                "cw" === s && f < 0
                  ? (f = ((f + 1e10 * u) % u) - ~~(f / u) * u)
                  : "ccw" === s &&
                    f > 0 &&
                    (f = ((f - 1e10 * u) % u) - ~~(f / u) * u)),
              (e._pt = o = new PropTween$1(
                e._pt,
                t,
                r,
                n,
                f,
                _renderPropWithEnd
              )),
              (o.e = d),
              o
            );
          },
          _initCore = function () {
            _windowExists() &&
              ((_win$1 = window),
              (gsap$1 = _getGSAP$1()),
              (_PIXI = _PIXI || _win$1.PIXI),
              (_isV4 =
                _PIXI && _PIXI.VERSION && "4" === _PIXI.VERSION.charAt(0)),
              (_splitColor = function (e) {
                return gsap$1.utils.splitColor(
                  "0x" === (e + "").substr(0, 2) ? "#" + e.substr(2) : e
                );
              }));
          },
          i,
          p;
        for (i = 0; i < _xyContexts.length; i++)
          (p = _xyContexts[i]),
            (_contexts[p + "X"] = p),
            (_contexts[p + "Y"] = p);
        var PixiPlugin = exports("P", {
          version: "3.11.5",
          name: "pixi",
          register: function (e, t, r) {
            (gsap$1 = e),
              (PropTween$1 = r),
              (_getSetter = t.getSetter),
              _initCore();
          },
          registerPIXI: function (e) {
            _PIXI = e;
          },
          init: function (e, t, r, n, i) {
            if (
              (_PIXI || _initCore(),
              !(_PIXI && e instanceof _PIXI.DisplayObject))
            )
              return (
                console.warn(
                  e,
                  "is not a DisplayObject or PIXI was not found. PixiPlugin.registerPIXI(PIXI);"
                ),
                !1
              );
            var a, s, o, u, l, c, h, f, d;
            for (c in t) {
              if (((a = _contexts[c]), (o = t[c]), a))
                (s = ~c
                  .charAt(c.length - 1)
                  .toLowerCase()
                  .indexOf("x")
                  ? "x"
                  : "y"),
                  this.add(
                    e[a],
                    s,
                    e[a][s],
                    "skew" === a ? _degreesToRadians(o) : o,
                    0,
                    0,
                    0,
                    0,
                    0,
                    1
                  );
              else if (
                "scale" === c ||
                "anchor" === c ||
                "pivot" === c ||
                "tileScale" === c
              )
                this.add(e[c], "x", e[c].x, o), this.add(e[c], "y", e[c].y, o);
              else if ("rotation" === c || "angle" === c)
                _addRotationalPropTween(this, e, c, e[c], o, "rotation" === c);
              else if (_colorMatrixFilterProps[c])
                u ||
                  (_parseColorMatrixFilter(e, t.colorMatrixFilter || t, this),
                  (u = !0));
              else if (
                "blur" === c ||
                "blurX" === c ||
                "blurY" === c ||
                "blurPadding" === c
              ) {
                if (
                  ((l = _getFilter(e, "BlurFilter")),
                  this.add(l, c, l[c], o),
                  0 !== t.blurPadding)
                )
                  for (
                    h = t.blurPadding || 2 * Math.max(l[c], o),
                      f = e.filters.length;
                    --f > -1;

                  )
                    e.filters[f].padding = Math.max(e.filters[f].padding, h);
              } else if (_colorProps[c])
                if (
                  ("lineColor" === c || "fillColor" === c) &&
                  e instanceof _PIXI.Graphics
                )
                  for (
                    d = (e.geometry || e).graphicsData,
                      this._pt = new PropTween$1(
                        this._pt,
                        e,
                        c,
                        0,
                        0,
                        _renderDirtyCache,
                        { g: e.geometry || e }
                      ),
                      f = d.length;
                    --f > -1;

                  )
                    _addColorTween(
                      _isV4 ? d[f] : d[f][c.substr(0, 4) + "Style"],
                      _isV4 ? c : "color",
                      o,
                      this
                    );
                else _addColorTween(e, c, o, this);
              else
                "autoAlpha" === c
                  ? ((this._pt = new PropTween$1(
                      this._pt,
                      e,
                      "visible",
                      0,
                      0,
                      _renderAutoAlpha
                    )),
                    this.add(e, "alpha", e.alpha, o),
                    this._props.push("alpha", "visible"))
                  : "resolution" !== c && this.add(e, c, "get", o);
              this._props.push(c);
            }
          }
        });
        _getGSAP$1() && gsap$1.registerPlugin(PixiPlugin);
        /*!
         * paths 3.11.5
         * https://greensock.com
         *
         * Copyright 2008-2023, GreenSock. All rights reserved.
         * Subject to the terms at https://greensock.com/standard-license or for
         * Club GreenSock members, the agreement issued with that membership.
         * @author: Jack Doyle, jack@greensock.com
         */ var _svgPathExp = /[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,
          _numbersExp = /(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,
          _scientific = /[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,
          _selectorExp = /(^[#\.][a-z]|[a-y][a-z])/i,
          _DEG2RAD$1 = Math.PI / 180,
          _RAD2DEG = 180 / Math.PI,
          _sin = Math.sin,
          _cos = Math.cos,
          _abs = Math.abs,
          _sqrt = Math.sqrt,
          _atan2 = Math.atan2,
          _largeNum = 1e8,
          _isString = function (e) {
            return "string" == typeof e;
          },
          _isNumber = function (e) {
            return "number" == typeof e;
          },
          _isUndefined = function (e) {
            return void 0 === e;
          },
          _temp = {},
          _temp2 = {},
          _roundingNum = 1e5,
          _wrapProgress = function (e) {
            return (
              Math.round(((e + _largeNum) % 1) * _roundingNum) / _roundingNum ||
              (e < 0 ? 0 : 1)
            );
          },
          _round = function (e) {
            return Math.round(e * _roundingNum) / _roundingNum || 0;
          },
          _roundPrecise = function (e) {
            return Math.round(1e10 * e) / 1e10 || 0;
          },
          _splitSegment = function (e, t, r, n) {
            var i = e[t],
              a = 1 === n ? 6 : subdivideSegment(i, r, n);
            if (a && a + r + 2 < i.length)
              return (
                e.splice(t, 0, i.slice(0, r + a + 2)), i.splice(0, r + a), 1
              );
          },
          _getSampleIndex = function (e, t, r) {
            var n = e.length,
              i = ~~(r * n);
            if (e[i] > t) {
              for (; --i && e[i] > t; );
              i < 0 && (i = 0);
            } else for (; e[++i] < t && i < n; );
            return i < n ? i : n - 1;
          },
          _reverseRawPath = function (e, t) {
            var r = e.length;
            for (t || e.reverse(); r--; ) e[r].reversed || reverseSegment(e[r]);
          },
          _copyMetaData = function (e, t) {
            return (
              (t.totalLength = e.totalLength),
              e.samples
                ? ((t.samples = e.samples.slice(0)),
                  (t.lookup = e.lookup.slice(0)),
                  (t.minLength = e.minLength),
                  (t.resolution = e.resolution))
                : e.totalPoints && (t.totalPoints = e.totalPoints),
              t
            );
          },
          _appendOrMerge = function (e, t) {
            var r = e.length,
              n = e[r - 1] || [],
              i = n.length;
            r &&
              t[0] === n[i - 2] &&
              t[1] === n[i - 1] &&
              ((t = n.concat(t.slice(2))), r--),
              (e[r] = t);
          };
        function getRawPath(e) {
          var t,
            r = (e =
              (_isString(e) &&
                _selectorExp.test(e) &&
                document.querySelector(e)) ||
              e).getAttribute
              ? e
              : 0;
          return r && (e = e.getAttribute("d"))
            ? (r._gsPath || (r._gsPath = {}),
              (t = r._gsPath[e]) && !t._dirty
                ? t
                : (r._gsPath[e] = stringToRawPath(e)))
            : e
            ? _isString(e)
              ? stringToRawPath(e)
              : _isNumber(e[0])
              ? [e]
              : e
            : console.warn(
                "Expecting a <path> element or an SVG path data string"
              );
        }
        function copyRawPath(e) {
          for (var t = [], r = 0; r < e.length; r++)
            t[r] = _copyMetaData(e[r], e[r].slice(0));
          return _copyMetaData(e, t);
        }
        function reverseSegment(e) {
          var t,
            r = 0;
          for (e.reverse(); r < e.length; r += 2)
            (t = e[r]), (e[r] = e[r + 1]), (e[r + 1] = t);
          e.reversed = !e.reversed;
        }
        var _createPath = function (e, t) {
            var r,
              n = document.createElementNS(
                "http://www.w3.org/2000/svg",
                "path"
              ),
              i = [].slice.call(e.attributes),
              a = i.length;
            for (t = "," + t + ","; --a > -1; )
              (r = i[a].nodeName.toLowerCase()),
                t.indexOf("," + r + ",") < 0 &&
                  n.setAttributeNS(null, r, i[a].nodeValue);
            return n;
          },
          _typeAttrs = {
            rect: "rx,ry,x,y,width,height",
            circle: "r,cx,cy",
            ellipse: "rx,ry,cx,cy",
            line: "x1,x2,y1,y2"
          },
          _attrToObj = function (e, t) {
            for (
              var r = t ? t.split(",") : [], n = {}, i = r.length;
              --i > -1;

            )
              n[r[i]] = +e.getAttribute(r[i]) || 0;
            return n;
          };
        function convertToPath(e, t) {
          var r,
            n,
            i,
            a,
            s,
            o,
            u,
            l,
            c,
            h,
            f,
            d,
            p,
            _,
            v,
            m,
            g,
            y,
            T,
            x,
            E,
            b,
            S = e.tagName.toLowerCase(),
            A = 0.552284749831;
          return "path" !== S && e.getBBox
            ? ((o = _createPath(
                e,
                "x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"
              )),
              (b = _attrToObj(e, _typeAttrs[S])),
              "rect" === S
                ? ((a = b.rx),
                  (s = b.ry || a),
                  (n = b.x),
                  (i = b.y),
                  (h = b.width - 2 * a),
                  (f = b.height - 2 * s),
                  (r =
                    a || s
                      ? "M" +
                        (m = (_ = (p = n + a) + h) + a) +
                        "," +
                        (y = i + s) +
                        " V" +
                        (T = y + f) +
                        " C" +
                        [
                          m,
                          (x = T + s * A),
                          (v = _ + a * A),
                          (E = T + s),
                          _,
                          E,
                          _ - (_ - p) / 3,
                          E,
                          p + (_ - p) / 3,
                          E,
                          p,
                          E,
                          (d = n + a * (1 - A)),
                          E,
                          n,
                          x,
                          n,
                          T,
                          n,
                          T - (T - y) / 3,
                          n,
                          y + (T - y) / 3,
                          n,
                          y,
                          n,
                          (g = i + s * (1 - A)),
                          d,
                          i,
                          p,
                          i,
                          p + (_ - p) / 3,
                          i,
                          _ - (_ - p) / 3,
                          i,
                          _,
                          i,
                          v,
                          i,
                          m,
                          g,
                          m,
                          y
                        ].join(",") +
                        "z"
                      : "M" +
                        (n + h) +
                        "," +
                        i +
                        " v" +
                        f +
                        " h" +
                        -h +
                        " v" +
                        -f +
                        " h" +
                        h +
                        "z"))
                : "circle" === S || "ellipse" === S
                ? ("circle" === S
                    ? (l = (a = s = b.r) * A)
                    : ((a = b.rx), (l = (s = b.ry) * A)),
                  (r =
                    "M" +
                    ((n = b.cx) + a) +
                    "," +
                    (i = b.cy) +
                    " C" +
                    [
                      n + a,
                      i + l,
                      n + (u = a * A),
                      i + s,
                      n,
                      i + s,
                      n - u,
                      i + s,
                      n - a,
                      i + l,
                      n - a,
                      i,
                      n - a,
                      i - l,
                      n - u,
                      i - s,
                      n,
                      i - s,
                      n + u,
                      i - s,
                      n + a,
                      i - l,
                      n + a,
                      i
                    ].join(",") +
                    "z"))
                : "line" === S
                ? (r = "M" + b.x1 + "," + b.y1 + " L" + b.x2 + "," + b.y2)
                : ("polyline" !== S && "polygon" !== S) ||
                  ((r =
                    "M" +
                    (n = (c =
                      (e.getAttribute("points") + "").match(_numbersExp) ||
                      []).shift()) +
                    "," +
                    (i = c.shift()) +
                    " L" +
                    c.join(",")),
                  "polygon" === S && (r += "," + n + "," + i + "z")),
              o.setAttribute(
                "d",
                rawPathToString((o._gsRawPath = stringToRawPath(r)))
              ),
              t &&
                e.parentNode &&
                (e.parentNode.insertBefore(o, e), e.parentNode.removeChild(e)),
              o)
            : e;
        }
        function getRotationAtBezierT(e, t, r) {
          var n,
            i = e[t],
            a = e[t + 2],
            s = e[t + 4];
          return (
            (i += (a - i) * r),
            (i += ((a += (s - a) * r) - i) * r),
            (n = a + (s + (e[t + 6] - s) * r - a) * r - i),
            (i = e[t + 1]),
            (i += ((a = e[t + 3]) - i) * r),
            (i += ((a += ((s = e[t + 5]) - a) * r) - i) * r),
            _round(
              _atan2(a + (s + (e[t + 7] - s) * r - a) * r - i, n) * _RAD2DEG
            )
          );
        }
        function sliceRawPath(e, t, r) {
          (r = _isUndefined(r) ? 1 : _roundPrecise(r) || 0),
            (t = _roundPrecise(t) || 0);
          var n = Math.max(0, ~~(_abs(r - t) - 1e-8)),
            i = copyRawPath(e);
          if (
            (t > r &&
              ((t = 1 - t),
              (r = 1 - r),
              _reverseRawPath(i),
              (i.totalLength = 0)),
            t < 0 || r < 0)
          ) {
            var a = Math.abs(~~Math.min(t, r)) + 1;
            (t += a), (r += a);
          }
          i.totalLength || cacheRawPathMeasurements(i);
          var s,
            o,
            u,
            l,
            c,
            h,
            f,
            d,
            p = r > 1,
            _ = getProgressData(i, t, _temp, !0),
            v = getProgressData(i, r, _temp2),
            m = v.segment,
            g = _.segment,
            y = v.segIndex,
            T = _.segIndex,
            x = v.i,
            E = _.i,
            b = T === y,
            S = x === E && b;
          if (p || n) {
            for (
              s = y < T || (b && x < E) || (S && v.t < _.t),
                _splitSegment(i, T, E, _.t) &&
                  (T++,
                  s ||
                    (y++,
                    S
                      ? ((v.t = (v.t - _.t) / (1 - _.t)), (x = 0))
                      : b && (x -= E))),
                Math.abs(1 - (r - t)) < 1e-5
                  ? (y = T - 1)
                  : !v.t && y
                  ? y--
                  : _splitSegment(i, y, x, v.t) && s && T++,
                1 === _.t && (T = (T + 1) % i.length),
                c = [],
                f = 1 + (h = i.length) * n,
                d = T,
                f += (h - T + y) % h,
                l = 0;
              l < f;
              l++
            )
              _appendOrMerge(c, i[d++ % h]);
            i = c;
          } else if (
            ((u = 1 === v.t ? 6 : subdivideSegment(m, x, v.t)), t !== r)
          )
            for (
              o = subdivideSegment(g, E, S ? _.t / v.t : _.t),
                b && (u += o),
                m.splice(x + u + 2),
                (o || E) && g.splice(0, E + o),
                l = i.length;
              l--;

            )
              (l < T || l > y) && i.splice(l, 1);
          else
            (m.angle = getRotationAtBezierT(m, x + u, 0)),
              (_ = m[(x += u)]),
              (v = m[x + 1]),
              (m.length = m.totalLength = 0),
              (m.totalPoints = i.totalPoints = 8),
              m.push(_, v, _, v, _, v, _, v);
          return (i.totalLength = 0), i;
        }
        function measureSegment(e, t, r) {
          (t = t || 0), e.samples || ((e.samples = []), (e.lookup = []));
          var n,
            i,
            a,
            s,
            o,
            u,
            l,
            c,
            h,
            f,
            d,
            p,
            _,
            v,
            m,
            g,
            y,
            T = ~~e.resolution || 12,
            x = 1 / T,
            E = r ? t + 6 * r + 1 : e.length,
            b = e[t],
            S = e[t + 1],
            A = t ? (t / 6) * T : 0,
            C = e.samples,
            P = e.lookup,
            k = (t ? e.minLength : _largeNum) || _largeNum,
            w = C[A + r * T - 1],
            R = t ? C[A - 1] : 0;
          for (C.length = P.length = 0, i = t + 2; i < E; i += 6) {
            if (
              ((a = e[i + 4] - b),
              (s = e[i + 2] - b),
              (o = e[i] - b),
              (c = e[i + 5] - S),
              (h = e[i + 3] - S),
              (f = e[i + 1] - S),
              (u = l = d = p = 0),
              _abs(a) < 0.01 && _abs(c) < 0.01 && _abs(o) + _abs(f) < 0.01)
            )
              e.length > 8 && (e.splice(i, 6), (i -= 6), (E -= 6));
            else
              for (n = 1; n <= T; n++)
                (u =
                  l -
                  (l =
                    ((v = x * n) * v * a + 3 * (_ = 1 - v) * (v * s + _ * o)) *
                    v)),
                  (d = p - (p = (v * v * c + 3 * _ * (v * h + _ * f)) * v)),
                  (g = _sqrt(d * d + u * u)) < k && (k = g),
                  (R += g),
                  (C[A++] = R);
            (b += a), (S += c);
          }
          if (w) for (w -= R; A < C.length; A++) C[A] += w;
          if (C.length && k) {
            if (
              ((e.totalLength = y = C[C.length - 1] || 0),
              (e.minLength = k),
              y / k < 9999)
            )
              for (g = m = 0, n = 0; n < y; n += k) P[g++] = C[m] < n ? ++m : m;
          } else e.totalLength = C[0] = 0;
          return t ? R - C[t / 2 - 1] : R;
        }
        function cacheRawPathMeasurements(e, t) {
          var r, n, i;
          for (i = r = n = 0; i < e.length; i++)
            (e[i].resolution = ~~t || 12),
              (n += e[i].length),
              (r += measureSegment(e[i]));
          return (e.totalPoints = n), (e.totalLength = r), e;
        }
        function subdivideSegment(e, t, r) {
          if (r <= 0 || r >= 1) return 0;
          var n = e[t],
            i = e[t + 1],
            a = e[t + 2],
            s = e[t + 3],
            o = e[t + 4],
            u = e[t + 5],
            l = n + (a - n) * r,
            c = a + (o - a) * r,
            h = i + (s - i) * r,
            f = s + (u - s) * r,
            d = l + (c - l) * r,
            p = h + (f - h) * r,
            _ = o + (e[t + 6] - o) * r,
            v = u + (e[t + 7] - u) * r;
          return (
            (c += (_ - c) * r),
            (f += (v - f) * r),
            e.splice(
              t + 2,
              4,
              _round(l),
              _round(h),
              _round(d),
              _round(p),
              _round(d + (c - d) * r),
              _round(p + (f - p) * r),
              _round(c),
              _round(f),
              _round(_),
              _round(v)
            ),
            e.samples &&
              e.samples.splice(
                ((t / 6) * e.resolution) | 0,
                0,
                0,
                0,
                0,
                0,
                0,
                0
              ),
            6
          );
        }
        function getProgressData(e, t, r, n) {
          (r = r || {}),
            e.totalLength || cacheRawPathMeasurements(e),
            (t < 0 || t > 1) && (t = _wrapProgress(t));
          var i,
            a,
            s,
            o,
            u,
            l,
            c,
            h = 0,
            f = e[0];
          if (t)
            if (1 === t) (c = 1), (l = (f = e[(h = e.length - 1)]).length - 8);
            else {
              if (e.length > 1) {
                for (
                  s = e.totalLength * t, u = l = 0;
                  (u += e[l++].totalLength) < s;

                )
                  h = l;
                t = (s - (o = u - (f = e[h]).totalLength)) / (u - o) || 0;
              }
              (i = f.samples),
                (a = f.resolution),
                (s = f.totalLength * t),
                (o = (l = f.lookup.length
                  ? f.lookup[~~(s / f.minLength)] || 0
                  : _getSampleIndex(i, s, t))
                  ? i[l - 1]
                  : 0),
                (u = i[l]) < s && ((o = u), (u = i[++l])),
                (c = (1 / a) * ((s - o) / (u - o) + (l % a))),
                (l = 6 * ~~(l / a)),
                n &&
                  1 === c &&
                  (l + 6 < f.length
                    ? ((l += 6), (c = 0))
                    : h + 1 < e.length && ((l = c = 0), (f = e[++h])));
            }
          else (c = l = h = 0), (f = e[0]);
          return (
            (r.t = c),
            (r.i = l),
            (r.path = e),
            (r.segment = f),
            (r.segIndex = h),
            r
          );
        }
        function getPositionOnPath(e, t, r, n) {
          var i,
            a,
            s,
            o,
            u,
            l,
            c,
            h,
            f,
            d = e[0],
            p = n || {};
          if (
            ((t < 0 || t > 1) && (t = _wrapProgress(t)),
            d.lookup || cacheRawPathMeasurements(e),
            e.length > 1)
          ) {
            for (
              s = e.totalLength * t, u = l = 0;
              (u += e[l++].totalLength) < s;

            )
              d = e[l];
            t = (s - (o = u - d.totalLength)) / (u - o) || 0;
          }
          return (
            (i = d.samples),
            (a = d.resolution),
            (s = d.totalLength * t),
            (o = (l = d.lookup.length
              ? d.lookup[t < 1 ? ~~(s / d.minLength) : d.lookup.length - 1] || 0
              : _getSampleIndex(i, s, t))
              ? i[l - 1]
              : 0),
            (u = i[l]) < s && ((o = u), (u = i[++l])),
            (f = 1 - (c = (1 / a) * ((s - o) / (u - o) + (l % a)) || 0)),
            (h = d[(l = 6 * ~~(l / a))]),
            (p.x = _round(
              (c * c * (d[l + 6] - h) +
                3 * f * (c * (d[l + 4] - h) + f * (d[l + 2] - h))) *
                c +
                h
            )),
            (p.y = _round(
              (c * c * (d[l + 7] - (h = d[l + 1])) +
                3 * f * (c * (d[l + 5] - h) + f * (d[l + 3] - h))) *
                c +
                h
            )),
            r &&
              (p.angle = d.totalLength
                ? getRotationAtBezierT(d, l, c >= 1 ? 1 - 1e-9 : c || 1e-9)
                : d.angle || 0),
            p
          );
        }
        function transformRawPath(e, t, r, n, i, a, s) {
          for (var o, u, l, c, h, f = e.length; --f > -1; )
            for (u = (o = e[f]).length, l = 0; l < u; l += 2)
              (c = o[l]),
                (h = o[l + 1]),
                (o[l] = c * t + h * n + a),
                (o[l + 1] = c * r + h * i + s);
          return (e._dirty = 1), e;
        }
        function arcToSegment(e, t, r, n, i, a, s, o, u) {
          if (e !== o || t !== u) {
            (r = _abs(r)), (n = _abs(n));
            var l = (i % 360) * _DEG2RAD$1,
              c = _cos(l),
              h = _sin(l),
              f = Math.PI,
              d = 2 * f,
              p = (e - o) / 2,
              _ = (t - u) / 2,
              v = c * p + h * _,
              m = -h * p + c * _,
              g = v * v,
              y = m * m,
              T = g / (r * r) + y / (n * n);
            T > 1 && ((r = _sqrt(T) * r), (n = _sqrt(T) * n));
            var x = r * r,
              E = n * n,
              b = (x * E - x * y - E * g) / (x * y + E * g);
            b < 0 && (b = 0);
            var S = (a === s ? -1 : 1) * _sqrt(b),
              A = S * ((r * m) / n),
              C = S * ((-n * v) / r),
              P = (e + o) / 2 + (c * A - h * C),
              k = (t + u) / 2 + (h * A + c * C),
              w = (v - A) / r,
              R = (m - C) / n,
              M = (-v - A) / r,
              I = (-m - C) / n,
              O = w * w + R * R,
              D = (R < 0 ? -1 : 1) * Math.acos(w / _sqrt(O)),
              F =
                (w * I - R * M < 0 ? -1 : 1) *
                Math.acos((w * M + R * I) / _sqrt(O * (M * M + I * I)));
            isNaN(F) && (F = f),
              !s && F > 0 ? (F -= d) : s && F < 0 && (F += d),
              (D %= d),
              (F %= d);
            var N,
              L = Math.ceil(_abs(F) / (d / 4)),
              B = [],
              U = F / L,
              G = ((4 / 3) * _sin(U / 2)) / (1 + _cos(U / 2)),
              $ = c * r,
              H = h * r,
              j = h * -n,
              V = c * n;
            for (N = 0; N < L; N++)
              (v = _cos((i = D + N * U))),
                (m = _sin(i)),
                (w = _cos((i += U))),
                (R = _sin(i)),
                B.push(v - G * m, m + G * v, w + G * R, R - G * w, w, R);
            for (N = 0; N < B.length; N += 2)
              (v = B[N]),
                (m = B[N + 1]),
                (B[N] = v * $ + m * j + P),
                (B[N + 1] = v * H + m * V + k);
            return (B[N - 2] = o), (B[N - 1] = u), B;
          }
        }
        function stringToRawPath(e) {
          var t,
            r,
            n,
            i,
            a,
            s,
            o,
            u,
            l,
            c,
            h,
            f,
            d,
            p,
            _,
            v =
              (e + "")
                .replace(_scientific, function (e) {
                  var t = +e;
                  return t < 1e-4 && t > -1e-4 ? 0 : t;
                })
                .match(_svgPathExp) || [],
            m = [],
            g = 0,
            y = 0,
            T = 2 / 3,
            x = v.length,
            E = 0,
            b = "ERROR: malformed path: " + e,
            S = function (e, t, r, n) {
              (c = (r - e) / 3),
                (h = (n - t) / 3),
                o.push(e + c, t + h, r - c, n - h, r, n);
            };
          if (!e || !isNaN(v[0]) || isNaN(v[1])) return console.log(b), m;
          for (t = 0; t < x; t++)
            if (
              ((d = a),
              isNaN(v[t]) ? (s = (a = v[t].toUpperCase()) !== v[t]) : t--,
              (n = +v[t + 1]),
              (i = +v[t + 2]),
              s && ((n += g), (i += y)),
              t || ((u = n), (l = i)),
              "M" === a)
            )
              o && (o.length < 8 ? (m.length -= 1) : (E += o.length)),
                (g = u = n),
                (y = l = i),
                (o = [n, i]),
                m.push(o),
                (t += 2),
                (a = "L");
            else if ("C" === a)
              o || (o = [0, 0]),
                s || (g = y = 0),
                o.push(
                  n,
                  i,
                  g + 1 * v[t + 3],
                  y + 1 * v[t + 4],
                  (g += 1 * v[t + 5]),
                  (y += 1 * v[t + 6])
                ),
                (t += 6);
            else if ("S" === a)
              (c = g),
                (h = y),
                ("C" !== d && "S" !== d) ||
                  ((c += g - o[o.length - 4]), (h += y - o[o.length - 3])),
                s || (g = y = 0),
                o.push(c, h, n, i, (g += 1 * v[t + 3]), (y += 1 * v[t + 4])),
                (t += 4);
            else if ("Q" === a)
              (c = g + (n - g) * T),
                (h = y + (i - y) * T),
                s || (g = y = 0),
                (g += 1 * v[t + 3]),
                (y += 1 * v[t + 4]),
                o.push(c, h, g + (n - g) * T, y + (i - y) * T, g, y),
                (t += 4);
            else if ("T" === a)
              (c = g - o[o.length - 4]),
                (h = y - o[o.length - 3]),
                o.push(
                  g + c,
                  y + h,
                  n + (g + 1.5 * c - n) * T,
                  i + (y + 1.5 * h - i) * T,
                  (g = n),
                  (y = i)
                ),
                (t += 2);
            else if ("H" === a) S(g, y, (g = n), y), (t += 1);
            else if ("V" === a) S(g, y, g, (y = n + (s ? y - g : 0))), (t += 1);
            else if ("L" === a || "Z" === a)
              "Z" === a && ((n = u), (i = l), (o.closed = !0)),
                ("L" === a || _abs(g - n) > 0.5 || _abs(y - i) > 0.5) &&
                  (S(g, y, n, i), "L" === a && (t += 2)),
                (g = n),
                (y = i);
            else if ("A" === a) {
              if (
                ((p = v[t + 4]),
                (_ = v[t + 5]),
                (c = v[t + 6]),
                (h = v[t + 7]),
                (r = 7),
                p.length > 1 &&
                  (p.length < 3
                    ? ((h = c), (c = _), r--)
                    : ((h = _), (c = p.substr(2)), (r -= 2)),
                  (_ = p.charAt(1)),
                  (p = p.charAt(0))),
                (f = arcToSegment(
                  g,
                  y,
                  +v[t + 1],
                  +v[t + 2],
                  +v[t + 3],
                  +p,
                  +_,
                  (s ? g : 0) + 1 * c,
                  (s ? y : 0) + 1 * h
                )),
                (t += r),
                f)
              )
                for (r = 0; r < f.length; r++) o.push(f[r]);
              (g = o[o.length - 2]), (y = o[o.length - 1]);
            } else console.log(b);
          return (
            (t = o.length) < 6
              ? (m.pop(), (t = 0))
              : o[0] === o[t - 2] && o[1] === o[t - 1] && (o.closed = !0),
            (m.totalPoints = E + t),
            m
          );
        }
        function flatPointsToSegment(e, t) {
          void 0 === t && (t = 1);
          for (var r = e[0], n = 0, i = [r, n], a = 2; a < e.length; a += 2)
            i.push(r, n, e[a], (n = ((e[a] - r) * t) / 2), (r = e[a]), -n);
          return i;
        }
        function pointsToSegment(e, t) {
          _abs(e[0] - e[2]) < 1e-4 &&
            _abs(e[1] - e[3]) < 1e-4 &&
            (e = e.slice(2));
          var r,
            n,
            i,
            a,
            s,
            o,
            u,
            l,
            c,
            h,
            f,
            d,
            p,
            _,
            v = e.length - 2,
            m = +e[0],
            g = +e[1],
            y = +e[2],
            T = +e[3],
            x = [m, g, m, g],
            E = y - m,
            b = T - g,
            S = Math.abs(e[v] - m) < 0.001 && Math.abs(e[v + 1] - g) < 0.001;
          for (
            S &&
              (e.push(y, T),
              (y = m),
              (T = g),
              (m = e[v - 2]),
              (g = e[v - 1]),
              e.unshift(m, g),
              (v += 4)),
              t = t || 0 === t ? +t : 1,
              i = 2;
            i < v;
            i += 2
          )
            (r = m),
              (n = g),
              (m = y),
              (g = T),
              (y = +e[i + 2]),
              (T = +e[i + 3]),
              (m === y && g === T) ||
                ((a = E),
                (s = b),
                (E = y - m),
                (b = T - g),
                (l =
                  (((o = _sqrt(a * a + s * s)) + (u = _sqrt(E * E + b * b))) *
                    t *
                    0.25) /
                  _sqrt(
                    Math.pow(E / u + a / o, 2) + Math.pow(b / u + s / o, 2)
                  )),
                (f =
                  m -
                  ((c = m - (m - r) * (o ? l / o : 0)) +
                    ((((h = m + (y - m) * (u ? l / u : 0)) - c) *
                      ((3 * o) / (o + u) + 0.5)) /
                      4 || 0))),
                (_ =
                  g -
                  ((d = g - (g - n) * (o ? l / o : 0)) +
                    ((((p = g + (T - g) * (u ? l / u : 0)) - d) *
                      ((3 * o) / (o + u) + 0.5)) /
                      4 || 0))),
                (m === r && g === n) ||
                  x.push(
                    _round(c + f),
                    _round(d + _),
                    _round(m),
                    _round(g),
                    _round(h + f),
                    _round(p + _)
                  ));
          return (
            m !== y || g !== T || x.length < 4
              ? x.push(_round(y), _round(T), _round(y), _round(T))
              : (x.length -= 2),
            2 === x.length
              ? x.push(m, g, m, g, m, g)
              : S && (x.splice(0, 6), (x.length = x.length - 6)),
            x
          );
        }
        function rawPathToString(e) {
          _isNumber(e[0]) && (e = [e]);
          var t,
            r,
            n,
            i,
            a = "",
            s = e.length;
          for (r = 0; r < s; r++) {
            for (
              i = e[r],
                a += "M" + _round(i[0]) + "," + _round(i[1]) + " C",
                t = i.length,
                n = 2;
              n < t;
              n++
            )
              a +=
                _round(i[n++]) +
                "," +
                _round(i[n++]) +
                " " +
                _round(i[n++]) +
                "," +
                _round(i[n++]) +
                " " +
                _round(i[n++]) +
                "," +
                _round(i[n]) +
                " ";
            i.closed && (a += "z");
          }
          return a;
        }
        /*!
         * matrix 3.11.5
         * https://greensock.com
         *
         * Copyright 2008-2023, GreenSock. All rights reserved.
         * Subject to the terms at https://greensock.com/standard-license or for
         * Club GreenSock members, the agreement issued with that membership.
         * @author: Jack Doyle, jack@greensock.com
         */ var _doc,
          _win,
          _docElement,
          _body,
          _divContainer,
          _svgContainer,
          _identityMatrix,
          _gEl,
          _transformProp = "transform",
          _transformOriginProp = _transformProp + "Origin",
          _hasOffsetBug,
          _setDoc = function (e) {
            var t = e.ownerDocument || e;
            !(_transformProp in e.style) &&
              "msTransform" in e.style &&
              (_transformOriginProp =
                (_transformProp = "msTransform") + "Origin");
            for (; t.parentNode && (t = t.parentNode); );
            if (((_win = window), (_identityMatrix = new Matrix2D()), t)) {
              (_doc = t),
                (_docElement = t.documentElement),
                (_body = t.body),
                ((_gEl = _doc.createElementNS(
                  "http://www.w3.org/2000/svg",
                  "g"
                )).style.transform = "none");
              var r = t.createElement("div"),
                n = t.createElement("div");
              _body.appendChild(r),
                r.appendChild(n),
                (r.style.position = "static"),
                (r.style[_transformProp] = "translate3d(0,0,1px)"),
                (_hasOffsetBug = n.offsetParent !== r),
                _body.removeChild(r);
            }
            return t;
          },
          _forceNonZeroScale = function (e) {
            for (var t, r; e && e !== _body; )
              (r = e._gsap) && r.uncache && r.get(e, "x"),
                r &&
                  !r.scaleX &&
                  !r.scaleY &&
                  r.renderTransform &&
                  ((r.scaleX = r.scaleY = 1e-4),
                  r.renderTransform(1, r),
                  t ? t.push(r) : (t = [r])),
                (e = e.parentNode);
            return t;
          },
          _svgTemps = [],
          _divTemps = [],
          _getDocScrollTop = function () {
            return (
              _win.pageYOffset ||
              _doc.scrollTop ||
              _docElement.scrollTop ||
              _body.scrollTop ||
              0
            );
          },
          _getDocScrollLeft = function () {
            return (
              _win.pageXOffset ||
              _doc.scrollLeft ||
              _docElement.scrollLeft ||
              _body.scrollLeft ||
              0
            );
          },
          _svgOwner = function (e) {
            return (
              e.ownerSVGElement ||
              ("svg" === (e.tagName + "").toLowerCase() ? e : null)
            );
          },
          _isFixed = function e(t) {
            return (
              "fixed" === _win.getComputedStyle(t).position ||
              ((t = t.parentNode) && 1 === t.nodeType ? e(t) : void 0)
            );
          },
          _createSibling = function e(t, r) {
            if (t.parentNode && (_doc || _setDoc(t))) {
              var n = _svgOwner(t),
                i = n
                  ? n.getAttribute("xmlns") || "http://www.w3.org/2000/svg"
                  : "http://www.w3.org/1999/xhtml",
                a = n ? (r ? "rect" : "g") : "div",
                s = 2 !== r ? 0 : 100,
                o = 3 === r ? 100 : 0,
                u =
                  "position:absolute;display:block;pointer-events:none;margin:0;padding:0;",
                l = _doc.createElementNS
                  ? _doc.createElementNS(i.replace(/^https/, "http"), a)
                  : _doc.createElement(a);
              return (
                r &&
                  (n
                    ? (_svgContainer || (_svgContainer = e(t)),
                      l.setAttribute("width", 0.01),
                      l.setAttribute("height", 0.01),
                      l.setAttribute(
                        "transform",
                        "translate(" + s + "," + o + ")"
                      ),
                      _svgContainer.appendChild(l))
                    : (_divContainer ||
                        ((_divContainer = e(t)).style.cssText = u),
                      (l.style.cssText =
                        u +
                        "width:0.1px;height:0.1px;top:" +
                        o +
                        "px;left:" +
                        s +
                        "px"),
                      _divContainer.appendChild(l))),
                l
              );
            }
            throw "Need document and parent.";
          },
          _consolidate = function (e) {
            for (var t = new Matrix2D(), r = 0; r < e.numberOfItems; r++)
              t.multiply(e.getItem(r).matrix);
            return t;
          },
          _getCTM = function (e) {
            var t,
              r = e.getCTM();
            return (
              r ||
                ((t = e.style[_transformProp]),
                (e.style[_transformProp] = "none"),
                e.appendChild(_gEl),
                (r = _gEl.getCTM()),
                e.removeChild(_gEl),
                t
                  ? (e.style[_transformProp] = t)
                  : e.style.removeProperty(
                      _transformProp.replace(/([A-Z])/g, "-$1").toLowerCase()
                    )),
              r || _identityMatrix.clone()
            );
          },
          _placeSiblings = function (e, t) {
            var r,
              n,
              i,
              a,
              s,
              o,
              u = _svgOwner(e),
              l = e === u,
              c = u ? _svgTemps : _divTemps,
              h = e.parentNode;
            if (e === _win) return e;
            if (
              (c.length ||
                c.push(
                  _createSibling(e, 1),
                  _createSibling(e, 2),
                  _createSibling(e, 3)
                ),
              (r = u ? _svgContainer : _divContainer),
              u)
            )
              l
                ? ((a = -(i = _getCTM(e)).e / i.a),
                  (s = -i.f / i.d),
                  (n = _identityMatrix))
                : e.getBBox
                ? ((i = e.getBBox()),
                  (a =
                    (n = (n = e.transform ? e.transform.baseVal : {})
                      .numberOfItems
                      ? n.numberOfItems > 1
                        ? _consolidate(n)
                        : n.getItem(0).matrix
                      : _identityMatrix).a *
                      i.x +
                    n.c * i.y),
                  (s = n.b * i.x + n.d * i.y))
                : ((n = new Matrix2D()), (a = s = 0)),
                t && "g" === e.tagName.toLowerCase() && (a = s = 0),
                (l ? u : h).appendChild(r),
                r.setAttribute(
                  "transform",
                  "matrix(" +
                    n.a +
                    "," +
                    n.b +
                    "," +
                    n.c +
                    "," +
                    n.d +
                    "," +
                    (n.e + a) +
                    "," +
                    (n.f + s) +
                    ")"
                );
            else {
              if (((a = s = 0), _hasOffsetBug))
                for (
                  n = e.offsetParent, i = e;
                  i && (i = i.parentNode) && i !== n && i.parentNode;

                )
                  (_win.getComputedStyle(i)[_transformProp] + "").length > 4 &&
                    ((a = i.offsetLeft), (s = i.offsetTop), (i = 0));
              if (
                "absolute" !== (o = _win.getComputedStyle(e)).position &&
                "fixed" !== o.position
              )
                for (n = e.offsetParent; h && h !== n; )
                  (a += h.scrollLeft || 0),
                    (s += h.scrollTop || 0),
                    (h = h.parentNode);
              ((i = r.style).top = e.offsetTop - s + "px"),
                (i.left = e.offsetLeft - a + "px"),
                (i[_transformProp] = o[_transformProp]),
                (i[_transformOriginProp] = o[_transformOriginProp]),
                (i.position = "fixed" === o.position ? "fixed" : "absolute"),
                e.parentNode.appendChild(r);
            }
            return r;
          },
          _setMatrix = function (e, t, r, n, i, a, s) {
            return (
              (e.a = t),
              (e.b = r),
              (e.c = n),
              (e.d = i),
              (e.e = a),
              (e.f = s),
              e
            );
          },
          Matrix2D = (function () {
            function e(e, t, r, n, i, a) {
              void 0 === e && (e = 1),
                void 0 === t && (t = 0),
                void 0 === r && (r = 0),
                void 0 === n && (n = 1),
                void 0 === i && (i = 0),
                void 0 === a && (a = 0),
                _setMatrix(this, e, t, r, n, i, a);
            }
            var t = e.prototype;
            return (
              (t.inverse = function () {
                var e = this.a,
                  t = this.b,
                  r = this.c,
                  n = this.d,
                  i = this.e,
                  a = this.f,
                  s = e * n - t * r || 1e-10;
                return _setMatrix(
                  this,
                  n / s,
                  -t / s,
                  -r / s,
                  e / s,
                  (r * a - n * i) / s,
                  -(e * a - t * i) / s
                );
              }),
              (t.multiply = function (e) {
                var t = this.a,
                  r = this.b,
                  n = this.c,
                  i = this.d,
                  a = this.e,
                  s = this.f,
                  o = e.a,
                  u = e.c,
                  l = e.b,
                  c = e.d,
                  h = e.e,
                  f = e.f;
                return _setMatrix(
                  this,
                  o * t + l * n,
                  o * r + l * i,
                  u * t + c * n,
                  u * r + c * i,
                  a + h * t + f * n,
                  s + h * r + f * i
                );
              }),
              (t.clone = function () {
                return new e(this.a, this.b, this.c, this.d, this.e, this.f);
              }),
              (t.equals = function (e) {
                var t = this.a,
                  r = this.b,
                  n = this.c,
                  i = this.d,
                  a = this.e,
                  s = this.f;
                return (
                  t === e.a &&
                  r === e.b &&
                  n === e.c &&
                  i === e.d &&
                  a === e.e &&
                  s === e.f
                );
              }),
              (t.apply = function (e, t) {
                void 0 === t && (t = {});
                var r = e.x,
                  n = e.y,
                  i = this.a,
                  a = this.b,
                  s = this.c,
                  o = this.d,
                  u = this.e,
                  l = this.f;
                return (
                  (t.x = r * i + n * s + u || 0),
                  (t.y = r * a + n * o + l || 0),
                  t
                );
              }),
              e
            );
          })();
        function getGlobalMatrix(e, t, r, n) {
          if (!e || !e.parentNode || (_doc || _setDoc(e)).documentElement === e)
            return new Matrix2D();
          var i = _forceNonZeroScale(e),
            a = _svgOwner(e) ? _svgTemps : _divTemps,
            s = _placeSiblings(e, r),
            o = a[0].getBoundingClientRect(),
            u = a[1].getBoundingClientRect(),
            l = a[2].getBoundingClientRect(),
            c = s.parentNode,
            h = !n && _isFixed(e),
            f = new Matrix2D(
              (u.left - o.left) / 100,
              (u.top - o.top) / 100,
              (l.left - o.left) / 100,
              (l.top - o.top) / 100,
              o.left + (h ? 0 : _getDocScrollLeft()),
              o.top + (h ? 0 : _getDocScrollTop())
            );
          if ((c.removeChild(s), i))
            for (o = i.length; o--; )
              ((u = i[o]).scaleX = u.scaleY = 0), u.renderTransform(1, u);
          return t ? f.inverse() : f;
        }
        /*!
         * MotionPathPlugin 3.11.5
         * https://greensock.com
         *
         * @license Copyright 2008-2023, GreenSock. All rights reserved.
         * Subject to the terms at https://greensock.com/standard-license or for
         * Club GreenSock members, the agreement issued with that membership.
         * @author: Jack Doyle, jack@greensock.com
         */ var _xProps = "x,translateX,left,marginLeft,xPercent".split(","),
          _yProps = "y,translateY,top,marginTop,yPercent".split(","),
          _DEG2RAD = Math.PI / 180,
          gsap,
          PropTween,
          _getUnit,
          _toArray,
          _getStyleSaver,
          _reverting,
          _getGSAP = function () {
            return (
              gsap ||
              ("undefined" != typeof window &&
                (gsap = window.gsap) &&
                gsap.registerPlugin &&
                gsap)
            );
          },
          _populateSegmentFromArray = function (e, t, r, n) {
            for (var i = t.length, a = 2 === n ? 0 : n, s = 0; s < i; s++)
              (e[a] = parseFloat(t[s][r])), 2 === n && (e[a + 1] = 0), (a += 2);
            return e;
          },
          _getPropNum = function (e, t, r) {
            return parseFloat(e._gsap.get(e, t, r || "px")) || 0;
          },
          _relativize = function (e) {
            var t,
              r = e[0],
              n = e[1];
            for (t = 2; t < e.length; t += 2)
              (r = e[t] += r), (n = e[t + 1] += n);
          },
          _segmentToRawPath = function (e, t, r, n, i, a, s, o, u) {
            "cubic" === s.type
              ? (t = [t])
              : (!1 !== s.fromCurrent &&
                  t.unshift(_getPropNum(r, n, o), i ? _getPropNum(r, i, u) : 0),
                s.relative && _relativize(t),
                (t = [
                  (i ? pointsToSegment : flatPointsToSegment)(t, s.curviness)
                ]));
            return (
              (t = a(_align(t, r, s))),
              _addDimensionalPropTween(e, r, n, t, "x", o),
              i && _addDimensionalPropTween(e, r, i, t, "y", u),
              cacheRawPathMeasurements(
                t,
                s.resolution || (0 === s.curviness ? 20 : 12)
              )
            );
          },
          _emptyFunc = function (e) {
            return e;
          },
          _numExp = /[-+\.]*\d+\.?(?:e-|e\+)?\d*/g,
          _originToPoint = function (e, t, r) {
            var n,
              i = getGlobalMatrix(e),
              a = 0,
              s = 0;
            return (
              "svg" === (e.tagName + "").toLowerCase()
                ? (n = e.viewBox.baseVal).width ||
                  (n = {
                    width: +e.getAttribute("width"),
                    height: +e.getAttribute("height")
                  })
                : (n = t && e.getBBox && e.getBBox()),
              t &&
                "auto" !== t &&
                ((a = t.push ? t[0] * (n ? n.width : e.offsetWidth || 0) : t.x),
                (s = t.push
                  ? t[1] * (n ? n.height : e.offsetHeight || 0)
                  : t.y)),
              r.apply(a || s ? i.apply({ x: a, y: s }) : { x: i.e, y: i.f })
            );
          },
          _getAlignMatrix = function (e, t, r, n) {
            var i,
              a = getGlobalMatrix(e.parentNode, !0, !0),
              s = a.clone().multiply(getGlobalMatrix(t)),
              o = _originToPoint(e, r, a),
              u = _originToPoint(t, n, a),
              l = u.x,
              c = u.y;
            return (
              (s.e = s.f = 0),
              "auto" === n &&
                t.getTotalLength &&
                "path" === t.tagName.toLowerCase() &&
                ((i = t.getAttribute("d").match(_numExp) || []),
                (l += (i = s.apply({ x: +i[0], y: +i[1] })).x),
                (c += i.y)),
              i && ((l -= (i = s.apply(t.getBBox())).x), (c -= i.y)),
              (s.e = l - o.x),
              (s.f = c - o.y),
              s
            );
          },
          _align = function (e, t, r) {
            var n,
              i,
              a,
              s = r.align,
              o = r.matrix,
              u = r.offsetX,
              l = r.offsetY,
              c = r.alignOrigin,
              h = e[0][0],
              f = e[0][1],
              d = _getPropNum(t, "x"),
              p = _getPropNum(t, "y");
            return e && e.length
              ? (s &&
                  ("self" === s || (n = _toArray(s)[0] || t) === t
                    ? transformRawPath(e, 1, 0, 0, 1, d - h, p - f)
                    : (c && !1 !== c[2]
                        ? gsap.set(t, {
                            transformOrigin:
                              100 * c[0] + "% " + 100 * c[1] + "%"
                          })
                        : (c = [
                            _getPropNum(t, "xPercent") / -100,
                            _getPropNum(t, "yPercent") / -100
                          ]),
                      (a = (i = _getAlignMatrix(t, n, c, "auto")).apply({
                        x: h,
                        y: f
                      })),
                      transformRawPath(
                        e,
                        i.a,
                        i.b,
                        i.c,
                        i.d,
                        d + i.e - (a.x - i.e),
                        p + i.f - (a.y - i.f)
                      ))),
                o
                  ? transformRawPath(e, o.a, o.b, o.c, o.d, o.e, o.f)
                  : (u || l) && transformRawPath(e, 1, 0, 0, 1, u || 0, l || 0),
                e)
              : getRawPath("M0,0L0,0");
          },
          _addDimensionalPropTween = function (e, t, r, n, i, a) {
            var s = t._gsap,
              o = s.harness,
              u = o && o.aliases && o.aliases[r],
              l = u && u.indexOf(",") < 0 ? u : r,
              c = (e._pt = new PropTween(
                e._pt,
                t,
                l,
                0,
                0,
                _emptyFunc,
                0,
                s.set(t, l, e)
              ));
            (c.u = _getUnit(s.get(t, l, a)) || 0),
              (c.path = n),
              (c.pp = i),
              e._props.push(l);
          },
          _sliceModifier = function (e, t) {
            return function (r) {
              return e || 1 !== t ? sliceRawPath(r, e, t) : r;
            };
          },
          MotionPathPlugin = exports("M", {
            version: "3.11.5",
            name: "motionPath",
            register: function (e, t, r) {
              (_getUnit = (gsap = e).utils.getUnit),
                (_toArray = gsap.utils.toArray),
                (_getStyleSaver = gsap.core.getStyleSaver),
                (_reverting = gsap.core.reverting || function () {}),
                (PropTween = r);
            },
            init: function (e, t, r) {
              if (!gsap)
                return (
                  console.warn("Please gsap.registerPlugin(MotionPathPlugin)"),
                  !1
                );
              ("object" === _typeof(t) && !t.style && t.path) ||
                (t = { path: t });
              var n,
                i,
                a = [],
                s = t,
                o = s.path,
                u = s.autoRotate,
                l = s.unitX,
                c = s.unitY,
                h = s.x,
                f = s.y,
                d = o[0],
                p = _sliceModifier(t.start, "end" in t ? t.end : 1);
              if (
                ((this.rawPaths = a),
                (this.target = e),
                (this.tween = r),
                (this.styles =
                  _getStyleSaver && _getStyleSaver(e, "transform")),
                (this.rotate = u || 0 === u) &&
                  ((this.rOffset = parseFloat(u) || 0),
                  (this.radians = !!t.useRadians),
                  (this.rProp = t.rotation || "rotation"),
                  (this.rSet = e._gsap.set(e, this.rProp, this)),
                  (this.ru = _getUnit(e._gsap.get(e, this.rProp)) || 0)),
                Array.isArray(o) && !("closed" in o) && "number" != typeof d)
              ) {
                for (i in d)
                  !h && ~_xProps.indexOf(i)
                    ? (h = i)
                    : !f && ~_yProps.indexOf(i) && (f = i);
                for (i in (h && f
                  ? a.push(
                      _segmentToRawPath(
                        this,
                        _populateSegmentFromArray(
                          _populateSegmentFromArray([], o, h, 0),
                          o,
                          f,
                          1
                        ),
                        e,
                        h,
                        f,
                        p,
                        t,
                        l || _getUnit(o[0][h]),
                        c || _getUnit(o[0][f])
                      )
                    )
                  : (h = f = 0),
                d))
                  i !== h &&
                    i !== f &&
                    a.push(
                      _segmentToRawPath(
                        this,
                        _populateSegmentFromArray([], o, i, 2),
                        e,
                        i,
                        0,
                        p,
                        t,
                        _getUnit(o[0][i])
                      )
                    );
              } else
                cacheRawPathMeasurements(
                  (n = p(_align(getRawPath(t.path), e, t))),
                  t.resolution
                ),
                  a.push(n),
                  _addDimensionalPropTween(
                    this,
                    e,
                    t.x || "x",
                    n,
                    "x",
                    t.unitX || "px"
                  ),
                  _addDimensionalPropTween(
                    this,
                    e,
                    t.y || "y",
                    n,
                    "y",
                    t.unitY || "px"
                  );
            },
            render: function (e, t) {
              var r = t.rawPaths,
                n = r.length,
                i = t._pt;
              if (t.tween._time || !_reverting()) {
                for (e > 1 ? (e = 1) : e < 0 && (e = 0); n--; )
                  getPositionOnPath(r[n], e, !n && t.rotate, r[n]);
                for (; i; )
                  i.set(i.t, i.p, i.path[i.pp] + i.u, i.d, e), (i = i._next);
                t.rotate &&
                  t.rSet(
                    t.target,
                    t.rProp,
                    r[0].angle * (t.radians ? _DEG2RAD : 1) + t.rOffset + t.ru,
                    t,
                    e
                  );
              } else t.styles.revert();
            },
            getLength: function (e) {
              return cacheRawPathMeasurements(getRawPath(e)).totalLength;
            },
            sliceRawPath: sliceRawPath,
            getRawPath: getRawPath,
            pointsToSegment: pointsToSegment,
            stringToRawPath: stringToRawPath,
            rawPathToString: rawPathToString,
            transformRawPath: transformRawPath,
            getGlobalMatrix: getGlobalMatrix,
            getPositionOnPath: getPositionOnPath,
            cacheRawPathMeasurements: cacheRawPathMeasurements,
            convertToPath: function (e, t) {
              return _toArray(e).map(function (e) {
                return convertToPath(e, !1 !== t);
              });
            },
            convertCoordinates: function (e, t, r) {
              var n = getGlobalMatrix(t, !0, !0).multiply(getGlobalMatrix(e));
              return r ? n.apply(r) : n;
            },
            getAlignMatrix: _getAlignMatrix,
            getRelativePosition: function (e, t, r, n) {
              var i = _getAlignMatrix(e, t, r, n);
              return { x: i.e, y: i.f };
            },
            arrayToRawPath: function (e, t) {
              var r = _populateSegmentFromArray(
                _populateSegmentFromArray([], e, (t = t || {}).x || "x", 0),
                e,
                t.y || "y",
                1
              );
              return (
                t.relative && _relativize(r),
                ["cubic" === t.type ? r : pointsToSegment(r, t.curviness)]
              );
            }
          });
        _getGSAP() && gsap.registerPlugin(MotionPathPlugin);
      }
    };
  });
})();
